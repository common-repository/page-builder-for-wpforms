rndefine("#RNMainFormBlock",["#RNMainRNPage/RNBlockBase","#RNMainCore/EventManager","#RNMainRNPage/RNBlockBase.Options","#RNMainRNPage/RNBlockBase.Model","#RNMainCore/WpAjaxPost","#RNMainCore/StoreBase","#RNMainCoreUI/FontAwesomeIcon"],(function(e,t,o,r,a,i,n){"use strict";class s extends r.RNBlockBaseModel{constructor(e,t){super(e,t),this.LoadedForm=new l}Render(){return React.createElement(f,{Model:this})}async LoadForm(e){let t=await a.WpAjaxPost.Post("LoadForm",{FormId:e});null!=t&&(this.LoadedForm.FormId=e,this.LoadedForm.Content=t.Form,this.Refresh())}}class l{constructor(){this.FormId="",this.Content=""}}var c,d,m;let u=(c=i.StoreDataType(Object),d=class extends o.RNBlockBaseOptions{constructor(...e){super(...e),babelHelpers.initializerDefineProperty(this,"Src",m,this)}LoadDefaultValues(){super.LoadDefaultValues(),this.Src=null,this.Type=o.BlockTypeEnum.Form,this.Label="Form"}},m=babelHelpers.applyDecoratedDescriptor(d.prototype,"Src",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d);var p,h=(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var o="spinner",r=[],a="f110",i="M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z";t.definition={prefix:"fas",iconName:o,icon:[512,512,r,a,i]},t.faSpinner=t.definition,t.prefix="fas",t.iconName=o,t.width=512,t.height=512,t.ligatures=r,t.unicode=a,t.svgPathData=i}(p={exports:{}},p.exports),p.exports);class f extends e.RNBlockBase{constructor(e){super(e),this.IsLoading=!0}get SelectedFormId(){var e,t;return null===(e=this.Model.Page.DefaultDataSources)||void 0===e||null===(t=e.Form)||void 0===t?void 0:t.OriginalId}SubRender(){return React.createElement("div",null,""!=this.Model.Options.Label.trim()&&React.createElement("label",{className:"rnBlockLabel"},this.Model.Options.Label),React.createElement("div",{style:{maxHeight:500,overflow:"auto"}},React.createElement("div",{style:{position:"relative",overflow:"auto"}},null==this.SelectedFormId?React.createElement("p",null,"Please select a form first"):this.GetForm(),React.createElement("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}}),this.IsLoading&&React.createElement("div",{style:{position:"absolute",width:"100%",height:"100%",top:0,left:0,fontSize:25,display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"}},React.createElement(n.FontAwesomeIcon,{style:{animation:"spin 4s infinite linear",marginBottom:10},icon:h.faSpinner}),React.createElement("span",{style:{marginRight:5}},"Loading Form")))))}GetForm(){if(null==this.SelectedFormId||this.Model.LoadedForm.FormId!=this.SelectedFormId)return React.createElement("iframe",{onLoad:e=>this.IFrameLoaded(e),style:{width:"100%"},sandbox:"allow-scripts allow-same-origin",src:rnBuilderVar.ajaxurl+"?action=rnpagebuilder_LoadForm&formid="+this.SelectedFormId})}IFrameLoaded(e){let t=e.target;t.style.height=t.contentDocument.body.scrollHeight+"px",this.IsLoading=!1,this.forceUpdate()}}f.defaultProps={},t.EventManager.Subscribe("GetBlock",(e=>{if(e.Model.Options.Type==o.BlockTypeEnum.Form)return React.createElement(f,null)})),t.EventManager.Subscribe("GetBlockModel",(e=>{if(e.Options.Type==o.BlockTypeEnum.Form)return new s(e.Options,e.Parent)})),t.EventManager.Subscribe("GetBlockOptions",(e=>{if(e.Name==o.BlockTypeEnum.Form)return new u})),exports.FormBlock=f,exports.FormBlockModel=s,exports.FormBlockOptions=u}));
