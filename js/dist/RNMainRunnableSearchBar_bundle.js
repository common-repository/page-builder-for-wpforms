rndefine("#RNMainRunnableSearchBar",["#RNMainRunnablePage/RunnableBlockBase","#RNMainCore/EventManager","#RNMainRunnablePage/RunnableBlockBase.Options","#RNMainCore/StoreBase"],(function(e,a,t,n){"use strict";var r,s,l;let i=(r=n.StoreDataType(Object),s=class extends t.RunnableBlockBaseOptions{constructor(...e){super(...e),babelHelpers.initializerDefineProperty(this,"Fields",l,this)}LoadDefaultValues(){super.LoadDefaultValues(),this.Fields=[]}},l=babelHelpers.applyDecoratedDescriptor(s.prototype,"Fields",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s);class o extends e.RunnableBlockBase{constructor(e,t){super(e,t),this.Fields=[];for(let t of e.Fields){let e=a.EventManager.Publish("GetSearchField",{Options:t,SearchBar:this});if(null==e)throw new Error("Search field was not found for "+t.SearchType);this.Fields.push(e)}let n=this.Container.querySelector(".searchButton");n.removeAttribute("disabled"),n.addEventListener("click",(()=>{this.GenerateSearch()}))}GenerateSearch(){let e={Fields:[]};for(let a of this.Fields)null!=a.GetSearchInfo()&&e.Fields.push(a.GetSearchInfo());this.Page.AddFieldPostItem(this,e),this.Page.GoToPage(0)}}a.EventManager.Subscribe("GetRunnableOptions",(e=>"SearchBar"==e.Type?(new i).Merge(e):null)),a.EventManager.Subscribe("GetRunnable",(e=>"SearchBar"==e.Options.Type?new o(e.Options,e.Column):null));class c extends n.StoreBase{LoadDefaultValues(){this.Id=0,this.SearchType=""}}exports.RunnableSearchBar=o,exports.RunnableSearchBarOptions=i,exports.RunnableSearchFieldBase=class{constructor(e,a){this.SearchBar=e,this.Options=a,this.Container=this.SearchBar.Container.querySelector('[data-search-field-id="'+a.Id+'"]')}GetSearchInfo(){return this.GetWasFilled()?{Id:this.Options.Id,Value:this.InternalGetSearchInfo()}:null}},exports.RunnableSearchFieldBaseOptions=c}));
