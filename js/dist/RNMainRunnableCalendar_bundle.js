rndefine("#RNMainRunnableCalendar",["#RNMainRunnablePage/RunnableBlockBase","#RNMainRunnablePage/RunnableBlockBase.Options","#RNMainCore/StoreBase","#RNMainCore/EventManager","#RNMainModal/Modal"],(function(t,e,i,s,n){"use strict";var o,l,r;class a extends i.StoreBase{LoadDefaultValues(){this.Label="",this.Tooltip="",this.StartDate="",this.EndDate=""}}let h=(o=i.StoreDataType(a),l=class extends e.RunnableBlockBaseOptions{constructor(...t){super(...t),babelHelpers.initializerDefineProperty(this,"Items",r,this)}LoadDefaultValues(){super.LoadDefaultValues(),this.Mode="",this.Items=[]}},r=babelHelpers.applyDecoratedDescriptor(l.prototype,"Items",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l);var d,u,c,p;const v=globalThis.trustedTypes,g=v?v.createPolicy("lit-html",{createHTML:t=>t}):void 0,m=`lit$${(Math.random()+"").slice(9)}$`,f="?"+m,y=`<${f}>`,b=document,x=(t="")=>b.createComment(t),H=t=>null===t||"object"!=typeof t&&"function"!=typeof t,N=Array.isArray,T=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,$=/-->/g,M=/>/g,C=/>|[ 	\n\r](?:([^\s"'>=/]+)([ 	\n\r]*=[ 	\n\r]*(?:[^ 	\n\r"'`<>=]|("|')|))|$)/g,S=/'/g,R=/"/g,w=/^(?:script|style|textarea)$/i,A=Symbol.for("lit-noChange"),D=Symbol.for("lit-nothing"),B=new WeakMap,I=b.createTreeWalker(b,129,null,!1),E=(t,e)=>{const i=t.length-1,s=[];let n,o=2===e?"<svg>":"",l=T;for(let e=0;e<i;e++){const i=t[e];let r,a,h=-1,d=0;for(;d<i.length&&(l.lastIndex=d,a=l.exec(i),null!==a);)d=l.lastIndex,l===T?"!--"===a[1]?l=$:void 0!==a[1]?l=M:void 0!==a[2]?(w.test(a[2])&&(n=RegExp("</"+a[2],"g")),l=C):void 0!==a[3]&&(l=C):l===C?">"===a[0]?(l=null!=n?n:T,h=-1):void 0===a[1]?h=-2:(h=l.lastIndex-a[2].length,r=a[1],l=void 0===a[3]?C:'"'===a[3]?R:S):l===R||l===S?l=C:l===$||l===M?l=T:(l=C,n=void 0);const u=l===C&&t[e+1].startsWith("/>")?" ":"";o+=l===T?i+y:h>=0?(s.push(r),i.slice(0,h)+"$lit$"+i.slice(h)+m+u):i+m+(-2===h?(s.push(void 0),e):u)}const r=o+(t[i]||"<?>")+(2===e?"</svg>":"");return[void 0!==g?g.createHTML(r):r,s]};class L{constructor({strings:t,_$litType$:e},i){let s;this.parts=[];let n=0,o=0;const l=t.length-1,r=this.parts,[a,h]=E(t,e);if(this.el=L.createElement(a,i),I.currentNode=this.el.content,2===e){const t=this.el.content,e=t.firstChild;e.remove(),t.append(...e.childNodes)}for(;null!==(s=I.nextNode())&&r.length<l;){if(1===s.nodeType){if(s.hasAttributes()){const t=[];for(const e of s.getAttributeNames())if(e.endsWith("$lit$")||e.startsWith(m)){const i=h[o++];if(t.push(e),void 0!==i){const t=s.getAttribute(i.toLowerCase()+"$lit$").split(m),e=/([.?@])?(.*)/.exec(i);r.push({type:1,index:n,name:e[2],strings:t,ctor:"."===e[1]?P:"?"===e[1]?_:"@"===e[1]?z:W})}else r.push({type:6,index:n})}for(const e of t)s.removeAttribute(e)}if(w.test(s.tagName)){const t=s.textContent.split(m),e=t.length-1;if(e>0){s.textContent=v?v.emptyScript:"";for(let i=0;i<e;i++)s.append(t[i],x()),I.nextNode(),r.push({type:2,index:++n});s.append(t[e],x())}}}else if(8===s.nodeType)if(s.data===f)r.push({type:2,index:n});else{let t=-1;for(;-1!==(t=s.data.indexOf(m,t+1));)r.push({type:7,index:n}),t+=m.length-1}n++}}static createElement(t,e){const i=b.createElement("template");return i.innerHTML=t,i}}function O(t,e,i=t,s){var n,o,l,r;if(e===A)return e;let a=void 0!==s?null===(n=i.Σi)||void 0===n?void 0:n[s]:i.Σo;const h=H(e)?void 0:e._$litDirective$;return(null==a?void 0:a.constructor)!==h&&(null===(o=null==a?void 0:a.O)||void 0===o||o.call(a,!1),void 0===h?a=void 0:(a=new h(t),a.T(t,i,s)),void 0!==s?(null!==(l=(r=i).Σi)&&void 0!==l?l:r.Σi=[])[s]=a:i.Σo=a),void 0!==a&&(e=O(t,a.S(t,e.values),a,s)),e}class k{constructor(t,e){this.l=[],this.N=void 0,this.D=t,this.M=e}u(t){var e;const{el:{content:i},parts:s}=this.D,n=(null!==(e=null==t?void 0:t.creationScope)&&void 0!==e?e:b).importNode(i,!0);I.currentNode=n;let o=I.nextNode(),l=0,r=0,a=s[0];for(;void 0!==a;){if(l===a.index){let e;2===a.type?e=new V(o,o.nextSibling,this,t):1===a.type?e=new a.ctor(o,a.name,a.strings,this,t):6===a.type&&(e=new G(o,this,t)),this.l.push(e),a=s[++r]}l!==(null==a?void 0:a.index)&&(o=I.nextNode(),l++)}return n}v(t){let e=0;for(const i of this.l)void 0!==i&&(void 0!==i.strings?(i.I(t,i,e),e+=i.strings.length-2):i.I(t[e])),e++}}class V{constructor(t,e,i,s){this.type=2,this.N=void 0,this.A=t,this.B=e,this.M=i,this.options=s}setConnected(t){var e;null===(e=this.P)||void 0===e||e.call(this,t)}get parentNode(){return this.A.parentNode}get startNode(){return this.A}get endNode(){return this.B}I(t,e=this){t=O(this,t,e),H(t)?t===D||null==t||""===t?(this.H!==D&&this.R(),this.H=D):t!==this.H&&t!==A&&this.m(t):void 0!==t._$litType$?this._(t):void 0!==t.nodeType?this.$(t):(t=>{var e;return N(t)||"function"==typeof(null===(e=t)||void 0===e?void 0:e[Symbol.iterator])})(t)?this.g(t):this.m(t)}k(t,e=this.B){return this.A.parentNode.insertBefore(t,e)}$(t){this.H!==t&&(this.R(),this.H=this.k(t))}m(t){const e=this.A.nextSibling;null!==e&&3===e.nodeType&&(null===this.B?null===e.nextSibling:e===this.B.previousSibling)?e.data=t:this.$(b.createTextNode(t)),this.H=t}_(t){var e;const{values:i,_$litType$:s}=t,n="number"==typeof s?this.C(t):(void 0===s.el&&(s.el=L.createElement(s.h,this.options)),s);if((null===(e=this.H)||void 0===e?void 0:e.D)===n)this.H.v(i);else{const t=new k(n,this),e=t.u(this.options);t.v(i),this.$(e),this.H=t}}C(t){let e=B.get(t.strings);return void 0===e&&B.set(t.strings,e=new L(t)),e}g(t){N(this.H)||(this.H=[],this.R());const e=this.H;let i,s=0;for(const n of t)s===e.length?e.push(i=new V(this.k(x()),this.k(x()),this,this.options)):i=e[s],i.I(n),s++;s<e.length&&(this.R(i&&i.B.nextSibling,s),e.length=s)}R(t=this.A.nextSibling,e){var i;for(null===(i=this.P)||void 0===i||i.call(this,!1,!0,e);t&&t!==this.B;){const e=t.nextSibling;t.remove(),t=e}}}class W{constructor(t,e,i,s,n){this.type=1,this.H=D,this.N=void 0,this.V=void 0,this.element=t,this.name=e,this.M=s,this.options=n,i.length>2||""!==i[0]||""!==i[1]?(this.H=Array(i.length-1).fill(D),this.strings=i):this.H=D}get tagName(){return this.element.tagName}I(t,e=this,i,s){const n=this.strings;let o=!1;if(void 0===n)t=O(this,t,e,0),o=!H(t)||t!==this.H&&t!==A,o&&(this.H=t);else{const s=t;let l,r;for(t=n[0],l=0;l<n.length-1;l++)r=O(this,s[i+l],e,l),r===A&&(r=this.H[l]),o||(o=!H(r)||r!==this.H[l]),r===D?t=D:t!==D&&(t+=(null!=r?r:"")+n[l+1]),this.H[l]=r}o&&!s&&this.W(t)}W(t){t===D?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=t?t:"")}}class P extends W{constructor(){super(...arguments),this.type=3}W(t){this.element[this.name]=t===D?void 0:t}}class _ extends W{constructor(){super(...arguments),this.type=4}W(t){t&&t!==D?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name)}}class z extends W{constructor(){super(...arguments),this.type=5}I(t,e=this){var i;if((t=null!==(i=O(this,t,e,0))&&void 0!==i?i:D)===A)return;const s=this.H,n=t===D&&s!==D||t.capture!==s.capture||t.once!==s.once||t.passive!==s.passive,o=t!==D&&(s===D||n);n&&this.element.removeEventListener(this.name,this,s),o&&this.element.addEventListener(this.name,this,t),this.H=t}handleEvent(t){var e,i;"function"==typeof this.H?this.H.call(null!==(i=null===(e=this.options)||void 0===e?void 0:e.host)&&void 0!==i?i:this.element,t):this.H.handleEvent(t)}}class G{constructor(t,e,i){this.element=t,this.type=6,this.N=void 0,this.V=void 0,this.M=e,this.options=i}I(t){O(this,t)}}null===(u=(d=globalThis).litHtmlPlatformSupport)||void 0===u||u.call(d,L,V),(null!==(c=(p=globalThis).litHtmlVersions)&&void 0!==c?c:p.litHtmlVersions=[]).push("2.0.0-rc.3");const Z=2;class j extends class{constructor(t){}T(t,e,i){this.Σdt=t,this.M=e,this.Σct=i}S(t,e){return this.update(t,e)}update(t,e){return this.render(...e)}}{constructor(t){if(super(t),this.vt=D,t.type!==Z)throw Error(this.constructor.directiveName+"() can only be used in child bindings")}render(t){if(t===D)return this.Vt=void 0,this.vt=t;if(t===A)return t;if("string"!=typeof t)throw Error(this.constructor.directiveName+"() called with a non-string value");if(t===this.vt)return this.Vt;this.vt=t;const e=[t];return e.raw=e,this.Vt={_$litType$:this.constructor.resultType,strings:e,values:[]}}}j.directiveName="unsafeHTML",j.resultType=1;const q=(t=>(...e)=>({_$litDirective$:t,values:e}))(j);class F extends t.RunnableBlockBase{constructor(t,e){super(t,e);let i=this.Container.querySelector(".CalendarContainer");this.Items=[];let s=0;for(let t of this.Options.Items)s++,this.Items.push({id:s,title:t.Label,category:"day"==this.Options.Mode?"time":"allday",bgColor:"#4D96A6",color:"white",dueDateClass:"",body:"tes",start:t.StartDate,end:t.EndDate,useDetailPopup:!1,toolTip:t.Tooltip,isReadOnly:!0});this.Calendar=new tui.Calendar(i,{defaultView:this.Options.Mode}),this.Calendar.on({clickSchedule:t=>{let e=this.Items.find((e=>e.id==t.schedule.id));n.Modal.Show(t.schedule.title,q(e.toolTip))}}),this.Calendar.createSchedules(this.Items)}}s.EventManager.Subscribe("GetRunnableOptions",(t=>"Calendar"==t.Type?(new h).Merge(t):null)),s.EventManager.Subscribe("GetRunnable",(t=>"Calendar"==t.Options.Type?new F(t.Options,t.Column):null)),exports.RunnableCalendar=F,exports.RunnableCalendarOptions=h}));
