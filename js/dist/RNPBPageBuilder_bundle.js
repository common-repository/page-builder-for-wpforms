rndefine("#RNPBPageBuilder",["#RNPBCore/LitElementBase","lit","lit/decorators","#RNPBCore/StoreBase","#RNPBCore/EventManager","#RNPBCore/Sanitizer","#RNPBCoreUI/ToastService","#RNPBCoreUI/ModelBase","#RNPBCoreUI/LitModel","#RNPBContextMenu/ContextMenu","#RNPBLit/Lit","lit/directives/repeat.js","#RNPBDialog/Dialog","#RNPBDialog/DialogBase","#RNPBCore/WpAjaxPost","#RNPBCore/SingleEvent","lit-html/directives/live.js","#RNPBCoreUI/ModelWithParent","lit/decorators.js","lit/directives/ref.js","#RNPBTextEditor/TextContainerGenerator","#RNPBTextEditor/ImageNode","#RNPBTextEditor/FieldNode","#RNPBTextEditor/IconNode","#RNPBTextEditor/SingleLineGenerator","#RNPBTextEditor/SingleLineCollection","#RNPBTabs/RNTabItem","#RNPBPreMadeDialogs/DeleteDialog","#RNPBPreMadeDialogs/ConfirmDialog","#RNPBAlertDialog/AlertDialog"],(function(e,t,i,r,n,o,s,a,l,u,c,d,h,p,f,m,g,O,b,S,y,v,w,x,k,V,C,T,$,P){"use strict";var Q,R,I;let E,D=(Q=r.StoreAutoIncrement("ElementId"),R=class extends r.StoreBase{constructor(...e){super(...e),babelHelpers.initializerDefineProperty(this,"Id",I,this)}LoadDefaultValues(){this.Type=E.None,this.Id=0,this.Class="",this.Styles=""}},I=babelHelpers.applyDecoratedDescriptor(R.prototype,"Id",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R);class A extends r.StoreBase{LoadDefaultValues(){this.Type="Icon",this.Source="",this.Value=""}}!function(e){e.None="",e.Text="Text",e.TextWithFields="TextWithFields",e.Navigation="Navigation",e.SearchBar="SearchBar",e.PageInformation="PageInformation",e.Field="Field",e.InnerSection="InnerSection",e.FieldImage="FieldImage",e.Link="Link",e.FieldSummary="FieldSummary",e.QRCode="QRCode",e.Image="Image",e.Video="Video",e.HTML="HTML",e.Chart="Chart",e.PopUp="Popup"}(E||(E={}));var _=[{Id:E.Text,Label:"Text",URL:rnBuilderVar.PluginURL+"images/FieldIcons/text.png",IsPr:!1,Group:"Standard",BlockType:"Text"},{Id:E.Field,Label:"Field",URL:rnBuilderVar.PluginURL+"images/FieldIcons/fields.png",IsPr:!1,Group:"Standard",BlockType:"Field"},{Id:E.FieldImage,Label:"Field Image",URL:rnBuilderVar.PluginURL+"images/FieldIcons/field_image.png",IsPr:!1,Group:"Standard",BlockType:"Field"},{Id:E.FieldSummary,Label:"Field Summary",URL:rnBuilderVar.PluginURL+"images/FieldIcons/summary.png",IsPr:!1,Group:"Standard",BlockType:"Field"},{Id:E.TextWithFields,Label:"Text",URL:rnBuilderVar.PluginURL+"images/FieldIcons/text.png",IsPr:!1,Group:"Standard",BlockType:"Field"},{Id:E.Navigation,Label:"Navigation",URL:rnBuilderVar.PluginURL+"images/FieldIcons/navigate.png",IsPr:!1,Group:"Standard",BlockType:"Navigation"},{Id:E.SearchBar,Label:"Search Bar",URL:rnBuilderVar.PluginURL+"images/FieldIcons/search.png",IsPr:!0,Group:"Advanced",BlockType:"SearchBar"},{Id:E.InnerSection,Label:"Inner Section",URL:rnBuilderVar.PluginURL+"images/FieldIcons/inner_section.png",IsPr:!1,Group:"Standard",BlockType:"InnerSection"},{Id:E.PageInformation,Label:"Page Information",URL:rnBuilderVar.PluginURL+"images/FieldIcons/pageinformation.png",IsPr:!0,Group:"Advanced",BlockType:"Navigation"},{Id:E.Link,Label:"Button/Link",URL:rnBuilderVar.PluginURL+"images/FieldIcons/link.png",IsPr:!1,Group:"Standard",BlockType:"Field"},{Id:E.Image,Label:"Image",URL:rnBuilderVar.PluginURL+"images/FieldIcons/image.png",IsPr:!0,Group:"Standard",BlockType:"All"},{Id:E.Video,Label:"Video",URL:rnBuilderVar.PluginURL+"images/FieldIcons/video.png",IsPr:!0,Group:"Standard",BlockType:"All"},{Id:E.HTML,Label:"HTML",URL:rnBuilderVar.PluginURL+"images/FieldIcons/html.png",IsPr:!0,Group:"Standard",BlockType:"All"},{Id:E.QRCode,Label:"QRCode",URL:rnBuilderVar.PluginURL+"images/FieldIcons/qrcode.png",IsPr:!0,Group:"Standard",BlockType:"All"},{Id:E.Chart,Label:"Chart",URL:rnBuilderVar.PluginURL+"images/FieldIcons/chart.png",IsPr:!0,Group:"Standard",BlockType:"All"},{Id:E.PopUp,Label:"Popup",URL:rnBuilderVar.PluginURL+"images/FieldIcons/popup.png",IsPr:!0,Group:"Standard",BlockType:"Field"}],M={},L={};!function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="table-columns",i=["columns"],r="f0db",n="M0 96C0 60.7 28.7 32 64 32H448c35.3 0 64 28.7 64 64V416c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V96zm64 64V416H224V160H64zm384 0H288V416H448V160z";e.definition={prefix:"fas",iconName:t,icon:[512,512,i,r,n]},e.faTableColumns=e.definition,e.prefix="fas",e.iconName=t,e.width=512,e.height=512,e.ligatures=i,e.unicode=r,e.svgPathData=n,e.aliases=i}(L),function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=L;e.definition={prefix:t.prefix,iconName:t.iconName,icon:[t.width,t.height,t.aliases,t.unicode,t.svgPathData]},e.faColumns=e.definition,e.prefix=t.prefix,e.iconName=t.iconName,e.width=t.width,e.height=t.height,e.ligatures=t.aliases,e.unicode=t.unicode,e.svgPathData=t.svgPathData,e.aliases=t.aliases}(M);var G={};!function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="grip-lines",i=[],r="f7a4",n="M32 288c-17.7 0-32 14.3-32 32s14.3 32 32 32l384 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L32 288zm0-128c-17.7 0-32 14.3-32 32s14.3 32 32 32l384 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L32 160z";e.definition={prefix:"fas",iconName:t,icon:[448,512,i,r,n]},e.faGripLines=e.definition,e.prefix="fas",e.iconName=t,e.width=448,e.height=512,e.ligatures=i,e.unicode=r,e.svgPathData=n,e.aliases=i}(G);var N,W,B,z={};!function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="filter",i=[],r="f0b0",n="M3.9 54.9C10.5 40.9 24.5 32 40 32H472c15.5 0 29.5 8.9 36.1 22.9s4.6 30.5-5.2 42.5L320 320.9V448c0 12.1-6.8 23.2-17.7 28.6s-23.8 4.3-33.5-3l-64-48c-8.1-6-12.8-15.5-12.8-25.6V320.9L9 97.3C-.7 85.4-2.8 68.8 3.9 54.9z";e.definition={prefix:"fas",iconName:t,icon:[512,512,i,r,n]},e.faFilter=e.definition,e.prefix="fas",e.iconName=t,e.width=512,e.height=512,e.ligatures=i,e.unicode=r,e.svgPathData=n,e.aliases=i}(z);let F=(N=r.StoreDataType(Object),W=class extends D{constructor(...e){super(...e),babelHelpers.initializerDefineProperty(this,"Text",B,this)}LoadDefaultValues(){super.LoadDefaultValues(),this.Type=E.Text,this.Label="Text",this.Text=null}},B=babelHelpers.applyDecoratedDescriptor(W.prototype,"Text",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W);var U={},q={};!function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="pencil",i=[9999,61504,"pencil-alt"],r="f303",n="M421.7 220.3l-11.3 11.3-22.6 22.6-205 205c-6.6 6.6-14.8 11.5-23.8 14.1L30.8 511c-8.4 2.5-17.5 .2-23.7-6.1S-1.5 489.7 1 481.2L38.7 353.1c2.6-9 7.5-17.2 14.1-23.8l205-205 22.6-22.6 11.3-11.3 33.9 33.9 62.1 62.1 33.9 33.9zM96 353.9l-9.3 9.3c-.9 .9-1.6 2.1-2 3.4l-25.3 86 86-25.3c1.3-.4 2.5-1.1 3.4-2l9.3-9.3H112c-8.8 0-16-7.2-16-16V353.9zM453.3 19.3l39.4 39.4c25 25 25 65.5 0 90.5l-14.5 14.5-22.6 22.6-11.3 11.3-33.9-33.9-62.1-62.1L314.3 67.7l11.3-11.3 22.6-22.6 14.5-14.5c25-25 65.5-25 90.5 0z";e.definition={prefix:"fas",iconName:t,icon:[512,512,i,r,n]},e.faPencil=e.definition,e.prefix="fas",e.iconName=t,e.width=512,e.height=512,e.ligatures=i,e.unicode=r,e.svgPathData=n,e.aliases=i}(q),function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=q;e.definition={prefix:t.prefix,iconName:t.iconName,icon:[t.width,t.height,t.aliases,t.unicode,t.svgPathData]},e.faPencilAlt=e.definition,e.prefix=t.prefix,e.iconName=t.iconName,e.width=t.width,e.height=t.height,e.ligatures=t.aliases,e.unicode=t.unicode,e.svgPathData=t.svgPathData,e.aliases=t.aliases}(U);class X{static SetDragObject(e,t=null){X.DragObject={Type:e,Object:t}}static IsDraggingType(e){var t;return(null===(t=X.DragObject)||void 0===t?void 0:t.Type)==e}static GetDragObject(){return X.DragObject.Object}static RemoveDragObject(){X.DragObject=null}static GetAbsolutePosition(e){let t=e.getBoundingClientRect();return{x:t.left,y:t.top}}}class j{static InitiateDrag(e,t,i,r=null){e.currentTarget.style.opacity=".5";let o=null;"string"==typeof t?o=document.querySelector(t):(o=t,j.DragHint=o,document.body.appendChild(t)),e.dataTransfer.setDragImage(o,o.getBoundingClientRect().width/2,o.getBoundingClientRect().height/2),X.SetDragObject(i,r),n.EventManager.Publish("DragStarted"),e.currentTarget.addEventListener("dragend",j.DragEnd)}static DragEnd(e){null!=j.DragHint&&(j.DragHint.remove(),j.DragHint=null),X.RemoveDragObject(),e.currentTarget.style.opacity="1",e.currentTarget.removeEventListener("dragend",j.IsDraggingNewBlock),n.EventManager.Publish("DragEnded")}static IsDraggingNewBlock(){return X.IsDraggingType("NewBlock")}static IsDraggingExistingBlock(){return X.IsDraggingType("Block")}static IsDraggingBlock(){return j.IsDraggingNewBlock()||j.IsDraggingExistingBlock()}static IsDraggingColumn(){return X.IsDraggingType("Column")}static IsDraggingRow(){return X.IsDraggingType("Row")}static CanDragToSection(e){if(j.IsDraggingBlock()){let t=X.GetDragObject().Model;return e.PageSection.IsBlockSupported(t.BlockType)}if(j.IsDraggingColumn()){let t=X.GetDragObject().Model;for(let i of t.Blocks)if(!e.PageSection.IsBlockSupported(i.BlockType))return!1;return!0}if(j.IsDraggingRow()){let t=X.GetDragObject().Model;for(let i of t.Columns)for(let t of i.Blocks)if(!e.PageSection.IsBlockSupported(t.BlockType))return!1;return!0}}}j.IsDraggingNewObject=!1;var H={},Z={};!function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="xmark",i=[128473,10005,10006,10060,215,"close","multiply","remove","times"],r="f00d",n="M310.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L160 210.7 54.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L114.7 256 9.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 301.3 265.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L205.3 256 310.6 150.6z";e.definition={prefix:"fas",iconName:t,icon:[320,512,i,r,n]},e.faXmark=e.definition,e.prefix="fas",e.iconName=t,e.width=320,e.height=512,e.ligatures=i,e.unicode=r,e.svgPathData=n,e.aliases=i}(Z),function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=Z;e.definition={prefix:t.prefix,iconName:t.iconName,icon:[t.width,t.height,t.aliases,t.unicode,t.svgPathData]},e.faTimes=e.definition,e.prefix=t.prefix,e.iconName=t.iconName,e.width=t.width,e.height=t.height,e.ligatures=t.aliases,e.unicode=t.unicode,e.svgPathData=t.svgPathData,e.aliases=t.aliases}(H);var Y={};!function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="plus",i=[10133,61543,"add"],r="M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z";e.definition={prefix:"fas",iconName:t,icon:[448,512,i,"2b",r]},e.faPlus=e.definition,e.prefix="fas",e.iconName=t,e.width=448,e.height=512,e.ligatures=i,e.unicode="2b",e.svgPathData=r,e.aliases=i}(Y);class J extends l.LitModel{static get properties(){return{model:{type:Object}}}GetParentStyles(){return{display:"block"}}GetParentClasses(){return`rnBlock Block_${this.model.Options.Id} rn${this.model.Options.Type}`}disconnectedCallback(){this.model.OnRefresh.Unsubscribe(this),super.disconnectedCallback()}connectedCallback(){this.model.Instance=this,this.model.OnRefresh.Subscribe(this,(()=>this.forceUpdate())),super.connectedCallback()}render(){return this.GetWrapper(t.html` <div @contextmenu="${e=>this.OpenContextMenu(e)}" @click="${e=>{e.stopImmediatePropagation(),this.model.Select()}}" class=${" "+(this.model.IsSelected?"selected":"")} @dragstart="${e=>this.DragStart(e)}" draggable="true"> <div style="position: absolute;top:0;right:0;padding: 2px;z-index: 10000000000000000000" class="BlockConfigure" @click="${e=>{e.stopImmediatePropagation(),this.model.Select()}}" title="Configure ${this.model.GetLabel()}" @mouseenter="${e=>this.model.Highlight()}" @mouseleave="${e=>this.model.UnHighlight()}" > <rn-fontawesome .icon="${U.faPencilAlt}" ></rn-fontawesome> </div> ${c.rnIf(""!=this.model.Options.Styles&&t.html`<style>${this.model.Options.Styles}</style>`)} <div class="rnBlockAndLabel"> <div class='rnBlockContainer' class="${this.model.Options.Class}"> ${this.SubRender()} </div> ${this.AfterField()} </div> </div> `)}GetWrapper(e){return e}AfterField(){return null}DragStart(e){e.stopImmediatePropagation();let t=_.find((e=>e.Id==this.model.Options.Type));j.InitiateDrag(e,".draggable-"+t.Id,"Block",{Model:this.model})}OpenContextMenu(e){e.stopImmediatePropagation(),u.ContextMenu.Create(e,[{Label:"Remove",Icon:t.html`<rn-fontawesome style="color: red" .icon="${H.faTimes}"></rn-fontawesome>`,CallBack:()=>this.model.Remove()},{Label:"Clone",Icon:t.html`<rn-fontawesome style="color: red" .icon="${H.faTimes}"></rn-fontawesome>`,CallBack:()=>this.model.Clone()},{Label:"Add Block Above",Icon:t.html`<rn-fontawesome style="color: red" .icon="${Y.faPlus}"></rn-fontawesome>`,CallBack:()=>this.model.AddBlock(this.model.Index)},{Label:"Add Block Bellow",Icon:t.html`<rn-fontawesome style="color: red" .icon="${Y.faPlus}"></rn-fontawesome>`,CallBack:()=>this.model.AddBlock(this.model.Index+1)}])}}i.customElement("rnwppages-text-field-block")(class extends J{SubRender(){return t.html`<rn-text-container .property="${"Text"}" .object="${this.model.Options}" .isPlain="${!1}" @change="${e=>{this.model.Options.SetValue("Text",e.detail)}}" .Block="${this.model}"></rn-text-container>`}});var K={};!function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="chevron-right",i=[9002],r="f054",n="M342.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L274.7 256 105.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z";e.definition={prefix:"fas",iconName:t,icon:[384,512,i,r,n]},e.faChevronRight=e.definition,e.prefix="fas",e.iconName=t,e.width=384,e.height=512,e.ligatures=i,e.unicode=r,e.svgPathData=n,e.aliases=i}(K);var ee,te={};!function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="folder",i=[128193,128447,61716,"folder-blank"],r="f07b",n="M64 480H448c35.3 0 64-28.7 64-64V160c0-35.3-28.7-64-64-64H298.5c-17 0-33.3-6.7-45.3-18.7L226.7 50.7c-12-12-28.3-18.7-45.3-18.7H64C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64z";e.definition={prefix:"fas",iconName:t,icon:[512,512,i,r,n]},e.faFolder=e.definition,e.prefix="fas",e.iconName=t,e.width=512,e.height=512,e.ligatures=i,e.unicode=r,e.svgPathData=n,e.aliases=i}(te);class ie{constructor(e){this.element=e,this.Style=""}AddStyleSet(e,t){let i=this.GetStyle(e),r="";if(null==i){let i=this.GetId(e)+"{";for(let e in t)""!=t[e]&&(i+=this.CreateStyleString(e,t[e]));i+="}",""==ie.StyleText.trim()?ie.StyleText=ie.StyleText.trim():ie.StyleText+="\n",ie.StyleText+=i}else{r=i;for(let e in t){r=null==new RegExp("[;\\{\\s]("+e+"[^;]*;)","i").exec(r)&&""!=t[e]?r.replace("}",this.CreateStyleString(e,t[e])+"}"):r.replace(new RegExp("([;\\{\\s])"+e+"[^;]*;","gi"),""!=t[e]?"$1"+this.CreateStyleString(e,t[e]):"$1")}ie.StyleText=ie.StyleText.replace(i,r)}ie.PageBuilderModel.Refresh()}CreateStyleString(e,t){return e+":"+t+" !important;"}ClassIsUsed(e){let t=this.GetId(e);return null!=new RegExp(this.SanitizeIdForRegex(t)+"\\{([^\\}]*)}").exec(ie.StyleText)}SanitizeIdForRegex(e){return e=(e=e.replace(/\(/g,"\\(")).replace(/\)/g,"\\)")}GetStyleValue(e,t){let i=this.GetId(e),r=new RegExp(this.SanitizeIdForRegex(i)+"\\{([^\\}]*)}"),n=r.exec(ie.StyleText);if(null==n)return this.PreGetProcess(t,"");0==t.indexOf("transform")&&(t="transform"),r=new RegExp("(?:^|;|\\s)"+t+"[^:]*:([^;|!]*)","i");let o=r.exec(n[1]);return null==o?this.PreGetProcess(t,""):this.PreGetProcess(t,o[1])}AddStyleRule(e,t,i){let r={},n=this.PreSetProcess({ruleName:t,value:i});r[n.ruleName]=n.value,this.AddStyleSet(e,r)}PreGetProcess(e,t){switch(e){case"opacity":return isNaN(t)||""==t?100:100*t;case"transform":if(t.indexOf("rotate")>=0){let e=new RegExp("rotate\\(([0-9]*)deg\\)").exec(t);if(null!=e&&e.length>1)return e[1]}}return t.trim()}PreSetProcess(e){switch(e.ruleName){case"opacity":e.value=e.value.replace("px","")/100;break;case"transform-rotate":e.ruleName="transform";let t=e.value.replace("px","");e.value="rotate("+t+"deg)"}return e}GetStyle(e){let t=new RegExp(this.SanitizeIdForRegex(this.GetId(e))+"\\{([^\\}]*)}","i").exec(ie.StyleText);return null==t||t.length<2?null:t[0]}GetId(e){let t=e.split(","),i="";for(let e=0;e<t.length;e++)i+=(0!=e?",":"")+(0!=this.element.GetUniqueId()?"."+this.element.GetUniqueId()+" ":"")+t[e];return i}static Initialize(e){ie.PageBuilderModel=e}static get StyleText(){return null!=ie.Area?"Normal"==ie.Mode?ie.Area.Style:ie.Area.MobileStyle:""}static set StyleText(e){null!=ie.Area&&("Normal"==ie.Mode?ie.Area.Style=e:ie.Area.MobileStyle=e)}CreateStyleClassManager(e=""){return new re(this,e)}ClearClassStyles(e=""){let t,i=new RegExp(this.SanitizeIdForRegex(this.GetId(e))+"[^\\{]*\\{([^\\}]*)}","i");for(;t=i.exec(ie.StyleText);)ie.StyleText=ie.StyleText.replace(t[0],""),i.lastIndex=-1;re.ClearCache(),ie.PageBuilderModel.Refresh()}static SetStyle(e){ie.StyleText=e,ie.PageBuilderModel.Refresh()}static DuplicateStyle(e,t){let i=new RegExp(`${e}[^{]*{[^}]*\\}`,"g"),r=ie.StyleText.match(i);for(let i of r)ie.StyleText+=i.replace(`${e}`,`${t}`);ie.PageBuilderModel.Refresh()}static GetStyles(e,t=null){let i=new RegExp(`.${e}[^{]*{[^}]*\\}`,"g"),r=(null==t?ie.StyleText:t).match(i);if(null==r)return"";let n="";for(let e of r)n+=e;return n}}ie.Mode="Normal";class re{static ClearCache(){re.IsUsedCache=[]}constructor(e,t){this.styleManager=e,this.className=t}ClearStyles(){this.styleManager.ClearClassStyles(this.className)}SetValue(e,t){this.styleManager.AddStyleRule(this.className,e,t),this.RefreshCache()}GetValue(e){return this.styleManager.GetStyleValue(this.className,e)}RefreshCache(){let e=re.IsUsedCache.find((e=>e.ClassName==this.className));return null==e&&(e={ClassName:this.className,IsUsed:!1},re.IsUsedCache.push(e)),e.IsUsed=this.styleManager.ClassIsUsed(this.className),e}IsUsed(){let e=re.IsUsedCache.find((e=>e.ClassName==this.className));return null==e&&(e=this.RefreshCache()),e.IsUsed}}re.IsUsedCache=[];class ne{Convert(e){let t="",i=ie.Mode;switch(ie.Mode="Normal",e.Type){case"Row":t=this.GetRowStyles(e)}let r="";switch(ie.Mode="Mobile",e.Type){case"Row":r=this.GetRowStyles(e)}return ie.Mode=i,{StoreOptions:e.Options.ToObject(),Styles:t,StylesMobile:r}}GetRowStyles(e){let t=ie.GetStyles(e.GetUniqueId())+"\n";for(let i of e.Columns)t+=this.GetColumnStyles(i);return t}GetColumnStyles(e){let t=ie.GetStyles(e.GetUniqueId())+"\n";for(let i of e.Blocks)t+=this.GetBlockStyles(i);return t}GetBlockStyles(e){let t=ie.GetStyles(e.GetUniqueId())+"\n";return e.IsBlockContainer&&(t+=this.GetBlockContainerStyles(e)),t}GetBlockContainerStyles(e){let t=ie.GetStyles(e.GetUniqueId())+"\n";for(let i of e.Rows)t+=this.GetRowStyles(i);return t}}i.customElement("rn-save-template-dialog")(class extends p.DialogBase{constructor(...e){super(...e),this.TemplateName="",this.IsBusy=!1}InternalGetOptions(){return{Title:"Save template",ShowApplyButton:!0,ApplyButtonTitle:"Save",Styles:{width:"700px",maxWidth:"80%"}}}SubRender(){return t.html` <div> <p style="font-size: 15px;margin-bottom: 10px">Saving a row as a template will let you reuse the exact same design in another page</p> <rn-inputs-text .value=${this.TemplateName} .label=${"Template Name"} @change=${e=>{this.TemplateName=e.detail,this.forceUpdate()}}></rn-inputs-text> </div> `}async OnApply(){let e=(new ne).Convert(this.model),t=await f.WpAjaxPost.Post("save_template",{Name:this.TemplateName,Type:"Row",Options:e,Kind:this.model.PageSection.SectionKind});return null!=t&&s.ToastService.SendSuccess("Template saved successfully"),null!=t}}),i.customElement("rn-breadcrumb")(class extends e.LitElementBase{render(){let e=this.GetHierarchy(this.element,[]);return t.html`<div style="display: flex;justify-content: space-between"><div style="display: flex;flex-wrap: wrap;">${d.repeat(e,(e=>e.GetUniqueId()),((i,r)=>t.html`<div style="display: inline-flex;margin: 2px;align-items: center;"><a href="#" @mouseenter="${e=>i.Highlight()}" @mouseleave="${e=>i.UnHighlight()}" @click="${e=>i.Select()}">${i.GetLabel()}</a>${c.rnIf(r!=e.length-1&&t.html`<rn-fontawesome style="margin-left: 5px" .icon="${K.faChevronRight}"></rn-fontawesome>`)}</div>`))}</div><div style="display: inline-flex">${c.rnIf(this.element.CanBeTemplate&&t.html`<rn-fontawesome @click="${()=>this.SaveAsTemplate()}" style="cursor: pointer;" title="Save row as template" .icon="${te.faFolder}"></rn-fontawesome>`)}</div></div>`}GetHierarchy(e,t){return e.IsSelectable&&t.unshift(e),null!=e.Parent&&this.GetHierarchy(e.Parent,t),t}SaveAsTemplate(){""!=rnBuilderVar.IsPR?h.Dialog.Show(t.html`<rn-save-template-dialog .model="${this.element}"></rn-save-template-dialog>`):h.Dialog.Show(t.html`<rnwppages-license-required .message="${"Sorry this feature is only available in the full version"}"></rnwppages-license-required>`)}}),i.customElement("rnwppages-properties-group-collection")(((ee=class i extends e.LitElementBase{constructor(...e){super(...e),this.rightSide=null}render(){return t.html` ${d.repeat([1],(e=>this.model.Element.GetUniqueId()),(e=>t.html` <div style="background-color: white"> <div style="font-weight: bold;padding: 10px"> <rn-breadcrumb .element="${this.model.Element}"></rn-breadcrumb> </div> ${d.repeat(this.model.Groups.sort(((e,t)=>e.Priority<t.Priority?-1:e.Priority>t.Priority?1:0)),(e=>e.Name),(e=>{var r;return t.html` <rn-accordion-item @isOpenChanged="${t=>{i.OpenedStyles.set(e.Name,t.detail),this.forceUpdate()}}" .title="${e.Name}" .isOpen="${null!==(r=i.OpenedStyles.get(e.Name))&&void 0!==r?r:e.DefaultIsOpen}" .rightSide="${this.model.FirstItemControl}" .content="${e.Items.map((e=>e.Render()))}"></rn-accordion-item> `}))} </div>`))} `}}).OpenedStyles=new Map,ee));class oe{constructor(e,t){this.Element=e,this.Selector=t,this.IsStyleSet=!0,this.Properties=[]}AddProperty(e){e.SetOptionsOverwrite(new ie(this.Element).CreateStyleClassManager(this.Selector)),this.Properties.push(e)}GetProperties(){return this.Properties}static GetProperties(e,t){let i=new this(e,t);return i.Initialize(),i}}class se{constructor(e,t,i=!0,r=100,n=""){this.Collection=e,this._name=t,this.Priority=r,this.Id=n,this.DefaultIsOpen=!0,this.Items=[],this.IsOpen=i}get Name(){return""==this.Id?this._name:this.Id}SetIsOpenByDefault(e=!0){return this.DefaultIsOpen=e,this}AddProperty(e){return e.PropertyGroup=this,this.Items.push(e),this}AddProperties(e){return e instanceof oe&&(e=e.GetProperties()),e.forEach((e=>{e.PropertyGroup=this,this.Items.push(e)})),this}Remove(e){let t=this.Items.find((t=>t.PropertyName==e));null!=t&&this.Items.splice(this.Items.indexOf(t),1)}RemoveByLabel(e){let t=this.Items.find((t=>t.Label==e));null!=t&&this.Items.splice(this.Items.indexOf(t),1)}}let ae;!function(e){e.All="all",e.SameType="sametype",e.This="this"}(ae||(ae={}));class le{constructor(e,t=!1,i=ae.This){this.Element=e,this.ShowScopeSelector=t,this.ApplyTo=i,this.FirstItemControl=null,this.Groups=[],this.ScopeChanged=new m.SingleEvent}GetOrCreateGroup(e="",t=100,i=""){let r=this.Groups.find((t=>t.Name==e));return null==r?this.AddNewGroup(e,t,i):r}SetFirstItemControl(e=null){return this.FirstItemControl=e,this}AddNewGroup(e,t=100,i=""){let r=new se(this,e,!0,t,i);return this.Groups.push(r),r}Render(){return t.html`<rnwppages-properties-group-collection .applyTo="${this.ApplyTo}" .model="${this}"></rnwppages-properties-group-collection>`}GetProperties(){let e=[];return this.Groups.forEach((t=>e=e.concat(e,t.Items))),e}}class ue extends e.LitElementBase{disconnectedCallback(){super.disconnectedCallback(),this.model.OnRefresh.Unsubscribe(this)}connectedCallback(){super.connectedCallback(),this.model.OnRefresh.Subscribe(this,(()=>this.forceUpdate()))}GetParentClasses(){return"PropertyItem"}GetLabel(){return t.html`<label style="font-weight: bold">${this.model.Label}</label>`}render(){return t.html` <div style="margin-bottom: 3px" class="propertySetting ${this.model.AdditionalClasses}"> ${this.GetLabel()} ${this.SubRender()} </div> `}}i.customElement("rnwppages-simple-text-property")(class extends ue{static get properties(){return{}}SubRender(){return t.html` <div style="position: relative;"> <input placeholder="${this.model._placeholder}" type="text" style="position:relative;width: 100%" .value=${g.live(this.model.GetStringValue())} @input="${e=>this.model.SetValue(e.target.value)}"/> ${this.model.MaybeAddHint()} </div> `}});class ce{constructor(e,t,i=""){this.Element=e,this.PropertyName=t,this.Label=i,this.RefreshPropertiesPanel=!1,this.IsPR=!1,this.OnGetValue=null,this.OnChange=null,this.OptionsOverwrite=null,this.AdditionalClasses="",this._hint=null,this.OnRefresh=new m.SingleEvent,this.PropertyChanged=new m.SingleEvent}SetIsInline(e=!0){return e?this.AdditionalClasses+=" inline":this.AdditionalClasses=this.AdditionalClasses.replace(" inline",""),this}SetHint(e){return this._hint=e,this}MaybeAddHint(){return null==this._hint?null:t.html` <div>${this._hint}</div> `}Clear(){}SetOptionsOverwrite(e){return this.OptionsOverwrite=e,this}SetRefreshPropertiesPanel(){return this.RefreshPropertiesPanel=!0,this}SetIsPR(){return this.IsPR=!0,this}SetOnGetValue(e){return this.OnGetValue=e,this}SetOnChange(e){return this.OnChange=e,this}SetStringValue(e){this.SetValue(o.Sanitizer.SanitizeString(e))}GetValue(e=null){var t;if(null!=this.OnGetValue)return this.OnGetValue();let i=null===(t=this.Element)||void 0===t?void 0:t.Options;return null!=this.OptionsOverwrite&&(i=this.OptionsOverwrite),null===e&&(e=this.PropertyName),null==i.GetValue(e)?null:i.GetValue(e)}GetBooleanValue(e=null){return o.Sanitizer.SanitizeBoolean(this.GetValue(e),!1)}SetBooleanValue(e,t=null){this.SetValue(o.Sanitizer.SanitizeBoolean(e),t)}GetStringValue(e=null){let t=this.GetValue(e);return Array.isArray(t)&&(t=t.length>0?t[0]:""),null==t?"":t.toString()}GetNumberValue(){let e=Number(this.GetValue());return isNaN(e)?0:e}Refresh(){this.OnRefresh.Publish()}SetValue(e,i=null){var r;if(this.IsPR&&""==rnBuilderVar.IsPR)h.Dialog.Show(t.html`<rnwppages-license-required .message="${"Sorry this feature is only available in the full version"}"></rnwppages-license-required>`);else{if(null!=this.OnChange){if(!1===this.OnChange(e))return;this.PropertyChanged.Publish()}else{var o;Array.isArray(this.GetValue())&&!Array.isArray(e)&&""!=e.toString()&&(e=[e]);let t=null===(o=this.Element)||void 0===o?void 0:o.Options;null!=this.OptionsOverwrite&&(t=this.OptionsOverwrite),null===i&&(i=this.PropertyName),t.SetValue(i,e),this.PropertyChanged.Publish()}this.RefreshPropertiesPanel?n.EventManager.Publish("RefreshFieldProperties"):this.Refresh(),null===(r=this.Element)||void 0===r||r.Refresh()}}}class de extends ce{constructor(e,t,i){super(e,t,i),this.ActivateChangeWhenBlur=!1}SetActivateChangeWhenBlur(){return this.ActivateChangeWhenBlur=!0,this}SetPlaceholder(e){return this._placeholder=e,this}Render(){return t.html`<rnwppages-simple-text-property .model="${this}"></rnwppages-simple-text-property>`}}var he={};!function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="desktop",i=[128421,61704,"desktop-alt"],r="f390",n="M64 0C28.7 0 0 28.7 0 64V352c0 35.3 28.7 64 64 64H240l-10.7 32H160c-17.7 0-32 14.3-32 32s14.3 32 32 32H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H346.7L336 416H512c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64H64zM512 64V288H64V64H512z";e.definition={prefix:"fas",iconName:t,icon:[576,512,i,r,n]},e.faDesktop=e.definition,e.prefix="fas",e.iconName=t,e.width=576,e.height=512,e.ligatures=i,e.unicode=r,e.svgPathData=n,e.aliases=i}(he);var pe={};function fe(e){return class extends e{constructor(...e){super(...e),this.IsSelectable=!0}Deselect(){this.Refresh()}get Type(){return""}get CanBeTemplate(){return!1}Select(){null!=this.PageBuilder.SelectedElement&&this.PageBuilder.SelectedElement.Deselect(),this.PageBuilder.SelectedElement=this,n.EventManager.Publish("RefreshFieldProperties"),this.Refresh()}get IsSelected(){return this.PageBuilder.SelectedElement==this}GetProperties(){let e=new le(this);return e.GetOrCreateGroup("Advance").AddProperty(new de(this.PageBuilder.SelectedElement,"Class","Class")),e}GetStyles(e=""){return new le(this).SetFirstItemControl(this.GetDesktopMobileIcon())}Highlight(){var e;null===(e=this.Instance)||void 0===e||e.firstElementChild.classList.add("rnhighlight")}UnHighlight(){var e;null===(e=this.Instance)||void 0===e||e.firstElementChild.classList.remove("rnhighlight")}AddDefaultStyles(){}GetDesktopMobileIcon(){return"Mobile"==ie.Mode?t.html`<div .title="${"Mobile (these styles are only used on small devices)"}"><rn-fontawesome .icon="${pe.faMobile}" style="cursor: pointer" @click="${()=>this.SwitchStyleMode()}"></rn-fontawesome></div>`:t.html`<div .title="${"Normal (these styles are always used)"}"><rn-fontawesome .icon="${he.faDesktop}" style="cursor: pointer" @click="${()=>this.SwitchStyleMode()}"></rn-fontawesome></div>`}SwitchStyleMode(){"Normal"==ie.Mode?ie.Mode="Mobile":ie.Mode="Normal",n.EventManager.Publish("RefreshFieldProperties")}}}!function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="mobile",i=[128241,"mobile-android","mobile-phone"],r="f3ce",n="M80 0C44.7 0 16 28.7 16 64V448c0 35.3 28.7 64 64 64H304c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64H80zm80 432h64c8.8 0 16 7.2 16 16s-7.2 16-16 16H160c-8.8 0-16-7.2-16-16s7.2-16 16-16z";e.definition={prefix:"fas",iconName:t,icon:[384,512,i,r,n]},e.faMobile=e.definition,e.prefix="fas",e.iconName=t,e.width=384,e.height=512,e.ligatures=i,e.unicode=r,e.svgPathData=n,e.aliases=i}(pe);var me={};!function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="link",i=[128279,"chain"],r="f0c1",n="M579.8 267.7c56.5-56.5 56.5-148 0-204.5c-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6c31.5 31.5 31.5 82.5 0 114L422.3 334.8c-31.5 31.5-82.5 31.5-114 0c-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C206.5 251.2 213 330 263 380c56.5 56.5 148 56.5 204.5 0L579.8 267.7zM60.2 244.3c-56.5 56.5-56.5 148 0 204.5c50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C74 372 74 321 105.5 289.5L217.7 177.2c31.5-31.5 82.5-31.5 114 0c27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C433.5 260.8 427 182 377 132c-56.5-56.5-148-56.5-204.5 0L60.2 244.3z";e.definition={prefix:"fas",iconName:t,icon:[640,512,i,r,n]},e.faLink=e.definition,e.prefix="fas",e.iconName=t,e.width=640,e.height=512,e.ligatures=i,e.unicode=r,e.svgPathData=n,e.aliases=i}(me),i.customElement("rn-side-number-property")(class extends ue{static get properties(){return{linked:{type:Boolean}}}constructor(){super()}SubRender(){return t.html` <div style="display: flex;align-items: flex-start;justify-content: flex-start;"> <div style="flex-grow: 1;display: flex;"> ${this.model.Inputs.map((e=>e.Render(Math.round(100/this.model.Inputs.length))))} </div> <div style="display: flex"> <div class="SideInputLink ${this.model.Linked?"linked":""}" style="width: 40px;height: 33.5px;display: inline-flex;align-items: center;justify-content: center;border: 1px solid #ced4da;" @click="${e=>{this.ToggleLink()}}"> <rn-fontawesome .icon="${me.faLink}"></rn-fontawesome> </div> <div @click="${e=>this.Remove()}" class="removeContainer" style="height: 33.5px;margin-left: 10px;font-size: 20px;display: flex;align-items: center;cursor: pointer;" title="Reset"> <rn-fontawesome class="removeIcon" .icon="${H.faTimes}"/> </div> </div> </div> `}Remove(){this.model.Inputs.forEach((e=>{this.model.SetValue("",e.Property)}))}Clear(){this.model.SetStringValue("")}ToggleLink(){this.model.Linked=!this.model.Linked,this.forceUpdate()}}),i.customElement("rn-side-input-renderer")(class extends e.LitElementBase{constructor(...e){super(...e),this.Active=!1}static get properties(){return{Active:{type:Boolean}}}render(){return t.html` <div class="SideInput ${this.Active?"active":""}" style="width: 100%;text-align: center;"> <input type="number" .value="${g.live(this.GetValue())}" style="width: 100%" @focus="${e=>this.Active=!0}" @blur="${e=>this.Active=!1}" @input="${e=>this.Changed(e.target)}"/> <label>${this.model.Label}</label> </div> `}GetDisplay(){return"inline-flex"}GetValue(){let e=o.Sanitizer.SanitizeNumber(this.model.propertyItem.GetStringValue(this.model.Property).replace("px","").trim(),null);return null===e?"":e}Changed(e){let t=o.Sanitizer.SanitizeNumber(e.value,null);null!=t&&(t+="px",this.model.propertyItem.Linked?this.model.propertyItem.Inputs.forEach((e=>{this.model.propertyItem.Inputs.forEach((e=>this.model.propertyItem.SetValue(t,e.Property)))})):this.model.propertyItem.SetValue(t,this.model.Property),this.forceUpdate())}});class ge extends ce{constructor(e,t,i="custom"){switch(super(e,"",t),this.Inputs=[],this.Linked=!0,this.CustomFieldsAdded=!1,i){case"padding":this.Inputs.push(Oe.CreateSideInput(this,"Top","padding-top")),this.Inputs.push(Oe.CreateSideInput(this,"Right","padding-right")),this.Inputs.push(Oe.CreateSideInput(this,"Bottom","padding-bottom")),this.Inputs.push(Oe.CreateSideInput(this,"Left","padding-left"));break;case"borderWidth":this.Inputs.push(Oe.CreateSideInput(this,"Top","border-top-width")),this.Inputs.push(Oe.CreateSideInput(this,"Right","border-right-width")),this.Inputs.push(Oe.CreateSideInput(this,"Bottom","border-bottom-width")),this.Inputs.push(Oe.CreateSideInput(this,"Left","border-left-width"));break;case"borderRadius":this.Inputs.push(Oe.CreateSideInput(this,"Top-Left","border-top-left-radius")),this.Inputs.push(Oe.CreateSideInput(this,"Top-Right","border-top-right-radius")),this.Inputs.push(Oe.CreateSideInput(this,"Bottom-left","border-bottom-left-radius")),this.Inputs.push(Oe.CreateSideInput(this,"Bottom-Right","border-bottom-right-radius"))}}GetDisplay(){return"inline-flex"}SetAddField(e="",t=""){this.CustomFieldsAdded||(this.CustomFieldsAdded=!0,this.Inputs=[]);let i=Oe.CreateSideInput(this,e,t);return this.Inputs.push(i),this}Render(){return t.html` <rn-side-number-property .model="${this}"></rn-side-number-property> `}}class Oe{constructor(e){this.propertyItem=e}static CreateSideInput(e,t,i){let r=new Oe(e);return r.Label=t,r.Property=i,r}Render(e){return t.html` <rn-side-input-renderer style="width: ${e}%" .model="${this}"></rn-side-input-renderer> `}}var be="top",Se="bottom",ye="right",ve="left",we="auto",xe=[be,Se,ye,ve],ke="start",Ve="end",Ce="viewport",Te="popper",$e=xe.reduce((function(e,t){return e.concat([t+"-"+ke,t+"-"+Ve])}),[]),Pe=[].concat(xe,[we]).reduce((function(e,t){return e.concat([t,t+"-"+ke,t+"-"+Ve])}),[]),Qe=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Re(e){return e?(e.nodeName||"").toLowerCase():null}function Ie(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Ee(e){return e instanceof Ie(e).Element||e instanceof Element}function De(e){return e instanceof Ie(e).HTMLElement||e instanceof HTMLElement}function Ae(e){return"undefined"!=typeof ShadowRoot&&(e instanceof Ie(e).ShadowRoot||e instanceof ShadowRoot)}var _e={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var i=t.styles[e]||{},r=t.attributes[e]||{},n=t.elements[e];De(n)&&Re(n)&&(Object.assign(n.style,i),Object.keys(r).forEach((function(e){var t=r[e];!1===t?n.removeAttribute(e):n.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,i={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,i.popper),t.styles=i,t.elements.arrow&&Object.assign(t.elements.arrow.style,i.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],n=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:i[e]).reduce((function(e,t){return e[t]="",e}),{});De(r)&&Re(r)&&(Object.assign(r.style,o),Object.keys(n).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]};function Me(e){return e.split("-")[0]}var Le=Math.max,Ge=Math.min,Ne=Math.round;function We(){var e=navigator.userAgentData;return null!=e&&e.brands?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function Be(){return!/^((?!chrome|android).)*safari/i.test(We())}function ze(e,t,i){void 0===t&&(t=!1),void 0===i&&(i=!1);var r=e.getBoundingClientRect(),n=1,o=1;t&&De(e)&&(n=e.offsetWidth>0&&Ne(r.width)/e.offsetWidth||1,o=e.offsetHeight>0&&Ne(r.height)/e.offsetHeight||1);var s=(Ee(e)?Ie(e):window).visualViewport,a=!Be()&&i,l=(r.left+(a&&s?s.offsetLeft:0))/n,u=(r.top+(a&&s?s.offsetTop:0))/o,c=r.width/n,d=r.height/o;return{width:c,height:d,top:u,right:l+c,bottom:u+d,left:l,x:l,y:u}}function Fe(e){var t=ze(e),i=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-i)<=1&&(i=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:i,height:r}}function Ue(e,t){var i=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(i&&Ae(i)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function qe(e){return Ie(e).getComputedStyle(e)}function Xe(e){return["table","td","th"].indexOf(Re(e))>=0}function je(e){return((Ee(e)?e.ownerDocument:e.document)||window.document).documentElement}function He(e){return"html"===Re(e)?e:e.assignedSlot||e.parentNode||(Ae(e)?e.host:null)||je(e)}function Ze(e){return De(e)&&"fixed"!==qe(e).position?e.offsetParent:null}function Ye(e){for(var t=Ie(e),i=Ze(e);i&&Xe(i)&&"static"===qe(i).position;)i=Ze(i);return i&&("html"===Re(i)||"body"===Re(i)&&"static"===qe(i).position)?t:i||function(e){var t=/firefox/i.test(We());if(/Trident/i.test(We())&&De(e)&&"fixed"===qe(e).position)return null;var i=He(e);for(Ae(i)&&(i=i.host);De(i)&&["html","body"].indexOf(Re(i))<0;){var r=qe(i);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return i;i=i.parentNode}return null}(e)||t}function Je(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Ke(e,t,i){return Le(e,Ge(t,i))}function et(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function tt(e,t){return t.reduce((function(t,i){return t[i]=e,t}),{})}var it={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,i=e.state,r=e.name,n=e.options,o=i.elements.arrow,s=i.modifiersData.popperOffsets,a=Me(i.placement),l=Je(a),u=[ve,ye].indexOf(a)>=0?"height":"width";if(o&&s){var c=function(e,t){return et("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:tt(e,xe))}(n.padding,i),d=Fe(o),h="y"===l?be:ve,p="y"===l?Se:ye,f=i.rects.reference[u]+i.rects.reference[l]-s[l]-i.rects.popper[u],m=s[l]-i.rects.reference[l],g=Ye(o),O=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,b=f/2-m/2,S=c[h],y=O-d[u]-c[p],v=O/2-d[u]/2+b,w=Ke(S,v,y),x=l;i.modifiersData[r]=((t={})[x]=w,t.centerOffset=w-v,t)}},effect:function(e){var t=e.state,i=e.options.element,r=void 0===i?"[data-popper-arrow]":i;null!=r&&("string"!=typeof r||(r=t.elements.popper.querySelector(r)))&&Ue(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function rt(e){return e.split("-")[1]}var nt={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ot(e){var t,i=e.popper,r=e.popperRect,n=e.placement,o=e.variation,s=e.offsets,a=e.position,l=e.gpuAcceleration,u=e.adaptive,c=e.roundOffsets,d=e.isFixed,h=s.x,p=void 0===h?0:h,f=s.y,m=void 0===f?0:f,g="function"==typeof c?c({x:p,y:m}):{x:p,y:m};p=g.x,m=g.y;var O=s.hasOwnProperty("x"),b=s.hasOwnProperty("y"),S=ve,y=be,v=window;if(u){var w=Ye(i),x="clientHeight",k="clientWidth";if(w===Ie(i)&&"static"!==qe(w=je(i)).position&&"absolute"===a&&(x="scrollHeight",k="scrollWidth"),w=w,n===be||(n===ve||n===ye)&&o===Ve)y=Se,m-=(d&&w===v&&v.visualViewport?v.visualViewport.height:w[x])-r.height,m*=l?1:-1;if(n===ve||(n===be||n===Se)&&o===Ve)S=ye,p-=(d&&w===v&&v.visualViewport?v.visualViewport.width:w[k])-r.width,p*=l?1:-1}var V,C=Object.assign({position:a},u&&nt),T=!0===c?function(e){var t=e.x,i=e.y,r=window.devicePixelRatio||1;return{x:Ne(t*r)/r||0,y:Ne(i*r)/r||0}}({x:p,y:m}):{x:p,y:m};return p=T.x,m=T.y,l?Object.assign({},C,((V={})[y]=b?"0":"",V[S]=O?"0":"",V.transform=(v.devicePixelRatio||1)<=1?"translate("+p+"px, "+m+"px)":"translate3d("+p+"px, "+m+"px, 0)",V)):Object.assign({},C,((t={})[y]=b?m+"px":"",t[S]=O?p+"px":"",t.transform="",t))}var st={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,i=e.options,r=i.gpuAcceleration,n=void 0===r||r,o=i.adaptive,s=void 0===o||o,a=i.roundOffsets,l=void 0===a||a,u={placement:Me(t.placement),variation:rt(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:n,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,ot(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,ot(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},at={passive:!0};var lt={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,i=e.instance,r=e.options,n=r.scroll,o=void 0===n||n,s=r.resize,a=void 0===s||s,l=Ie(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&u.forEach((function(e){e.addEventListener("scroll",i.update,at)})),a&&l.addEventListener("resize",i.update,at),function(){o&&u.forEach((function(e){e.removeEventListener("scroll",i.update,at)})),a&&l.removeEventListener("resize",i.update,at)}},data:{}},ut={left:"right",right:"left",bottom:"top",top:"bottom"};function ct(e){return e.replace(/left|right|bottom|top/g,(function(e){return ut[e]}))}var dt={start:"end",end:"start"};function ht(e){return e.replace(/start|end/g,(function(e){return dt[e]}))}function pt(e){var t=Ie(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function ft(e){return ze(je(e)).left+pt(e).scrollLeft}function mt(e){var t=qe(e),i=t.overflow,r=t.overflowX,n=t.overflowY;return/auto|scroll|overlay|hidden/.test(i+n+r)}function gt(e){return["html","body","#document"].indexOf(Re(e))>=0?e.ownerDocument.body:De(e)&&mt(e)?e:gt(He(e))}function Ot(e,t){var i;void 0===t&&(t=[]);var r=gt(e),n=r===(null==(i=e.ownerDocument)?void 0:i.body),o=Ie(r),s=n?[o].concat(o.visualViewport||[],mt(r)?r:[]):r,a=t.concat(s);return n?a:a.concat(Ot(He(s)))}function bt(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function St(e,t,i){return t===Ce?bt(function(e,t){var i=Ie(e),r=je(e),n=i.visualViewport,o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(n){o=n.width,s=n.height;var u=Be();(u||!u&&"fixed"===t)&&(a=n.offsetLeft,l=n.offsetTop)}return{width:o,height:s,x:a+ft(e),y:l}}(e,i)):Ee(t)?function(e,t){var i=ze(e,!1,"fixed"===t);return i.top=i.top+e.clientTop,i.left=i.left+e.clientLeft,i.bottom=i.top+e.clientHeight,i.right=i.left+e.clientWidth,i.width=e.clientWidth,i.height=e.clientHeight,i.x=i.left,i.y=i.top,i}(t,i):bt(function(e){var t,i=je(e),r=pt(e),n=null==(t=e.ownerDocument)?void 0:t.body,o=Le(i.scrollWidth,i.clientWidth,n?n.scrollWidth:0,n?n.clientWidth:0),s=Le(i.scrollHeight,i.clientHeight,n?n.scrollHeight:0,n?n.clientHeight:0),a=-r.scrollLeft+ft(e),l=-r.scrollTop;return"rtl"===qe(n||i).direction&&(a+=Le(i.clientWidth,n?n.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}(je(e)))}function yt(e,t,i,r){var n="clippingParents"===t?function(e){var t=Ot(He(e)),i=["absolute","fixed"].indexOf(qe(e).position)>=0&&De(e)?Ye(e):e;return Ee(i)?t.filter((function(e){return Ee(e)&&Ue(e,i)&&"body"!==Re(e)})):[]}(e):[].concat(t),o=[].concat(n,[i]),s=o[0],a=o.reduce((function(t,i){var n=St(e,i,r);return t.top=Le(n.top,t.top),t.right=Ge(n.right,t.right),t.bottom=Ge(n.bottom,t.bottom),t.left=Le(n.left,t.left),t}),St(e,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function vt(e){var t,i=e.reference,r=e.element,n=e.placement,o=n?Me(n):null,s=n?rt(n):null,a=i.x+i.width/2-r.width/2,l=i.y+i.height/2-r.height/2;switch(o){case be:t={x:a,y:i.y-r.height};break;case Se:t={x:a,y:i.y+i.height};break;case ye:t={x:i.x+i.width,y:l};break;case ve:t={x:i.x-r.width,y:l};break;default:t={x:i.x,y:i.y}}var u=o?Je(o):null;if(null!=u){var c="y"===u?"height":"width";switch(s){case ke:t[u]=t[u]-(i[c]/2-r[c]/2);break;case Ve:t[u]=t[u]+(i[c]/2-r[c]/2)}}return t}function wt(e,t){void 0===t&&(t={});var i=t,r=i.placement,n=void 0===r?e.placement:r,o=i.strategy,s=void 0===o?e.strategy:o,a=i.boundary,l=void 0===a?"clippingParents":a,u=i.rootBoundary,c=void 0===u?Ce:u,d=i.elementContext,h=void 0===d?Te:d,p=i.altBoundary,f=void 0!==p&&p,m=i.padding,g=void 0===m?0:m,O=et("number"!=typeof g?g:tt(g,xe)),b=h===Te?"reference":Te,S=e.rects.popper,y=e.elements[f?b:h],v=yt(Ee(y)?y:y.contextElement||je(e.elements.popper),l,c,s),w=ze(e.elements.reference),x=vt({reference:w,element:S,strategy:"absolute",placement:n}),k=bt(Object.assign({},S,x)),V=h===Te?k:w,C={top:v.top-V.top+O.top,bottom:V.bottom-v.bottom+O.bottom,left:v.left-V.left+O.left,right:V.right-v.right+O.right},T=e.modifiersData.offset;if(h===Te&&T){var $=T[n];Object.keys(C).forEach((function(e){var t=[ye,Se].indexOf(e)>=0?1:-1,i=[be,Se].indexOf(e)>=0?"y":"x";C[e]+=$[i]*t}))}return C}function xt(e,t){void 0===t&&(t={});var i=t,r=i.placement,n=i.boundary,o=i.rootBoundary,s=i.padding,a=i.flipVariations,l=i.allowedAutoPlacements,u=void 0===l?Pe:l,c=rt(r),d=c?a?$e:$e.filter((function(e){return rt(e)===c})):xe,h=d.filter((function(e){return u.indexOf(e)>=0}));0===h.length&&(h=d);var p=h.reduce((function(t,i){return t[i]=wt(e,{placement:i,boundary:n,rootBoundary:o,padding:s})[Me(i)],t}),{});return Object.keys(p).sort((function(e,t){return p[e]-p[t]}))}var kt={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,i=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var n=i.mainAxis,o=void 0===n||n,s=i.altAxis,a=void 0===s||s,l=i.fallbackPlacements,u=i.padding,c=i.boundary,d=i.rootBoundary,h=i.altBoundary,p=i.flipVariations,f=void 0===p||p,m=i.allowedAutoPlacements,g=t.options.placement,O=Me(g),b=l||(O===g||!f?[ct(g)]:function(e){if(Me(e)===we)return[];var t=ct(e);return[ht(e),t,ht(t)]}(g)),S=[g].concat(b).reduce((function(e,i){return e.concat(Me(i)===we?xt(t,{placement:i,boundary:c,rootBoundary:d,padding:u,flipVariations:f,allowedAutoPlacements:m}):i)}),[]),y=t.rects.reference,v=t.rects.popper,w=new Map,x=!0,k=S[0],V=0;V<S.length;V++){var C=S[V],T=Me(C),$=rt(C)===ke,P=[be,Se].indexOf(T)>=0,Q=P?"width":"height",R=wt(t,{placement:C,boundary:c,rootBoundary:d,altBoundary:h,padding:u}),I=P?$?ye:ve:$?Se:be;y[Q]>v[Q]&&(I=ct(I));var E=ct(I),D=[];if(o&&D.push(R[T]<=0),a&&D.push(R[I]<=0,R[E]<=0),D.every((function(e){return e}))){k=C,x=!1;break}w.set(C,D)}if(x)for(var A=function(e){var t=S.find((function(t){var i=w.get(t);if(i)return i.slice(0,e).every((function(e){return e}))}));if(t)return k=t,"break"},_=f?3:1;_>0;_--){if("break"===A(_))break}t.placement!==k&&(t.modifiersData[r]._skip=!0,t.placement=k,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Vt(e,t,i){return void 0===i&&(i={x:0,y:0}),{top:e.top-t.height-i.y,right:e.right-t.width+i.x,bottom:e.bottom-t.height+i.y,left:e.left-t.width-i.x}}function Ct(e){return[be,ye,Se,ve].some((function(t){return e[t]>=0}))}var Tt={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,i=e.name,r=t.rects.reference,n=t.rects.popper,o=t.modifiersData.preventOverflow,s=wt(t,{elementContext:"reference"}),a=wt(t,{altBoundary:!0}),l=Vt(s,r),u=Vt(a,n,o),c=Ct(l),d=Ct(u);t.modifiersData[i]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}};var $t={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,i=e.options,r=e.name,n=i.offset,o=void 0===n?[0,0]:n,s=Pe.reduce((function(e,i){return e[i]=function(e,t,i){var r=Me(e),n=[ve,be].indexOf(r)>=0?-1:1,o="function"==typeof i?i(Object.assign({},t,{placement:e})):i,s=o[0],a=o[1];return s=s||0,a=(a||0)*n,[ve,ye].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}(i,t.rects,o),e}),{}),a=s[t.placement],l=a.x,u=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[r]=s}};var Pt={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,i=e.name;t.modifiersData[i]=vt({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}};var Qt={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,i=e.options,r=e.name,n=i.mainAxis,o=void 0===n||n,s=i.altAxis,a=void 0!==s&&s,l=i.boundary,u=i.rootBoundary,c=i.altBoundary,d=i.padding,h=i.tether,p=void 0===h||h,f=i.tetherOffset,m=void 0===f?0:f,g=wt(t,{boundary:l,rootBoundary:u,padding:d,altBoundary:c}),O=Me(t.placement),b=rt(t.placement),S=!b,y=Je(O),v="x"===y?"y":"x",w=t.modifiersData.popperOffsets,x=t.rects.reference,k=t.rects.popper,V="function"==typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,C="number"==typeof V?{mainAxis:V,altAxis:V}:Object.assign({mainAxis:0,altAxis:0},V),T=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,$={x:0,y:0};if(w){if(o){var P,Q="y"===y?be:ve,R="y"===y?Se:ye,I="y"===y?"height":"width",E=w[y],D=E+g[Q],A=E-g[R],_=p?-k[I]/2:0,M=b===ke?x[I]:k[I],L=b===ke?-k[I]:-x[I],G=t.elements.arrow,N=p&&G?Fe(G):{width:0,height:0},W=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},B=W[Q],z=W[R],F=Ke(0,x[I],N[I]),U=S?x[I]/2-_-F-B-C.mainAxis:M-F-B-C.mainAxis,q=S?-x[I]/2+_+F+z+C.mainAxis:L+F+z+C.mainAxis,X=t.elements.arrow&&Ye(t.elements.arrow),j=X?"y"===y?X.clientTop||0:X.clientLeft||0:0,H=null!=(P=null==T?void 0:T[y])?P:0,Z=E+q-H,Y=Ke(p?Ge(D,E+U-H-j):D,E,p?Le(A,Z):A);w[y]=Y,$[y]=Y-E}if(a){var J,K="x"===y?be:ve,ee="x"===y?Se:ye,te=w[v],ie="y"===v?"height":"width",re=te+g[K],ne=te-g[ee],oe=-1!==[be,ve].indexOf(O),se=null!=(J=null==T?void 0:T[v])?J:0,ae=oe?re:te-x[ie]-k[ie]-se+C.altAxis,le=oe?te+x[ie]+k[ie]-se-C.altAxis:ne,ue=p&&oe?function(e,t,i){var r=Ke(e,t,i);return r>i?i:r}(ae,te,le):Ke(p?ae:re,te,p?le:ne);w[v]=ue,$[v]=ue-te}t.modifiersData[r]=$}},requiresIfExists:["offset"]};function Rt(e,t,i){void 0===i&&(i=!1);var r,n,o=De(t),s=De(t)&&function(e){var t=e.getBoundingClientRect(),i=Ne(t.width)/e.offsetWidth||1,r=Ne(t.height)/e.offsetHeight||1;return 1!==i||1!==r}(t),a=je(t),l=ze(e,s,i),u={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(o||!o&&!i)&&(("body"!==Re(t)||mt(a))&&(u=(r=t)!==Ie(r)&&De(r)?{scrollLeft:(n=r).scrollLeft,scrollTop:n.scrollTop}:pt(r)),De(t)?((c=ze(t,!0)).x+=t.clientLeft,c.y+=t.clientTop):a&&(c.x=ft(a))),{x:l.left+u.scrollLeft-c.x,y:l.top+u.scrollTop-c.y,width:l.width,height:l.height}}function It(e){var t=new Map,i=new Set,r=[];function n(e){i.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!i.has(e)){var r=t.get(e);r&&n(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){i.has(e.name)||n(e)})),r}var Et={placement:"bottom",modifiers:[],strategy:"absolute"};function Dt(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function At(e){void 0===e&&(e={});var t=e,i=t.defaultModifiers,r=void 0===i?[]:i,n=t.defaultOptions,o=void 0===n?Et:n;return function(e,t,i){void 0===i&&(i=o);var n,s,a={placement:"bottom",orderedModifiers:[],options:Object.assign({},Et,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},l=[],u=!1,c={state:a,setOptions:function(i){var n="function"==typeof i?i(a.options):i;d(),a.options=Object.assign({},o,a.options,n),a.scrollParents={reference:Ee(e)?Ot(e):e.contextElement?Ot(e.contextElement):[],popper:Ot(t)};var s=function(e){var t=It(e);return Qe.reduce((function(e,i){return e.concat(t.filter((function(e){return e.phase===i})))}),[])}(function(e){var t=e.reduce((function(e,t){var i=e[t.name];return e[t.name]=i?Object.assign({},i,t,{options:Object.assign({},i.options,t.options),data:Object.assign({},i.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,a.options.modifiers)));return a.orderedModifiers=s.filter((function(e){return e.enabled})),a.orderedModifiers.forEach((function(e){var t=e.name,i=e.options,r=void 0===i?{}:i,n=e.effect;if("function"==typeof n){var o=n({state:a,name:t,instance:c,options:r}),s=function(){};l.push(o||s)}})),c.update()},forceUpdate:function(){if(!u){var e=a.elements,t=e.reference,i=e.popper;if(Dt(t,i)){a.rects={reference:Rt(t,Ye(i),"fixed"===a.options.strategy),popper:Fe(i)},a.reset=!1,a.placement=a.options.placement,a.orderedModifiers.forEach((function(e){return a.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<a.orderedModifiers.length;r++)if(!0!==a.reset){var n=a.orderedModifiers[r],o=n.fn,s=n.options,l=void 0===s?{}:s,d=n.name;"function"==typeof o&&(a=o({state:a,options:l,name:d,instance:c})||a)}else a.reset=!1,r=-1}}},update:(n=function(){return new Promise((function(e){c.forceUpdate(),e(a)}))},function(){return s||(s=new Promise((function(e){Promise.resolve().then((function(){s=void 0,e(n())}))}))),s}),destroy:function(){d(),u=!0}};if(!Dt(e,t))return c;function d(){l.forEach((function(e){return e()})),l=[]}return c.setOptions(i).then((function(e){!u&&i.onFirstUpdate&&i.onFirstUpdate(e)})),c}}At();var _t,Mt,Lt,Gt,Nt=At({defaultModifiers:[lt,Pt,st,_e,$t,kt,Qt,it,Tt]});_t=i.customElement("rn-color-property"),Mt=i.query(".colorpicker"),_t((Lt=class extends ue{constructor(){super(),babelHelpers.initializerDefineProperty(this,"ColorPickerInstance",Gt,this),this.CloseModal=this.CloseModal.bind(this)}SubRender(){return t.html` <div> <div @click="${e=>{e.stopImmediatePropagation(),this.RenderDialog()}}" class="colorpicker" style="border: 1px ${""==this.model.GetStringValue()?"dashed":"solid"} #888;border-radius: 2px;width: 75px;height: 25px;cursor: pointer;display: inline-flex;align-items: center;justify-content: center;padding: 5px;box-sizing: border-box"> ${""==this.model.GetStringValue()?t.html`Default`:t.html`<div style="width: 100%;height: 100%; background-color: ${this.model.GetStringValue()}"></div>`} </div> ${c.rnIf(""!=this.model.GetStringValue()&&t.html`<rn-fontawesome @click="${e=>this.Clear()}" .icon="${H.faTimes}" title="Remove" style="cursor: pointer; margin-left: 3px" class="rnremove"></rn-fontawesome>`)} </div> `}CloseModal(){null!=this.PopperInstance&&(this.PopperInstance.destroy(),this.PopperInstance=null),null!=this.PopperElement&&(this.PopperElement.remove(),this.PopperElement=null),document.removeEventListener("click",this.CloseModal)}async RenderDialog(){this.PopperElement=await t.renderInline(t.html`<rn-text-color-dialog .allowOpacity="${this.model.AllowOpacity}" .color="${this.model.GetStringValue()}" style="z-index: 1000000000000000" @change="${e=>{this.CloseModal(),null!=e.detail&&this.model.SetStringValue(e.detail)}}"></rn-text-color-dialog>`),document.body.appendChild(this.PopperElement),this.PopperInstance=Nt(this.ColorPickerInstance,this.PopperElement,{modifiers:[{name:"offset",options:{offset:[0,2]}},{name:"arrow",options:{padding:5}}]}),document.body.addEventListener("click",this.CloseModal)}Clear(){this.model.SetStringValue("")}},Gt=babelHelpers.applyDecoratedDescriptor(Lt.prototype,"ColorPickerInstance",[Mt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Lt));class Wt extends ce{constructor(e,t,i){super(e,t,i),this.AllowOpacity=!1,this.SetIsInline()}Render(){return t.html` <rn-color-property .model="${this}"></rn-color-property> `}SetAllowOpacity(){return this.AllowOpacity=!0,this}}i.customElement("rnwppages-dropdown-property")(class extends ue{SubRender(){return t.html`<div style="margin-bottom: 10px"> <rn-inputs-select ?multiple="${this.model._multiple}" style="margin-bottom: 0" .value="${this.model.GetValue()}" @change="${e=>{this.model.SetValue(e.detail)}}" .placeholder="${this.model.PlaceHolder}" .options="${this.model.GetItems()}"></rn-inputs-select> <div>${this.model.MaybeAddHint()}</div></div>`}});class Bt extends ce{constructor(e,t,i){super(e,t,i),this.Items=[],this.PlaceHolder="Select..",this._multiple=!1}SetPlaceHolder(e){return this.PlaceHolder=e,this}SetIsMultiple(e=!0){return this._multiple=e,this}Render(){return t.html`<rnwppages-dropdown-property .model="${this}"></rnwppages-dropdown-property>`}AddItem(e,t){return this.CreateItem(e,t),this}GetItems(){return this.Items}CreateItem(e,t){let i=new zt(this,e,t);return this.Items.push(i),i}}class zt{constructor(e,t,i){this.DropDown=e,this.Label=t,this.Value=i}}i.customElement("rnwppages-modal-container")(class extends e.LitElementBase{render(){return t.html` <div data-popper-arrow class="popperArrow" > </div> <div> ${this.model.Properties.map((e=>e.Render()))} </div> `}});var Ft,Ut,qt,Xt,jt={},Ht={};!function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="arrow-rotate-left",i=[8634,"arrow-left-rotate","arrow-rotate-back","arrow-rotate-backward","undo"],r="f0e2",n="M125.7 160H176c17.7 0 32 14.3 32 32s-14.3 32-32 32H48c-17.7 0-32-14.3-32-32V64c0-17.7 14.3-32 32-32s32 14.3 32 32v51.2L97.6 97.6c87.5-87.5 229.3-87.5 316.8 0s87.5 229.3 0 316.8s-229.3 87.5-316.8 0c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0c62.5 62.5 163.8 62.5 226.3 0s62.5-163.8 0-226.3s-163.8-62.5-226.3 0L125.7 160z";e.definition={prefix:"fas",iconName:t,icon:[512,512,i,r,n]},e.faArrowRotateLeft=e.definition,e.prefix="fas",e.iconName=t,e.width=512,e.height=512,e.ligatures=i,e.unicode=r,e.svgPathData=n,e.aliases=i}(Ht),function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=Ht;e.definition={prefix:t.prefix,iconName:t.iconName,icon:[t.width,t.height,t.aliases,t.unicode,t.svgPathData]},e.faUndo=e.definition,e.prefix=t.prefix,e.iconName=t.iconName,e.width=t.width,e.height=t.height,e.ligatures=t.aliases,e.unicode=t.unicode,e.svgPathData=t.svgPathData,e.aliases=t.aliases}(jt),Ft=i.customElement("rnwppages-modal-property"),Ut=b.query(".propertyModalButton"),Ft((qt=class extends ue{constructor(){super(),babelHelpers.initializerDefineProperty(this,"Button",Xt,this)}SubRender(){return t.html` <div @click="${e=>{e.stopImmediatePropagation()}}"> ${c.rnIf(this.model.CanBeCleared()&&t.html` <div class="propertyModalClear" title="Reset Styles" style="margin-right: 3px;height: 33.5px;display: inline-flex;align-items: center;justify-content: center;" @click="${e=>{this.model.Clear()}}"> <rn-fontawesome .icon="${jt.faUndo}"></rn-fontawesome> </div> `)} <div class="propertyModalButton" style="width: 40px;height: 33.5px;display: inline-flex;align-items: center;justify-content: center;border: 1px solid #ced4da;" @click="${e=>{this.OpenModal()}}"> <rn-fontawesome .icon="${U.faPencilAlt}"></rn-fontawesome> </div> </div>`}async OpenModal(){let e=t.renderInline(t.html`<rnwppages-modal-container @click="${e=>e.stopImmediatePropagation()}" .model="${this.model}" style="position:absolute;z-index: 10000000000000000;"></rnwppages-modal-container>`);this.model.PopperElement=e,document.body.append(e),document.body.addEventListener("click",this.model.CloseModal),await e.AllUpdateComplete;let i=e.querySelector(".popperArrow");this.model.PopperInstance=Nt(this.Button,e,{placement:"bottom-end",modifiers:[{name:"arrow",options:{element:i}},{name:"offset",options:{offset:[0,8]}}]})}},Xt=babelHelpers.applyDecoratedDescriptor(qt.prototype,"Button",[Ut],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qt));class Zt extends ce{constructor(e,t){super(e,"",t),this.Properties=[],this.SetIsInline(!0),this.CloseModal=this.CloseModal.bind(this)}Render(){return t.html`<rnwppages-modal-property .model="${this}"></rnwppages-modal-property>`}AddProperty(e){return e.PropertyChanged.Subscribe(this,(()=>this.Refresh())),this.Properties.push(e),this}AddProperties(e){return e.forEach((e=>this.AddProperty(e))),this}CanBeCleared(){for(let e of this.Properties)if(""!=e.GetValue())return!0}Clear(){for(let e of this.Properties)e.SetValue("");this.RefreshPropertiesPanel?n.EventManager.Publish("RefreshFieldProperties"):this.Refresh(),this.CloseModal()}CloseModal(){null!=this.PopperInstance&&(this.PopperInstance.destroy(),this.PopperInstance=null),null!=this.PopperElement&&(this.PopperElement.remove(),this.PopperElement=null),document.removeEventListener("click",this.CloseModal)}}i.customElement("rn-slider-property")(class extends ue{SubRender(){return t.html` <div style="display: flex;flex-direction: row;align-items: center;"> <input type="range" max="${this.model.Maximum}" min="${this.model.Minimum}" style="flex-grow: 1" .value="${this.model.GetValue()}" @input="${e=>{this.model.SetValue(this.ProcessValue(e.target.value)),this.requestUpdate()}}"/> <input type="number" max="${this.model.Maximum}" min="${this.model.Minimum}" style="width: 70px;margin-left: 10px;text-align: right;" .value="${g.live(this.model.GetValue())}" @blur="${e=>{this.model.SetValue(this.ProcessValue(e.target.value)),this.requestUpdate()}}"/> </div> `}ProcessValue(e){return(e=o.Sanitizer.SanitizeNumber(e))<this.model.Minimum&&(e=this.model.Minimum),e>this.model.Maximum&&(e=this.model.Maximum),e}});class Yt extends ce{constructor(...e){super(...e),this.Maximum=100,this.Minimum=1}Render(){return t.html`<rn-slider-property .model=${this}></rn-slider-property>`}SetMaximum(e){return this.Maximum=e,this}SetMinimum(e){return this.Minimum=e,this}}class Jt extends Zt{constructor(e,t){super(e,t),this.BoxShadowOptions=null,this.PropertyName="box-shadow",this.CloseModal=this.CloseModal.bind(this)}Render(){return null==this.BoxShadowOptions&&this.CreateItems(),super.Render()}CanBeCleared(){return""!=this.GetValue()}Clear(){this.SetValue(""),this.CreateItems(),this.CloseModal(),this.RefreshPropertiesPanel?n.EventManager.Publish("RefreshFieldProperties"):this.Refresh()}ProcessBoxShadow(){this.SetValue(`${this.BoxShadowOptions.Horizontal}px ${this.BoxShadowOptions.Vertical}px ${this.BoxShadowOptions.BlurRadius}px ${this.BoxShadowOptions.SpreadRadius}px ${this.BoxShadowOptions.Color} ${this.BoxShadowOptions.Type}`)}CreateItems(){let e={},t=this.GetValue().split(" ");5!=t.length&&6!=t.length||(e.Horizontal=t[0].replace("px",""),e.Vertical=t[1].replace("px",""),e.BlurRadius=t[2].replace("px",""),e.SpreadRadius=t[3].replace("px",""),e.Color=t[4].replace("px",""),6==t.length&&(e.Type="inset")),this.Properties=[],this.BoxShadowOptions=(new Kt).Merge(e),this.AddProperty(new Wt(this.Element,"Color","Color").SetOptionsOverwrite(this.BoxShadowOptions).SetAllowOpacity().SetOnChange((e=>{this.BoxShadowOptions.Color=e,this.ProcessBoxShadow()}))),this.AddProperty(new Yt(this.Element,"Horizontal","Horizontal").SetOptionsOverwrite(this.BoxShadowOptions).SetMinimum(-100).SetMaximum(100).SetOnChange((e=>{this.BoxShadowOptions.Horizontal=e,this.ProcessBoxShadow()}))),this.AddProperty(new Yt(this.Element,"Vertical","Vertical").SetOptionsOverwrite(this.BoxShadowOptions).SetMinimum(-100).SetMaximum(100).SetOnChange((e=>{this.BoxShadowOptions.Vertical=e,this.ProcessBoxShadow()}))),this.AddProperty(new Yt(this.Element,"BlurRadius","Blur").SetOptionsOverwrite(this.BoxShadowOptions).SetMinimum(0).SetMaximum(100).SetOnChange((e=>{this.BoxShadowOptions.BlurRadius=e,this.ProcessBoxShadow()}))),this.AddProperty(new Yt(this.Element,"SpreadRadius","Spread").SetOptionsOverwrite(this.BoxShadowOptions).SetMinimum(-100).SetMaximum(100).SetOnChange((e=>{this.BoxShadowOptions.SpreadRadius=e,this.ProcessBoxShadow()}))),this.AddProperty(new Bt(this.Element,"Type","Position").SetOptionsOverwrite(this.BoxShadowOptions).SetIsInline().AddItem("Outline","").AddItem("Inset","inset").SetOnChange((e=>{this.BoxShadowOptions.Type=e,this.ProcessBoxShadow()})))}}class Kt extends r.StoreBase{LoadDefaultValues(){this.Vertical=0,this.Horizontal=0,this.BlurRadius=0,this.SpreadRadius=0,this.Color="",this.Type=""}}i.customElement("rnwppages-border-property")(class extends ue{constructor(...e){super(...e),this.Placeholder="",this.PropertiesCreated=!1}static get properties(){return{}}SubRender(){return this.PropertiesCreated||(this.PropertiesCreated=!0,this.BorderStyle=new Bt(this.model.Element,"border-style","Style").SetOptionsOverwrite(this.model.OptionsOverwrite).SetIsInline().AddItem("Default","").AddItem("Solid","solid").AddItem("Dotted","dotted").AddItem("Double","double").AddItem("Dashed","dashed"),this.BorderWidth=new ge(this.model.Element,"Width","borderWidth").SetOptionsOverwrite(this.model.OptionsOverwrite),this.BorderColor=new Wt(this.model.Element,"border-color","Color").SetOptionsOverwrite(this.model.OptionsOverwrite).SetIsInline(),this.BorderRadius=new ge(this.model.Element,"Border Radius","borderRadius").SetOptionsOverwrite(this.model.OptionsOverwrite),this.BoxShadow=new Jt(this.model.Element,"Box Shadow").SetOptionsOverwrite(this.model.OptionsOverwrite)),t.html` <fieldset style="border: 1px solid #dfdfdf;padding: 5px;"> <legend style="font-weight: bold">${this.model.Label}</legend> ${this.BorderStyle.Render()} ${this.BorderColor.Render()} ${this.BorderWidth.Render()} ${this.BorderRadius.Render()} ${this.BoxShadow.Render()} </fieldset> `}GetLabel(){return null}SetPlaceholder(e){return this.Placeholder=e,this}});class ei extends ce{constructor(e,t,i){super(e,t,i),this.ActivateChangeWhenBlur=!1}SetActivateChangeWhenBlur(){return this.ActivateChangeWhenBlur=!0,this}Render(){return t.html`<rnwppages-border-property .model="${this}"></rnwppages-border-property>`}}i.customElement("rnwppages-numeric-property")(class extends ue{SubRender(){return t.html` <div> <input style="width: 100%" max=${this.model.MaxValue} type='number' .value=${this.model.GetStringValue().replace(this.model.Suffix,"")} @change=${e=>this.ValueChanges(e)}/> ${this.model.MaybeAddHint()} </div> `}ValueChanges(e){let t=parseFloat(e.target.value);isNaN(t)?this.model.SetValue(t):(t>this.model.MaxValue&&null!=this.model.MaxValue&&s.ToastService.SendErrorMessage("The maximum value for this setting is "+this.model.MaxValue),t<this.model.MinValue&&null!=this.model.MinValue&&s.ToastService.SendErrorMessage("The minimum value for this setting is "+this.model.MinValue),this.model.SetValue(t+this.model.Suffix))}});class ti extends ce{constructor(e,t,i){super(e,t,i),this.MaxValue=null,this.MinValue=null,this.Suffix=""}SetMaxValue(e){return this.MaxValue=e,this}SetMinValue(e){return this.MinValue=e,this}Render(){return t.html`<rnwppages-numeric-property .model="${this}"></rnwppages-numeric-property>`}SetSuffix(e){return this.Suffix=e,this}}i.customElement("rn-button-property-group")(class extends e.LitElementBase{static get properties(){return{}}render(){return t.html` <div class='rnbtn-group rnbtn-group-toggle' style='border: 1px solid #dfdfdf'> ${d.repeat(this.model.Buttons,(e=>e.Value),(e=>t.html` <label class=${"rnbtn rnbtn-light "+(this.IsSelected(e.Value)?"active":"")}> <input ?checked=${this.IsSelected(e.Value)} type=${this.allowMultiple?"checkbox":"radio"} name="options" id="option1" autoComplete="off" @change=${t=>this.ToggleValue(t,e)} /> ${e.Content} </label> `))} </div> `}ToggleValue(e,t){if(e.stopPropagation(),e.preventDefault(),this.allowMultiple){let i=this.value.splice(0);e.target.checked?i.find((e=>e==t.Value))||i.push(t.Value):i.find((e=>e==t.Value))&&i.splice(i.indexOf(t.Value),1),this.FireEvent("change",i)}else this.FireEvent("change",t.Value)}IsSelected(e){return this.allowMultiple?this.value.indexOf(e)>=0:this.value==e}}),i.customElement("rn-button-property")(class extends ue{SubRender(){return this.model.AllowMultiple?this.GenerateMultipleSelectionGroup():t.html` <div class="rncontrol"> <rn-button-property-group .value=${this.model.GetValue()} @change=${e=>{this.model.SetValue(e.detail)}} .model="${this.model}" > </rn-button-property-group> </div> `}GenerateMultipleSelectionGroup(){let e=[];for(let t of this.model.Buttons){let i=""!=this.model.GetValue(t.Rule);t.CheckedOnMissing&&(i=!i),i&&e.push(t.Value)}return t.html` <div class='rncontrol'> <rn-button-property-group .value=${e} @change=${e=>{this.MultipleSelectionChanged(e.detail)}} .allowMultiple=${!0} .model="${this.model}" > </rn-button-property-group> </div>`}MultipleSelectionChanged(e){for(let t of this.model.Buttons){let i=!1;e.indexOf(t.Value)>=0&&(i=!0),t.CheckedOnMissing&&(i=!i),i?this.model.SetValue(t.Value,t.Rule):this.model.SetValue("",t.Rule)}}});class ii extends ce{constructor(...e){super(...e),this.Buttons=[]}Render(){return t.html`<rn-button-property .model="${this}"></rn-button-property>`}AddButton(e,t,i="",r=!1){return this.Buttons.push({Value:e,Content:t,Rule:i,CheckedOnMissing:r}),this}SetAllowMultiple(){return this.AllowMultiple=!0,this}}var ri={prefix:"fas",iconName:"align-left",icon:[448,512,[],"f036","M288 64c0 17.7-14.3 32-32 32H32C14.3 96 0 81.7 0 64S14.3 32 32 32H256c17.7 0 32 14.3 32 32zm0 256c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H256c17.7 0 32 14.3 32 32zM0 192c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 448c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"]},ni={prefix:"fas",iconName:"align-center",icon:[448,512,[],"f037","M352 64c0-17.7-14.3-32-32-32H128c-17.7 0-32 14.3-32 32s14.3 32 32 32H320c17.7 0 32-14.3 32-32zm96 128c0-17.7-14.3-32-32-32H32c-17.7 0-32 14.3-32 32s14.3 32 32 32H416c17.7 0 32-14.3 32-32zM0 448c0 17.7 14.3 32 32 32H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H32c-17.7 0-32 14.3-32 32zM352 320c0-17.7-14.3-32-32-32H128c-17.7 0-32 14.3-32 32s14.3 32 32 32H320c17.7 0 32-14.3 32-32z"]},oi={prefix:"fas",iconName:"triangle-exclamation",icon:[512,512,[9888,"exclamation-triangle","warning"],"f071","M256 32c14.2 0 27.3 7.5 34.5 19.8l216 368c7.3 12.4 7.3 27.7 .2 40.1S486.3 480 472 480H40c-14.3 0-27.6-7.7-34.7-20.1s-7-27.8 .2-40.1l216-368C228.7 39.5 241.8 32 256 32zm0 128c-13.3 0-24 10.7-24 24V296c0 13.3 10.7 24 24 24s24-10.7 24-24V184c0-13.3-10.7-24-24-24zm32 224c0-17.7-14.3-32-32-32s-32 14.3-32 32s14.3 32 32 32s32-14.3 32-32z"]},si={prefix:"fas",iconName:"align-right",icon:[448,512,[],"f038","M448 64c0 17.7-14.3 32-32 32H192c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32zm0 256c0 17.7-14.3 32-32 32H192c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32zM0 192c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 448c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"]};class ai extends oe{constructor(e,t,i){super(e,t),this.PropertyTypes=i}static GetProperties(e,t,i){let r=new ai(e,t,i);return r.Initialize(),r}Initialize(){let e=this.PropertyTypes.split("|");for(let t of e){let e=this.GetPropertyItem(t);if(null==e)throw new Error("Invalid General Type Type:"+t);this.AddProperty(e)}}GetPropertyItem(e){switch(e){case"Padding":return new ge(this.Element,"Padding","padding").SetOptionsOverwrite(new ie(this.Element).CreateStyleClassManager(this.Selector));case"Margin":return new ge(this.Element,"Margin").SetAddField("Top","margin-top").SetAddField("Right","margin-right").SetAddField("Bottom","margin-bottom").SetAddField("Left","margin-left").SetOptionsOverwrite(new ie(this.Element).CreateStyleClassManager(this.Selector));case"Background-Color":return new Wt(this.Element,"background-color","Background Color").SetOptionsOverwrite(new ie(this.Element).CreateStyleClassManager(this.Selector));case"Color":return new Wt(this.Element,"color","Color").SetOptionsOverwrite(new ie(this.Element).CreateStyleClassManager(this.Selector));case"Width":return new ti(this.Element,"width","Width").SetOptionsOverwrite(new ie(this.Element).CreateStyleClassManager(this.Selector)).SetSuffix("px").SetIsInline();case"Height":return new ti(this.Element,"height","Height").SetOptionsOverwrite(new ie(this.Element).CreateStyleClassManager(this.Selector)).SetIsInline().SetSuffix("px");case"Border":return new ei(this.Element,"","Border").SetOptionsOverwrite(new ie(this.Element).CreateStyleClassManager(this.Selector));case"VerticalAlign":return new Bt(this.Element,"align-self","Vertical Alignment").SetIsInline().AddItem("Default","").AddItem("Stretch","stretch").AddItem("Top","star").AddItem("Center","center").AddItem("Bottom","end");case"TextAlign":return new ii(this.Element,"text-align","Alignment").SetOptionsOverwrite(new ie(this.Element).CreateStyleClassManager(this.Selector)).AddButton("",t.html`Default`).AddButton("left",t.html`<rn-fontawesome .icon="${ri}"></rn-fontawesome>`).AddButton("center",t.html`<rn-fontawesome .icon="${ni}"></rn-fontawesome>`).AddButton("right",t.html`<rn-fontawesome .icon="${si}"></rn-fontawesome>`).SetIsInline();case"FontSize":return new ti(this.Element,"font-size","Font Size").SetOptionsOverwrite(new ie(this.Element).CreateStyleClassManager(this.Selector)).SetIsInline().SetSuffix("px");case"MaxWidth":return new ti(this.Element,"max-width","Max Width").SetOptionsOverwrite(new ie(this.Element).CreateStyleClassManager(this.Selector)).SetIsInline().SetSuffix("px");case"MaxHeight":return new ti(this.Element,"max-height","Max Height").SetOptionsOverwrite(new ie(this.Element).CreateStyleClassManager(this.Selector)).SetIsInline().SetSuffix("px");case"LineHeight":return new de(this.Element,"line-height","Line height").SetOptionsOverwrite(new ie(this.Element).CreateStyleClassManager(this.Selector)).SetOnChange((e=>{}));case"FontWeight":return new Bt(this.Element,"font-weight","Font Weight").SetIsInline().AddItem("Default","").AddItem("Normal","normal").AddItem("Bold","bold");case"FontStyle":return new Bt(this.Element,"font-style","Font Style").SetIsInline().AddItem("Default","").AddItem("Normal","normal").AddItem("Italic","italic");case"Dimensions":return new Zt(this.Element,"Dimensions").AddProperties(ai.GetProperties(this.Element,this.Selector,"Width|Height|MaxWidth|MaxHeight").GetProperties())}}}class li{CloneBlocks(e){return e.forEach((e=>{e.Id=0,null!=e.Rows&&this.CloneRows(e.Rows)})),e}CloneRows(e){return e.forEach((e=>{e.Id=0,this.CloneColumns(e.Columns)})),e}CloneColumns(e){return e.forEach((e=>{e.Id=0,this.CloneBlocks(e.Blocks)})),e}CloneSingleBlock(e){return this.CloneBlocks([e])[0]}}class ui{constructor(){}lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,i){let r=[];return this.decompose(0,e,r,2),i.length&&i.decompose(0,i.length,r,3),this.decompose(t,this.length,r,1),di.from(r,this.length-(t-e)+i.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){let i=[];return this.decompose(e,t,i,0),di.from(i,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),i=this.length-this.scanIdentical(e,-1),r=new fi(this),n=new fi(e);for(let e=t,o=t;;){if(r.next(e),n.next(e),e=0,r.lineBreak!=n.lineBreak||r.done!=n.done||r.value!=n.value)return!1;if(o+=r.value.length,r.done||o>=i)return!0}}iter(e=1){return new fi(this,e)}iterRange(e,t=this.length){return new mi(this,e,t)}iterLines(e,t){let i;if(null==e)i=this.iter();else{null==t&&(t=this.lines+1);let r=this.line(e).from;i=this.iterRange(r,Math.max(r,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new gi(i)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}static of(e){if(0==e.length)throw new RangeError("A document must have at least one line");return 1!=e.length||e[0]?e.length<=32?new ci(e):di.from(ci.split(e,[])):ui.empty}}class ci extends ui{constructor(e,t=function(e){let t=-1;for(let i of e)t+=i.length+1;return t}(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,i,r){for(let n=0;;n++){let o=this.text[n],s=r+o.length;if((t?i:s)>=e)return new Oi(r,s,i,o);r=s+1,i++}}decompose(e,t,i,r){let n=e<=0&&t>=this.length?this:new ci(pi(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(1&r){let e=i.pop(),t=hi(n.text,e.text.slice(),0,n.length);if(t.length<=32)i.push(new ci(t,e.length+n.length));else{let e=t.length>>1;i.push(new ci(t.slice(0,e)),new ci(t.slice(e)))}}else i.push(n)}replace(e,t,i){if(!(i instanceof ci))return super.replace(e,t,i);let r=hi(this.text,hi(i.text,pi(this.text,0,e)),t),n=this.length+i.length-(t-e);return r.length<=32?new ci(r,n):di.from(ci.split(r,[]),n)}sliceString(e,t=this.length,i="\n"){let r="";for(let n=0,o=0;n<=t&&o<this.text.length;o++){let s=this.text[o],a=n+s.length;n>e&&o&&(r+=i),e<a&&t>n&&(r+=s.slice(Math.max(0,e-n),t-n)),n=a+1}return r}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let i=[],r=-1;for(let n of e)i.push(n),r+=n.length+1,32==i.length&&(t.push(new ci(i,r)),i=[],r=-1);return r>-1&&t.push(new ci(i,r)),t}}class di extends ui{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let t of e)this.lines+=t.lines}lineInner(e,t,i,r){for(let n=0;;n++){let o=this.children[n],s=r+o.length,a=i+o.lines-1;if((t?a:s)>=e)return o.lineInner(e,t,i,r);r=s+1,i=a+1}}decompose(e,t,i,r){for(let n=0,o=0;o<=t&&n<this.children.length;n++){let s=this.children[n],a=o+s.length;if(e<=a&&t>=o){let n=r&((o<=e?1:0)|(a>=t?2:0));o>=e&&a<=t&&!n?i.push(s):s.decompose(e-o,t-o,i,n)}o=a+1}}replace(e,t,i){if(i.lines<this.lines)for(let r=0,n=0;r<this.children.length;r++){let o=this.children[r],s=n+o.length;if(e>=n&&t<=s){let a=o.replace(e-n,t-n,i),l=this.lines-o.lines+a.lines;if(a.lines<l>>4&&a.lines>l>>6){let n=this.children.slice();return n[r]=a,new di(n,this.length-(t-e)+i.length)}return super.replace(n,s,a)}n=s+1}return super.replace(e,t,i)}sliceString(e,t=this.length,i="\n"){let r="";for(let n=0,o=0;n<this.children.length&&o<=t;n++){let s=this.children[n],a=o+s.length;o>e&&n&&(r+=i),e<a&&t>o&&(r+=s.sliceString(e-o,t-o,i)),o=a+1}return r}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof di))return 0;let i=0,[r,n,o,s]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;r+=t,n+=t){if(r==o||n==s)return i;let a=this.children[r],l=e.children[n];if(a!=l)return i+a.scanIdentical(l,t);i+=a.length+1}}static from(e,t=e.reduce(((e,t)=>e+t.length+1),-1)){let i=0;for(let t of e)i+=t.lines;if(i<32){let i=[];for(let t of e)t.flatten(i);return new ci(i,t)}let r=Math.max(32,i>>5),n=r<<1,o=r>>1,s=[],a=0,l=-1,u=[];function c(e){let t;if(e.lines>n&&e instanceof di)for(let t of e.children)c(t);else e.lines>o&&(a>o||!a)?(d(),s.push(e)):e instanceof ci&&a&&(t=u[u.length-1])instanceof ci&&e.lines+t.lines<=32?(a+=e.lines,l+=e.length+1,u[u.length-1]=new ci(t.text.concat(e.text),t.length+1+e.length)):(a+e.lines>r&&d(),a+=e.lines,l+=e.length+1,u.push(e))}function d(){0!=a&&(s.push(1==u.length?u[0]:di.from(u,l)),l=-1,a=u.length=0)}for(let t of e)c(t);return d(),1==s.length?s[0]:new di(s,t)}}function hi(e,t,i=0,r=1e9){for(let n=0,o=0,s=!0;o<e.length&&n<=r;o++){let a=e[o],l=n+a.length;l>=i&&(l>r&&(a=a.slice(0,r-n)),n<i&&(a=a.slice(i-n)),s?(t[t.length-1]+=a,s=!1):t.push(a)),n=l+1}return t}function pi(e,t,i){return hi(e,[""],t,i)}ui.empty=new ci([""],0);class fi{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof ci?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let i=this.nodes.length-1,r=this.nodes[i],n=this.offsets[i],o=n>>1,s=r instanceof ci?r.text.length:r.children.length;if(o==(t>0?s:0)){if(0==i)return this.done=!0,this.value="",this;t>0&&this.offsets[i-1]++,this.nodes.pop(),this.offsets.pop()}else if((1&n)==(t>0?0:1)){if(this.offsets[i]+=t,0==e)return this.lineBreak=!0,this.value="\n",this;e--}else if(r instanceof ci){let n=r.text[o+(t<0?-1:0)];if(this.offsets[i]+=t,n.length>Math.max(0,e))return this.value=0==e?n:t>0?n.slice(e):n.slice(0,n.length-e),this;e-=n.length}else{let n=r.children[o+(t<0?-1:0)];e>n.length?(e-=n.length,this.offsets[i]+=t):(t<0&&this.offsets[i]--,this.nodes.push(n),this.offsets.push(t>0?1:(n instanceof ci?n.text.length:n.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class mi{constructor(e,t,i){this.value="",this.done=!1,this.cursor=new fi(e,t>i?-1:1),this.pos=t>i?e.length:0,this.from=Math.min(t,i),this.to=Math.max(t,i)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let i=t<0?this.pos-this.from:this.to-this.pos;e>i&&(e=i),i-=e;let{value:r}=this.cursor.next(e);return this.pos+=(r.length+e)*t,this.value=r.length<=i?r:t<0?r.slice(r.length-i):r.slice(0,i),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&""!=this.value}}class gi{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:i,value:r}=this.inner.next(e);return t?(this.done=!0,this.value=""):i?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=r,this.afterBreak=!1),this}get lineBreak(){return!1}}"undefined"!=typeof Symbol&&(ui.prototype[Symbol.iterator]=function(){return this.iter()},fi.prototype[Symbol.iterator]=mi.prototype[Symbol.iterator]=gi.prototype[Symbol.iterator]=function(){return this});class Oi{constructor(e,t,i,r){this.from=e,this.to=t,this.number=i,this.text=r}get length(){return this.to-this.from}}let bi="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map((e=>e?parseInt(e,36):1));for(let e=1;e<bi.length;e++)bi[e]+=bi[e-1];function Si(e){for(let t=1;t<bi.length;t+=2)if(bi[t]>e)return bi[t-1]<=e;return!1}function yi(e){return e>=127462&&e<=127487}function vi(e,t,i=!0,r=!0){return(i?wi:xi)(e,t,r)}function wi(e,t,i){if(t==e.length)return t;t&&ki(e.charCodeAt(t))&&Vi(e.charCodeAt(t-1))&&t--;let r=Ci(e,t);for(t+=$i(r);t<e.length;){let n=Ci(e,t);if(8205==r||8205==n||i&&Si(n))t+=$i(n),r=n;else{if(!yi(n))break;{let i=0,r=t-2;for(;r>=0&&yi(Ci(e,r));)i++,r-=2;if(i%2==0)break;t+=2}}}return t}function xi(e,t,i){for(;t>0;){let r=wi(e,t-2,i);if(r<t)return r;t--}return 0}function ki(e){return e>=56320&&e<57344}function Vi(e){return e>=55296&&e<56320}function Ci(e,t){let i=e.charCodeAt(t);if(!Vi(i)||t+1==e.length)return i;let r=e.charCodeAt(t+1);return ki(r)?r-56320+(i-55296<<10)+65536:i}function Ti(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))}function $i(e){return e<65536?1:2}const Pi=/\r\n?|\n/;var Qi=function(e){return e[e.Simple=0]="Simple",e[e.TrackDel=1]="TrackDel",e[e.TrackBefore=2]="TrackBefore",e[e.TrackAfter=3]="TrackAfter",e}(Qi||(Qi={}));class Ri{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let i=this.sections[t+1];e+=i<0?this.sections[t]:i}return e}get empty(){return 0==this.sections.length||2==this.sections.length&&this.sections[1]<0}iterGaps(e){for(let t=0,i=0,r=0;t<this.sections.length;){let n=this.sections[t++],o=this.sections[t++];o<0?(e(i,r,n),r+=n):r+=o,i+=n}}iterChangedRanges(e,t=!1){Ai(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let i=this.sections[t++],r=this.sections[t++];r<0?e.push(i,r):e.push(r,i)}return new Ri(e)}composeDesc(e){return this.empty?e:e.empty?this:Mi(this,e)}mapDesc(e,t=!1){return e.empty?this:_i(this,e,t)}mapPos(e,t=-1,i=Qi.Simple){let r=0,n=0;for(let o=0;o<this.sections.length;){let s=this.sections[o++],a=this.sections[o++],l=r+s;if(a<0){if(l>e)return n+(e-r);n+=s}else{if(i!=Qi.Simple&&l>=e&&(i==Qi.TrackDel&&r<e&&l>e||i==Qi.TrackBefore&&r<e||i==Qi.TrackAfter&&l>e))return null;if(l>e||l==e&&t<0&&!s)return e==r||t<0?n:n+a;n+=a}r=l}if(e>r)throw new RangeError(`Position ${e} is out of range for changeset of length ${r}`);return n}touchesRange(e,t=e){for(let i=0,r=0;i<this.sections.length&&r<=t;){let n=r+this.sections[i++];if(this.sections[i++]>=0&&r<=t&&n>=e)return!(r<e&&n>t)||"cover";r=n}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let i=this.sections[t++],r=this.sections[t++];e+=(e?" ":"")+i+(r>=0?":"+r:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some((e=>"number"!=typeof e)))throw new RangeError("Invalid JSON representation of ChangeDesc");return new Ri(e)}static create(e){return new Ri(e)}}class Ii extends Ri{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return Ai(this,((t,i,r,n,o)=>e=e.replace(r,r+(i-t),o)),!1),e}mapDesc(e,t=!1){return _i(this,e,t,!0)}invert(e){let t=this.sections.slice(),i=[];for(let r=0,n=0;r<t.length;r+=2){let o=t[r],s=t[r+1];if(s>=0){t[r]=s,t[r+1]=o;let a=r>>1;for(;i.length<a;)i.push(ui.empty);i.push(o?e.slice(n,n+o):ui.empty)}n+=o}return new Ii(t,i)}compose(e){return this.empty?e:e.empty?this:Mi(this,e,!0)}map(e,t=!1){return e.empty?this:_i(this,e,t,!0)}iterChanges(e,t=!1){Ai(this,e,t)}get desc(){return Ri.create(this.sections)}filter(e){let t=[],i=[],r=[],n=new Li(this);e:for(let o=0,s=0;;){let a=o==e.length?1e9:e[o++];for(;s<a||s==a&&0==n.len;){if(n.done)break e;let e=Math.min(n.len,a-s);Ei(r,e,-1);let o=-1==n.ins?-1:0==n.off?n.ins:0;Ei(t,e,o),o>0&&Di(i,t,n.text),n.forward(e),s+=e}let l=e[o++];for(;s<l;){if(n.done)break e;let e=Math.min(n.len,l-s);Ei(t,e,-1),Ei(r,e,-1==n.ins?-1:0==n.off?n.ins:0),n.forward(e),s+=e}}return{changes:new Ii(t,i),filtered:Ri.create(r)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let i=this.sections[t],r=this.sections[t+1];r<0?e.push(i):0==r?e.push([i]):e.push([i].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,i){let r=[],n=[],o=0,s=null;function a(e=!1){if(!e&&!r.length)return;o<t&&Ei(r,t-o,-1);let i=new Ii(r,n);s=s?s.compose(i.map(s)):i,r=[],n=[],o=0}return function e(l){if(Array.isArray(l))for(let t of l)e(t);else if(l instanceof Ii){if(l.length!=t)throw new RangeError(`Mismatched change set length (got ${l.length}, expected ${t})`);a(),s=s?s.compose(l.map(s)):l}else{let{from:e,to:s=e,insert:u}=l;if(e>s||e<0||s>t)throw new RangeError(`Invalid change range ${e} to ${s} (in doc of length ${t})`);let c=u?"string"==typeof u?ui.of(u.split(i||Pi)):u:ui.empty,d=c.length;if(e==s&&0==d)return;e<o&&a(),e>o&&Ei(r,e-o,-1),Ei(r,s-e,d),Di(n,r,c),o=s}}(e),a(!s),s}static empty(e){return new Ii(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],i=[];for(let r=0;r<e.length;r++){let n=e[r];if("number"==typeof n)t.push(n,-1);else{if(!Array.isArray(n)||"number"!=typeof n[0]||n.some(((e,t)=>t&&"string"!=typeof e)))throw new RangeError("Invalid JSON representation of ChangeSet");if(1==n.length)t.push(n[0],0);else{for(;i.length<r;)i.push(ui.empty);i[r]=ui.of(n.slice(1)),t.push(n[0],i[r].length)}}}return new Ii(t,i)}static createSet(e,t){return new Ii(e,t)}}function Ei(e,t,i,r=!1){if(0==t&&i<=0)return;let n=e.length-2;n>=0&&i<=0&&i==e[n+1]?e[n]+=t:0==t&&0==e[n]?e[n+1]+=i:r?(e[n]+=t,e[n+1]+=i):e.push(t,i)}function Di(e,t,i){if(0==i.length)return;let r=t.length-2>>1;if(r<e.length)e[e.length-1]=e[e.length-1].append(i);else{for(;e.length<r;)e.push(ui.empty);e.push(i)}}function Ai(e,t,i){let r=e.inserted;for(let n=0,o=0,s=0;s<e.sections.length;){let a=e.sections[s++],l=e.sections[s++];if(l<0)n+=a,o+=a;else{let u=n,c=o,d=ui.empty;for(;u+=a,c+=l,l&&r&&(d=d.append(r[s-2>>1])),!(i||s==e.sections.length||e.sections[s+1]<0);)a=e.sections[s++],l=e.sections[s++];t(n,u,o,c,d),n=u,o=c}}}function _i(e,t,i,r=!1){let n=[],o=r?[]:null,s=new Li(e),a=new Li(t);for(let e=0,t=0;;)if(-1==s.ins)e+=s.len,s.next();else if(-1==a.ins&&t<e){let i=Math.min(a.len,e-t);a.forward(i),Ei(n,i,-1),t+=i}else if(a.ins>=0&&(s.done||t<e||t==e&&(a.len<s.len||a.len==s.len&&!i))){for(Ei(n,a.ins,-1);e>t&&!s.done&&e+s.len<t+a.len;)e+=s.len,s.next();t+=a.len,a.next()}else{if(!(s.ins>=0)){if(s.done&&a.done)return o?Ii.createSet(n,o):Ri.create(n);throw new Error("Mismatched change set lengths")}{let i=0,r=e+s.len;for(;;)if(a.ins>=0&&t>e&&t+a.len<r)i+=a.ins,t+=a.len,a.next();else{if(!(-1==a.ins&&t<r))break;{let e=Math.min(a.len,r-t);i+=e,a.forward(e),t+=e}}Ei(n,i,s.ins),o&&Di(o,n,s.text),e=r,s.next()}}}function Mi(e,t,i=!1){let r=[],n=i?[]:null,o=new Li(e),s=new Li(t);for(let e=!1;;){if(o.done&&s.done)return n?Ii.createSet(r,n):Ri.create(r);if(0==o.ins)Ei(r,o.len,0,e),o.next();else if(0!=s.len||s.done){if(o.done||s.done)throw new Error("Mismatched change set lengths");{let t=Math.min(o.len2,s.len),i=r.length;if(-1==o.ins){let i=-1==s.ins?-1:s.off?0:s.ins;Ei(r,t,i,e),n&&i&&Di(n,r,s.text)}else-1==s.ins?(Ei(r,o.off?0:o.len,t,e),n&&Di(n,r,o.textBit(t))):(Ei(r,o.off?0:o.len,s.off?0:s.ins,e),n&&!s.off&&Di(n,r,s.text));e=(o.ins>t||s.ins>=0&&s.len>t)&&(e||r.length>i),o.forward2(t),s.forward(t)}}else Ei(r,0,s.ins,e),n&&Di(n,r,s.text),s.next()}}class Li{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return-2==this.ins}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?ui.empty:e[t]}textBit(e){let{inserted:t}=this.set,i=this.i-2>>1;return i>=t.length&&!e?ui.empty:t[i].slice(this.off,null==e?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){-1==this.ins?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class Gi{constructor(e,t,i){this.from=e,this.to=t,this.flags=i}get anchor(){return 16&this.flags?this.to:this.from}get head(){return 16&this.flags?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return 4&this.flags?-1:8&this.flags?1:0}get bidiLevel(){let e=3&this.flags;return 3==e?null:e}get goalColumn(){let e=this.flags>>5;return 33554431==e?void 0:e}map(e,t=-1){let i,r;return this.empty?i=r=e.mapPos(this.from,t):(i=e.mapPos(this.from,1),r=e.mapPos(this.to,-1)),i==this.from&&r==this.to?this:new Gi(i,r,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return Ni.range(e,t);let i=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return Ni.range(this.anchor,i)}eq(e){return this.anchor==e.anchor&&this.head==e.head}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||"number"!=typeof e.anchor||"number"!=typeof e.head)throw new RangeError("Invalid JSON representation for SelectionRange");return Ni.range(e.anchor,e.head)}static create(e,t,i){return new Gi(e,t,i)}}class Ni{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:Ni.create(this.ranges.map((i=>i.map(e,t))),this.mainIndex)}eq(e){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let t=0;t<this.ranges.length;t++)if(!this.ranges[t].eq(e.ranges[t]))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return 1==this.ranges.length?this:new Ni([this.main],0)}addRange(e,t=!0){return Ni.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let i=this.ranges.slice();return i[t]=e,Ni.create(i,this.mainIndex)}toJSON(){return{ranges:this.ranges.map((e=>e.toJSON())),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||"number"!=typeof e.main||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new Ni(e.ranges.map((e=>Gi.fromJSON(e))),e.main)}static single(e,t=e){return new Ni([Ni.range(e,t)],0)}static create(e,t=0){if(0==e.length)throw new RangeError("A selection needs at least one range");for(let i=0,r=0;r<e.length;r++){let n=e[r];if(n.empty?n.from<=i:n.from<i)return Ni.normalized(e.slice(),t);i=n.to}return new Ni(e,t)}static cursor(e,t=0,i,r){return Gi.create(e,e,(0==t?0:t<0?4:8)|(null==i?3:Math.min(2,i))|(null!=r?r:33554431)<<5)}static range(e,t,i){let r=(null!=i?i:33554431)<<5;return t<e?Gi.create(t,e,24|r):Gi.create(e,t,r|(t>e?4:0))}static normalized(e,t=0){let i=e[t];e.sort(((e,t)=>e.from-t.from)),t=e.indexOf(i);for(let i=1;i<e.length;i++){let r=e[i],n=e[i-1];if(r.empty?r.from<=n.to:r.from<n.to){let o=n.from,s=Math.max(r.to,n.to);i<=t&&t--,e.splice(--i,2,r.anchor>r.head?Ni.range(s,o):Ni.range(o,s))}}return new Ni(e,t)}}function Wi(e,t){for(let i of e.ranges)if(i.to>t)throw new RangeError("Selection points outside of document")}let Bi=0;class zi{constructor(e,t,i,r,n){this.combine=e,this.compareInput=t,this.compare=i,this.isStatic=r,this.extensions=n,this.id=Bi++,this.default=e([])}static define(e={}){return new zi(e.combine||(e=>e),e.compareInput||((e,t)=>e===t),e.compare||(e.combine?(e,t)=>e===t:Fi),!!e.static,e.enables)}of(e){return new Ui([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new Ui(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new Ui(e,this,2,t)}from(e,t){return t||(t=e=>e),this.compute([e],(i=>t(i.field(e))))}}function Fi(e,t){return e==t||e.length==t.length&&e.every(((e,i)=>e===t[i]))}class Ui{constructor(e,t,i,r){this.dependencies=e,this.facet=t,this.type=i,this.value=r,this.id=Bi++}dynamicSlot(e){var t;let i=this.value,r=this.facet.compareInput,n=this.id,o=e[n]>>1,s=2==this.type,a=!1,l=!1,u=[];for(let i of this.dependencies)"doc"==i?a=!0:"selection"==i?l=!0:0==(1&(null!==(t=e[i.id])&&void 0!==t?t:1))&&u.push(e[i.id]);return{create:e=>(e.values[o]=i(e),1),update(e,t){if(a&&t.docChanged||l&&(t.docChanged||t.selection)||Xi(e,u)){let t=i(e);if(s?!qi(t,e.values[o],r):!r(t,e.values[o]))return e.values[o]=t,1}return 0},reconfigure:(e,t)=>{let a=i(e),l=t.config.address[n];if(null!=l){let i=lr(t,l);if(this.dependencies.every((i=>i instanceof zi?t.facet(i)===e.facet(i):!(i instanceof Zi)||t.field(i,!1)==e.field(i,!1)))||(s?qi(a,i,r):r(a,i)))return e.values[o]=i,0}return e.values[o]=a,1}}}}function qi(e,t,i){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!i(e[r],t[r]))return!1;return!0}function Xi(e,t){let i=!1;for(let r of t)1&ar(e,r)&&(i=!0);return i}function ji(e,t,i){let r=i.map((t=>e[t.id])),n=i.map((e=>e.type)),o=r.filter((e=>!(1&e))),s=e[t.id]>>1;function a(e){let i=[];for(let t=0;t<r.length;t++){let o=lr(e,r[t]);if(2==n[t])for(let e of o)i.push(e);else i.push(o)}return t.combine(i)}return{create(e){for(let t of r)ar(e,t);return e.values[s]=a(e),1},update(e,i){if(!Xi(e,o))return 0;let r=a(e);return t.compare(r,e.values[s])?0:(e.values[s]=r,1)},reconfigure(e,n){let o=Xi(e,r),l=n.config.facets[t.id],u=n.facet(t);if(l&&!o&&Fi(i,l))return e.values[s]=u,0;let c=a(e);return t.compare(c,u)?(e.values[s]=u,0):(e.values[s]=c,1)}}}const Hi=zi.define({static:!0});class Zi{constructor(e,t,i,r,n){this.id=e,this.createF=t,this.updateF=i,this.compareF=r,this.spec=n,this.provides=void 0}static define(e){let t=new Zi(Bi++,e.create,e.update,e.compare||((e,t)=>e===t),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(Hi).find((e=>e.field==this));return((null==t?void 0:t.create)||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:e=>(e.values[t]=this.create(e),1),update:(e,i)=>{let r=e.values[t],n=this.updateF(r,i);return this.compareF(r,n)?0:(e.values[t]=n,1)},reconfigure:(e,i)=>null!=i.config.address[this.id]?(e.values[t]=i.field(this),0):(e.values[t]=this.create(e),1)}}init(e){return[this,Hi.of({field:this,create:e})]}get extension(){return this}}const Yi=4,Ji=3,Ki=2,er=1;function tr(e){return t=>new rr(t,e)}const ir={highest:tr(0),high:tr(er),default:tr(Ki),low:tr(Ji),lowest:tr(Yi)};class rr{constructor(e,t){this.inner=e,this.prec=t}}class nr{of(e){return new or(this,e)}reconfigure(e){return nr.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class or{constructor(e,t){this.compartment=e,this.inner=t}}class sr{constructor(e,t,i,r,n,o){for(this.base=e,this.compartments=t,this.dynamicSlots=i,this.address=r,this.staticValues=n,this.facets=o,this.statusTemplate=[];this.statusTemplate.length<i.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return null==t?e.default:this.staticValues[t>>1]}static resolve(e,t,i){let r=[],n=Object.create(null),o=new Map;for(let i of function(e,t,i){let r=[[],[],[],[],[]],n=new Map;function o(e,s){let a=n.get(e);if(null!=a){if(a<=s)return;let t=r[a].indexOf(e);t>-1&&r[a].splice(t,1),e instanceof or&&i.delete(e.compartment)}if(n.set(e,s),Array.isArray(e))for(let t of e)o(t,s);else if(e instanceof or){if(i.has(e.compartment))throw new RangeError("Duplicate use of compartment in extensions");let r=t.get(e.compartment)||e.inner;i.set(e.compartment,r),o(r,s)}else if(e instanceof rr)o(e.inner,e.prec);else if(e instanceof Zi)r[s].push(e),e.provides&&o(e.provides,s);else if(e instanceof Ui)r[s].push(e),e.facet.extensions&&o(e.facet.extensions,s);else{let t=e.extension;if(!t)throw new Error(`Unrecognized extension value in extension set (${e}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);o(t,s)}}return o(e,Ki),r.reduce(((e,t)=>e.concat(t)))}(e,t,o))i instanceof Zi?r.push(i):(n[i.facet.id]||(n[i.facet.id]=[])).push(i);let s=Object.create(null),a=[],l=[];for(let e of r)s[e.id]=l.length<<1,l.push((t=>e.slot(t)));let u=null==i?void 0:i.config.facets;for(let e in n){let t=n[e],r=t[0].facet,o=u&&u[e]||[];if(t.every((e=>0==e.type)))if(s[r.id]=a.length<<1|1,Fi(o,t))a.push(i.facet(r));else{let e=r.combine(t.map((e=>e.value)));a.push(i&&r.compare(e,i.facet(r))?i.facet(r):e)}else{for(let e of t)0==e.type?(s[e.id]=a.length<<1|1,a.push(e.value)):(s[e.id]=l.length<<1,l.push((t=>e.dynamicSlot(t))));s[r.id]=l.length<<1,l.push((e=>ji(e,r,t)))}}let c=l.map((e=>e(s)));return new sr(e,o,c,s,a,n)}}function ar(e,t){if(1&t)return 2;let i=t>>1,r=e.status[i];if(4==r)throw new Error("Cyclic dependency between fields and/or facets");if(2&r)return r;e.status[i]=4;let n=e.computeSlot(e,e.config.dynamicSlots[i]);return e.status[i]=2|n}function lr(e,t){return 1&t?e.config.staticValues[t>>1]:e.values[t>>1]}const ur=zi.define(),cr=zi.define({combine:e=>e.some((e=>e)),static:!0}),dr=zi.define({combine:e=>e.length?e[0]:void 0,static:!0}),hr=zi.define(),pr=zi.define(),fr=zi.define(),mr=zi.define({combine:e=>!!e.length&&e[0]});class gr{constructor(e,t){this.type=e,this.value=t}static define(){return new Or}}class Or{of(e){return new gr(this,e)}}class br{constructor(e){this.map=e}of(e){return new Sr(this,e)}}class Sr{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return void 0===t?void 0:t==this.value?this:new Sr(this.type,t)}is(e){return this.type==e}static define(e={}){return new br(e.map||(e=>e))}static mapEffects(e,t){if(!e.length)return e;let i=[];for(let r of e){let e=r.map(t);e&&i.push(e)}return i}}Sr.reconfigure=Sr.define(),Sr.appendConfig=Sr.define();class yr{constructor(e,t,i,r,n,o){this.startState=e,this.changes=t,this.selection=i,this.effects=r,this.annotations=n,this.scrollIntoView=o,this._doc=null,this._state=null,i&&Wi(i,t.newLength),n.some((e=>e.type==yr.time))||(this.annotations=n.concat(yr.time.of(Date.now())))}static create(e,t,i,r,n,o){return new yr(e,t,i,r,n,o)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(yr.userEvent);return!(!t||!(t==e||t.length>e.length&&t.slice(0,e.length)==e&&"."==t[e.length]))}}function vr(e,t){let i=[];for(let r=0,n=0;;){let o,s;if(r<e.length&&(n==t.length||t[n]>=e[r]))o=e[r++],s=e[r++];else{if(!(n<t.length))return i;o=t[n++],s=t[n++]}!i.length||i[i.length-1]<o?i.push(o,s):i[i.length-1]<s&&(i[i.length-1]=s)}}function wr(e,t,i){var r;let n,o,s;return i?(n=t.changes,o=Ii.empty(t.changes.length),s=e.changes.compose(t.changes)):(n=t.changes.map(e.changes),o=e.changes.mapDesc(t.changes,!0),s=e.changes.compose(n)),{changes:s,selection:t.selection?t.selection.map(o):null===(r=e.selection)||void 0===r?void 0:r.map(n),effects:Sr.mapEffects(e.effects,n).concat(Sr.mapEffects(t.effects,o)),annotations:e.annotations.length?e.annotations.concat(t.annotations):t.annotations,scrollIntoView:e.scrollIntoView||t.scrollIntoView}}function xr(e,t,i){let r=t.selection,n=Cr(t.annotations);return t.userEvent&&(n=n.concat(yr.userEvent.of(t.userEvent))),{changes:t.changes instanceof Ii?t.changes:Ii.of(t.changes||[],i,e.facet(dr)),selection:r&&(r instanceof Ni?r:Ni.single(r.anchor,r.head)),effects:Cr(t.effects),annotations:n,scrollIntoView:!!t.scrollIntoView}}function kr(e,t,i){let r=xr(e,t.length?t[0]:{},e.doc.length);t.length&&!1===t[0].filter&&(i=!1);for(let n=1;n<t.length;n++){!1===t[n].filter&&(i=!1);let o=!!t[n].sequential;r=wr(r,xr(e,t[n],o?r.changes.newLength:e.doc.length),o)}let n=yr.create(e,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return function(e){let t=e.startState,i=t.facet(fr),r=e;for(let n=i.length-1;n>=0;n--){let o=i[n](e);o&&Object.keys(o).length&&(r=wr(e,xr(t,o,e.changes.newLength),!0))}return r==e?e:yr.create(t,e.changes,e.selection,r.effects,r.annotations,r.scrollIntoView)}(i?function(e){let t=e.startState,i=!0;for(let r of t.facet(hr)){let t=r(e);if(!1===t){i=!1;break}Array.isArray(t)&&(i=!0===i?t:vr(i,t))}if(!0!==i){let r,n;if(!1===i)n=e.changes.invertedDesc,r=Ii.empty(t.doc.length);else{let t=e.changes.filter(i);r=t.changes,n=t.filtered.invertedDesc}e=yr.create(t,r,e.selection&&e.selection.map(n),Sr.mapEffects(e.effects,n),e.annotations,e.scrollIntoView)}let r=t.facet(pr);for(let i=r.length-1;i>=0;i--){let n=r[i](e);e=n instanceof yr?n:Array.isArray(n)&&1==n.length&&n[0]instanceof yr?n[0]:kr(t,Cr(n),!1)}return e}(n):n)}yr.time=gr.define(),yr.userEvent=gr.define(),yr.addToHistory=gr.define(),yr.remote=gr.define();const Vr=[];function Cr(e){return null==e?Vr:Array.isArray(e)?e:[e]}var Tr=function(e){return e[e.Word=0]="Word",e[e.Space=1]="Space",e[e.Other=2]="Other",e}(Tr||(Tr={}));const $r=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let Pr;try{Pr=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch(e){}function Qr(e){return t=>{if(!/\S/.test(t))return Tr.Space;if(function(e){if(Pr)return Pr.test(e);for(let t=0;t<e.length;t++){let i=e[t];if(/\w/.test(i)||i>""&&(i.toUpperCase()!=i.toLowerCase()||$r.test(i)))return!0}return!1}(t))return Tr.Word;for(let i=0;i<e.length;i++)if(t.indexOf(e[i])>-1)return Tr.Word;return Tr.Other}}class Rr{constructor(e,t,i,r,n,o){this.config=e,this.doc=t,this.selection=i,this.values=r,this.status=e.statusTemplate.slice(),this.computeSlot=n,o&&(o._state=this);for(let e=0;e<this.config.dynamicSlots.length;e++)ar(this,e<<1);this.computeSlot=null}field(e,t=!0){let i=this.config.address[e.id];if(null!=i)return ar(this,i),lr(this,i);if(t)throw new RangeError("Field is not present in this state")}update(...e){return kr(this,e,!0)}applyTransaction(e){let t,i=this.config,{base:r,compartments:n}=i;for(let t of e.effects)t.is(nr.reconfigure)?(i&&(n=new Map,i.compartments.forEach(((e,t)=>n.set(t,e))),i=null),n.set(t.value.compartment,t.value.extension)):t.is(Sr.reconfigure)?(i=null,r=t.value):t.is(Sr.appendConfig)&&(i=null,r=Cr(r).concat(t.value));if(i)t=e.startState.values.slice();else{i=sr.resolve(r,n,this),t=new Rr(i,this.doc,this.selection,i.dynamicSlots.map((()=>null)),((e,t)=>t.reconfigure(e,this)),null).values}new Rr(i,e.newDoc,e.newSelection,t,((t,i)=>i.update(t,e)),e)}replaceSelection(e){return"string"==typeof e&&(e=this.toText(e)),this.changeByRange((t=>({changes:{from:t.from,to:t.to,insert:e},range:Ni.cursor(t.from+e.length)})))}changeByRange(e){let t=this.selection,i=e(t.ranges[0]),r=this.changes(i.changes),n=[i.range],o=Cr(i.effects);for(let i=1;i<t.ranges.length;i++){let s=e(t.ranges[i]),a=this.changes(s.changes),l=a.map(r);for(let e=0;e<i;e++)n[e]=n[e].map(l);let u=r.mapDesc(a,!0);n.push(s.range.map(u)),r=r.compose(l),o=Sr.mapEffects(o,l).concat(Sr.mapEffects(Cr(s.effects),u))}return{changes:r,selection:Ni.create(n,t.mainIndex),effects:o}}changes(e=[]){return e instanceof Ii?e:Ii.of(e,this.doc.length,this.facet(Rr.lineSeparator))}toText(e){return ui.of(e.split(this.facet(Rr.lineSeparator)||Pi))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return null==t?e.default:(ar(this,t),lr(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let i in e){let r=e[i];r instanceof Zi&&(t[i]=r.spec.toJSON(this.field(e[i]),this))}return t}static fromJSON(e,t={},i){if(!e||"string"!=typeof e.doc)throw new RangeError("Invalid JSON representation for EditorState");let r=[];if(i)for(let t in i){let n=i[t],o=e[t];r.push(n.init((e=>n.spec.fromJSON(o,e))))}return Rr.create({doc:e.doc,selection:Ni.fromJSON(e.selection),extensions:t.extensions?r.concat([t.extensions]):r})}static create(e={}){let t=sr.resolve(e.extensions||[],new Map),i=e.doc instanceof ui?e.doc:ui.of((e.doc||"").split(t.staticFacet(Rr.lineSeparator)||Pi)),r=e.selection?e.selection instanceof Ni?e.selection:Ni.single(e.selection.anchor,e.selection.head):Ni.single(0);return Wi(r,i.length),t.staticFacet(cr)||(r=r.asSingle()),new Rr(t,i,r,t.dynamicSlots.map((()=>null)),((e,t)=>t.create(e)),null)}get tabSize(){return this.facet(Rr.tabSize)}get lineBreak(){return this.facet(Rr.lineSeparator)||"\n"}get readOnly(){return this.facet(mr)}phrase(e,...t){for(let t of this.facet(Rr.phrases))if(Object.prototype.hasOwnProperty.call(t,e)){e=t[e];break}return t.length&&(e=e.replace(/\$(\$|\d*)/g,((e,i)=>{if("$"==i)return"$";let r=+(i||1);return r>t.length?e:t[r-1]}))),e}languageDataAt(e,t,i=-1){let r=[];for(let n of this.facet(ur))for(let o of n(this,t,i))Object.prototype.hasOwnProperty.call(o,e)&&r.push(o[e]);return r}charCategorizer(e){return Qr(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:t,from:i,length:r}=this.doc.lineAt(e),n=this.charCategorizer(e),o=e-i,s=e-i;for(;o>0;){let e=vi(t,o,!1);if(n(t.slice(e,o))!=Tr.Word)break;o=e}for(;s<r;){let e=vi(t,s);if(n(t.slice(s,e))!=Tr.Word)break;s=e}return o==s?null:Ni.range(o+i,s+i)}}function Ir(e,t,i={}){let r={};for(let t of e)for(let e of Object.keys(t)){let n=t[e],o=r[e];if(void 0===o)r[e]=n;else if(o===n||void 0===n);else{if(!Object.hasOwnProperty.call(i,e))throw new Error("Config merge conflict for field "+e);r[e]=i[e](o,n)}}for(let e in t)void 0===r[e]&&(r[e]=t[e]);return r}Rr.allowMultipleSelections=cr,Rr.tabSize=zi.define({combine:e=>e.length?e[0]:4}),Rr.lineSeparator=dr,Rr.readOnly=mr,Rr.phrases=zi.define({compare(e,t){let i=Object.keys(e),r=Object.keys(t);return i.length==r.length&&i.every((i=>e[i]==t[i]))}}),Rr.languageData=ur,Rr.changeFilter=hr,Rr.transactionFilter=pr,Rr.transactionExtender=fr,nr.reconfigure=Sr.define();class Er{eq(e){return this==e}range(e,t=e){return Dr.create(e,t,this)}}Er.prototype.startSide=Er.prototype.endSide=0,Er.prototype.point=!1,Er.prototype.mapMode=Qi.TrackDel;class Dr{constructor(e,t,i){this.from=e,this.to=t,this.value=i}static create(e,t,i){return new Dr(e,t,i)}}function Ar(e,t){return e.from-t.from||e.value.startSide-t.value.startSide}class _r{constructor(e,t,i,r){this.from=e,this.to=t,this.value=i,this.maxPoint=r}get length(){return this.to[this.to.length-1]}findIndex(e,t,i,r=0){let n=i?this.to:this.from;for(let o=r,s=n.length;;){if(o==s)return o;let r=o+s>>1,a=n[r]-e||(i?this.value[r].endSide:this.value[r].startSide)-t;if(r==o)return a>=0?o:s;a>=0?s=r:o=r+1}}between(e,t,i,r){for(let n=this.findIndex(t,-1e9,!0),o=this.findIndex(i,1e9,!1,n);n<o;n++)if(!1===r(this.from[n]+e,this.to[n]+e,this.value[n]))return!1}map(e,t){let i=[],r=[],n=[],o=-1,s=-1;for(let a=0;a<this.value.length;a++){let l,u,c=this.value[a],d=this.from[a]+e,h=this.to[a]+e;if(d==h){let e=t.mapPos(d,c.startSide,c.mapMode);if(null==e)continue;if(l=u=e,c.startSide!=c.endSide&&(u=t.mapPos(d,c.endSide),u<l))continue}else if(l=t.mapPos(d,c.startSide),u=t.mapPos(h,c.endSide),l>u||l==u&&c.startSide>0&&c.endSide<=0)continue;(u-l||c.endSide-c.startSide)<0||(o<0&&(o=l),c.point&&(s=Math.max(s,u-l)),i.push(c),r.push(l-o),n.push(u-o))}return{mapped:i.length?new _r(r,n,i,s):null,pos:o}}}class Mr{constructor(e,t,i,r){this.chunkPos=e,this.chunk=t,this.nextLayer=i,this.maxPoint=r}static create(e,t,i,r){return new Mr(e,t,i,r)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:i=!1,filterFrom:r=0,filterTo:n=this.length}=e,o=e.filter;if(0==t.length&&!o)return this;if(i&&(t=t.slice().sort(Ar)),this.isEmpty)return t.length?Mr.of(t):this;let s=new Nr(this,null,-1).goto(0),a=0,l=[],u=new Lr;for(;s.value||a<t.length;)if(a<t.length&&(s.from-t[a].from||s.startSide-t[a].value.startSide)>=0){let e=t[a++];u.addInner(e.from,e.to,e.value)||l.push(e)}else 1==s.rangeIndex&&s.chunkIndex<this.chunk.length&&(a==t.length||this.chunkEnd(s.chunkIndex)<t[a].from)&&(!o||r>this.chunkEnd(s.chunkIndex)||n<this.chunkPos[s.chunkIndex])&&u.addChunk(this.chunkPos[s.chunkIndex],this.chunk[s.chunkIndex])?s.nextChunk():((!o||r>s.to||n<s.from||o(s.from,s.to,s.value))&&(u.addInner(s.from,s.to,s.value)||l.push(Dr.create(s.from,s.to,s.value))),s.next());return u.finishInner(this.nextLayer.isEmpty&&!l.length?Mr.empty:this.nextLayer.update({add:l,filter:o,filterFrom:r,filterTo:n}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],i=[],r=-1;for(let n=0;n<this.chunk.length;n++){let o=this.chunkPos[n],s=this.chunk[n],a=e.touchesRange(o,o+s.length);if(!1===a)r=Math.max(r,s.maxPoint),t.push(s),i.push(e.mapPos(o));else if(!0===a){let{mapped:n,pos:a}=s.map(o,e);n&&(r=Math.max(r,n.maxPoint),t.push(n),i.push(a))}}let n=this.nextLayer.map(e);return 0==t.length?n:new Mr(i,t,n||Mr.empty,r)}between(e,t,i){if(!this.isEmpty){for(let r=0;r<this.chunk.length;r++){let n=this.chunkPos[r],o=this.chunk[r];if(t>=n&&e<=n+o.length&&!1===o.between(n,e-n,t-n,i))return}this.nextLayer.between(e,t,i)}}iter(e=0){return Wr.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return Wr.from(e).goto(t)}static compare(e,t,i,r,n=-1){let o=e.filter((e=>e.maxPoint>0||!e.isEmpty&&e.maxPoint>=n)),s=t.filter((e=>e.maxPoint>0||!e.isEmpty&&e.maxPoint>=n)),a=Gr(o,s,i),l=new zr(o,a,n),u=new zr(s,a,n);i.iterGaps(((e,t,i)=>Fr(l,e,u,t,i,r))),i.empty&&0==i.length&&Fr(l,0,u,0,0,r)}static eq(e,t,i=0,r){null==r&&(r=1e9);let n=e.filter((e=>!e.isEmpty&&t.indexOf(e)<0)),o=t.filter((t=>!t.isEmpty&&e.indexOf(t)<0));if(n.length!=o.length)return!1;if(!n.length)return!0;let s=Gr(n,o),a=new zr(n,s,0).goto(i),l=new zr(o,s,0).goto(i);for(;;){if(a.to!=l.to||!Ur(a.active,l.active)||a.point&&(!l.point||!a.point.eq(l.point)))return!1;if(a.to>r)return!0;a.next(),l.next()}}static spans(e,t,i,r,n=-1){let o=new zr(e,null,n).goto(t),s=t,a=o.openStart;for(;;){let e=Math.min(o.to,i);if(o.point?(r.point(s,e,o.point,o.activeForPoint(o.to),a,o.pointRank),a=o.openEnd(e)+(o.to>e?1:0)):e>s&&(r.span(s,e,o.active,a),a=o.openEnd(e)),o.to>i)break;s=o.to,o.next()}return a}static of(e,t=!1){let i=new Lr;for(let r of e instanceof Dr?[e]:t?function(e){if(e.length>1)for(let t=e[0],i=1;i<e.length;i++){let r=e[i];if(Ar(t,r)>0)return e.slice().sort(Ar);t=r}return e}(e):e)i.add(r.from,r.to,r.value);return i.finish()}}Mr.empty=new Mr([],[],null,-1),Mr.empty.nextLayer=Mr.empty;class Lr{constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}finishChunk(e){this.chunks.push(new _r(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}add(e,t,i){this.addInner(e,t,i)||(this.nextLayer||(this.nextLayer=new Lr)).add(e,t,i)}addInner(e,t,i){let r=e-this.lastTo||i.startSide-this.last.endSide;if(r<=0&&(e-this.lastFrom||i.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return!(r<0)&&(250==this.from.length&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=i,this.lastFrom=e,this.lastTo=t,this.value.push(i),i.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let i=t.value.length-1;return this.last=t.value[i],this.lastFrom=t.from[i]+e,this.lastTo=t.to[i]+e,!0}finish(){return this.finishInner(Mr.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),0==this.chunks.length)return e;let t=Mr.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function Gr(e,t,i){let r=new Map;for(let t of e)for(let e=0;e<t.chunk.length;e++)t.chunk[e].maxPoint<=0&&r.set(t.chunk[e],t.chunkPos[e]);let n=new Set;for(let e of t)for(let t=0;t<e.chunk.length;t++){let o=r.get(e.chunk[t]);null==o||(i?i.mapPos(o):o)!=e.chunkPos[t]||(null==i?void 0:i.touchesRange(o,o+e.chunk[t].length))||n.add(e.chunk[t])}return n}class Nr{constructor(e,t,i,r=0){this.layer=e,this.skip=t,this.minPoint=i,this.rank=r}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,i){for(;this.chunkIndex<this.layer.chunk.length;){let t=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(t)||this.layer.chunkEnd(this.chunkIndex)<e||t.maxPoint<this.minPoint))break;this.chunkIndex++,i=!1}if(this.chunkIndex<this.layer.chunk.length){let r=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!i||this.rangeIndex<r)&&this.setRangeIndex(r)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;){if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],i=e+t.from[this.rangeIndex];if(this.from=i,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class Wr{constructor(e){this.heap=e}static from(e,t=null,i=-1){let r=[];for(let n=0;n<e.length;n++)for(let o=e[n];!o.isEmpty;o=o.nextLayer)o.maxPoint>=i&&r.push(new Nr(o,t,i,n));return 1==r.length?r[0]:new Wr(r)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let i of this.heap)i.goto(e,t);for(let e=this.heap.length>>1;e>=0;e--)Br(this.heap,e);return this.next(),this}forward(e,t){for(let i of this.heap)i.forward(e,t);for(let e=this.heap.length>>1;e>=0;e--)Br(this.heap,e);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(0==this.heap.length)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),Br(this.heap,0)}}}function Br(e,t){for(let i=e[t];;){let r=1+(t<<1);if(r>=e.length)break;let n=e[r];if(r+1<e.length&&n.compare(e[r+1])>=0&&(n=e[r+1],r++),i.compare(n)<0)break;e[r]=i,e[t]=n,t=r}}class zr{constructor(e,t,i){this.minPoint=i,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Wr.from(e,t,i)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){qr(this.active,e),qr(this.activeTo,e),qr(this.activeRank,e),this.minActive=jr(this.active,this.activeTo)}addActive(e){let t=0,{value:i,to:r,rank:n}=this.cursor;for(;t<this.activeRank.length&&this.activeRank[t]<=n;)t++;Xr(this.active,t,i),Xr(this.activeTo,t,r),Xr(this.activeRank,t,n),e&&Xr(e,t,this.cursor.from),this.minActive=jr(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let i=this.openStart<0?[]:null,r=0;for(;;){let n=this.minActive;if(n>-1&&(this.activeTo[n]-this.cursor.from||this.active[n].endSide-this.cursor.startSide)<0){if(this.activeTo[n]>e){this.to=this.activeTo[n],this.endSide=this.active[n].endSide;break}this.removeActive(n),i&&qr(i,n)}else{if(!this.cursor.value){this.to=this.endSide=1e9;break}if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}{let n=this.cursor.value;if(n.point){if(!(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)){this.point=n,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=n.endSide,this.cursor.from<e&&(r=1),this.cursor.next(),this.forward(this.to,this.endSide);break}this.cursor.next()}else this.addActive(i),this.cursor.next()}}}if(i){let t=0;for(;t<i.length&&i[t]<e;)t++;this.openStart=t+r}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let i=this.active.length-1;i>=0&&!(this.activeRank[i]<this.pointRank);i--)(this.activeTo[i]>e||this.activeTo[i]==e&&this.active[i].endSide>=this.point.endSide)&&t.push(this.active[i]);return t.reverse()}openEnd(e){let t=0;for(let i=this.activeTo.length-1;i>=0&&this.activeTo[i]>e;i--)t++;return t}}function Fr(e,t,i,r,n,o){e.goto(t),i.goto(r);let s=r+n,a=r,l=r-t;for(;;){let t=e.to+l-i.to||e.endSide-i.endSide,r=t<0?e.to+l:i.to,n=Math.min(r,s);if(e.point||i.point?e.point&&i.point&&(e.point==i.point||e.point.eq(i.point))&&Ur(e.activeForPoint(e.to+l),i.activeForPoint(i.to))||o.comparePoint(a,n,e.point,i.point):n>a&&!Ur(e.active,i.active)&&o.compareRange(a,n,e.active,i.active),r>s)break;a=r,t<=0&&e.next(),t>=0&&i.next()}}function Ur(e,t){if(e.length!=t.length)return!1;for(let i=0;i<e.length;i++)if(e[i]!=t[i]&&!e[i].eq(t[i]))return!1;return!0}function qr(e,t){for(let i=t,r=e.length-1;i<r;i++)e[i]=e[i+1];e.pop()}function Xr(e,t,i){for(let i=e.length-1;i>=t;i--)e[i+1]=e[i];e[t]=i}function jr(e,t){let i=-1,r=1e9;for(let n=0;n<t.length;n++)(t[n]-r||e[n].endSide-e[i].endSide)<0&&(i=n,r=t[n]);return i}function Hr(e,t,i=e.length){let r=0;for(let n=0;n<i;)9==e.charCodeAt(n)?(r+=t-r%t,n++):(r++,n=vi(e,n));return r}function Zr(e,t,i,r){for(let r=0,n=0;;){if(n>=t)return r;if(r==e.length)break;n+=9==e.charCodeAt(r)?i-n%i:1,r=vi(e,r)}return!0===r?-1:e.length}const Yr="undefined"==typeof Symbol?"__ͼ":Symbol.for("ͼ"),Jr="undefined"==typeof Symbol?"__styleSet"+Math.floor(1e8*Math.random()):Symbol("styleSet"),Kr="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:{};class en{constructor(e,t){this.rules=[];let{finish:i}=t||{};function r(e){return/^@/.test(e)?[e]:e.split(/,\s*/)}function n(e,t,o,s){let a=[],l=/^@(\w+)\b/.exec(e[0]),u=l&&"keyframes"==l[1];if(l&&null==t)return o.push(e[0]+";");for(let i in t){let s=t[i];if(/&/.test(i))n(i.split(/,\s*/).map((t=>e.map((e=>t.replace(/&/,e))))).reduce(((e,t)=>e.concat(t))),s,o);else if(s&&"object"==typeof s){if(!l)throw new RangeError("The value of a property ("+i+") should be a primitive value.");n(r(i),s,a,u)}else null!=s&&a.push(i.replace(/_.*/,"").replace(/[A-Z]/g,(e=>"-"+e.toLowerCase()))+": "+s+";")}(a.length||u)&&o.push((!i||l||s?e:e.map(i)).join(", ")+" {"+a.join(" ")+"}")}for(let t in e)n(r(t),e[t],this.rules)}getRules(){return this.rules.join("\n")}static newName(){let e=Kr[Yr]||1;return Kr[Yr]=e+1,"ͼ"+e.toString(36)}static mount(e,t){(e[Jr]||new rn(e)).mount(Array.isArray(t)?t:[t])}}let tn=null;class rn{constructor(e){if(!e.head&&e.adoptedStyleSheets&&"undefined"!=typeof CSSStyleSheet){if(tn)return e.adoptedStyleSheets=[tn.sheet].concat(e.adoptedStyleSheets),e[Jr]=tn;this.sheet=new CSSStyleSheet,e.adoptedStyleSheets=[this.sheet].concat(e.adoptedStyleSheets),tn=this}else{this.styleTag=(e.ownerDocument||e).createElement("style");let t=e.head||e;t.insertBefore(this.styleTag,t.firstChild)}this.modules=[],e[Jr]=this}mount(e){let t=this.sheet,i=0,r=0;for(let n=0;n<e.length;n++){let o=e[n],s=this.modules.indexOf(o);if(s<r&&s>-1&&(this.modules.splice(s,1),r--,s=-1),-1==s){if(this.modules.splice(r++,0,o),t)for(let e=0;e<o.rules.length;e++)t.insertRule(o.rules[e],i++)}else{for(;r<s;)i+=this.modules[r++].rules.length;i+=o.rules.length,r++}}if(!t){let e="";for(let t=0;t<this.modules.length;t++)e+=this.modules[t].getRules()+"\n";this.styleTag.textContent=e}}}for(var nn={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},on={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},sn="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),an="undefined"!=typeof navigator&&/Apple Computer/.test(navigator.vendor),ln="undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),un="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),cn="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),dn=sn&&(un||+sn[1]<57)||ln&&un,hn=0;hn<10;hn++)nn[48+hn]=nn[96+hn]=String(hn);for(hn=1;hn<=24;hn++)nn[hn+111]="F"+hn;for(hn=65;hn<=90;hn++)nn[hn]=String.fromCharCode(hn+32),on[hn]=String.fromCharCode(hn);for(var pn in nn)on.hasOwnProperty(pn)||(on[pn]=nn[pn]);function fn(e){let t;return t=11==e.nodeType?e.getSelection?e:e.ownerDocument:e,t.getSelection()}function mn(e,t){return!!t&&(e==t||e.contains(1!=t.nodeType?t.parentNode:t))}function gn(e,t){if(!t.anchorNode)return!1;try{return mn(e,t.anchorNode)}catch(e){return!1}}function On(e){return 3==e.nodeType?Pn(e,0,e.nodeValue.length).getClientRects():1==e.nodeType?e.getClientRects():[]}function bn(e,t,i,r){return!!i&&(yn(e,t,i,r,-1)||yn(e,t,i,r,1))}function Sn(e){for(var t=0;;t++)if(!(e=e.previousSibling))return t}function yn(e,t,i,r,n){for(;;){if(e==i&&t==r)return!0;if(t==(n<0?0:vn(e))){if("DIV"==e.nodeName)return!1;let i=e.parentNode;if(!i||1!=i.nodeType)return!1;t=Sn(e)+(n<0?0:1),e=i}else{if(1!=e.nodeType)return!1;if(1==(e=e.childNodes[t+(n<0?-1:0)]).nodeType&&"false"==e.contentEditable)return!1;t=n<0?vn(e):0}}}function vn(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}const wn={left:0,right:0,top:0,bottom:0};function xn(e,t){let i=t?e.left:e.right;return{left:i,right:i,top:e.top,bottom:e.bottom}}function kn(e){return{left:0,right:e.innerWidth,top:0,bottom:e.innerHeight}}class Vn{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){this.set(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset)}set(e,t,i,r){this.anchorNode=e,this.anchorOffset=t,this.focusNode=i,this.focusOffset=r}}let Cn,Tn=null;function $n(e){if(e.setActive)return e.setActive();if(Tn)return e.focus(Tn);let t=[];for(let i=e;i&&(t.push(i,i.scrollTop,i.scrollLeft),i!=i.ownerDocument);i=i.parentNode);if(e.focus(null==Tn?{get preventScroll(){return Tn={preventScroll:!0},!0}}:void 0),!Tn){Tn=!1;for(let e=0;e<t.length;){let i=t[e++],r=t[e++],n=t[e++];i.scrollTop!=r&&(i.scrollTop=r),i.scrollLeft!=n&&(i.scrollLeft=n)}}}function Pn(e,t,i=t){let r=Cn||(Cn=document.createRange());return r.setEnd(e,i),r.setStart(e,t),r}function Qn(e,t,i){let r={key:t,code:t,keyCode:i,which:i,cancelable:!0},n=new KeyboardEvent("keydown",r);n.synthetic=!0,e.dispatchEvent(n);let o=new KeyboardEvent("keyup",r);return o.synthetic=!0,e.dispatchEvent(o),n.defaultPrevented||o.defaultPrevented}function Rn(e){for(;e.attributes.length;)e.removeAttributeNode(e.attributes[0])}class In{constructor(e,t,i=!0){this.node=e,this.offset=t,this.precise=i}static before(e,t){return new In(e.parentNode,Sn(e),t)}static after(e,t){return new In(e.parentNode,Sn(e)+1,t)}}const En=[];class Dn{constructor(){this.parent=null,this.dom=null,this.dirty=2}get editorView(){if(!this.parent)throw new Error("Accessing view in orphan content view");return this.parent.editorView}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let i of this.children){if(i==e)return t;t+=i.length+i.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}coordsAt(e,t){return null}sync(e){if(2&this.dirty){let t,i=this.dom,r=null;for(let n of this.children){if(n.dirty){if(!n.dom&&(t=r?r.nextSibling:i.firstChild)){let e=Dn.get(t);e&&(e.parent||e.constructor!=n.constructor)||n.reuseDOM(t)}n.sync(e),n.dirty=0}if(t=r?r.nextSibling:i.firstChild,e&&!e.written&&e.node==i&&t!=n.dom&&(e.written=!0),n.dom.parentNode==i)for(;t&&t!=n.dom;)t=An(t);else i.insertBefore(n.dom,t);r=n.dom}for(t=r?r.nextSibling:i.firstChild,t&&e&&e.node==i&&(e.written=!0);t;)t=An(t)}else if(1&this.dirty)for(let t of this.children)t.dirty&&(t.sync(e),t.dirty=0)}reuseDOM(e){}localPosFromDOM(e,t){let i;if(e==this.dom)i=this.dom.childNodes[t];else{let r=0==vn(e)?0:0==t?-1:1;for(;;){let t=e.parentNode;if(t==this.dom)break;0==r&&t.firstChild!=t.lastChild&&(r=e==t.firstChild?-1:1),e=t}i=r<0?e:e.nextSibling}if(i==this.dom.firstChild)return 0;for(;i&&!Dn.get(i);)i=i.nextSibling;if(!i)return this.length;for(let e=0,t=0;;e++){let r=this.children[e];if(r.dom==i)return t;t+=r.length+r.breakAfter}}domBoundsAround(e,t,i=0){let r=-1,n=-1,o=-1,s=-1;for(let a=0,l=i,u=i;a<this.children.length;a++){let i=this.children[a],c=l+i.length;if(l<e&&c>t)return i.domBoundsAround(e,t,l);if(c>=e&&-1==r&&(r=a,n=l),l>t&&i.dom.parentNode==this.dom){o=a,s=u;break}u=c,l=c+i.breakAfter}return{from:n,to:s<0?i+this.length:s,startDOM:(r?this.children[r-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:o<this.children.length&&o>=0?this.children[o].dom:null}}markDirty(e=!1){this.dirty|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.dirty|=2),1&t.dirty)return;t.dirty|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.dirty&&this.markParentsDirty(!0))}setDOM(e){this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,i=En){this.markDirty();for(let i=e;i<t;i++){let e=this.children[i];e.parent==this&&e.destroy()}this.children.splice(e,t-e,...i);for(let e=0;e<i.length;e++)i[e].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new _n(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+("Text"==e?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}merge(e,t,i,r,n,o){return!1}become(e){return!1}getSide(){return 0}destroy(){this.parent=null}}function An(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}Dn.prototype.breakAfter=0;class _n{constructor(e,t,i){this.children=e,this.pos=t,this.i=i,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||0==this.i||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let i=this.children[--this.i];this.pos-=i.length+i.breakAfter}}}function Mn(e,t,i,r,n,o,s,a,l){let{children:u}=e,c=u.length?u[t]:null,d=o.length?o[o.length-1]:null,h=d?d.breakAfter:s;if(!(t==r&&c&&!s&&!h&&o.length<2&&c.merge(i,n,o.length?d:null,0==i,a,l))){if(r<u.length){let e=u[r];e&&n<e.length?(t==r&&(e=e.split(n),n=0),!h&&d&&e.merge(0,n,d,!0,0,l)?o[o.length-1]=e:(n&&e.merge(0,n,null,!1,0,l),o.push(e))):(null==e?void 0:e.breakAfter)&&(d?d.breakAfter=1:s=1),r++}for(c&&(c.breakAfter=s,i>0&&(!s&&o.length&&c.merge(i,c.length,o[0],!1,a,0)?c.breakAfter=o.shift().breakAfter:(i<c.length||c.children.length&&0==c.children[c.children.length-1].length)&&c.merge(i,c.length,null,!1,a,0),t++));t<r&&o.length;)if(u[r-1].become(o[o.length-1]))r--,o.pop(),l=o.length?0:a;else{if(!u[t].become(o[0]))break;t++,o.shift(),a=o.length?0:l}!o.length&&t&&r<u.length&&!u[t-1].breakAfter&&u[r].merge(0,0,u[t-1],!1,a,l)&&t--,(t<r||o.length)&&e.replaceChildren(t,r,o)}}function Ln(e,t,i,r,n,o){let s=e.childCursor(),{i:a,off:l}=s.findPos(i,1),{i:u,off:c}=s.findPos(t,-1),d=t-i;for(let e of r)d+=e.length;e.length+=d,Mn(e,u,c,a,l,r,0,n,o)}let Gn="undefined"!=typeof navigator?navigator:{userAgent:"",vendor:"",platform:""},Nn="undefined"!=typeof document?document:{documentElement:{style:{}}};const Wn=/Edge\/(\d+)/.exec(Gn.userAgent),Bn=/MSIE \d/.test(Gn.userAgent),zn=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Gn.userAgent),Fn=!!(Bn||zn||Wn),Un=!Fn&&/gecko\/(\d+)/i.test(Gn.userAgent),qn=!Fn&&/Chrome\/(\d+)/.exec(Gn.userAgent),Xn="webkitFontSmoothing"in Nn.documentElement.style,jn=!Fn&&/Apple Computer/.test(Gn.vendor),Hn=jn&&(/Mobile\/\w+/.test(Gn.userAgent)||Gn.maxTouchPoints>2);var Zn={mac:Hn||/Mac/.test(Gn.platform),windows:/Win/.test(Gn.platform),linux:/Linux|X11/.test(Gn.platform),ie:Fn,ie_version:Bn?Nn.documentMode||6:zn?+zn[1]:Wn?+Wn[1]:0,gecko:Un,gecko_version:Un?+(/Firefox\/(\d+)/.exec(Gn.userAgent)||[0,0])[1]:0,chrome:!!qn,chrome_version:qn?+qn[1]:0,ios:Hn,android:/Android\b/.test(Gn.userAgent),webkit:Xn,safari:jn,webkit_version:Xn?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:null!=Nn.documentElement.style.tabSize?"tab-size":"-moz-tab-size"};class Yn extends Dn{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(e&&e.node==this.dom&&(e.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){3==e.nodeType&&this.createDOM(e)}merge(e,t,i){return(!i||i instanceof Yn&&!(this.length-(t-e)+i.length>256))&&(this.text=this.text.slice(0,e)+(i?i.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new Yn(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new In(this.dom,e)}domBoundsAround(e,t,i){return{from:i,to:i+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return Kn(this.dom,e,t)}}class Jn extends Dn{constructor(e,t=[],i=0){super(),this.mark=e,this.children=t,this.length=i;for(let e of t)e.setParent(this)}setAttrs(e){if(Rn(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.dirty|=6)}sync(e){this.dom?4&this.dirty&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e)}merge(e,t,i,r,n,o){return(!i||!(!(i instanceof Jn&&i.mark.eq(this.mark))||e&&n<=0||t<this.length&&o<=0))&&(Ln(this,e,t,i?i.children:[],n-1,o-1),this.markDirty(),!0)}split(e){let t=[],i=0,r=-1,n=0;for(let o of this.children){let s=i+o.length;s>e&&t.push(i<e?o.split(e-i):o),r<0&&i>=e&&(r=n),i=s,n++}let o=this.length-e;return this.length=e,r>-1&&(this.children.length=r,this.markDirty()),new Jn(this.mark,t,o)}domAtPos(e){return oo(this.dom,this.children,e)}coordsAt(e,t){return ao(this,e,t)}}function Kn(e,t,i){let r=e.nodeValue.length;t>r&&(t=r);let n=t,o=t,s=0;0==t&&i<0||t==r&&i>=0?Zn.chrome||Zn.gecko||(t?(n--,s=1):o<r&&(o++,s=-1)):i<0?n--:o<r&&o++;let a=Pn(e,n,o).getClientRects();if(!a.length)return wn;let l=a[(s?s<0:i>=0)?0:a.length-1];return Zn.safari&&!s&&0==l.width&&(l=Array.prototype.find.call(a,(e=>e.width))||l),s?xn(l,s<0):l||null}class eo extends Dn{constructor(e,t,i){super(),this.widget=e,this.length=t,this.side=i,this.prevWidget=null}static create(e,t,i){return new(e.customView||eo)(e,t,i)}split(e){let t=eo.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(){this.dom&&this.widget.updateDOM(this.dom)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}getSide(){return this.side}merge(e,t,i,r,n,o){return!(i&&(!(i instanceof eo&&this.widget.compare(i.widget))||e>0&&n<=0||t<this.length&&o<=0))&&(this.length=e+(i?i.length:0)+(this.length-t),!0)}become(e){return e.length==this.length&&e instanceof eo&&e.side==this.side&&this.widget.constructor==e.widget.constructor&&(this.widget.eq(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,!0)}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(0==this.length)return ui.empty;let e=this;for(;e.parent;)e=e.parent;let t=e.editorView,i=t&&t.state.doc,r=this.posAtStart;return i?i.slice(r,r+this.length):ui.empty}domAtPos(e){return 0==e?In.before(this.dom):In.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let i=this.dom.getClientRects(),r=null;if(!i.length)return wn;for(let t=e>0?i.length-1:0;r=i[t],!(e>0?0==t:t==i.length-1||r.top<r.bottom);t+=e>0?-1:1);return 0==e&&t>0||e==this.length&&t<=0?r:xn(r,0==e)}get isEditable(){return!1}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class to extends eo{domAtPos(e){let{topView:t,text:i}=this.widget;return t?io(e,0,t,i,((e,t)=>e.domAtPos(t)),(e=>new In(i,Math.min(e,i.nodeValue.length)))):new In(i,Math.min(e,i.nodeValue.length))}sync(){this.setDOM(this.widget.toDOM())}localPosFromDOM(e,t){let{topView:i,text:r}=this.widget;return i?ro(e,t,i,r):Math.min(t,this.length)}ignoreMutation(){return!1}get overrideDOMText(){return null}coordsAt(e,t){let{topView:i,text:r}=this.widget;return i?io(e,t,i,r,((e,t,i)=>e.coordsAt(t,i)),((e,t)=>Kn(r,e,t))):Kn(r,e,t)}destroy(){var e;super.destroy(),null===(e=this.widget.topView)||void 0===e||e.destroy()}get isEditable(){return!0}}function io(e,t,i,r,n,o){if(i instanceof Jn){for(let s of i.children){let i=mn(s.dom,r),a=i?r.nodeValue.length:s.length;if(e<a||e==a&&s.getSide()<=0)return i?io(e,t,s,r,n,o):n(s,e,t);e-=a}return n(i,i.length,-1)}return i.dom==r?o(e,t):n(i,e,t)}function ro(e,t,i,r){if(i instanceof Jn)for(let n of i.children){let i=0,o=mn(n.dom,r);if(mn(n.dom,e))return i+(o?ro(e,t,n,r):n.localPosFromDOM(e,t));i+=o?r.nodeValue.length:n.length}else if(i.dom==r)return Math.min(t,r.nodeValue.length);return i.localPosFromDOM(e,t)}class no extends Dn{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof no&&e.side==this.side}split(){return new no(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return In.before(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){let t=this.dom.getBoundingClientRect(),i=function(e,t){let i=e.parent,r=i?i.children.indexOf(e):-1;for(;i&&r>=0;)if(t<0?r>0:r<i.children.length){let e=i.children[r+t];if(e instanceof Yn){let i=e.coordsAt(t<0?e.length:0,t);if(i)return i}r+=t}else{if(!(i instanceof Jn&&i.parent)){let e=i.dom.lastChild;if(e&&"BR"==e.nodeName)return e.getClientRects()[0];break}r=i.parent.children.indexOf(i)+(t<0?0:1),i=i.parent}return}(this,this.side>0?-1:1);return i&&i.top<t.bottom&&i.bottom>t.top?{left:t.left,right:t.right,top:i.top,bottom:i.bottom}:t}get overrideDOMText(){return ui.empty}}function oo(e,t,i){let r=0;for(let n=0;r<t.length;r++){let o=t[r],s=n+o.length;if(!(s==n&&o.getSide()<=0)){if(i>n&&i<s&&o.dom.parentNode==e)return o.domAtPos(i-n);if(i<=n)break;n=s}}for(;r>0;r--){let i=t[r-1].dom;if(i.parentNode==e)return In.after(i)}return new In(e,0)}function so(e,t,i){let r,{children:n}=e;i>0&&t instanceof Jn&&n.length&&(r=n[n.length-1])instanceof Jn&&r.mark.eq(t.mark)?so(r,t.children[0],i-1):(n.push(t),t.setParent(e)),e.length+=t.length}function ao(e,t,i){for(let r=0,n=0;n<e.children.length;n++){let o,s=e.children[n],a=r+s.length;if((i<=0||a==e.length||s.getSide()>0?a>=t:a>t)&&(t<a||n+1==e.children.length||(o=e.children[n+1]).length||o.getSide()>0)){let e=0;if(a==r){if(s.getSide()<=0)continue;e=i=-s.getSide()}let n=s.coordsAt(Math.max(0,t-r),i);return e&&n?xn(n,i<0):n}r=a}let r=e.dom.lastChild;if(!r)return e.dom.getBoundingClientRect();let n=On(r);return n[n.length-1]||null}function lo(e,t){for(let i in e)"class"==i&&t.class?t.class+=" "+e.class:"style"==i&&t.style?t.style+=";"+e.style:t[i]=e[i];return t}function uo(e,t){if(e==t)return!0;if(!e||!t)return!1;let i=Object.keys(e),r=Object.keys(t);if(i.length!=r.length)return!1;for(let n of i)if(-1==r.indexOf(n)||e[n]!==t[n])return!1;return!0}function co(e,t,i){let r=null;if(t)for(let n in t)i&&n in i||e.removeAttribute(r=n);if(i)for(let n in i)t&&t[n]==i[n]||e.setAttribute(r=n,i[n]);return!!r}Yn.prototype.children=eo.prototype.children=no.prototype.children=En;class ho{eq(e){return!1}updateDOM(e){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}ignoreEvent(e){return!0}get customView(){return null}destroy(e){}}var po=function(e){return e[e.Text=0]="Text",e[e.WidgetBefore=1]="WidgetBefore",e[e.WidgetAfter=2]="WidgetAfter",e[e.WidgetRange=3]="WidgetRange",e}(po||(po={}));class fo extends Er{constructor(e,t,i,r){super(),this.startSide=e,this.endSide=t,this.widget=i,this.spec=r}get heightRelevant(){return!1}static mark(e){return new mo(e)}static widget(e){let t=e.side||0,i=!!e.block;return t+=i?t>0?3e8:-4e8:t>0?1e8:-1e8,new Oo(e,t,t,i,e.widget||null,!1)}static replace(e){let t,i,r=!!e.block;if(e.isBlockGap)t=-5e8,i=4e8;else{let{start:n,end:o}=bo(e,r);t=(n?r?-3e8:-1:5e8)-1,i=1+(o?r?2e8:1:-6e8)}return new Oo(e,t,i,r,e.widget||null,!0)}static line(e){return new go(e)}static set(e,t=!1){return Mr.of(e,t)}hasHeight(){return!!this.widget&&this.widget.estimatedHeight>-1}}fo.none=Mr.empty;class mo extends fo{constructor(e){let{start:t,end:i}=bo(e);super(t?-1:5e8,i?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){return this==e||e instanceof mo&&this.tagName==e.tagName&&this.class==e.class&&uo(this.attrs,e.attrs)}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}mo.prototype.point=!1;class go extends fo{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof go&&uo(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}go.prototype.mapMode=Qi.TrackBefore,go.prototype.point=!0;class Oo extends fo{constructor(e,t,i,r,n,o){super(t,i,n,e),this.block=r,this.isReplace=o,this.mapMode=r?t<=0?Qi.TrackBefore:Qi.TrackAfter:Qi.TrackDel}get type(){return this.startSide<this.endSide?po.WidgetRange:this.startSide<=0?po.WidgetBefore:po.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&this.widget.estimatedHeight>=5}eq(e){return e instanceof Oo&&(t=this.widget,i=e.widget,t==i||!!(t&&i&&t.compare(i)))&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide;var t,i}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}function bo(e,t=!1){let{inclusiveStart:i,inclusiveEnd:r}=e;return null==i&&(i=e.inclusive),null==r&&(r=e.inclusive),{start:null!=i?i:t,end:null!=r?r:t}}function So(e,t,i,r=0){let n=i.length-1;n>=0&&i[n]+r>=e?i[n]=Math.max(i[n],t):i.push(e,t)}Oo.prototype.point=!0;class yo extends Dn{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,i,r,n,o){if(i){if(!(i instanceof yo))return!1;this.dom||i.transferDOM(this)}return r&&this.setDeco(i?i.attrs:null),Ln(this,e,t,i?i.children:[],n,o),!0}split(e){let t=new yo;if(t.breakAfter=this.breakAfter,0==this.length)return t;let{i:i,off:r}=this.childPos(e);r&&(t.append(this.children[i].split(r),0),this.children[i].merge(r,this.children[i].length,null,!1,0,0),i++);for(let e=i;e<this.children.length;e++)t.append(this.children[e],0);for(;i>0&&0==this.children[i-1].length;)this.children[--i].destroy();return this.children.length=i,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=void 0===this.prevAttrs?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){uo(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){so(this,e,t)}addLineDeco(e){let t=e.spec.attributes,i=e.spec.class;t&&(this.attrs=lo(t,this.attrs||{})),i&&(this.attrs=lo({class:i},this.attrs||{}))}domAtPos(e){return oo(this.dom,this.children,e)}reuseDOM(e){"DIV"==e.nodeName&&(this.setDOM(e),this.dirty|=6)}sync(e){var t;this.dom?4&this.dirty&&(Rn(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),void 0!==this.prevAttrs&&(co(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e);let i=this.dom.lastChild;for(;i&&Dn.get(i)instanceof Jn;)i=i.lastChild;if(!(i&&this.length&&("BR"==i.nodeName||0!=(null===(t=Dn.get(i))||void 0===t?void 0:t.isEditable)||Zn.ios&&this.children.some((e=>e instanceof Yn))))){let e=document.createElement("BR");e.cmIgnore=!0,this.dom.appendChild(e)}}measureTextSize(){if(0==this.children.length||this.length>20)return null;let e=0;for(let t of this.children){if(!(t instanceof Yn))return null;let i=On(t.dom);if(1!=i.length)return null;e+=i[0].width}return{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length}}coordsAt(e,t){return ao(this,e,t)}become(e){return!1}get type(){return po.Text}static find(e,t){for(let i=0,r=0;i<e.children.length;i++){let n=e.children[i],o=r+n.length;if(o>=t){if(n instanceof yo)return n;if(o>t)break}r=o+n.breakAfter}return null}}class vo extends Dn{constructor(e,t,i){super(),this.widget=e,this.length=t,this.type=i,this.breakAfter=0,this.prevWidget=null}merge(e,t,i,r,n,o){return!(i&&(!(i instanceof vo&&this.widget.compare(i.widget))||e>0&&n<=0||t<this.length&&o<=0))&&(this.length=e+(i?i.length:0)+(this.length-t),!0)}domAtPos(e){return 0==e?In.before(this.dom):In.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let i=new vo(this.widget,t,this.type);return i.breakAfter=this.breakAfter,i}get children(){return En}sync(){this.dom&&this.widget.updateDOM(this.dom)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):ui.empty}domBoundsAround(){return null}become(e){return e instanceof vo&&e.type==this.type&&e.widget.constructor==this.widget.constructor&&(e.widget.eq(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.breakAfter=e.breakAfter,!0)}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class wo{constructor(e,t,i,r){this.doc=e,this.pos=t,this.end=i,this.disallowBlockEffectsFor=r,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(0==this.content.length)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof vo&&e.type==po.WidgetBefore)}getLine(){return this.curLine||(this.content.push(this.curLine=new yo),this.atCursorPos=!0),this.curLine}flushBuffer(e){this.pendingBuffer&&(this.curLine.append(xo(new no(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer([]),this.curLine=null,this.content.push(e)}finish(e){e?this.pendingBuffer=0:this.flushBuffer([]),this.posCovered()||this.getLine()}buildText(e,t,i){for(;e>0;){if(this.textOff==this.text.length){let{value:t,lineBreak:i,done:r}=this.cursor.next(this.skip);if(this.skip=0,r)throw new Error("Ran out of text content when drawing inline views");if(i){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer([]),this.curLine=null,e--;continue}this.text=t,this.textOff=0}let r=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(0,i)),this.getLine().append(xo(new Yn(this.text.slice(this.textOff,this.textOff+r)),t),i),this.atCursorPos=!0,this.textOff+=r,e-=r,i=0}}span(e,t,i,r){this.buildText(t-e,i,r),this.pos=t,this.openStart<0&&(this.openStart=r)}point(e,t,i,r,n,o){if(this.disallowBlockEffectsFor[o]&&i instanceof Oo){if(i.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let s=t-e;if(i instanceof Oo)if(i.block){let{type:e}=i;e!=po.WidgetAfter||this.posCovered()||this.getLine(),this.addBlockWidget(new vo(i.widget||new ko("div"),s,e))}else{let o=eo.create(i.widget||new ko("span"),s,i.startSide),a=this.atCursorPos&&!o.isEditable&&n<=r.length&&(e<t||i.startSide>0),l=!o.isEditable&&(e<t||i.startSide<=0),u=this.getLine();2!=this.pendingBuffer||a||(this.pendingBuffer=0),this.flushBuffer(r),a&&(u.append(xo(new no(1),r),n),n=r.length+Math.max(0,n-r.length)),u.append(xo(o,r),n),this.atCursorPos=l,this.pendingBuffer=l?e<t?1:2:0}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(i);s&&(this.textOff+s<=this.text.length?this.textOff+=s:(this.skip+=s-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=n)}static build(e,t,i,r,n){let o=new wo(e,t,i,n);return o.openEnd=Mr.spans(r,t,i,o),o.openStart<0&&(o.openStart=o.openEnd),o.finish(o.openEnd),o}}function xo(e,t){for(let i of t)e=new Jn(i,[e],e.length);return e}class ko extends ho{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}}const Vo=zi.define(),Co=zi.define(),To=zi.define(),$o=zi.define(),Po=zi.define(),Qo=zi.define(),Ro=zi.define({combine:e=>e.some((e=>e))});class Io{constructor(e,t="nearest",i="nearest",r=5,n=5){this.range=e,this.y=t,this.x=i,this.yMargin=r,this.xMargin=n}map(e){return e.empty?this:new Io(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin)}}const Eo=Sr.define({map:(e,t)=>e.map(t)});function Do(e,t,i){let r=e.facet($o);r.length?r[0](t):window.onerror?window.onerror(String(t),i,void 0,void 0,t):i?console.error(i+":",t):console.error(t)}const Ao=zi.define({combine:e=>!e.length||e[0]});let _o=0;const Mo=zi.define();class Lo{constructor(e,t,i,r){this.id=e,this.create=t,this.domEventHandlers=i,this.extension=r(this)}static define(e,t){const{eventHandlers:i,provide:r,decorations:n}=t||{};return new Lo(_o++,e,i,(e=>{let t=[Mo.of(e)];return n&&t.push(Bo.of((t=>{let i=t.plugin(e);return i?n(i):fo.none}))),r&&t.push(r(e)),t}))}static fromClass(e,t){return Lo.define((t=>new e(t)),t)}}class Go{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let e=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(e)}catch(t){if(Do(e.state,t,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch(e){}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(t){Do(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(null===(t=this.value)||void 0===t?void 0:t.destroy)try{this.value.destroy()}catch(t){Do(e.state,t,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const No=zi.define(),Wo=zi.define(),Bo=zi.define(),zo=zi.define(),Fo=zi.define(),Uo=zi.define();class qo{constructor(e,t,i,r){this.fromA=e,this.toA=t,this.fromB=i,this.toB=r}join(e){return new qo(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,i=this;for(;t>0;t--){let r=e[t-1];if(!(r.fromA>i.toA)){if(r.toA<i.fromA)break;i=i.join(r),e.splice(t-1,1)}}return e.splice(t,0,i),e}static extendWithRanges(e,t){if(0==t.length)return e;let i=[];for(let r=0,n=0,o=0,s=0;;r++){let a=r==e.length?null:e[r],l=o-s,u=a?a.fromB:1e9;for(;n<t.length&&t[n]<u;){let e=t[n],r=t[n+1],o=Math.max(s,e),a=Math.min(u,r);if(o<=a&&new qo(o+l,a+l,o,a).addToSet(i),r>u)break;n+=2}if(!a)return i;new qo(a.fromA,a.toA,a.fromB,a.toB).addToSet(i),o=a.toA,s=a.toB}}}class Xo{constructor(e,t,i){this.view=e,this.state=t,this.transactions=i,this.flags=0,this.startState=e.state,this.changes=Ii.empty(this.startState.doc.length);for(let e of i)this.changes=this.changes.compose(e.changes);let r=[];this.changes.iterChangedRanges(((e,t,i,n)=>r.push(new qo(e,t,i,n)))),this.changedRanges=r;let n=e.hasFocus;n!=e.inputState.notifiedFocused&&(e.inputState.notifiedFocused=n,this.flags|=1)}static create(e,t,i){return new Xo(e,t,i)}get viewportChanged(){return(4&this.flags)>0}get heightChanged(){return(2&this.flags)>0}get geometryChanged(){return this.docChanged||(10&this.flags)>0}get focusChanged(){return(1&this.flags)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some((e=>e.selection))}get empty(){return 0==this.flags&&0==this.transactions.length}}var jo=function(e){return e[e.LTR=0]="LTR",e[e.RTL=1]="RTL",e}(jo||(jo={}));const Ho=jo.LTR,Zo=jo.RTL;function Yo(e){let t=[];for(let i=0;i<e.length;i++)t.push(1<<+e[i]);return t}const Jo=Yo("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),Ko=Yo("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),es=Object.create(null),ts=[];for(let e of["()","[]","{}"]){let t=e.charCodeAt(0),i=e.charCodeAt(1);es[t]=i,es[i]=-t}const is=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;class rs{constructor(e,t,i){this.from=e,this.to=t,this.level=i}get dir(){return this.level%2?Zo:Ho}side(e,t){return this.dir==t==e?this.to:this.from}static find(e,t,i,r){let n=-1;for(let o=0;o<e.length;o++){let s=e[o];if(s.from<=t&&s.to>=t){if(s.level==i)return o;(n<0||(0!=r?r<0?s.from<t:s.to>t:e[n].level>s.level))&&(n=o)}}if(n<0)throw new RangeError("Index out of range");return n}}const ns=[];function os(e){return[new rs(0,e,0)]}let ss="";function as(e,t,i,r,n){var o;let s=r.head-e.from,a=-1;if(0==s){if(!n||!e.length)return null;t[0].level!=i&&(s=t[0].side(!1,i),a=0)}else if(s==e.length){if(n)return null;let e=t[t.length-1];e.level!=i&&(s=e.side(!0,i),a=t.length-1)}a<0&&(a=rs.find(t,s,null!==(o=r.bidiLevel)&&void 0!==o?o:-1,r.assoc));let l=t[a];s==l.side(n,i)&&(l=t[a+=n?1:-1],s=l.side(!n,i));let u=n==(l.dir==i),c=vi(e.text,s,u);if(ss=e.text.slice(Math.min(s,c),Math.max(s,c)),c!=l.side(n,i))return Ni.cursor(c+e.from,u?-1:1,l.level);let d=a==(n?t.length-1:0)?null:t[a+(n?1:-1)];return d||l.level==i?d&&d.level<l.level?Ni.cursor(d.side(!n,i)+e.from,n?1:-1,d.level):Ni.cursor(c+e.from,n?-1:1,l.level):Ni.cursor(n?e.to:e.from,n?-1:1,i)}const ls="￿";class us{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(Rr.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=ls}readRange(e,t){if(!e)return this;let i=e.parentNode;for(let r=e;;){this.findPointBefore(i,r),this.readNode(r);let e=r.nextSibling;if(e==t)break;let n=Dn.get(r),o=Dn.get(e);(n&&o?n.breakAfter:(n?n.breakAfter:cs(r))||cs(e)&&("BR"!=r.nodeName||r.cmIgnore))&&this.lineBreak(),r=e}return this.findPointBefore(i,t),this}readTextNode(e){let t=e.nodeValue;for(let i of this.points)i.node==e&&(i.pos=this.text.length+Math.min(i.offset,t.length));for(let i=0,r=this.lineSeparator?null:/\r\n?|\n/g;;){let n,o=-1,s=1;if(this.lineSeparator?(o=t.indexOf(this.lineSeparator,i),s=this.lineSeparator.length):(n=r.exec(t))&&(o=n.index,s=n[0].length),this.append(t.slice(i,o<0?t.length:o)),o<0)break;if(this.lineBreak(),s>1)for(let t of this.points)t.node==e&&t.pos>this.text.length&&(t.pos-=s-1);i=o+s}}readNode(e){if(e.cmIgnore)return;let t=Dn.get(e),i=t&&t.overrideDOMText;if(null!=i){this.findPointInside(e,i.length);for(let e=i.iter();!e.next().done;)e.lineBreak?this.lineBreak():this.append(e.value)}else 3==e.nodeType?this.readTextNode(e):"BR"==e.nodeName?e.nextSibling&&this.lineBreak():1==e.nodeType&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let i of this.points)i.node==e&&e.childNodes[i.offset]==t&&(i.pos=this.text.length)}findPointInside(e,t){for(let i of this.points)(3==e.nodeType?i.node==e:e.contains(i.node))&&(i.pos=this.text.length+Math.min(t,i.offset))}}function cs(e){return 1==e.nodeType&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(e.nodeName)}class ds{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class hs extends Dn{constructor(e){super(),this.view=e,this.compositionDeco=fo.none,this.decorations=[],this.dynamicDecorationMap=[],this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new yo],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new qo(0,0,0,e.state.doc.length)],0)}get root(){return this.view.root}get editorView(){return this.view}get length(){return this.view.state.doc.length}update(e){let t=e.changedRanges;this.minWidth>0&&t.length&&(t.every((({fromA:e,toA:t})=>t<this.minWidthFrom||e>this.minWidthTo))?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.view.inputState.composing<0?this.compositionDeco=fo.none:(e.transactions.length||this.dirty)&&(this.compositionDeco=function(e,t){let i=fs(e);if(!i)return fo.none;let{from:r,to:n,node:o,text:s}=i,a=t.mapPos(r,1),l=Math.max(a,t.mapPos(n,-1)),{state:u}=e,c=3==o.nodeType?o.nodeValue:new us([],u).readRange(o.firstChild,null).text;if(l-a<c.length)if(u.doc.sliceString(a,Math.min(u.doc.length,a+c.length),ls)==c)l=a+c.length;else{if(u.doc.sliceString(Math.max(0,l-c.length),l,ls)!=c)return fo.none;a=l-c.length}else if(u.doc.sliceString(a,l,ls)!=c)return fo.none;let d=Dn.get(o);d instanceof to?d=d.widget.topView:d&&(d.parent=null);return fo.set(fo.replace({widget:new ms(o,s,d),inclusive:!0}).range(a,l))}(this.view,e.changes)),(Zn.ie||Zn.chrome)&&!this.compositionDeco.size&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let i=function(e,t,i){let r=new Os;return Mr.compare(e,t,i,r),r.changes}(this.decorations,this.updateDeco(),e.changes);return t=qo.extendWithRanges(t,i),(0!=this.dirty||0!=t.length)&&(this.updateInner(t,e.startState.doc.length),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t);let{observer:i}=this.view;i.ignore((()=>{this.dom.style.height=this.view.viewState.contentHeight+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let e=Zn.chrome||Zn.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.sync(e),this.dirty=0,e&&(e.written||i.selectionRange.focusNode!=e.node)&&(this.forceSelection=!0),this.dom.style.height=""}));let r=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let e of this.children)e instanceof vo&&e.widget instanceof ps&&r.push(e.dom);i.updateGaps(r)}updateChildren(e,t){let i=this.childCursor(t);for(let t=e.length-1;;t--){let r=t>=0?e[t]:null;if(!r)break;let{fromA:n,toA:o,fromB:s,toB:a}=r,{content:l,breakAtStart:u,openStart:c,openEnd:d}=wo.build(this.view.state.doc,s,a,this.decorations,this.dynamicDecorationMap),{i:h,off:p}=i.findPos(o,1),{i:f,off:m}=i.findPos(n,-1);Mn(this,f,m,h,p,l,u,c,d)}}updateSelection(e=!1,t=!1){if(e&&this.view.observer.readSelectionRange(),!t&&!this.mayControlSelection()||Zn.ios&&this.view.inputState.rapidCompositionStart)return;let i=this.forceSelection;this.forceSelection=!1;let r=this.view.state.selection.main,n=this.domAtPos(r.anchor),o=r.empty?n:this.domAtPos(r.head);if(Zn.gecko&&r.empty&&(1==(s=n).node.nodeType&&s.node.firstChild&&(0==s.offset||"false"==s.node.childNodes[s.offset-1].contentEditable)&&(s.offset==s.node.childNodes.length||"false"==s.node.childNodes[s.offset].contentEditable))){let e=document.createTextNode("");this.view.observer.ignore((()=>n.node.insertBefore(e,n.node.childNodes[n.offset]||null))),n=o=new In(e,0),i=!0}var s;let a=this.view.observer.selectionRange;!i&&a.focusNode&&bn(n.node,n.offset,a.anchorNode,a.anchorOffset)&&bn(o.node,o.offset,a.focusNode,a.focusOffset)||(this.view.observer.ignore((()=>{Zn.android&&Zn.chrome&&this.dom.contains(a.focusNode)&&function(e,t){for(let i=e;i&&i!=t;i=i.assignedSlot||i.parentNode)if(1==i.nodeType&&"false"==i.contentEditable)return!0;return!1}(a.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let e=fn(this.root);if(r.empty){if(Zn.gecko){let e=function(e,t){return 1!=e.nodeType?0:(t&&"false"==e.childNodes[t-1].contentEditable?1:0)|(t<e.childNodes.length&&"false"==e.childNodes[t].contentEditable?2:0)}(n.node,n.offset);if(e&&3!=e){let t=gs(n.node,n.offset,1==e?1:-1);t&&(n=new In(t,1==e?0:t.nodeValue.length))}}e.collapse(n.node,n.offset),null!=r.bidiLevel&&null!=a.cursorBidiLevel&&(a.cursorBidiLevel=r.bidiLevel)}else if(e.extend)e.collapse(n.node,n.offset),e.extend(o.node,o.offset);else{let t=document.createRange();r.anchor>r.head&&([n,o]=[o,n]),t.setEnd(o.node,o.offset),t.setStart(n.node,n.offset),e.removeAllRanges(),e.addRange(t)}})),this.view.observer.setSelectionRange(n,o)),this.impreciseAnchor=n.precise?null:new In(a.anchorNode,a.anchorOffset),this.impreciseHead=o.precise?null:new In(a.focusNode,a.focusOffset)}enforceCursorAssoc(){if(this.compositionDeco.size)return;let e=this.view.state.selection.main,t=fn(this.root);if(!e.empty||!e.assoc||!t.modify)return;let i=yo.find(this,e.head);if(!i)return;let r=i.posAtStart;if(e.head==r||e.head==r+i.length)return;let n=this.coordsAt(e.head,-1),o=this.coordsAt(e.head,1);if(!n||!o||n.bottom>o.top)return;let s=this.domAtPos(e.head+e.assoc);t.collapse(s.node,s.offset),t.modify("move",e.assoc<0?"forward":"backward","lineboundary")}mayControlSelection(){return this.view.state.facet(Ao)?this.root.activeElement==this.dom:gn(this.dom,this.view.observer.selectionRange)}nearest(e){for(let t=e;t;){let e=Dn.get(t);if(e&&e.rootView==this)return e;t=t.parentNode}return null}posFromDOM(e,t){let i=this.nearest(e);if(!i)throw new RangeError("Trying to find position for a DOM position outside of the document");return i.localPosFromDOM(e,t)+i.posAtStart}domAtPos(e){let{i:t,off:i}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let e=this.children[t];if(i<e.length||e instanceof yo)break;t++,i=0}return this.children[t].domAtPos(i)}coordsAt(e,t){for(let i=this.length,r=this.children.length-1;;r--){let n=this.children[r],o=i-n.breakAfter-n.length;if(e>o||e==o&&n.type!=po.WidgetBefore&&n.type!=po.WidgetAfter&&(!r||2==t||this.children[r-1].breakAfter||this.children[r-1].type==po.WidgetBefore&&t>-2))return n.coordsAt(e-o,t);i=o}}measureVisibleLineHeights(e){let t=[],{from:i,to:r}=e,n=this.view.contentDOM.clientWidth,o=n>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,s=-1,a=this.view.textDirection==jo.LTR;for(let e=0,l=0;l<this.children.length;l++){let u=this.children[l],c=e+u.length;if(c>r)break;if(e>=i){let i=u.dom.getBoundingClientRect();if(t.push(i.height),o){let t=u.dom.lastChild,r=t?On(t):[];if(r.length){let t=r[r.length-1],o=a?t.right-i.left:i.right-t.left;o>s&&(s=o,this.minWidth=n,this.minWidthFrom=e,this.minWidthTo=c)}}}e=c+u.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return"rtl"==getComputedStyle(this.children[t].dom).direction?jo.RTL:jo.LTR}measureTextSize(){for(let e of this.children)if(e instanceof yo){let t=e.measureTextSize();if(t)return t}let e,t,i=document.createElement("div");return i.className="cm-line",i.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore((()=>{this.dom.appendChild(i);let r=On(i.firstChild)[0];e=i.getBoundingClientRect().height,t=r?r.width/27:7,i.remove()})),{lineHeight:e,charWidth:t}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new _n(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let i=0,r=0;;r++){let n=r==t.viewports.length?null:t.viewports[r],o=n?n.from-1:this.length;if(o>i){let r=t.lineBlockAt(o).bottom-t.lineBlockAt(i).top;e.push(fo.replace({widget:new ps(r),block:!0,inclusive:!0,isBlockGap:!0}).range(i,o))}if(!n)break;i=n.to+1}return fo.set(e)}updateDeco(){let e=this.view.state.facet(Bo).map(((e,t)=>(this.dynamicDecorationMap[t]="function"==typeof e)?e(this.view):e));for(let t=e.length;t<e.length+3;t++)this.dynamicDecorationMap[t]=!1;return this.decorations=[...e,this.compositionDeco,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView(e){let t,{range:i}=e,r=this.coordsAt(i.head,i.empty?i.assoc:i.head>i.anchor?-1:1);if(!r)return;!i.empty&&(t=this.coordsAt(i.anchor,i.anchor>i.head?-1:1))&&(r={left:Math.min(r.left,t.left),top:Math.min(r.top,t.top),right:Math.max(r.right,t.right),bottom:Math.max(r.bottom,t.bottom)});let n=0,o=0,s=0,a=0;for(let e of this.view.state.facet(Fo).map((e=>e(this.view))))if(e){let{left:t,right:i,top:r,bottom:l}=e;null!=t&&(n=Math.max(n,t)),null!=i&&(o=Math.max(o,i)),null!=r&&(s=Math.max(s,r)),null!=l&&(a=Math.max(a,l))}let l={left:r.left-n,top:r.top-s,right:r.right+o,bottom:r.bottom+a};!function(e,t,i,r,n,o,s,a){let l=e.ownerDocument,u=l.defaultView;for(let c=e;c;)if(1==c.nodeType){let e,d=c==l.body;if(d)e=kn(u);else{if(c.scrollHeight<=c.clientHeight&&c.scrollWidth<=c.clientWidth){c=c.parentNode;continue}let t=c.getBoundingClientRect();e={left:t.left,right:t.left+c.clientWidth,top:t.top,bottom:t.top+c.clientHeight}}let h=0,p=0;if("nearest"==n)t.top<e.top?(p=-(e.top-t.top+s),i>0&&t.bottom>e.bottom+p&&(p=t.bottom-e.bottom+p+s)):t.bottom>e.bottom&&(p=t.bottom-e.bottom+s,i<0&&t.top-p<e.top&&(p=-(e.top+p-t.top+s)));else{let r=t.bottom-t.top,o=e.bottom-e.top;p=("center"==n&&r<=o?t.top+r/2-o/2:"start"==n||"center"==n&&i<0?t.top-s:t.bottom-o+s)-e.top}if("nearest"==r?t.left<e.left?(h=-(e.left-t.left+o),i>0&&t.right>e.right+h&&(h=t.right-e.right+h+o)):t.right>e.right&&(h=t.right-e.right+o,i<0&&t.left<e.left+h&&(h=-(e.left+h-t.left+o))):h=("center"==r?t.left+(t.right-t.left)/2-(e.right-e.left)/2:"start"==r==a?t.left-o:t.right-(e.right-e.left)+o)-e.left,h||p)if(d)u.scrollBy(h,p);else{if(p){let e=c.scrollTop;c.scrollTop+=p,p=c.scrollTop-e}if(h){let e=c.scrollLeft;c.scrollLeft+=h,h=c.scrollLeft-e}t={left:t.left-h,top:t.top-p,right:t.right-h,bottom:t.bottom-p}}if(d)break;c=c.assignedSlot||c.parentNode,r=n="nearest"}else{if(11!=c.nodeType)break;c=c.host}}(this.view.scrollDOM,l,i.head<i.anchor?-1:1,e.x,e.y,e.xMargin,e.yMargin,this.view.textDirection==jo.LTR)}}class ps extends ho{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get estimatedHeight(){return this.height}}function fs(e){let t=e.observer.selectionRange,i=t.focusNode&&gs(t.focusNode,t.focusOffset,0);if(!i)return null;let r=e.docView.nearest(i);if(!r)return null;if(r instanceof yo){let e=i;for(;e.parentNode!=r.dom;)e=e.parentNode;let t=e.previousSibling;for(;t&&!Dn.get(t);)t=t.previousSibling;let n=t?Dn.get(t).posAtEnd:r.posAtStart;return{from:n,to:n,node:e,text:i}}{for(;;){let{parent:e}=r;if(!e)return null;if(e instanceof yo)break;r=e}let e=r.posAtStart;return{from:e,to:e+r.length,node:r.dom,text:i}}}class ms extends ho{constructor(e,t,i){super(),this.top=e,this.text=t,this.topView=i}eq(e){return this.top==e.top&&this.text==e.text}toDOM(){return this.top}ignoreEvent(){return!1}get customView(){return to}}function gs(e,t,i){for(;;){if(3==e.nodeType)return e;if(1==e.nodeType&&t>0&&i<=0)t=vn(e=e.childNodes[t-1]);else{if(!(1==e.nodeType&&t<e.childNodes.length&&i>=0))return null;e=e.childNodes[t],t=0}}}class Os{constructor(){this.changes=[]}compareRange(e,t){So(e,t,this.changes)}comparePoint(e,t){So(e,t,this.changes)}}function bs(e,t){return t.left>e?t.left-e:Math.max(0,e-t.right)}function Ss(e,t){return t.top>e?t.top-e:Math.max(0,e-t.bottom)}function ys(e,t){return e.top<t.bottom-1&&e.bottom>t.top+1}function vs(e,t){return t<e.top?{top:t,left:e.left,right:e.right,bottom:e.bottom}:e}function ws(e,t){return t>e.bottom?{top:e.top,left:e.left,right:e.right,bottom:t}:e}function xs(e,t,i){let r,n,o,s,a,l,u,c;for(let d=e.firstChild;d;d=d.nextSibling){let e=On(d);for(let h=0;h<e.length;h++){let p=e[h];n&&ys(n,p)&&(p=vs(ws(p,n.bottom),n.top));let f=bs(t,p),m=Ss(i,p);if(0==f&&0==m)return 3==d.nodeType?ks(d,t,i):xs(d,t,i);(!r||s>m||s==m&&o>f)&&(r=d,n=p,o=f,s=m),0==f?i>p.bottom&&(!u||u.bottom<p.bottom)?(a=d,u=p):i<p.top&&(!c||c.top>p.top)&&(l=d,c=p):u&&ys(u,p)?u=ws(u,p.bottom):c&&ys(c,p)&&(c=vs(c,p.top))}}if(u&&u.bottom>=i?(r=a,n=u):c&&c.top<=i&&(r=l,n=c),!r)return{node:e,offset:0};let d=Math.max(n.left,Math.min(n.right,t));return 3==r.nodeType?ks(r,d,i):o||"true"!=r.contentEditable?{node:e,offset:Array.prototype.indexOf.call(e.childNodes,r)+(t>=(n.left+n.right)/2?1:0)}:xs(r,d,i)}function ks(e,t,i){let r=e.nodeValue.length,n=-1,o=1e9,s=0;for(let a=0;a<r;a++){let r=Pn(e,a,a+1).getClientRects();for(let l=0;l<r.length;l++){let u=r[l];if(u.top==u.bottom)continue;s||(s=t-u.left);let c=(u.top>i?u.top-i:i-u.bottom)-1;if(u.left-1<=t&&u.right+1>=t&&c<o){let i=t>=(u.left+u.right)/2,r=i;if(Zn.chrome||Zn.gecko){Pn(e,a).getBoundingClientRect().left==u.right&&(r=!i)}if(c<=0)return{node:e,offset:a+(r?1:0)};n=a+(r?1:0),o=c}}}return{node:e,offset:n>-1?n:s>0?e.nodeValue.length:0}}function Vs(e,{x:t,y:i},r,n=-1){var o;let s,a=e.contentDOM.getBoundingClientRect(),l=a.top+e.viewState.paddingTop,{docHeight:u}=e.viewState,c=i-l;if(c<0)return 0;if(c>u)return e.state.doc.length;for(let t=e.defaultLineHeight/2,i=!1;s=e.elementAtHeight(c),s.type!=po.Text;)for(;c=n>0?s.bottom+t:s.top-t,!(c>=0&&c<=u);){if(i)return r?null:0;i=!0,n=-n}i=l+c;let d=s.from;if(d<e.viewport.from)return 0==e.viewport.from?0:r?null:Cs(e,a,s,t,i);if(d>e.viewport.to)return e.viewport.to==e.state.doc.length?e.state.doc.length:r?null:Cs(e,a,s,t,i);let h=e.dom.ownerDocument,p=e.root.elementFromPoint?e.root:h,f=p.elementFromPoint(t,i);f&&!e.contentDOM.contains(f)&&(f=null),f||(t=Math.max(a.left+1,Math.min(a.right-1,t)),f=p.elementFromPoint(t,i),f&&!e.contentDOM.contains(f)&&(f=null));let m,g=-1;if(f&&0!=(null===(o=e.docView.nearest(f))||void 0===o?void 0:o.isEditable))if(h.caretPositionFromPoint){let e=h.caretPositionFromPoint(t,i);e&&({offsetNode:m,offset:g}=e)}else if(h.caretRangeFromPoint){let e=h.caretRangeFromPoint(t,i);e&&(({startContainer:m,startOffset:g}=e),Zn.safari&&function(e,t,i){let r;if(3!=e.nodeType||t!=(r=e.nodeValue.length))return!1;for(let t=e.nextSibling;t;t=t.nextSibling)if(1!=t.nodeType||"BR"!=t.nodeName)return!1;return Pn(e,r-1,r).getBoundingClientRect().left>i}(m,g,t)&&(m=void 0))}if(!m||!e.docView.dom.contains(m)){let r=yo.find(e.docView,d);if(!r)return c>s.top+s.height/2?s.to:s.from;({node:m,offset:g}=xs(r.dom,t,i))}return e.docView.posFromDOM(m,g)}function Cs(e,t,i,r,n){let o=Math.round((r-t.left)*e.defaultCharacterWidth);if(e.lineWrapping&&i.height>1.5*e.defaultLineHeight){o+=Math.floor((n-i.top)/e.defaultLineHeight)*e.viewState.heightOracle.lineLength}let s=e.state.sliceDoc(i.from,i.to);return i.from+Zr(s,o,e.state.tabSize)}function Ts(e,t,i,r){let n=e.state.doc.lineAt(t.head),o=e.bidiSpans(n),s=e.textDirectionAt(n.from);for(let a=t,l=null;;){let t=as(n,o,s,a,i),u=ss;if(!t){if(n.number==(i?e.state.doc.lines:1))return a;u="\n",n=e.state.doc.line(n.number+(i?1:-1)),o=e.bidiSpans(n),t=Ni.cursor(i?n.from:n.to)}if(l){if(!l(u))return a}else{if(!r)return t;l=r(u)}a=t}}function $s(e,t,i){let r=e.state.facet(zo).map((t=>t(e)));for(;;){let e=!1;for(let n of r)n.between(i.from-1,i.from+1,((r,n,o)=>{i.from>r&&i.from<n&&(i=t.from>i.from?Ni.cursor(r,1):Ni.cursor(n,-1),e=!0)}));if(!e)return i}}class Ps{constructor(e){this.lastKeyCode=0,this.lastKeyTime=0,this.chromeScrollHack=-1,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.registeredEvents=[],this.customHandlers=[],this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.rapidCompositionStart=!1,this.mouseSelection=null;for(let t in Ds){let i=Ds[t];e.contentDOM.addEventListener(t,(r=>{Es(e,r)&&!this.ignoreDuringComposition(r)&&("keydown"==t&&this.keydown(e,r)||(this.mustFlushObserver(r)&&e.observer.forceFlush(),this.runCustomHandlers(t,e,r)?r.preventDefault():i(e,r)))})),this.registeredEvents.push(t)}Zn.chrome&&Zn.chrome_version>=102&&e.scrollDOM.addEventListener("wheel",(()=>{this.chromeScrollHack<0?e.contentDOM.style.pointerEvents="none":window.clearTimeout(this.chromeScrollHack),this.chromeScrollHack=setTimeout((()=>{this.chromeScrollHack=-1,e.contentDOM.style.pointerEvents=""}),100)}),{passive:!0}),this.notifiedFocused=e.hasFocus,Zn.safari&&e.contentDOM.addEventListener("input",(()=>null))}setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}ensureHandlers(e,t){var i;let r;this.customHandlers=[];for(let n of t)if(r=null===(i=n.update(e).spec)||void 0===i?void 0:i.domEventHandlers){this.customHandlers.push({plugin:n.value,handlers:r});for(let t in r)this.registeredEvents.indexOf(t)<0&&"scroll"!=t&&(this.registeredEvents.push(t),e.contentDOM.addEventListener(t,(i=>{Es(e,i)&&this.runCustomHandlers(t,e,i)&&i.preventDefault()})))}}runCustomHandlers(e,t,i){for(let r of this.customHandlers){let n=r.handlers[e];if(n)try{if(n.call(r.plugin,i,t)||i.defaultPrevented)return!0}catch(e){Do(t.state,e)}}return!1}runScrollHandlers(e,t){for(let i of this.customHandlers){let r=i.handlers.scroll;if(r)try{r.call(i.plugin,t,e)}catch(t){Do(e.state,t)}}}keydown(e,t){if(this.lastKeyCode=t.keyCode,this.lastKeyTime=Date.now(),9==t.keyCode&&Date.now()<this.lastEscPress+2e3)return!0;if(Zn.android&&Zn.chrome&&!t.synthetic&&(13==t.keyCode||8==t.keyCode))return e.observer.delayAndroidKey(t.key,t.keyCode),!0;let i;return!(!Zn.ios||!(i=Qs.find((e=>e.keyCode==t.keyCode)))||t.ctrlKey||t.altKey||t.metaKey||t.synthetic)&&(this.pendingIOSKey=i,setTimeout((()=>this.flushIOSKey(e)),250),!0)}flushIOSKey(e){let t=this.pendingIOSKey;return!!t&&(this.pendingIOSKey=void 0,Qn(e.contentDOM,t.key,t.keyCode))}ignoreDuringComposition(e){return!!/^key/.test(e.type)&&(this.composing>0||!!(Zn.safari&&Date.now()-this.compositionEndedAt<100)&&(this.compositionEndedAt=0,!0))}mustFlushObserver(e){return"keydown"==e.type&&229!=e.keyCode||"compositionend"==e.type&&!Zn.ios}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.mouseSelection&&this.mouseSelection.update(e),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}const Qs=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],Rs=[16,17,18,20,91,92,224,225];class Is{constructor(e,t,i,r){this.view=e,this.style=i,this.mustSelect=r,this.lastEvent=t;let n=e.contentDOM.ownerDocument;n.addEventListener("mousemove",this.move=this.move.bind(this)),n.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(Rr.allowMultipleSelections)&&function(e,t){let i=e.state.facet(Vo);return i.length?i[0](t):Zn.mac?t.metaKey:t.ctrlKey}(e,t),this.dragMove=function(e,t){let i=e.state.facet(Co);return i.length?i[0](t):Zn.mac?!t.altKey:!t.ctrlKey}(e,t),this.dragging=!(!function(e,t){let{main:i}=e.state.selection;if(i.empty)return!1;let r=fn(e.root);if(0==r.rangeCount)return!0;let n=r.getRangeAt(0).getClientRects();for(let e=0;e<n.length;e++){let i=n[e];if(i.left<=t.clientX&&i.right>=t.clientX&&i.top<=t.clientY&&i.bottom>=t.clientY)return!0}return!1}(e,t)||1!=Xs(t))&&null,!1===this.dragging&&(t.preventDefault(),this.select(t))}move(e){if(0==e.buttons)return this.destroy();!1===this.dragging&&this.select(this.lastEvent=e)}up(e){null==this.dragging&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=null}select(e){let t=this.style.get(e,this.extend,this.multiple);!this.mustSelect&&t.eq(this.view.state.selection)&&t.main.assoc==this.view.state.selection.main.assoc||this.view.dispatch({selection:t,userEvent:"select.pointer",scrollIntoView:!0}),this.mustSelect=!1}update(e){e.docChanged&&this.dragging&&(this.dragging=this.dragging.map(e.changes)),this.style.update(e)&&setTimeout((()=>this.select(this.lastEvent)),20)}}function Es(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let i,r=t.target;r!=e.contentDOM;r=r.parentNode)if(!r||11==r.nodeType||(i=Dn.get(r))&&i.ignoreEvent(t))return!1;return!0}const Ds=Object.create(null),As=Zn.ie&&Zn.ie_version<15||Zn.ios&&Zn.webkit_version<604;function _s(e,t){let i,{state:r}=e,n=1,o=r.toText(t),s=o.lines==r.selection.ranges.length;if(null!=Hs&&r.selection.ranges.every((e=>e.empty))&&Hs==o.toString()){let e=-1;i=r.changeByRange((i=>{let a=r.doc.lineAt(i.from);if(a.from==e)return{range:i};e=a.from;let l=r.toText((s?o.line(n++).text:t)+r.lineBreak);return{changes:{from:a.from,insert:l},range:Ni.cursor(i.from+l.length)}}))}else i=s?r.changeByRange((e=>{let t=o.line(n++);return{changes:{from:e.from,to:e.to,insert:t.text},range:Ni.cursor(e.from+t.length)}})):r.replaceSelection(o);e.dispatch(i,{userEvent:"input.paste",scrollIntoView:!0})}Ds.keydown=(e,t)=>{e.inputState.setSelectionOrigin("select"),27==t.keyCode?e.inputState.lastEscPress=Date.now():Rs.indexOf(t.keyCode)<0&&(e.inputState.lastEscPress=0)};let Ms=0;function Ls(e,t,i,r){if(1==r)return Ni.cursor(t,i);if(2==r)return function(e,t,i=1){let r=e.charCategorizer(t),n=e.doc.lineAt(t),o=t-n.from;if(0==n.length)return Ni.cursor(t);0==o?i=1:o==n.length&&(i=-1);let s=o,a=o;i<0?s=vi(n.text,o,!1):a=vi(n.text,o);let l=r(n.text.slice(s,a));for(;s>0;){let e=vi(n.text,s,!1);if(r(n.text.slice(e,s))!=l)break;s=e}for(;a<n.length;){let e=vi(n.text,a);if(r(n.text.slice(a,e))!=l)break;a=e}return Ni.range(s+n.from,a+n.from)}(e.state,t,i);{let i=yo.find(e.docView,t),r=e.state.doc.lineAt(i?i.posAtEnd:t),n=i?i.posAtStart:r.from,o=i?i.posAtEnd:r.to;return o<e.state.doc.length&&o==r.to&&o++,Ni.range(n,o)}}Ds.touchstart=(e,t)=>{Ms=Date.now(),e.inputState.setSelectionOrigin("select.pointer")},Ds.touchmove=e=>{e.inputState.setSelectionOrigin("select.pointer")},Ds.mousedown=(e,t)=>{if(e.observer.flush(),Ms>Date.now()-2e3&&1==Xs(t))return;let i=null;for(let r of e.state.facet(To))if(i=r(e,t),i)break;if(i||0!=t.button||(i=function(e,t){let i=Bs(e,t),r=Xs(t),n=e.state.selection,o=i,s=t;return{update(e){e.docChanged&&(i&&(i.pos=e.changes.mapPos(i.pos)),n=n.map(e.changes),s=null)},get(t,a,l){let u;if(s&&t.clientX==s.clientX&&t.clientY==s.clientY?u=o:(u=o=Bs(e,t),s=t),!u||!i)return n;let c=Ls(e,u.pos,u.bias,r);if(i.pos!=u.pos&&!a){let t=Ls(e,i.pos,i.bias,r),n=Math.min(t.from,c.from),o=Math.max(t.to,c.to);c=n<c.from?Ni.range(n,o):Ni.range(o,n)}return a?n.replaceRange(n.main.extend(c.from,c.to)):l?n.addRange(c):Ni.create([c])}}}(e,t)),i){let r=e.root.activeElement!=e.contentDOM;r&&e.observer.ignore((()=>$n(e.contentDOM))),e.inputState.startMouseSelection(new Is(e,t,i,r))}};let Gs=(e,t)=>e>=t.top&&e<=t.bottom,Ns=(e,t,i)=>Gs(t,i)&&e>=i.left&&e<=i.right;function Ws(e,t,i,r){let n=yo.find(e.docView,t);if(!n)return 1;let o=t-n.posAtStart;if(0==o)return 1;if(o==n.length)return-1;let s=n.coordsAt(o,-1);if(s&&Ns(i,r,s))return-1;let a=n.coordsAt(o,1);return a&&Ns(i,r,a)?1:s&&Gs(r,s)?-1:1}function Bs(e,t){let i=e.posAtCoords({x:t.clientX,y:t.clientY},!1);return{pos:i,bias:Ws(e,i,t.clientX,t.clientY)}}const zs=Zn.ie&&Zn.ie_version<=11;let Fs=null,Us=0,qs=0;function Xs(e){if(!zs)return e.detail;let t=Fs,i=qs;return Fs=e,qs=Date.now(),Us=!t||i>Date.now()-400&&Math.abs(t.clientX-e.clientX)<2&&Math.abs(t.clientY-e.clientY)<2?(Us+1)%3:1}function js(e,t,i,r){if(!i)return;let n=e.posAtCoords({x:t.clientX,y:t.clientY},!1);t.preventDefault();let{mouseSelection:o}=e.inputState,s=r&&o&&o.dragging&&o.dragMove?{from:o.dragging.from,to:o.dragging.to}:null,a={from:n,insert:i},l=e.state.changes(s?[s,a]:a);e.focus(),e.dispatch({changes:l,selection:{anchor:l.mapPos(n,-1),head:l.mapPos(n,1)},userEvent:s?"move.drop":"input.drop"})}Ds.dragstart=(e,t)=>{let{selection:{main:i}}=e.state,{mouseSelection:r}=e.inputState;r&&(r.dragging=i),t.dataTransfer&&(t.dataTransfer.setData("Text",e.state.sliceDoc(i.from,i.to)),t.dataTransfer.effectAllowed="copyMove")},Ds.drop=(e,t)=>{if(!t.dataTransfer)return;if(e.state.readOnly)return t.preventDefault();let i=t.dataTransfer.files;if(i&&i.length){t.preventDefault();let r=Array(i.length),n=0,o=()=>{++n==i.length&&js(e,t,r.filter((e=>null!=e)).join(e.state.lineBreak),!1)};for(let e=0;e<i.length;e++){let t=new FileReader;t.onerror=o,t.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(t.result)||(r[e]=t.result),o()},t.readAsText(i[e])}}else js(e,t,t.dataTransfer.getData("Text"),!0)},Ds.paste=(e,t)=>{if(e.state.readOnly)return t.preventDefault();e.observer.flush();let i=As?null:t.clipboardData;i?(_s(e,i.getData("text/plain")),t.preventDefault()):function(e){let t=e.dom.parentNode;if(!t)return;let i=t.appendChild(document.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px",i.focus(),setTimeout((()=>{e.focus(),i.remove(),_s(e,i.value)}),50)}(e)};let Hs=null;function Zs(e){setTimeout((()=>{e.hasFocus!=e.inputState.notifiedFocused&&e.update([])}),10)}function Ys(e,t){if(e.docView.compositionDeco.size){e.inputState.rapidCompositionStart=t;try{e.update([])}finally{e.inputState.rapidCompositionStart=!1}}}Ds.copy=Ds.cut=(e,t)=>{let{text:i,ranges:r,linewise:n}=function(e){let t=[],i=[],r=!1;for(let r of e.selection.ranges)r.empty||(t.push(e.sliceDoc(r.from,r.to)),i.push(r));if(!t.length){let n=-1;for(let{from:r}of e.selection.ranges){let o=e.doc.lineAt(r);o.number>n&&(t.push(o.text),i.push({from:o.from,to:Math.min(e.doc.length,o.to+1)})),n=o.number}r=!0}return{text:t.join(e.lineBreak),ranges:i,linewise:r}}(e.state);if(!i&&!n)return;Hs=n?i:null;let o=As?null:t.clipboardData;o?(t.preventDefault(),o.clearData(),o.setData("text/plain",i)):function(e,t){let i=e.dom.parentNode;if(!i)return;let r=i.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=t,r.focus(),r.selectionEnd=t.length,r.selectionStart=0,setTimeout((()=>{r.remove(),e.focus()}),50)}(e,i),"cut"!=t.type||e.state.readOnly||e.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"})},Ds.focus=Zs,Ds.blur=e=>{e.observer.clearSelectionRange(),Zs(e)},Ds.compositionstart=Ds.compositionupdate=e=>{null==e.inputState.compositionFirstChange&&(e.inputState.compositionFirstChange=!0),e.inputState.composing<0&&(e.inputState.composing=0,e.docView.compositionDeco.size&&(e.observer.flush(),Ys(e,!0)))},Ds.compositionend=e=>{e.inputState.composing=-1,e.inputState.compositionEndedAt=Date.now(),e.inputState.compositionFirstChange=null,setTimeout((()=>{e.inputState.composing<0&&Ys(e,!1)}),50)},Ds.contextmenu=e=>{e.inputState.lastContextMenu=Date.now()},Ds.beforeinput=(e,t)=>{var i;let r;if(Zn.chrome&&Zn.android&&(r=Qs.find((e=>e.inputType==t.inputType)))&&(e.observer.delayAndroidKey(r.key,r.keyCode),"Backspace"==r.key||"Delete"==r.key)){let t=(null===(i=window.visualViewport)||void 0===i?void 0:i.height)||0;setTimeout((()=>{var i;((null===(i=window.visualViewport)||void 0===i?void 0:i.height)||0)>t+10&&e.hasFocus&&(e.contentDOM.blur(),e.focus())}),100)}};const Js=["pre-wrap","normal","pre-line","break-spaces"];class Ks{constructor(){this.doc=ui.empty,this.lineWrapping=!1,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.lineLength=30,this.heightChanged=!1}heightForGap(e,t){let i=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(i+=Math.ceil((t-e-i*this.lineLength*.5)/this.lineLength)),this.lineHeight*i}heightForLine(e){if(!this.lineWrapping)return this.lineHeight;return(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return Js.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let i=0;i<e.length;i++){let r=e[i];r<0?i++:this.heightSamples[Math.floor(10*r)]||(t=!0,this.heightSamples[Math.floor(10*r)]=!0)}return t}refresh(e,t,i,r,n){let o=Js.indexOf(e)>-1,s=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=o;if(this.lineWrapping=o,this.lineHeight=t,this.charWidth=i,this.lineLength=r,s){this.heightSamples={};for(let e=0;e<n.length;e++){let t=n[e];t<0?e++:this.heightSamples[Math.floor(10*t)]=!0}}return s}}class ea{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class ta{constructor(e,t,i,r,n){this.from=e,this.length=t,this.top=i,this.height=r,this.type=n}get to(){return this.from+this.length}get bottom(){return this.top+this.height}join(e){let t=(Array.isArray(this.type)?this.type:[this]).concat(Array.isArray(e.type)?e.type:[e]);return new ta(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var ia=function(e){return e[e.ByPos=0]="ByPos",e[e.ByHeight=1]="ByHeight",e[e.ByPosNoHeight=2]="ByPosNoHeight",e}(ia||(ia={}));const ra=.001;class na{constructor(e,t,i=2){this.length=e,this.height=t,this.flags=i}get outdated(){return(2&this.flags)>0}set outdated(e){this.flags=(e?2:0)|-3&this.flags}setHeight(e,t){this.height!=t&&(Math.abs(this.height-t)>ra&&(e.heightChanged=!0),this.height=t)}replace(e,t,i){return na.of(i)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,i,r){let n=this;for(let o=r.length-1;o>=0;o--){let{fromA:s,toA:a,fromB:l,toB:u}=r[o],c=n.lineAt(s,ia.ByPosNoHeight,t,0,0),d=c.to>=a?c:n.lineAt(a,ia.ByPosNoHeight,t,0,0);for(u+=d.to-a,a=d.to;o>0&&c.from<=r[o-1].toA;)s=r[o-1].fromA,l=r[o-1].fromB,o--,s<c.from&&(c=n.lineAt(s,ia.ByPosNoHeight,t,0,0));l+=c.from-s,s=c.from;let h=ca.build(i,e,l,u);n=n.replace(s,a,h)}return n.updateHeight(i,0)}static empty(){return new sa(0,0)}static of(e){if(1==e.length)return e[0];let t=0,i=e.length,r=0,n=0;for(;;)if(t==i)if(r>2*n){let n=e[t-1];n.break?e.splice(--t,1,n.left,null,n.right):e.splice(--t,1,n.left,n.right),i+=1+n.break,r-=n.size}else{if(!(n>2*r))break;{let t=e[i];t.break?e.splice(i,1,t.left,null,t.right):e.splice(i,1,t.left,t.right),i+=2+t.break,n-=t.size}}else if(r<n){let i=e[t++];i&&(r+=i.size)}else{let t=e[--i];t&&(n+=t.size)}let o=0;return null==e[t-1]?(o=1,t--):null==e[t]&&(o=1,i++),new la(na.of(e.slice(0,t)),o,na.of(e.slice(i)))}}na.prototype.size=1;class oa extends na{constructor(e,t,i){super(e,t),this.type=i}blockAt(e,t,i,r){return new ta(r,this.length,i,this.height,this.type)}lineAt(e,t,i,r,n){return this.blockAt(0,i,r,n)}forEachLine(e,t,i,r,n,o){e<=n+this.length&&t>=n&&o(this.blockAt(0,i,r,n))}updateHeight(e,t=0,i=!1,r){return r&&r.from<=t&&r.more&&this.setHeight(e,r.heights[r.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class sa extends oa{constructor(e,t){super(e,t,po.Text),this.collapsed=0,this.widgetHeight=0}replace(e,t,i){let r=i[0];return 1==i.length&&(r instanceof sa||r instanceof aa&&4&r.flags)&&Math.abs(this.length-r.length)<10?(r instanceof aa?r=new sa(r.length,this.height):r.height=this.height,this.outdated||(r.outdated=!1),r):na.of(i)}updateHeight(e,t=0,i=!1,r){return r&&r.from<=t&&r.more?this.setHeight(e,r.heights[r.index++]):(i||this.outdated)&&this.setHeight(e,Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class aa extends na{constructor(e){super(e,0)}lines(e,t){let i=e.lineAt(t).number,r=e.lineAt(t+this.length).number;return{firstLine:i,lastLine:r,lineHeight:this.height/(r-i+1)}}blockAt(e,t,i,r){let{firstLine:n,lastLine:o,lineHeight:s}=this.lines(t,r),a=Math.max(0,Math.min(o-n,Math.floor((e-i)/s))),{from:l,length:u}=t.line(n+a);return new ta(l,u,i+s*a,s,po.Text)}lineAt(e,t,i,r,n){if(t==ia.ByHeight)return this.blockAt(e,i,r,n);if(t==ia.ByPosNoHeight){let{from:t,to:r}=i.lineAt(e);return new ta(t,r-t,0,0,po.Text)}let{firstLine:o,lineHeight:s}=this.lines(i,n),{from:a,length:l,number:u}=i.lineAt(e);return new ta(a,l,r+s*(u-o),s,po.Text)}forEachLine(e,t,i,r,n,o){let{firstLine:s,lineHeight:a}=this.lines(i,n);for(let l=Math.max(e,n),u=Math.min(n+this.length,t);l<=u;){let t=i.lineAt(l);l==e&&(r+=a*(t.number-s)),o(new ta(t.from,t.length,r,a,po.Text)),r+=a,l=t.to+1}}replace(e,t,i){let r=this.length-t;if(r>0){let e=i[i.length-1];e instanceof aa?i[i.length-1]=new aa(e.length+r):i.push(null,new aa(r-1))}if(e>0){let t=i[0];t instanceof aa?i[0]=new aa(e+t.length):i.unshift(new aa(e-1),null)}return na.of(i)}decomposeLeft(e,t){t.push(new aa(e-1),null)}decomposeRight(e,t){t.push(null,new aa(this.length-e-1))}updateHeight(e,t=0,i=!1,r){let n=t+this.length;if(r&&r.from<=t+this.length&&r.more){let i=[],o=Math.max(t,r.from),s=-1,a=e.heightChanged;for(r.from>t&&i.push(new aa(r.from-t-1).updateHeight(e,t));o<=n&&r.more;){let t=e.doc.lineAt(o).length;i.length&&i.push(null);let n=r.heights[r.index++];-1==s?s=n:Math.abs(n-s)>=ra&&(s=-2);let a=new sa(t,n);a.outdated=!1,i.push(a),o+=t+1}o<=n&&i.push(null,new aa(n-o).updateHeight(e,o));let l=na.of(i);return e.heightChanged=a||s<0||Math.abs(l.height-this.height)>=ra||Math.abs(s-this.lines(e.doc,t).lineHeight)>=ra,l}return(i||this.outdated)&&(this.setHeight(e,e.heightForGap(t,t+this.length)),this.outdated=!1),this}toString(){return`gap(${this.length})`}}class la extends na{constructor(e,t,i){super(e.length+t+i.length,e.height+i.height,t|(e.outdated||i.outdated?2:0)),this.left=e,this.right=i,this.size=e.size+i.size}get break(){return 1&this.flags}blockAt(e,t,i,r){let n=i+this.left.height;return e<n?this.left.blockAt(e,t,i,r):this.right.blockAt(e,t,n,r+this.left.length+this.break)}lineAt(e,t,i,r,n){let o=r+this.left.height,s=n+this.left.length+this.break,a=t==ia.ByHeight?e<o:e<s,l=a?this.left.lineAt(e,t,i,r,n):this.right.lineAt(e,t,i,o,s);if(this.break||(a?l.to<s:l.from>s))return l;let u=t==ia.ByPosNoHeight?ia.ByPosNoHeight:ia.ByPos;return a?l.join(this.right.lineAt(s,u,i,o,s)):this.left.lineAt(s,u,i,r,n).join(l)}forEachLine(e,t,i,r,n,o){let s=r+this.left.height,a=n+this.left.length+this.break;if(this.break)e<a&&this.left.forEachLine(e,t,i,r,n,o),t>=a&&this.right.forEachLine(e,t,i,s,a,o);else{let l=this.lineAt(a,ia.ByPos,i,r,n);e<l.from&&this.left.forEachLine(e,l.from-1,i,r,n,o),l.to>=e&&l.from<=t&&o(l),t>l.to&&this.right.forEachLine(l.to+1,t,i,s,a,o)}}replace(e,t,i){let r=this.left.length+this.break;if(t<r)return this.balanced(this.left.replace(e,t,i),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-r,t-r,i));let n=[];e>0&&this.decomposeLeft(e,n);let o=n.length;for(let e of i)n.push(e);if(e>0&&ua(n,o-1),t<this.length){let e=n.length;this.decomposeRight(t,n),ua(n,e)}return na.of(n)}decomposeLeft(e,t){let i=this.left.length;if(e<=i)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(i++,e>=i&&t.push(null)),e>i&&this.right.decomposeLeft(e-i,t)}decomposeRight(e,t){let i=this.left.length,r=i+this.break;if(e>=r)return this.right.decomposeRight(e-r,t);e<i&&this.left.decomposeRight(e,t),this.break&&e<r&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?na.of(this.break?[e,null,t]:[e,t]):(this.left=e,this.right=t,this.height=e.height+t.height,this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,i=!1,r){let{left:n,right:o}=this,s=t+n.length+this.break,a=null;return r&&r.from<=t+n.length&&r.more?a=n=n.updateHeight(e,t,i,r):n.updateHeight(e,t,i),r&&r.from<=s+o.length&&r.more?a=o=o.updateHeight(e,s,i,r):o.updateHeight(e,s,i),a?this.balanced(n,o):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function ua(e,t){let i,r;null==e[t]&&(i=e[t-1])instanceof aa&&(r=e[t+1])instanceof aa&&e.splice(t-1,3,new aa(i.length+1+r.length))}class ca{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let e=Math.min(t,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof sa?i.length+=e-this.pos:(e>this.pos||!this.isCovered)&&this.nodes.push(new sa(e-this.pos,-1)),this.writtenTo=e,t>e&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,i){if(e<t||i.heightRelevant){let r=i.widget?i.widget.estimatedHeight:0;r<0&&(r=this.oracle.lineHeight);let n=t-e;i.block?this.addBlock(new oa(n,r,i.type)):(n||r>=5)&&this.addLineDeco(r,n)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||null==this.nodes[this.nodes.length-1])&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new sa(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let i=new aa(t-e);return this.oracle.doc.lineAt(e).to==t&&(i.flags|=4),i}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof sa)return e;let t=new sa(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine(),e.type!=po.WidgetAfter||this.isCovered||this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,e.type!=po.WidgetBefore&&(this.covering=e)}addLineDeco(e,t){let i=this.ensureLine();i.length+=t,i.collapsed+=t,i.widgetHeight=Math.max(i.widgetHeight,e),this.writtenTo=this.pos=this.pos+t}finish(e){let t=0==this.nodes.length?null:this.nodes[this.nodes.length-1];!(this.lineStart>-1)||t instanceof sa||this.isCovered?(this.writtenTo<this.pos||null==t)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos)):this.nodes.push(new sa(0,-1));let i=e;for(let e of this.nodes)e instanceof sa&&e.updateHeight(this.oracle,i),i+=e?e.length:1;return this.nodes}static build(e,t,i,r){let n=new ca(i,e);return Mr.spans(t,i,r,n,0),n.finish(i)}}class da{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,i,r){(e<t||i&&i.heightRelevant||r&&r.heightRelevant)&&So(e,t,this.changes,5)}}function ha(e,t){let i=e.getBoundingClientRect(),r=Math.max(0,i.left),n=Math.min(innerWidth,i.right),o=Math.max(0,i.top),s=Math.min(innerHeight,i.bottom),a=e.ownerDocument.body;for(let t=e.parentNode;t&&t!=a;)if(1==t.nodeType){let e=t,i=window.getComputedStyle(e);if((e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth)&&"visible"!=i.overflow){let t=e.getBoundingClientRect();r=Math.max(r,t.left),n=Math.min(n,t.right),o=Math.max(o,t.top),s=Math.min(s,t.bottom)}t="absolute"==i.position||"fixed"==i.position?e.offsetParent:e.parentNode}else{if(11!=t.nodeType)break;t=t.host}return{left:r-i.left,right:Math.max(r,n)-i.left,top:o-(i.top+t),bottom:Math.max(o,s)-(i.top+t)}}function pa(e,t){let i=e.getBoundingClientRect();return{left:0,right:i.right-i.left,top:t,bottom:i.bottom-(i.top+t)}}class fa{constructor(e,t,i){this.from=e,this.to=t,this.size=i}static same(e,t){if(e.length!=t.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],n=t[i];if(r.from!=n.from||r.to!=n.to||r.size!=n.size)return!1}return!0}draw(e){return fo.replace({widget:new ma(this.size,e)}).range(this.from,this.to)}}class ma extends ho{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class ga{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.heightOracle=new Ks,this.scaler=xa,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=jo.RTL,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1,this.stateDeco=e.facet(Bo).filter((e=>"function"!=typeof e)),this.heightMap=na.empty().applyChanges(this.stateDeco,ui.empty,this.heightOracle.setDoc(e.doc),[new qo(0,0,0,e.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=fo.set(this.lineGaps.map((e=>e.draw(!1)))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let i=0;i<=1;i++){let r=i?t.head:t.anchor;if(!e.some((({from:e,to:t})=>r>=e&&r<=t))){let{from:t,to:i}=this.lineBlockAt(r);e.push(new Oa(t,i))}}this.viewports=e.sort(((e,t)=>e.from-t.from)),this.scaler=this.heightMap.height<=7e6?xa:new ka(this.heightOracle.doc,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.state.doc,0,0,(e=>{this.viewportLines.push(1==this.scaler.scale?e:Va(e,this.scaler))}))}update(e,t=null){this.state=e.state;let i=this.stateDeco;this.stateDeco=this.state.facet(Bo).filter((e=>"function"!=typeof e));let r=e.changedRanges,n=qo.extendWithRanges(r,function(e,t,i){let r=new da;return Mr.compare(e,t,i,r,0),r.changes}(i,this.stateDeco,e?e.changes:Ii.empty(this.state.doc.length))),o=this.heightMap.height;this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),n),this.heightMap.height!=o&&(e.flags|=2);let s=n.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<s.from||t.range.head>s.to)||!this.viewportIsAppropriate(s))&&(s=this.getViewport(0,t));let a=!e.changes.empty||2&e.flags||s.from!=this.viewport.from||s.to!=this.viewport.to;this.viewport=s,this.updateForViewport(),a&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,i=window.getComputedStyle(t),r=this.heightOracle,n=i.whiteSpace;this.defaultTextDirection="rtl"==i.direction?jo.RTL:jo.LTR;let o=this.heightOracle.mustRefreshForWrapping(n),s=o||this.mustMeasureContent||this.contentDOMHeight!=t.clientHeight;this.contentDOMHeight=t.clientHeight,this.mustMeasureContent=!1;let a=0,l=0,u=parseInt(i.paddingTop)||0,c=parseInt(i.paddingBottom)||0;this.paddingTop==u&&this.paddingBottom==c||(this.paddingTop=u,this.paddingBottom=c,a|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(r.lineWrapping&&(s=!0),this.editorWidth=e.scrollDOM.clientWidth,a|=8);let d=(this.printing?pa:ha)(t,this.paddingTop),h=d.top-this.pixelViewport.top,p=d.bottom-this.pixelViewport.bottom;this.pixelViewport=d;let f=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(f!=this.inView&&(this.inView=f,f&&(s=!0)),!this.inView)return 0;let m=t.clientWidth;if(this.contentDOMWidth==m&&this.editorHeight==e.scrollDOM.clientHeight||(this.contentDOMWidth=m,this.editorHeight=e.scrollDOM.clientHeight,a|=8),s){let t=e.docView.measureVisibleLineHeights(this.viewport);if(r.mustRefreshForHeights(t)&&(o=!0),o||r.lineWrapping&&Math.abs(m-this.contentDOMWidth)>r.charWidth){let{lineHeight:i,charWidth:s}=e.docView.measureTextSize();o=r.refresh(n,i,s,m/s,t),o&&(e.docView.minWidth=0,a|=8)}h>0&&p>0?l=Math.max(h,p):h<0&&p<0&&(l=Math.min(h,p)),r.heightChanged=!1;for(let i of this.viewports){let n=i.from==this.viewport.from?t:e.docView.measureVisibleLineHeights(i);this.heightMap=this.heightMap.updateHeight(r,0,o,new ea(i.from,n))}r.heightChanged&&(a|=2)}let g=!this.viewportIsAppropriate(this.viewport,l)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return g&&(this.viewport=this.getViewport(l,this.scrollTarget)),this.updateForViewport(),(2&a||g)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(o?[]:this.lineGaps)),a|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),a}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let i=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),r=this.heightMap,n=this.state.doc,{visibleTop:o,visibleBottom:s}=this,a=new Oa(r.lineAt(o-1e3*i,ia.ByHeight,n,0,0).from,r.lineAt(s+1e3*(1-i),ia.ByHeight,n,0,0).to);if(t){let{head:e}=t.range;if(e<a.from||e>a.to){let i,o=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),s=r.lineAt(e,ia.ByPos,n,0,0);i="center"==t.y?(s.top+s.bottom)/2-o/2:"start"==t.y||"nearest"==t.y&&e<a.from?s.top:s.bottom-o,a=new Oa(r.lineAt(i-500,ia.ByHeight,n,0,0).from,r.lineAt(i+o+500,ia.ByHeight,n,0,0).to)}}return a}mapViewport(e,t){let i=t.mapPos(e.from,-1),r=t.mapPos(e.to,1);return new Oa(this.heightMap.lineAt(i,ia.ByPos,this.state.doc,0,0).from,this.heightMap.lineAt(r,ia.ByPos,this.state.doc,0,0).to)}viewportIsAppropriate({from:e,to:t},i=0){if(!this.inView)return!0;let{top:r}=this.heightMap.lineAt(e,ia.ByPos,this.state.doc,0,0),{bottom:n}=this.heightMap.lineAt(t,ia.ByPos,this.state.doc,0,0),{visibleTop:o,visibleBottom:s}=this;return(0==e||r<=o-Math.max(10,Math.min(-i,250)))&&(t==this.state.doc.length||n>=s+Math.max(10,Math.min(i,250)))&&r>o-2e3&&n<s+2e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let i=[];for(let r of e)t.touchesRange(r.from,r.to)||i.push(new fa(t.mapPos(r.from),t.mapPos(r.to),r.size));return i}ensureLineGaps(e){let t=[];if(this.defaultTextDirection!=jo.LTR)return t;for(let i of this.viewportLines){if(i.length<4e3)continue;let r,n,o=ba(i.from,i.to,this.stateDeco);if(o.total<4e3)continue;if(this.heightOracle.lineWrapping){let e=2e3/this.heightOracle.lineLength*this.heightOracle.lineHeight;r=Sa(o,(this.visibleTop-i.top-e)/i.height),n=Sa(o,(this.visibleBottom-i.top+e)/i.height)}else{let e=o.total*this.heightOracle.charWidth,t=2e3*this.heightOracle.charWidth;r=Sa(o,(this.pixelViewport.left-t)/e),n=Sa(o,(this.pixelViewport.right+t)/e)}let s=[];r>i.from&&s.push({from:i.from,to:r}),n<i.to&&s.push({from:n,to:i.to});let a=this.state.selection.main;a.from>=i.from&&a.from<=i.to&&va(s,a.from-10,a.from+10),!a.empty&&a.to>=i.from&&a.to<=i.to&&va(s,a.to-10,a.to+10);for(let{from:r,to:n}of s)n-r>1e3&&t.push(wa(e,(e=>e.from>=i.from&&e.to<=i.to&&Math.abs(e.from-r)<1e3&&Math.abs(e.to-n)<1e3))||new fa(r,n,this.gapSize(i,r,n,o)))}return t}gapSize(e,t,i,r){let n=ya(r,i)-ya(r,t);return this.heightOracle.lineWrapping?e.height*n:r.total*this.heightOracle.charWidth*n}updateLineGaps(e){fa.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=fo.set(e.map((e=>e.draw(this.heightOracle.lineWrapping)))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let t=[];Mr.spans(e,this.viewport.from,this.viewport.to,{span(e,i){t.push({from:e,to:i})},point(){}},20);let i=t.length!=this.visibleRanges.length||this.visibleRanges.some(((e,i)=>e.from!=t[i].from||e.to!=t[i].to));return this.visibleRanges=t,i?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find((t=>t.from<=e&&t.to>=e))||Va(this.heightMap.lineAt(e,ia.ByPos,this.state.doc,0,0),this.scaler)}lineBlockAtHeight(e){return Va(this.heightMap.lineAt(this.scaler.fromDOM(e),ia.ByHeight,this.state.doc,0,0),this.scaler)}elementAtHeight(e){return Va(this.heightMap.blockAt(this.scaler.fromDOM(e),this.state.doc,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Oa{constructor(e,t){this.from=e,this.to=t}}function ba(e,t,i){let r=[],n=e,o=0;return Mr.spans(i,e,t,{span(){},point(e,t){e>n&&(r.push({from:n,to:e}),o+=e-n),n=t}},20),n<t&&(r.push({from:n,to:t}),o+=t-n),{total:o,ranges:r}}function Sa({total:e,ranges:t},i){if(i<=0)return t[0].from;if(i>=1)return t[t.length-1].to;let r=Math.floor(e*i);for(let e=0;;e++){let{from:i,to:n}=t[e],o=n-i;if(r<=o)return i+r;r-=o}}function ya(e,t){let i=0;for(let{from:r,to:n}of e.ranges){if(t<=n){i+=t-r;break}i+=n-r}return i/e.total}function va(e,t,i){for(let r=0;r<e.length;r++){let n=e[r];if(n.from<i&&n.to>t){let o=[];n.from<t&&o.push({from:n.from,to:t}),n.to>i&&o.push({from:i,to:n.to}),e.splice(r,1,...o),r+=o.length-1}}}function wa(e,t){for(let i of e)if(t(i))return i}const xa={toDOM:e=>e,fromDOM:e=>e,scale:1};class ka{constructor(e,t,i){let r=0,n=0,o=0;this.viewports=i.map((({from:i,to:n})=>{let o=t.lineAt(i,ia.ByPos,e,0,0).top,s=t.lineAt(n,ia.ByPos,e,0,0).bottom;return r+=s-o,{from:i,to:n,top:o,bottom:s,domTop:0,domBottom:0}})),this.scale=(7e6-r)/(t.height-r);for(let e of this.viewports)e.domTop=o+(e.top-n)*this.scale,o=e.domBottom=e.domTop+(e.bottom-e.top),n=e.bottom}toDOM(e){for(let t=0,i=0,r=0;;t++){let n=t<this.viewports.length?this.viewports[t]:null;if(!n||e<n.top)return r+(e-i)*this.scale;if(e<=n.bottom)return n.domTop+(e-n.top);i=n.bottom,r=n.domBottom}}fromDOM(e){for(let t=0,i=0,r=0;;t++){let n=t<this.viewports.length?this.viewports[t]:null;if(!n||e<n.domTop)return i+(e-r)/this.scale;if(e<=n.domBottom)return n.top+(e-n.domTop);i=n.bottom,r=n.domBottom}}}function Va(e,t){if(1==t.scale)return e;let i=t.toDOM(e.top),r=t.toDOM(e.bottom);return new ta(e.from,e.length,i,r-i,Array.isArray(e.type)?e.type.map((e=>Va(e,t))):e.type)}const Ca=zi.define({combine:e=>e.join(" ")}),Ta=zi.define({combine:e=>e.indexOf(!0)>-1}),$a=en.newName(),Pa=en.newName(),Qa=en.newName(),Ra={"&light":"."+Pa,"&dark":"."+Qa};function Ia(e,t,i){return new en(t,{finish:t=>/&/.test(t)?t.replace(/&\w*/,(t=>{if("&"==t)return e;if(!i||!i[t])throw new RangeError(`Unsupported selector: ${t}`);return i[t]})):e+" "+t})}const Ea=Ia("."+$a,{"&.cm-editor":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,minHeight:"100%",display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere"},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 4px"},".cm-selectionLayer":{zIndex:-1,contain:"size style"},".cm-selectionBackground":{position:"absolute"},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{zIndex:100,contain:"size style",pointerEvents:"none"},"&.cm-focused .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{visibility:"hidden"},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{visibility:"hidden"},"100%":{}},".cm-cursor, .cm-dropCursor":{position:"absolute",borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},"&.cm-focused .cm-cursor":{display:"block"},"&light .cm-activeLine":{backgroundColor:"#f3f9ff"},"&dark .cm-activeLine":{backgroundColor:"#223039"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{display:"flex",height:"100%",boxSizing:"border-box",left:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},Ra),Da={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},Aa=Zn.ie&&Zn.ie_version<=11;class _a{constructor(e,t,i){this.view=e,this.onChange=t,this.onScrollChanged=i,this.active=!1,this.selectionRange=new Vn,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.scrollTargets=[],this.intersection=null,this.resize=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver((t=>{for(let e of t)this.queue.push(e);(Zn.ie&&Zn.ie_version<=11||Zn.ios&&e.composing)&&t.some((e=>"childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length))?this.flushSoon():this.flush()})),Aa&&(this.onCharData=e=>{this.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),window.addEventListener("resize",this.onResize=this.onResize.bind(this)),"function"==typeof ResizeObserver&&(this.resize=new ResizeObserver((()=>{this.view.docView.lastUpdate<Date.now()-75&&this.onResize()})),this.resize.observe(e.scrollDOM)),window.addEventListener("beforeprint",this.onPrint=this.onPrint.bind(this)),this.start(),window.addEventListener("scroll",this.onScroll=this.onScroll.bind(this)),"function"==typeof IntersectionObserver&&(this.intersection=new IntersectionObserver((e=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),e.length>0&&e[e.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))}),{}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver((e=>{e.length>0&&e[e.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))}),{})),this.listenForScroll(),this.readSelectionRange(),this.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}onScroll(e){this.intersecting&&this.flush(!1),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout((()=>{this.resizeTimeout=-1,this.view.requestMeasure()}),50))}onPrint(){this.view.viewState.printing=!0,this.view.measure(),setTimeout((()=>{this.view.viewState.printing=!1,this.view.requestMeasure()}),500)}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some(((t,i)=>t!=e[i])))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:t}=this,i=this.selectionRange;if(t.state.facet(Ao)?t.root.activeElement!=this.dom:!gn(t.dom,i))return;let r=i.anchorNode&&t.docView.nearest(i.anchorNode);r&&r.ignoreEvent(e)||((Zn.ie&&Zn.ie_version<=11||Zn.android&&Zn.chrome)&&!t.state.selection.main.empty&&i.focusNode&&bn(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1))}readSelectionRange(){let{root:e}=this.view,t=fn(e),i=Zn.safari&&11==e.nodeType&&function(){let e=document.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}()==this.view.contentDOM&&function(e){let t=null;function i(e){e.preventDefault(),e.stopImmediatePropagation(),t=e.getTargetRanges()[0]}if(e.contentDOM.addEventListener("beforeinput",i,!0),document.execCommand("indent"),e.contentDOM.removeEventListener("beforeinput",i,!0),!t)return null;let r=t.startContainer,n=t.startOffset,o=t.endContainer,s=t.endOffset,a=e.docView.domAtPos(e.state.selection.main.anchor);bn(a.node,a.offset,o,s)&&([r,n,o,s]=[o,s,r,n]);return{anchorNode:r,anchorOffset:n,focusNode:o,focusOffset:s}}(this.view)||t;return!this.selectionRange.eq(i)&&(this.selectionRange.setRange(i),this.selectionChanged=!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let i=this.dom;i;)if(1==i.nodeType)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==i?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(i),i=i.assignedSlot||i.parentNode;else{if(11!=i.nodeType)break;i=i.host}if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let e of this.scrollTargets)e.removeEventListener("scroll",this.onScroll);for(let e of this.scrollTargets=t)e.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,Da),Aa&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),Aa&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){this.delayedAndroidKey||requestAnimationFrame((()=>{let e=this.delayedAndroidKey;this.delayedAndroidKey=null,this.delayedFlush=-1,this.flush()||Qn(this.view.contentDOM,e.key,e.keyCode)})),this.delayedAndroidKey&&"Enter"!=e||(this.delayedAndroidKey={key:e,keyCode:t})}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=window.setTimeout((()=>{this.delayedFlush=-1,this.flush()}),20))}forceFlush(){this.delayedFlush>=0&&(window.clearTimeout(this.delayedFlush),this.delayedFlush=-1,this.flush())}processRecords(){let e=this.queue;for(let t of this.observer.takeRecords())e.push(t);e.length&&(this.queue=[]);let t=-1,i=-1,r=!1;for(let n of e){let e=this.readMutation(n);e&&(e.typeOver&&(r=!0),-1==t?({from:t,to:i}=e):(t=Math.min(e.from,t),i=Math.max(e.to,i)))}return{from:t,to:i,typeOver:r}}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return;e&&this.readSelectionRange();let{from:t,to:i,typeOver:r}=this.processRecords(),n=this.selectionChanged&&gn(this.dom,this.selectionRange);if(t<0&&!n)return;this.selectionChanged=!1;let o=this.view.state,s=this.onChange(t,i,r);return this.view.state==o&&this.view.update([]),s}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty("attributes"==e.type),"attributes"==e.type&&(t.dirty|=4),"childList"==e.type){let i=Ma(t,e.previousSibling||e.target.previousSibling,-1),r=Ma(t,e.nextSibling||e.target.nextSibling,1);return{from:i?t.posAfter(i):t.posAtStart,to:r?t.posBefore(r):t.posAtEnd,typeOver:!1}}return"characterData"==e.type?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}destroy(){var e,t,i;this.stop(),null===(e=this.intersection)||void 0===e||e.disconnect(),null===(t=this.gapIntersection)||void 0===t||t.disconnect(),null===(i=this.resize)||void 0===i||i.disconnect();for(let e of this.scrollTargets)e.removeEventListener("scroll",this.onScroll);window.removeEventListener("scroll",this.onScroll),window.removeEventListener("resize",this.onResize),window.removeEventListener("beforeprint",this.onPrint),this.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout)}}function Ma(e,t,i){for(;t;){let r=Dn.get(t);if(r&&r.parent==e)return r;let n=t.parentNode;t=n!=e.dom?n:i>0?t.nextSibling:t.previousSibling}return null}function La(e,t,i,r){let n,o,s=e.state.selection.main;if(t>-1){let r=e.docView.domBoundsAround(t,i,0);if(!r||e.state.readOnly)return!1;let{from:a,to:l}=r,u=e.docView.impreciseHead||e.docView.impreciseAnchor?[]:function(e){let t=[];if(e.root.activeElement!=e.contentDOM)return t;let{anchorNode:i,anchorOffset:r,focusNode:n,focusOffset:o}=e.observer.selectionRange;i&&(t.push(new ds(i,r)),n==i&&o==r||t.push(new ds(n,o)));return t}(e),c=new us(u,e.state);c.readRange(r.startDOM,r.endDOM);let d=s.from,h=null;(8===e.inputState.lastKeyCode&&e.inputState.lastKeyTime>Date.now()-100||Zn.android&&c.text.length<l-a)&&(d=s.to,h="end");let p=function(e,t,i,r){let n=Math.min(e.length,t.length),o=0;for(;o<n&&e.charCodeAt(o)==t.charCodeAt(o);)o++;if(o==n&&e.length==t.length)return null;let s=e.length,a=t.length;for(;s>0&&a>0&&e.charCodeAt(s-1)==t.charCodeAt(a-1);)s--,a--;if("end"==r){i-=s+Math.max(0,o-Math.min(s,a))-o}if(s<o&&e.length<t.length){o-=i<=o&&i>=s?o-i:0,a=o+(a-s),s=o}else if(a<o){o-=i<=o&&i>=a?o-i:0,s=o+(s-a),a=o}return{from:o,toA:s,toB:a}}(e.state.doc.sliceString(a,l,ls),c.text,d-a,h);p&&(Zn.chrome&&13==e.inputState.lastKeyCode&&p.toB==p.from+2&&"￿￿"==c.text.slice(p.from,p.toB)&&p.toB--,n={from:a+p.from,to:a+p.toA,insert:ui.of(c.text.slice(p.from,p.toB).split(ls))}),o=function(e,t){if(0==e.length)return null;let i=e[0].pos,r=2==e.length?e[1].pos:i;return i>-1&&r>-1?Ni.single(i+t,r+t):null}(u,a)}else if(e.hasFocus||!e.state.facet(Ao)){let t=e.observer.selectionRange,{impreciseHead:i,impreciseAnchor:r}=e.docView,n=i&&i.node==t.focusNode&&i.offset==t.focusOffset||!mn(e.contentDOM,t.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(t.focusNode,t.focusOffset),a=r&&r.node==t.anchorNode&&r.offset==t.anchorOffset||!mn(e.contentDOM,t.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(t.anchorNode,t.anchorOffset);n==s.head&&a==s.anchor||(o=Ni.single(a,n))}if(!n&&!o)return!1;if(!n&&r&&!s.empty&&o&&o.main.empty?n={from:s.from,to:s.to,insert:e.state.doc.slice(s.from,s.to)}:n&&n.from>=s.from&&n.to<=s.to&&(n.from!=s.from||n.to!=s.to)&&s.to-s.from-(n.to-n.from)<=4?n={from:s.from,to:s.to,insert:e.state.doc.slice(s.from,n.from).append(n.insert).append(e.state.doc.slice(n.to,s.to))}:(Zn.mac||Zn.android)&&n&&n.from==n.to&&n.from==s.head-1&&"."==n.insert.toString()&&(n={from:s.from,to:s.to,insert:ui.of([" "])}),n){let t=e.state;if(Zn.ios&&e.inputState.flushIOSKey(e))return!0;if(Zn.android&&(n.from==s.from&&n.to==s.to&&1==n.insert.length&&2==n.insert.lines&&Qn(e.contentDOM,"Enter",13)||n.from==s.from-1&&n.to==s.to&&0==n.insert.length&&Qn(e.contentDOM,"Backspace",8)||n.from==s.from&&n.to==s.to+1&&0==n.insert.length&&Qn(e.contentDOM,"Delete",46)))return!0;let i,r=n.insert.toString();if(e.state.facet(Qo).some((t=>t(e,n.from,n.to,r))))return!0;if(e.inputState.composing>=0&&e.inputState.composing++,n.from>=s.from&&n.to<=s.to&&n.to-n.from>=(s.to-s.from)/3&&(!o||o.main.empty&&o.main.from==n.from+n.insert.length)&&e.inputState.composing<0){let r=s.from<n.from?t.sliceDoc(s.from,n.from):"",o=s.to>n.to?t.sliceDoc(n.to,s.to):"";i=t.replaceSelection(e.state.toText(r+n.insert.sliceString(0,void 0,e.state.lineBreak)+o))}else{let r=t.changes(n),a=o&&!t.selection.main.eq(o.main)&&o.main.to<=r.newLength?o.main:void 0;if(t.selection.ranges.length>1&&e.inputState.composing>=0&&n.to<=s.to&&n.to>=s.to-10){let o=e.state.sliceDoc(n.from,n.to),l=fs(e)||e.state.doc.lineAt(s.head),u=s.to-n.to,c=s.to-s.from;i=t.changeByRange((i=>{if(i.from==s.from&&i.to==s.to)return{changes:r,range:a||i.map(r)};let d=i.to-u,h=d-o.length;if(i.to-i.from!=c||e.state.sliceDoc(h,d)!=o||l&&i.to>=l.from&&i.from<=l.to)return{range:i};let p=t.changes({from:h,to:d,insert:n.insert}),f=i.to-s.to;return{changes:p,range:a?Ni.range(Math.max(0,a.anchor+f),Math.max(0,a.head+f)):i.map(p)}}))}else i={changes:r,selection:a&&t.selection.replaceRange(a)}}let a="input.type";return e.composing&&(a+=".compose",e.inputState.compositionFirstChange&&(a+=".start",e.inputState.compositionFirstChange=!1)),e.dispatch(i,{scrollIntoView:!0,userEvent:a}),!0}if(o&&!o.main.eq(s)){let t=!1,i="select";return e.inputState.lastSelectionTime>Date.now()-50&&("select"==e.inputState.lastSelectionOrigin&&(t=!0),i=e.inputState.lastSelectionOrigin),e.dispatch({selection:o,scrollIntoView:t,userEvent:i}),!0}return!1}class Ga{constructor(e={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.style.cssText="position: absolute; top: -10000px",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),this._dispatch=e.dispatch||(e=>this.update([e])),this.dispatch=this.dispatch.bind(this),this.root=e.root||function(e){for(;e;){if(e&&(9==e.nodeType||11==e.nodeType&&e.host))return e;e=e.assignedSlot||e.parentNode}return null}(e.parent)||document,this.viewState=new ga(e.state||Rr.create()),this.plugins=this.state.facet(Mo).map((e=>new Go(e)));for(let e of this.plugins)e.update(this);this.observer=new _a(this,((e,t,i)=>La(this,e,t,i)),(e=>{this.inputState.runScrollHandlers(this,e),this.observer.intersecting&&this.measure()})),this.inputState=new Ps(this),this.inputState.ensureHandlers(this,this.plugins),this.docView=new hs(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),e.parent&&e.parent.appendChild(this.dom)}get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}dispatch(...e){this._dispatch(1==e.length&&e[0]instanceof yr?e[0]:this.state.update(...e))}update(e){if(0!=this.updateState)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t,i=!1,r=!1,n=this.state;for(let t of e){if(t.startState!=n)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");n=t.state}if(this.destroyed)return void(this.viewState.state=n);if(this.observer.clear(),n.facet(Rr.phrases)!=this.state.facet(Rr.phrases))return this.setState(n);t=Xo.create(this,n,e);let o=this.viewState.scrollTarget;try{this.updateState=2;for(let t of e){if(o&&(o=o.map(t.changes)),t.scrollIntoView){let{main:e}=t.state.selection;o=new Io(e.empty?e:Ni.cursor(e.head,e.head>e.anchor?-1:1))}for(let e of t.effects)e.is(Eo)&&(o=e.value)}this.viewState.update(t,o),this.bidiCache=Ba.update(this.bidiCache,t.changes),t.empty||(this.updatePlugins(t),this.inputState.update(t)),i=this.docView.update(t),this.state.facet(Uo)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(i,e.some((e=>e.isUserEvent("select.pointer"))))}finally{this.updateState=0}if(t.startState.facet(Ca)!=t.state.facet(Ca)&&(this.viewState.mustMeasureContent=!0),(i||r||o||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!t.empty)for(let e of this.state.facet(Po))e(t)}setState(e){if(0!=this.updateState)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed)return void(this.viewState.state=e);this.updateState=2;let t=this.hasFocus;try{for(let e of this.plugins)e.destroy(this);this.viewState=new ga(e),this.plugins=e.facet(Mo).map((e=>new Go(e))),this.pluginMap.clear();for(let e of this.plugins)e.update(this);this.docView=new hs(this),this.inputState.ensureHandlers(this,this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(Mo),i=e.state.facet(Mo);if(t!=i){let r=[];for(let n of i){let i=t.indexOf(n);if(i<0)r.push(new Go(n));else{let t=this.plugins[i];t.mustUpdate=e,r.push(t)}}for(let t of this.plugins)t.mustUpdate!=e&&t.destroy(this);this.plugins=r,this.pluginMap.clear(),this.inputState.ensureHandlers(this,this.plugins)}else for(let t of this.plugins)t.mustUpdate=e;for(let e=0;e<this.plugins.length;e++)this.plugins[e].update(this)}measure(e=!0){if(this.destroyed)return;this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.measureScheduled=0,e&&this.observer.flush();let t=null;try{for(let e=0;;e++){this.updateState=1;let i=this.viewport,r=this.viewState.measure(this);if(!r&&!this.measureRequests.length&&null==this.viewState.scrollTarget)break;if(e>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let n=[];4&r||([this.measureRequests,n]=[n,this.measureRequests]);let o=n.map((e=>{try{return e.read(this)}catch(e){return Do(this.state,e),Wa}})),s=Xo.create(this,this.state,[]),a=!1,l=!1;s.flags|=r,t?t.flags|=r:t=s,this.updateState=2,s.empty||(this.updatePlugins(s),this.inputState.update(s),this.updateAttrs(),a=this.docView.update(s));for(let e=0;e<n.length;e++)if(o[e]!=Wa)try{let t=n[e];t.write&&t.write(o[e],this)}catch(e){Do(this.state,e)}if(this.viewState.scrollTarget&&(this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,l=!0),a&&this.docView.updateSelection(!0),this.viewport.from==i.from&&this.viewport.to==i.to&&!l&&0==this.measureRequests.length)break}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let e of this.state.facet(Po))e(t)}get themeClasses(){return $a+" "+(this.state.facet(Ta)?Qa:Pa)+" "+this.state.facet(Ca)}updateAttrs(){let e=za(this,No,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(Ao)?"true":"false",class:"cm-content",style:`${Zn.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),za(this,Wo,t);let i=this.observer.ignore((()=>{let i=co(this.contentDOM,this.contentAttrs,t),r=co(this.dom,this.editorAttrs,e);return i||r}));return this.editorAttrs=e,this.contentAttrs=t,i}showAnnouncements(e){let t=!0;for(let i of e)for(let e of i.effects)if(e.is(Ga.announce)){t&&(this.announceDOM.textContent=""),t=!1,this.announceDOM.appendChild(document.createElement("div")).textContent=e.value}}mountStyles(){this.styleModules=this.state.facet(Uo),en.mount(this.root,this.styleModules.concat(Ea).reverse())}readMeasured(){if(2==this.updateState)throw new Error("Reading the editor layout isn't allowed during an update");0==this.updateState&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=requestAnimationFrame((()=>this.measure()))),e){if(null!=e.key)for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key)return void(this.measureRequests[t]=e);this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(void 0===t||t&&t.spec!=e)&&this.pluginMap.set(e,t=this.plugins.find((t=>t.spec==e))||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,i){return $s(this,e,Ts(this,e,t,i))}moveByGroup(e,t){return $s(this,e,Ts(this,e,t,(t=>function(e,t,i){let r=e.state.charCategorizer(t),n=r(i);return e=>{let t=r(e);return n==Tr.Space&&(n=t),n==t}}(this,e.head,t))))}moveToLineBoundary(e,t,i=!0){return function(e,t,i,r){let n=e.state.doc.lineAt(t.head),o=r&&e.lineWrapping?e.coordsAtPos(t.assoc<0&&t.head>n.from?t.head-1:t.head):null;if(o){let t=e.dom.getBoundingClientRect(),r=e.textDirectionAt(n.from),s=e.posAtCoords({x:i==(r==jo.LTR)?t.right-1:t.left+1,y:(o.top+o.bottom)/2});if(null!=s)return Ni.cursor(s,i?-1:1)}let s=yo.find(e.docView,t.head),a=s?i?s.posAtEnd:s.posAtStart:i?n.to:n.from;return Ni.cursor(a,i?-1:1)}(this,e,t,i)}moveVertically(e,t,i){return $s(this,e,function(e,t,i,r){let n=t.head,o=i?1:-1;if(n==(i?e.state.doc.length:0))return Ni.cursor(n,t.assoc);let s,a=t.goalColumn,l=e.contentDOM.getBoundingClientRect(),u=e.coordsAtPos(n),c=e.documentTop;if(u)null==a&&(a=u.left-l.left),s=o<0?u.top:u.bottom;else{let t=e.viewState.lineBlockAt(n);null==a&&(a=Math.min(l.right-l.left,e.defaultCharacterWidth*(n-t.from))),s=(o<0?t.top:t.bottom)+c}let d=l.left+a,h=null!=r?r:e.defaultLineHeight>>1;for(let i=0;;i+=10){let r=s+(h+i)*o,u=Vs(e,{x:d,y:r},!1,o);if(r<l.top||r>l.bottom||(o<0?u<n:u>n))return Ni.cursor(u,t.assoc,void 0,a)}}(this,e,t,i))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),Vs(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let i=this.docView.coordsAt(e,t);if(!i||i.left==i.right)return i;let r=this.state.doc.lineAt(e),n=this.bidiSpans(r);return xn(i,n[rs.find(n,e-r.from,-1,t)].dir==jo.LTR==t>0)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(Ro)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>Na)return os(e.length);let t=this.textDirectionAt(e.from);for(let i of this.bidiCache)if(i.from==e.from&&i.dir==t)return i.order;let i=function(e,t){let i=e.length,r=t==Ho?1:2,n=t==Ho?2:1;if(!e||1==r&&!is.test(e))return os(i);for(let t=0,n=r,s=r;t<i;t++){let i=(o=e.charCodeAt(t))<=247?Jo[o]:1424<=o&&o<=1524?2:1536<=o&&o<=1785?Ko[o-1536]:1774<=o&&o<=2220?4:8192<=o&&o<=8203||8204==o?256:1;512==i?i=n:8==i&&4==s&&(i=16),ns[t]=4==i?2:i,7&i&&(s=i),n=i}var o;for(let e=0,t=r,n=r;e<i;e++){let r=ns[e];if(128==r)e<i-1&&t==ns[e+1]&&24&t?r=ns[e]=t:ns[e]=256;else if(64==r){let r=e+1;for(;r<i&&64==ns[r];)r++;let o=e&&8==t||r<i&&8==ns[r]?1==n?1:8:256;for(let t=e;t<r;t++)ns[t]=o;e=r-1}else 8==r&&1==n&&(ns[e]=1);t=r,7&r&&(n=r)}for(let t,o,s,a=0,l=0,u=0;a<i;a++)if(o=es[t=e.charCodeAt(a)])if(o<0){for(let e=l-3;e>=0;e-=3)if(ts[e+1]==-o){let t=ts[e+2],i=2&t?r:4&t?1&t?n:r:0;i&&(ns[a]=ns[ts[e]]=i),l=e;break}}else{if(189==ts.length)break;ts[l++]=a,ts[l++]=t,ts[l++]=u}else if(2==(s=ns[a])||1==s){let e=s==r;u=e?0:1;for(let t=l-3;t>=0;t-=3){let i=ts[t+2];if(2&i)break;if(e)ts[t+2]|=2;else{if(4&i)break;ts[t+2]|=4}}}for(let e=0;e<i;e++)if(256==ns[e]){let t=e+1;for(;t<i&&256==ns[t];)t++;let n=1==(e?ns[e-1]:r),o=n==(1==(t<i?ns[t]:r))?n?1:2:r;for(let i=e;i<t;i++)ns[i]=o;e=t-1}let s=[];if(1==r)for(let e=0;e<i;){let t=e,r=1!=ns[e++];for(;e<i&&r==(1!=ns[e]);)e++;if(r)for(let i=e;i>t;){let e=i,r=2!=ns[--i];for(;i>t&&r==(2!=ns[i-1]);)i--;s.push(new rs(i,e,r?2:1))}else s.push(new rs(t,e,0))}else for(let e=0;e<i;){let t=e,r=2==ns[e++];for(;e<i&&r==(2==ns[e]);)e++;s.push(new rs(t,e,r?1:2))}return s}(e.text,t);return this.bidiCache.push(new Ba(e.from,e.to,t,i)),i}get hasFocus(){var e;return(document.hasFocus()||Zn.safari&&(null===(e=this.inputState)||void 0===e?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore((()=>{$n(this.contentDOM),this.docView.updateSelection()}))}destroy(){for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return Eo.of(new Io("number"==typeof e?Ni.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}static domEventHandlers(e){return Lo.define((()=>({})),{eventHandlers:e})}static theme(e,t){let i=en.newName(),r=[Ca.of(i),Uo.of(Ia(`.${i}`,e))];return t&&t.dark&&r.push(Ta.of(!0)),r}static baseTheme(e){return ir.lowest(Uo.of(Ia("."+$a,e,Ra)))}}Ga.styleModule=Uo,Ga.inputHandler=Qo,Ga.perLineTextDirection=Ro,Ga.exceptionSink=$o,Ga.updateListener=Po,Ga.editable=Ao,Ga.mouseSelectionStyle=To,Ga.dragMovesSelection=Co,Ga.clickAddsSelectionRange=Vo,Ga.decorations=Bo,Ga.atomicRanges=zo,Ga.scrollMargins=Fo,Ga.darkTheme=Ta,Ga.contentAttributes=Wo,Ga.editorAttributes=No,Ga.lineWrapping=Ga.contentAttributes.of({class:"cm-lineWrapping"}),Ga.announce=Sr.define();const Na=4096,Wa={};class Ba{constructor(e,t,i,r){this.from=e,this.to=t,this.dir=i,this.order=r}static update(e,t){if(t.empty)return e;let i=[],r=e.length?e[e.length-1].dir:jo.LTR;for(let n=Math.max(0,e.length-10);n<e.length;n++){let o=e[n];o.dir!=r||t.touchesRange(o.from,o.to)||i.push(new Ba(t.mapPos(o.from,1),t.mapPos(o.to,-1),o.dir,o.order))}return i}}function za(e,t,i){for(let r=e.state.facet(t),n=r.length-1;n>=0;n--){let t=r[n],o="function"==typeof t?t(e):t;o&&lo(o,i)}return i}const Fa=Zn.mac?"mac":Zn.windows?"win":Zn.linux?"linux":"key";function Ua(e,t,i){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),!1!==i&&t.shiftKey&&(e="Shift-"+e),e}const qa=Ga.domEventHandlers({keydown:(e,t)=>Ya(Ha(t.state),e,t,"editor")}),Xa=zi.define({enables:qa}),ja=new WeakMap;function Ha(e){let t=e.facet(Xa),i=ja.get(t);return i||ja.set(t,i=function(e,t=Fa){let i=Object.create(null),r=Object.create(null),n=(e,t)=>{let i=r[e];if(null==i)r[e]=t;else if(i!=t)throw new Error("Key binding "+e+" is used both as a regular binding and as a multi-stroke prefix")},o=(e,r,o,s)=>{let a=i[e]||(i[e]=Object.create(null)),l=r.split(/ (?!$)/).map((e=>function(e,t){const i=e.split(/-(?!$)/);let r,n,o,s,a=i[i.length-1];"Space"==a&&(a=" ");for(let e=0;e<i.length-1;++e){const a=i[e];if(/^(cmd|meta|m)$/i.test(a))s=!0;else if(/^a(lt)?$/i.test(a))r=!0;else if(/^(c|ctrl|control)$/i.test(a))n=!0;else if(/^s(hift)?$/i.test(a))o=!0;else{if(!/^mod$/i.test(a))throw new Error("Unrecognized modifier name: "+a);"mac"==t?s=!0:n=!0}}return r&&(a="Alt-"+a),n&&(a="Ctrl-"+a),s&&(a="Meta-"+a),o&&(a="Shift-"+a),a}(e,t)));for(let t=1;t<l.length;t++){let i=l.slice(0,t).join(" ");n(i,!0),a[i]||(a[i]={preventDefault:!0,commands:[t=>{let r=Za={view:t,prefix:i,scope:e};return setTimeout((()=>{Za==r&&(Za=null)}),4e3),!0}]})}let u=l.join(" ");n(u,!1);let c=a[u]||(a[u]={preventDefault:!1,commands:[]});c.commands.push(o),s&&(c.preventDefault=!0)};for(let i of e){let e=i[t]||i.key;if(e)for(let t of i.scope?i.scope.split(" "):["editor"])o(t,e,i.run,i.preventDefault),i.shift&&o(t,"Shift-"+e,i.shift,i.preventDefault)}return i}(t.reduce(((e,t)=>e.concat(t)),[]))),i}let Za=null;function Ya(e,t,i,r){let n=function(e){var t=!(dn&&(e.ctrlKey||e.altKey||e.metaKey)||(an||cn)&&e.shiftKey&&e.key&&1==e.key.length)&&e.key||(e.shiftKey?on:nn)[e.keyCode]||e.key||"Unidentified";return"Esc"==t&&(t="Escape"),"Del"==t&&(t="Delete"),"Left"==t&&(t="ArrowLeft"),"Up"==t&&(t="ArrowUp"),"Right"==t&&(t="ArrowRight"),"Down"==t&&(t="ArrowDown"),t}(t),o=1==n.length&&" "!=n,s="",a=!1;Za&&Za.view==i&&Za.scope==r&&(s=Za.prefix+" ",(a=Rs.indexOf(t.keyCode)<0)&&(Za=null));let l,u=e=>{if(e){for(let t of e.commands)if(t(i))return!0;e.preventDefault&&(a=!0)}return!1},c=e[r];if(c){if(u(c[s+Ua(n,t,!o)]))return!0;if(o&&(t.shiftKey||t.altKey||t.metaKey)&&(l=nn[t.keyCode])&&l!=n){if(u(c[s+Ua(l,t,!0)]))return!0}else if(o&&t.shiftKey&&u(c[s+Ua(n,t,!0)]))return!0}return a}const Ja=!Zn.ios,Ka=zi.define({combine:e=>Ir(e,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})});class el{constructor(e,t,i,r,n){this.left=e,this.top=t,this.width=i,this.height=r,this.className=n}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width>=0&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}}const tl=Lo.fromClass(class{constructor(e){this.view=e,this.rangePieces=[],this.cursors=[],this.measureReq={read:this.readPos.bind(this),write:this.drawSel.bind(this)},this.selectionLayer=e.scrollDOM.appendChild(document.createElement("div")),this.selectionLayer.className="cm-selectionLayer",this.selectionLayer.setAttribute("aria-hidden","true"),this.cursorLayer=e.scrollDOM.appendChild(document.createElement("div")),this.cursorLayer.className="cm-cursorLayer",this.cursorLayer.setAttribute("aria-hidden","true"),e.requestMeasure(this.measureReq),this.setBlinkRate()}setBlinkRate(){this.cursorLayer.style.animationDuration=this.view.state.facet(Ka).cursorBlinkRate+"ms"}update(e){let t=e.startState.facet(Ka)!=e.state.facet(Ka);(t||e.selectionSet||e.geometryChanged||e.viewportChanged)&&this.view.requestMeasure(this.measureReq),e.transactions.some((e=>e.scrollIntoView))&&(this.cursorLayer.style.animationName="cm-blink"==this.cursorLayer.style.animationName?"cm-blink2":"cm-blink"),t&&this.setBlinkRate()}readPos(){let{state:e}=this.view,t=e.facet(Ka),i=e.selection.ranges.map((e=>e.empty?[]:function(e,t){if(t.to<=e.viewport.from||t.from>=e.viewport.to)return[];let i=Math.max(t.from,e.viewport.from),r=Math.min(t.to,e.viewport.to),n=e.textDirection==jo.LTR,o=e.contentDOM,s=o.getBoundingClientRect(),a=nl(e),l=window.getComputedStyle(o.firstChild),u=s.left+parseInt(l.paddingLeft)+Math.min(0,parseInt(l.textIndent)),c=s.right-parseInt(l.paddingRight),d=sl(e,i),h=sl(e,r),p=d.type==po.Text?d:null,f=h.type==po.Text?h:null;e.lineWrapping&&(p&&(p=ol(e,i,p)),f&&(f=ol(e,r,f)));if(p&&f&&p.from==f.from)return g(O(t.from,t.to,p));{let i=p?O(t.from,null,p):b(d,!1),r=f?O(null,t.to,f):b(h,!0),n=[];return(p||d).to<(f||h).from-1?n.push(m(u,i.bottom,c,r.top)):i.bottom<r.top&&e.elementAtHeight((i.bottom+r.top)/2).type==po.Text&&(i.bottom=r.top=(i.bottom+r.top)/2),g(i).concat(n).concat(g(r))}function m(e,t,i,r){return new el(e-a.left,t-a.top-.01,i-e,r-t+.01,"cm-selectionBackground")}function g({top:e,bottom:t,horizontal:i}){let r=[];for(let n=0;n<i.length;n+=2)r.push(m(i[n],e,i[n+1],t));return r}function O(t,i,r){let o=1e9,s=-1e9,a=[];function l(t,i,l,d,h){let p=e.coordsAtPos(t,t==r.to?-2:2),f=e.coordsAtPos(l,l==r.from?2:-2);o=Math.min(p.top,f.top,o),s=Math.max(p.bottom,f.bottom,s),h==jo.LTR?a.push(n&&i?u:p.left,n&&d?c:f.right):a.push(!n&&d?u:f.left,!n&&i?c:p.right)}let d=null!=t?t:r.from,h=null!=i?i:r.to;for(let r of e.visibleRanges)if(r.to>d&&r.from<h)for(let n=Math.max(r.from,d),o=Math.min(r.to,h);;){let r=e.state.doc.lineAt(n);for(let s of e.bidiSpans(r)){let e=s.from+r.from,a=s.to+r.from;if(e>=o)break;a>n&&l(Math.max(e,n),null==t&&e<=d,Math.min(a,o),null==i&&a>=h,s.dir)}if(n=r.to+1,n>=o)break}return 0==a.length&&l(d,null==t,h,null==i,e.textDirection),{top:o,bottom:s,horizontal:a}}function b(e,t){let i=s.top+(t?e.top:e.bottom);return{top:i,bottom:i,horizontal:[]}}}(this.view,e))).reduce(((e,t)=>e.concat(t))),r=[];for(let i of e.selection.ranges){let n=i==e.selection.main;if(i.empty?!n||Ja:t.drawRangeCursor){let e=al(this.view,i,n);e&&r.push(e)}}return{rangePieces:i,cursors:r}}drawSel({rangePieces:e,cursors:t}){if(e.length!=this.rangePieces.length||e.some(((e,t)=>!e.eq(this.rangePieces[t])))){this.selectionLayer.textContent="";for(let t of e)this.selectionLayer.appendChild(t.draw());this.rangePieces=e}if(t.length!=this.cursors.length||t.some(((e,t)=>!e.eq(this.cursors[t])))){let e=this.cursorLayer.children;if(e.length!==t.length){this.cursorLayer.textContent="";for(const e of t)this.cursorLayer.appendChild(e.draw())}else t.forEach(((t,i)=>t.adjust(e[i])));this.cursors=t}}destroy(){this.selectionLayer.remove(),this.cursorLayer.remove()}}),il={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};Ja&&(il[".cm-line"].caretColor="transparent !important");const rl=ir.highest(Ga.theme(il));function nl(e){let t=e.scrollDOM.getBoundingClientRect();return{left:(e.textDirection==jo.LTR?t.left:t.right-e.scrollDOM.clientWidth)-e.scrollDOM.scrollLeft,top:t.top-e.scrollDOM.scrollTop}}function ol(e,t,i){let r=Ni.cursor(t);return{from:Math.max(i.from,e.moveToLineBoundary(r,!1,!0).from),to:Math.min(i.to,e.moveToLineBoundary(r,!0,!0).from),type:po.Text}}function sl(e,t){let i=e.lineBlockAt(t);if(Array.isArray(i.type))for(let e of i.type)if(e.to>t||e.to==t&&(e.to==i.to||e.type==po.Text))return e;return i}function al(e,t,i){let r=e.coordsAtPos(t.head,t.assoc||1);if(!r)return null;let n=nl(e);return new el(r.left-n.left,r.top-n.top,-1,r.bottom-r.top,i?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary")}const ll=Sr.define({map:(e,t)=>null==e?null:t.mapPos(e)}),ul=Zi.define({create:()=>null,update:(e,t)=>(null!=e&&(e=t.changes.mapPos(e)),t.effects.reduce(((e,t)=>t.is(ll)?t.value:e),e))}),cl=Lo.fromClass(class{constructor(e){this.view=e,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(e){var t;let i=e.state.field(ul);null==i?null!=this.cursor&&(null===(t=this.cursor)||void 0===t||t.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(e.startState.field(ul)!=i||e.docChanged||e.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let e=this.view.state.field(ul),t=null!=e&&this.view.coordsAtPos(e);if(!t)return null;let i=this.view.scrollDOM.getBoundingClientRect();return{left:t.left-i.left+this.view.scrollDOM.scrollLeft,top:t.top-i.top+this.view.scrollDOM.scrollTop,height:t.bottom-t.top}}drawCursor(e){this.cursor&&(e?(this.cursor.style.left=e.left+"px",this.cursor.style.top=e.top+"px",this.cursor.style.height=e.height+"px"):this.cursor.style.left="-100000px")}destroy(){this.cursor&&this.cursor.remove()}setDropPos(e){this.view.state.field(ul)!=e&&this.view.dispatch({effects:ll.of(e)})}},{eventHandlers:{dragover(e){this.setDropPos(this.view.posAtCoords({x:e.clientX,y:e.clientY}))},dragleave(e){e.target!=this.view.contentDOM&&this.view.contentDOM.contains(e.relatedTarget)||this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function dl(e,t,i,r,n){t.lastIndex=0;for(let o,s=e.iterRange(i,r),a=i;!s.next().done;a+=s.value.length)if(!s.lineBreak)for(;o=t.exec(s.value);)n(a+o.index,a+o.index+o[0].length,o)}class hl{constructor(e){let{regexp:t,decoration:i,boundary:r,maxLength:n=1e3}=e;if(!t.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");this.regexp=t,this.getDeco="function"==typeof i?i:()=>i,this.boundary=r,this.maxLength=n}createDeco(e){let t=new Lr;for(let{from:i,to:r}of function(e,t){let i=e.visibleRanges;if(1==i.length&&i[0].from==e.viewport.from&&i[0].to==e.viewport.to)return i;let r=[];for(let{from:n,to:o}of i)n=Math.max(e.state.doc.lineAt(n).from,n-t),o=Math.min(e.state.doc.lineAt(o).to,o+t),r.length&&r[r.length-1].to>=n?r[r.length-1].to=o:r.push({from:n,to:o});return r}(e,this.maxLength))dl(e.state.doc,this.regexp,i,r,((i,r,n)=>t.add(i,r,this.getDeco(n,e,i))));return t.finish()}updateDeco(e,t){let i=1e9,r=-1;return e.docChanged&&e.changes.iterChanges(((t,n,o,s)=>{s>e.view.viewport.from&&o<e.view.viewport.to&&(i=Math.min(o,i),r=Math.max(s,r))})),e.viewportChanged||r-i>1e3?this.createDeco(e.view):r>-1?this.updateRange(e.view,t.map(e.changes),i,r):t}updateRange(e,t,i,r){for(let n of e.visibleRanges){let o=Math.max(n.from,i),s=Math.min(n.to,r);if(s>o){let i=e.state.doc.lineAt(o),r=i.to<s?e.state.doc.lineAt(s):i,a=Math.max(n.from,i.from),l=Math.min(n.to,r.to);if(this.boundary){for(;o>i.from;o--)if(this.boundary.test(i.text[o-1-i.from])){a=o;break}for(;s<r.to;s++)if(this.boundary.test(r.text[s-r.from])){l=s;break}}let u,c=[];if(i==r)for(this.regexp.lastIndex=a-i.from;(u=this.regexp.exec(i.text))&&u.index<l-i.from;){let t=u.index+i.from;c.push(this.getDeco(u,e,t).range(t,t+u[0].length))}else dl(e.state.doc,this.regexp,a,l,((t,i,r)=>c.push(this.getDeco(r,e,t).range(t,i))));t=t.update({filterFrom:a,filterTo:l,filter:(e,t)=>e<a||t>l,add:c})}}return t}}const pl=null!=/x/.unicode?"gu":"g",fl=new RegExp("[\0-\b\n--­؜​‎‏\u2028\u2029‭‮\ufeff￹-￼]",pl),ml={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let gl=null;const Ol=zi.define({combine(e){let t=Ir(e,{render:null,specialChars:fl,addSpecialChars:null});return(t.replaceTabs=!function(){var e;if(null==gl&&"undefined"!=typeof document&&document.body){let t=document.body.style;gl=null!=(null!==(e=t.tabSize)&&void 0!==e?e:t.MozTabSize)}return gl||!1}())&&(t.specialChars=new RegExp("\t|"+t.specialChars.source,pl)),t.addSpecialChars&&(t.specialChars=new RegExp(t.specialChars.source+"|"+t.addSpecialChars.source,pl)),t}});let bl=null;class Sl extends ho{constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=function(e){return e>=32?"•":10==e?"␤":String.fromCharCode(9216+e)}(this.code),i=e.state.phrase("Control character")+" "+(ml[this.code]||"0x"+this.code.toString(16)),r=this.options.render&&this.options.render(this.code,i,t);if(r)return r;let n=document.createElement("span");return n.textContent=t,n.title=i,n.setAttribute("aria-label",i),n.className="cm-specialChar",n}ignoreEvent(){return!1}}class yl extends ho{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="\t",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}Lo.fromClass(class{constructor(){this.height=1e3,this.attrs={style:"padding-bottom: 1000px"}}update(e){let t=e.view.viewState.editorHeight-e.view.defaultLineHeight;t!=this.height&&(this.height=t,this.attrs={style:`padding-bottom: ${t}px`})}});const vl=fo.line({class:"cm-activeLine"}),wl=Lo.fromClass(class{constructor(e){this.decorations=this.getDeco(e)}update(e){(e.docChanged||e.selectionSet)&&(this.decorations=this.getDeco(e.view))}getDeco(e){let t=-1,i=[];for(let r of e.state.selection.ranges){if(!r.empty)return fo.none;let n=e.lineBlockAt(r.head);n.from>t&&(i.push(vl.range(n.from)),t=n.from)}return fo.set(i)}},{decorations:e=>e.decorations}),xl=2e3;function kl(e,t){let i=e.posAtCoords({x:t.clientX,y:t.clientY},!1),r=e.state.doc.lineAt(i),n=i-r.from,o=n>xl?-1:n==r.length?function(e,t){let i=e.coordsAtPos(e.viewport.from);return i?Math.round(Math.abs((i.left-t)/e.defaultCharacterWidth)):-1}(e,t.clientX):Hr(r.text,e.state.tabSize,i-r.from);return{line:r.number,col:o,off:n}}function Vl(e,t){let i=kl(e,t),r=e.state.selection;return i?{update(e){if(e.docChanged){let t=e.changes.mapPos(e.startState.doc.line(i.line).from),n=e.state.doc.lineAt(t);i={line:n.number,col:i.col,off:Math.min(i.off,n.length)},r=r.map(e.changes)}},get(t,n,o){let s=kl(e,t);if(!s)return r;let a=function(e,t,i){let r=Math.min(t.line,i.line),n=Math.max(t.line,i.line),o=[];if(t.off>xl||i.off>xl||t.col<0||i.col<0){let s=Math.min(t.off,i.off),a=Math.max(t.off,i.off);for(let t=r;t<=n;t++){let i=e.doc.line(t);i.length<=a&&o.push(Ni.range(i.from+s,i.to+a))}}else{let s=Math.min(t.col,i.col),a=Math.max(t.col,i.col);for(let t=r;t<=n;t++){let i=e.doc.line(t),r=Zr(i.text,s,e.tabSize,!0);if(r>-1){let t=Zr(i.text,a,e.tabSize);o.push(Ni.range(i.from+r,i.from+t))}}}return o}(e.state,i,s);return a.length?o?Ni.create(a.concat(r.ranges)):Ni.create(a):r}}:null}const Cl={Alt:[18,e=>e.altKey],Control:[17,e=>e.ctrlKey],Shift:[16,e=>e.shiftKey],Meta:[91,e=>e.metaKey]},Tl={style:"cursor: crosshair"};const $l="-10000px";class Pl{constructor(e,t,i){this.facet=t,this.createTooltipView=i,this.input=e.state.facet(t),this.tooltips=this.input.filter((e=>e)),this.tooltipViews=this.tooltips.map(i)}update(e){let t=e.state.facet(this.facet),i=t.filter((e=>e));if(t===this.input){for(let t of this.tooltipViews)t.update&&t.update(e);return!1}let r=[];for(let t=0;t<i.length;t++){let n=i[t],o=-1;if(n){for(let e=0;e<this.tooltips.length;e++){let t=this.tooltips[e];t&&t.create==n.create&&(o=e)}if(o<0)r[t]=this.createTooltipView(n);else{let i=r[t]=this.tooltipViews[o];i.update&&i.update(e)}}}for(let e of this.tooltipViews)r.indexOf(e)<0&&e.dom.remove();return this.input=t,this.tooltips=i,this.tooltipViews=r,!0}}function Ql(){return{top:0,left:0,bottom:innerHeight,right:innerWidth}}const Rl=zi.define({combine:e=>{var t,i,r;return{position:Zn.ios?"absolute":(null===(t=e.find((e=>e.position)))||void 0===t?void 0:t.position)||"fixed",parent:(null===(i=e.find((e=>e.parent)))||void 0===i?void 0:i.parent)||null,tooltipSpace:(null===(r=e.find((e=>e.tooltipSpace)))||void 0===r?void 0:r.tooltipSpace)||Ql}}}),Il=Lo.fromClass(class{constructor(e){var t;this.view=e,this.inView=!0,this.lastTransaction=0,this.measureTimeout=-1;let i=e.state.facet(Rl);this.position=i.position,this.parent=i.parent,this.classes=e.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.manager=new Pl(e,Al,(e=>this.createTooltip(e))),this.intersectionObserver="function"==typeof IntersectionObserver?new IntersectionObserver((e=>{Date.now()>this.lastTransaction-50&&e.length>0&&e[e.length-1].intersectionRatio<1&&this.measureSoon()}),{threshold:[1]}):null,this.observeIntersection(),null===(t=e.dom.ownerDocument.defaultView)||void 0===t||t.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let e of this.manager.tooltipViews)this.intersectionObserver.observe(e.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout((()=>{this.measureTimeout=-1,this.maybeMeasure()}),50))}update(e){e.transactions.length&&(this.lastTransaction=Date.now());let t=this.manager.update(e);t&&this.observeIntersection();let i=t||e.geometryChanged,r=e.state.facet(Rl);if(r.position!=this.position){this.position=r.position;for(let e of this.manager.tooltipViews)e.dom.style.position=this.position;i=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let e of this.manager.tooltipViews)this.container.appendChild(e.dom);i=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);i&&this.maybeMeasure()}createTooltip(e){let t=e.create(this.view);if(t.dom.classList.add("cm-tooltip"),e.arrow&&!t.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let e=document.createElement("div");e.className="cm-tooltip-arrow",t.dom.appendChild(e)}return t.dom.style.position=this.position,t.dom.style.top=$l,this.container.appendChild(t.dom),t.mount&&t.mount(this.view),t}destroy(){var e,t;null===(e=this.view.dom.ownerDocument.defaultView)||void 0===e||e.removeEventListener("resize",this.measureSoon);for(let{dom:e}of this.manager.tooltipViews)e.remove();null===(t=this.intersectionObserver)||void 0===t||t.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let e=this.view.dom.getBoundingClientRect();return{editor:e,parent:this.parent?this.container.getBoundingClientRect():e,pos:this.manager.tooltips.map(((e,t)=>{let i=this.manager.tooltipViews[t];return i.getCoords?i.getCoords(e.pos):this.view.coordsAtPos(e.pos)})),size:this.manager.tooltipViews.map((({dom:e})=>e.getBoundingClientRect())),space:this.view.state.facet(Rl).tooltipSpace(this.view)}}writeMeasure(e){let{editor:t,space:i}=e,r=[];for(let n=0;n<this.manager.tooltips.length;n++){let o=this.manager.tooltips[n],s=this.manager.tooltipViews[n],{dom:a}=s,l=e.pos[n],u=e.size[n];if(!l||l.bottom<=Math.max(t.top,i.top)||l.top>=Math.min(t.bottom,i.bottom)||l.right<Math.max(t.left,i.left)-.1||l.left>Math.min(t.right,i.right)+.1){a.style.top=$l;continue}let c=o.arrow?s.dom.querySelector(".cm-tooltip-arrow"):null,d=c?7:0,h=u.right-u.left,p=u.bottom-u.top,f=s.offset||Dl,m=this.view.textDirection==jo.LTR,g=u.width>i.right-i.left?m?i.left:i.right-u.width:m?Math.min(l.left-(c?14:0)+f.x,i.right-h):Math.max(i.left,l.left-h+(c?14:0)-f.x),O=!!o.above;!o.strictSide&&(O?l.top-(u.bottom-u.top)-f.y<i.top:l.bottom+(u.bottom-u.top)+f.y>i.bottom)&&O==i.bottom-l.bottom>l.top-i.top&&(O=!O);let b=O?l.top-p-d-f.y:l.bottom+d+f.y,S=g+h;if(!0!==s.overlap)for(let e of r)e.left<S&&e.right>g&&e.top<b+p&&e.bottom>b&&(b=O?e.top-p-2-d:e.bottom+d+2);"absolute"==this.position?(a.style.top=b-e.parent.top+"px",a.style.left=g-e.parent.left+"px"):(a.style.top=b+"px",a.style.left=g+"px"),c&&(c.style.left=l.left+(m?f.x:-f.x)-(g+14-7)+"px"),!0!==s.overlap&&r.push({left:g,top:b,right:S,bottom:b+p}),a.classList.toggle("cm-tooltip-above",O),a.classList.toggle("cm-tooltip-below",!O),s.positioned&&s.positioned()}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let e of this.manager.tooltipViews)e.dom.style.top=$l}},{eventHandlers:{scroll(){this.maybeMeasure()}}}),El=Ga.baseTheme({".cm-tooltip":{zIndex:100},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),Dl={x:0,y:0},Al=zi.define({enables:[Il,El]}),_l=zi.define();class Ml{constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new Pl(e,_l,(e=>this.createHostedView(e)))}static create(e){return new Ml(e)}createHostedView(e){let t=e.create(this.view);return t.dom.classList.add("cm-tooltip-section"),this.dom.appendChild(t.dom),this.mounted&&t.mount&&t.mount(this.view),t}mount(e){for(let t of this.manager.tooltipViews)t.mount&&t.mount(e);this.mounted=!0}positioned(){for(let e of this.manager.tooltipViews)e.positioned&&e.positioned()}update(e){this.manager.update(e)}}const Ll=Al.compute([_l],(e=>{let t=e.facet(_l).filter((e=>e));return 0===t.length?null:{pos:Math.min(...t.map((e=>e.pos))),end:Math.max(...t.filter((e=>null!=e.end)).map((e=>e.end))),create:Ml.create,above:t[0].above,arrow:t.some((e=>e.arrow))}}));class Gl{constructor(e,t,i,r,n){this.view=e,this.source=t,this.field=i,this.setHover=r,this.hoverTime=n,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout((()=>this.startHover()),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{lastMove:e}=this,t=this.view.contentDOM.contains(e.target)?this.view.posAtCoords(e):null;if(null==t)return;let i=this.view.coordsAtPos(t);if(null==i||e.y<i.top||e.y>i.bottom||e.x<i.left-this.view.defaultCharacterWidth||e.x>i.right+this.view.defaultCharacterWidth)return;let r=this.view.bidiSpans(this.view.state.doc.lineAt(t)).find((e=>e.from<=t&&e.to>=t)),n=r&&r.dir==jo.RTL?-1:1,o=this.source(this.view,t,e.x<i.left?-n:n);if(null==o?void 0:o.then){let e=this.pending={pos:t};o.then((t=>{this.pending==e&&(this.pending=null,t&&this.view.dispatch({effects:this.setHover.of(t)}))}),(e=>Do(this.view.state,e,"hover tooltip")))}else o&&this.view.dispatch({effects:this.setHover.of(o)})}mousemove(e){var t;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let i=this.active;if(i&&!function(e){for(let t=e;t;t=t.parentNode)if(1==t.nodeType&&t.classList.contains("cm-tooltip"))return!0;return!1}(this.lastMove.target)||this.pending){let{pos:r}=i||this.pending,n=null!==(t=null==i?void 0:i.end)&&void 0!==t?t:r;(r==n?this.view.posAtCoords(this.lastMove)==r:function(e,t,i,r,n,o){let s=document.createRange(),a=e.domAtPos(t),l=e.domAtPos(i);s.setEnd(l.node,l.offset),s.setStart(a.node,a.offset);let u=s.getClientRects();s.detach();for(let e=0;e<u.length;e++){let t=u[e];if(Math.max(t.top-n,n-t.bottom,t.left-r,r-t.right)<=o)return!0}return!1}(this.view,r,n,e.clientX,e.clientY,6))||(this.view.dispatch({effects:this.setHover.of(null)}),this.pending=null)}}mouseleave(){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1,this.active&&this.view.dispatch({effects:this.setHover.of(null)})}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}function Nl(e,t={}){let i=Sr.define(),r=Zi.define({create:()=>null,update(e,r){if(e&&(t.hideOnChange&&(r.docChanged||r.selection)||t.hideOn&&t.hideOn(r,e)))return null;if(e&&r.docChanged){let t=r.changes.mapPos(e.pos,-1,Qi.TrackDel);if(null==t)return null;let i=Object.assign(Object.create(null),e);i.pos=t,null!=e.end&&(i.end=r.changes.mapPos(e.end)),e=i}for(let t of r.effects)t.is(i)&&(e=t.value),t.is(Wl)&&(e=null);return e},provide:e=>_l.from(e)});return[r,Lo.define((n=>new Gl(n,e,r,i,t.hoverTime||300))),Ll]}const Wl=Sr.define();Wl.of(null);const Bl=zi.define({combine(e){let t,i;for(let r of e)t=t||r.topContainer,i=i||r.bottomContainer;return{topContainer:t,bottomContainer:i}}});function zl(e,t){let i=e.plugin(Fl),r=i?i.specs.indexOf(t):-1;return r>-1?i.panels[r]:null}const Fl=Lo.fromClass(class{constructor(e){this.input=e.state.facet(Xl),this.specs=this.input.filter((e=>e)),this.panels=this.specs.map((t=>t(e)));let t=e.state.facet(Bl);this.top=new Ul(e,!0,t.topContainer),this.bottom=new Ul(e,!1,t.bottomContainer),this.top.sync(this.panels.filter((e=>e.top))),this.bottom.sync(this.panels.filter((e=>!e.top)));for(let e of this.panels)e.dom.classList.add("cm-panel"),e.mount&&e.mount()}update(e){let t=e.state.facet(Bl);this.top.container!=t.topContainer&&(this.top.sync([]),this.top=new Ul(e.view,!0,t.topContainer)),this.bottom.container!=t.bottomContainer&&(this.bottom.sync([]),this.bottom=new Ul(e.view,!1,t.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let i=e.state.facet(Xl);if(i!=this.input){let t=i.filter((e=>e)),r=[],n=[],o=[],s=[];for(let i of t){let t,a=this.specs.indexOf(i);a<0?(t=i(e.view),s.push(t)):(t=this.panels[a],t.update&&t.update(e)),r.push(t),(t.top?n:o).push(t)}this.specs=t,this.panels=r,this.top.sync(n),this.bottom.sync(o);for(let e of s)e.dom.classList.add("cm-panel"),e.mount&&e.mount()}else for(let t of this.panels)t.update&&t.update(e)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:e=>Ga.scrollMargins.of((t=>{let i=t.plugin(e);return i&&{top:i.top.scrollMargin(),bottom:i.bottom.scrollMargin()}}))});class Ul{constructor(e,t,i){this.view=e,this.top=t,this.container=i,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(0==this.panels.length)return void(this.dom&&(this.dom.remove(),this.dom=void 0));if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let e=this.container||this.view.dom;e.insertBefore(this.dom,this.top?e.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=ql(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=ql(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(this.container&&this.classes!=this.view.themeClasses){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function ql(e){let t=e.nextSibling;return e.remove(),t}const Xl=zi.define({enables:Fl});class jl extends Er{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}jl.prototype.elementClass="",jl.prototype.toDOM=void 0,jl.prototype.mapMode=Qi.TrackBefore,jl.prototype.startSide=jl.prototype.endSide=-1,jl.prototype.point=!0;const Hl=zi.define(),Zl={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>Mr.empty,lineMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},Yl=zi.define();function Jl(e){return[eu(),Yl.of(Object.assign(Object.assign({},Zl),e))]}const Kl=zi.define({combine:e=>e.some((e=>e))});function eu(e){let t=[tu];return e&&!1===e.fixed&&t.push(Kl.of(!0)),t}const tu=Lo.fromClass(class{constructor(e){this.view=e,this.prevViewport=e.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight+"px",this.gutters=e.state.facet(Yl).map((t=>new ou(e,t)));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!e.state.facet(Kl),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),e.scrollDOM.insertBefore(this.dom,e.contentDOM)}update(e){if(this.updateGutters(e)){let t=this.prevViewport,i=e.view.viewport,r=Math.min(t.to,i.to)-Math.max(t.from,i.from);this.syncGutters(r<.8*(i.to-i.from))}e.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet(Kl)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=e.view.viewport}syncGutters(e){let t=this.dom.nextSibling;e&&this.dom.remove();let i=Mr.iter(this.view.state.facet(Hl),this.view.viewport.from),r=[],n=this.gutters.map((e=>new nu(e,this.view.viewport,-this.view.documentPadding.top)));for(let e of this.view.viewportLineBlocks){let t;if(Array.isArray(e.type)){for(let i of e.type)if(i.type==po.Text){t=i;break}}else t=e.type==po.Text?e:void 0;if(t){r.length&&(r=[]),ru(i,r,e.from);for(let e of n)e.line(this.view,t,r)}}for(let e of n)e.finish();e&&this.view.scrollDOM.insertBefore(this.dom,t)}updateGutters(e){let t=e.startState.facet(Yl),i=e.state.facet(Yl),r=e.docChanged||e.heightChanged||e.viewportChanged||!Mr.eq(e.startState.facet(Hl),e.state.facet(Hl),e.view.viewport.from,e.view.viewport.to);if(t==i)for(let t of this.gutters)t.update(e)&&(r=!0);else{r=!0;let n=[];for(let r of i){let i=t.indexOf(r);i<0?n.push(new ou(this.view,r)):(this.gutters[i].update(e),n.push(this.gutters[i]))}for(let e of this.gutters)e.dom.remove(),n.indexOf(e)<0&&e.destroy();for(let e of n)this.dom.appendChild(e.dom);this.gutters=n}return r}destroy(){for(let e of this.gutters)e.destroy();this.dom.remove()}},{provide:e=>Ga.scrollMargins.of((t=>{let i=t.plugin(e);return i&&0!=i.gutters.length&&i.fixed?t.textDirection==jo.LTR?{left:i.dom.offsetWidth}:{right:i.dom.offsetWidth}:null}))});function iu(e){return Array.isArray(e)?e:[e]}function ru(e,t,i){for(;e.value&&e.from<=i;)e.from==i&&t.push(e.value),e.next()}class nu{constructor(e,t,i){this.gutter=e,this.height=i,this.localMarkers=[],this.i=0,this.cursor=Mr.iter(e.markers,t.from)}line(e,t,i){this.localMarkers.length&&(this.localMarkers=[]),ru(this.cursor,this.localMarkers,t.from);let r=i.length?this.localMarkers.concat(i):this.localMarkers,n=this.gutter.config.lineMarker(e,t,r);n&&r.unshift(n);let o=this.gutter;if(0==r.length&&!o.config.renderEmptyElements)return;let s=t.top-this.height;if(this.i==o.elements.length){let i=new su(e,t.height,s,r);o.elements.push(i),o.dom.appendChild(i.dom)}else o.elements[this.i].update(e,t.height,s,r);this.height=t.bottom,this.i++}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class ou{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let i in t.domEventHandlers)this.dom.addEventListener(i,(r=>{let n=e.lineBlockAtHeight(r.clientY-e.documentTop);t.domEventHandlers[i](e,n,r)&&r.preventDefault()}));this.markers=iu(t.markers(e)),t.initialSpacer&&(this.spacer=new su(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=iu(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let t=this.config.updateSpacer(this.spacer.markers[0],e);t!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[t])}let i=e.view.viewport;return!Mr.eq(this.markers,t,i.from,i.to)||!!this.config.lineMarkerChange&&this.config.lineMarkerChange(e)}destroy(){for(let e of this.elements)e.destroy()}}class su{constructor(e,t,i,r){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,i,r)}update(e,t,i,r){this.height!=t&&(this.dom.style.height=(this.height=t)+"px"),this.above!=i&&(this.dom.style.marginTop=(this.above=i)?i+"px":""),function(e,t){if(e.length!=t.length)return!1;for(let i=0;i<e.length;i++)if(!e[i].compare(t[i]))return!1;return!0}(this.markers,r)||this.setMarkers(e,r)}setMarkers(e,t){let i="cm-gutterElement",r=this.dom.firstChild;for(let n=0,o=0;;){let s=o,a=n<t.length?t[n++]:null,l=!1;if(a){let e=a.elementClass;e&&(i+=" "+e);for(let e=o;e<this.markers.length;e++)if(this.markers[e].compare(a)){s=e,l=!0;break}}else s=this.markers.length;for(;o<s;){let e=this.markers[o++];if(e.toDOM){e.destroy(r);let t=r.nextSibling;r.remove(),r=t}}if(!a)break;a.toDOM&&(l?r=r.nextSibling:this.dom.insertBefore(a.toDOM(e),r)),l&&o++}this.dom.className=i,this.markers=t}destroy(){this.setMarkers(null,[])}}const au=zi.define(),lu=zi.define({combine:e=>Ir(e,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let i=Object.assign({},e);for(let e in t){let r=i[e],n=t[e];i[e]=r?(e,t,i)=>r(e,t,i)||n(e,t,i):n}return i}})});class uu extends jl{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function cu(e,t){return e.state.facet(lu).formatNumber(t,e.state)}const du=Yl.compute([lu],(e=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers:e=>e.state.facet(au),lineMarker:(e,t,i)=>i.some((e=>e.toDOM))?null:new uu(cu(e,e.state.doc.lineAt(t.from).number)),lineMarkerChange:e=>e.startState.facet(lu)!=e.state.facet(lu),initialSpacer:e=>new uu(cu(e,hu(e.state.doc.lines))),updateSpacer(e,t){let i=cu(t.view,hu(t.view.state.doc.lines));return i==e.number?e:new uu(i)},domEventHandlers:e.facet(lu).domEventHandlers})));function hu(e){let t=9;for(;t<e;)t=10*t+9;return t}const pu=new class extends jl{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},fu=Hl.compute(["selection"],(e=>{let t=[],i=-1;for(let r of e.selection.ranges)if(r.empty){let n=e.doc.lineAt(r.head).from;n>i&&(i=n,t.push(pu.range(n)))}return Mr.of(t)}));const mu=1024;let gu=0;class Ou{constructor(e,t){this.from=e,this.to=t}}class bu{constructor(e={}){this.id=gu++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return"function"!=typeof e&&(e=vu.match(e)),t=>{let i=e(t);return void 0===i?null:[this,i]}}}bu.closedBy=new bu({deserialize:e=>e.split(" ")}),bu.openedBy=new bu({deserialize:e=>e.split(" ")}),bu.group=new bu({deserialize:e=>e.split(" ")}),bu.contextHash=new bu({perNode:!0}),bu.lookAhead=new bu({perNode:!0}),bu.mounted=new bu({perNode:!0});class Su{constructor(e,t,i){this.tree=e,this.overlay=t,this.parser=i}}const yu=Object.create(null);class vu{constructor(e,t,i,r=0){this.name=e,this.props=t,this.id=i,this.flags=r}static define(e){let t=e.props&&e.props.length?Object.create(null):yu,i=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(null==e.name?8:0),r=new vu(e.name||"",t,e.id,i);if(e.props)for(let i of e.props)if(Array.isArray(i)||(i=i(r)),i){if(i[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[i[0].id]=i[1]}return r}prop(e){return this.props[e.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(e){if("string"==typeof e){if(this.name==e)return!0;let t=this.prop(bu.group);return!!t&&t.indexOf(e)>-1}return this.id==e}static match(e){let t=Object.create(null);for(let i in e)for(let r of i.split(" "))t[r]=e[i];return e=>{for(let i=e.prop(bu.group),r=-1;r<(i?i.length:0);r++){let n=t[r<0?e.name:i[r]];if(n)return n}}}}vu.none=new vu("",Object.create(null),0,8);class wu{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let i of this.types){let r=null;for(let t of e){let e=t(i);e&&(r||(r=Object.assign({},i.props)),r[e[0].id]=e[1])}t.push(r?new vu(i.name,r,i.id,i.flags):i)}return new wu(t)}}const xu=new WeakMap,ku=new WeakMap;var Vu;!function(e){e[e.ExcludeBuffers=1]="ExcludeBuffers",e[e.IncludeAnonymous=2]="IncludeAnonymous",e[e.IgnoreMounts=4]="IgnoreMounts",e[e.IgnoreOverlays=8]="IgnoreOverlays"}(Vu||(Vu={}));class Cu{constructor(e,t,i,r,n){if(this.type=e,this.children=t,this.positions=i,this.length=r,this.props=null,n&&n.length){this.props=Object.create(null);for(let[e,t]of n)this.props["number"==typeof e?e:e.id]=t}}toString(){let e=this.prop(bu.mounted);if(e&&!e.overlay)return e.tree.toString();let t="";for(let e of this.children){let i=e.toString();i&&(t&&(t+=","),t+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new Mu(this.topNode,e)}cursorAt(e,t=0,i=0){let r=xu.get(this)||this.topNode,n=new Mu(r);return n.moveTo(e,t),xu.set(this,n._tree),n}get topNode(){return new Iu(this,0,0,null)}resolve(e,t=0){let i=Ru(xu.get(this)||this.topNode,e,t,!1);return xu.set(this,i),i}resolveInner(e,t=0){let i=Ru(ku.get(this)||this.topNode,e,t,!0);return ku.set(this,i),i}iterate(e){let{enter:t,leave:i,from:r=0,to:n=this.length}=e;for(let o=this.cursor((e.mode||0)|Vu.IncludeAnonymous);;){let e=!1;if(o.from<=n&&o.to>=r&&(o.type.isAnonymous||!1!==t(o))){if(o.firstChild())continue;e=!0}for(;e&&i&&!o.type.isAnonymous&&i(o),!o.nextSibling();){if(!o.parent())return;e=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:Wu(vu.none,this.children,this.positions,0,this.children.length,0,this.length,((e,t,i)=>new Cu(this.type,e,t,i,this.propValues)),e.makeTree||((e,t,i)=>new Cu(vu.none,e,t,i)))}static build(e){return function(e){var t;let{buffer:i,nodeSet:r,maxBufferLength:n=mu,reused:o=[],minRepeatType:s=r.types.length}=e,a=Array.isArray(i)?new Tu(i,i.length):i,l=r.types,u=0,c=0;function d(e,t,i,O,b){let{id:S,start:y,end:v,size:w}=a,x=c;for(;w<0;){if(a.next(),-1==w){let t=o[S];return i.push(t),void O.push(y-e)}if(-3==w)return void(u=S);if(-4==w)return void(c=S);throw new RangeError(`Unrecognized record size: ${w}`)}let k,V,C=l[S],T=y-e;if(v-y<=n&&(V=m(a.pos-t,b))){let t=new Uint16Array(V.size-V.skip),i=a.pos-V.size,n=t.length;for(;a.pos>i;)n=g(V.start,t,n);k=new $u(t,v-V.start,r),T=V.start-e}else{let e=a.pos-w;a.next();let t=[],i=[],r=S>=s?S:-1,o=0,l=v;for(;a.pos>e;)r>=0&&a.id==r&&a.size>=0?(a.end<=l-n&&(p(t,i,y,o,a.end,l,r,x),o=t.length,l=a.end),a.next()):d(y,e,t,i,r);if(r>=0&&o>0&&o<t.length&&p(t,i,y,o,y,l,r,x),t.reverse(),i.reverse(),r>-1&&o>0){let e=h(C);k=Wu(C,t,i,0,t.length,0,v-y,e,e)}else k=f(C,t,i,v-y,x-v)}i.push(k),O.push(T)}function h(e){return(t,i,r)=>{let n,o,s=0,a=t.length-1;if(a>=0&&(n=t[a])instanceof Cu){if(!a&&n.type==e&&n.length==r)return n;(o=n.prop(bu.lookAhead))&&(s=i[a]+n.length+o)}return f(e,t,i,r,s)}}function p(e,t,i,n,o,s,a,l){let u=[],c=[];for(;e.length>n;)u.push(e.pop()),c.push(t.pop()+i-o);e.push(f(r.types[a],u,c,s-o,l-s)),t.push(o-i)}function f(e,t,i,r,n=0,o){if(u){let e=[bu.contextHash,u];o=o?[e].concat(o):[e]}if(n>25){let e=[bu.lookAhead,n];o=o?[e].concat(o):[e]}return new Cu(e,t,i,r,o)}function m(e,t){let i=a.fork(),r=0,o=0,l=0,u=i.end-n,c={size:0,start:0,skip:0};e:for(let n=i.pos-e;i.pos>n;){let e=i.size;if(i.id==t&&e>=0){c.size=r,c.start=o,c.skip=l,l+=4,r+=4,i.next();continue}let a=i.pos-e;if(e<0||a<n||i.start<u)break;let d=i.id>=s?4:0,h=i.start;for(i.next();i.pos>a;){if(i.size<0){if(-3!=i.size)break e;d+=4}else i.id>=s&&(d+=4);i.next()}o=h,r+=e,l+=d}return(t<0||r==e)&&(c.size=r,c.start=o,c.skip=l),c.size>4?c:void 0}function g(e,t,i){let{id:r,start:n,end:o,size:l}=a;if(a.next(),l>=0&&r<s){let s=i;if(l>4){let r=a.pos-(l-4);for(;a.pos>r;)i=g(e,t,i)}t[--i]=s,t[--i]=o-e,t[--i]=n-e,t[--i]=r}else-3==l?u=r:-4==l&&(c=r);return i}let O=[],b=[];for(;a.pos>0;)d(e.start||0,e.bufferStart||0,O,b,-1);let S=null!==(t=e.length)&&void 0!==t?t:O.length?b[0]+O[0].length:0;return new Cu(l[e.topID],O.reverse(),b.reverse(),S)}(e)}}Cu.empty=new Cu(vu.none,[],[],0);class Tu{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new Tu(this.buffer,this.index)}}class $u{constructor(e,t,i){this.buffer=e,this.length=t,this.set=i}get type(){return vu.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],i=this.buffer[e+3],r=this.set.types[t],n=r.name;if(/\W/.test(n)&&!r.isError&&(n=JSON.stringify(n)),i==(e+=4))return n;let o=[];for(;e<i;)o.push(this.childString(e)),e=this.buffer[e+3];return n+"("+o.join(",")+")"}findChild(e,t,i,r,n){let{buffer:o}=this,s=-1;for(let a=e;a!=t&&!(Pu(n,r,o[a+1],o[a+2])&&(s=a,i>0));a=o[a+3]);return s}slice(e,t,i,r){let n=this.buffer,o=new Uint16Array(t-e);for(let r=e,s=0;r<t;)o[s++]=n[r++],o[s++]=n[r++]-i,o[s++]=n[r++]-i,o[s++]=n[r++]-e;return new $u(o,r-i,this.set)}}function Pu(e,t,i,r){switch(e){case-2:return i<t;case-1:return r>=t&&i<t;case 0:return i<t&&r>t;case 1:return i<=t&&r>t;case 2:return r>t;case 4:return!0}}function Qu(e,t){let i=e.childBefore(t);for(;i;){let t=i.lastChild;if(!t||t.to!=i.to)break;t.type.isError&&t.from==t.to?(e=i,i=t.prevSibling):i=t}return e}function Ru(e,t,i,r){for(var n;e.from==e.to||(i<1?e.from>=t:e.from>t)||(i>-1?e.to<=t:e.to<t);){let t=!r&&e instanceof Iu&&e.index<0?null:e.parent;if(!t)return e;e=t}let o=r?0:Vu.IgnoreOverlays;if(r)for(let r=e,s=r.parent;s;r=s,s=r.parent)r instanceof Iu&&r.index<0&&(null===(n=s.enter(t,i,o))||void 0===n?void 0:n.from)!=r.from&&(e=s);for(;;){let r=e.enter(t,i,o);if(!r)return e;e=r}}class Iu{constructor(e,t,i,r){this._tree=e,this.from=t,this.index=i,this._parent=r}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,i,r,n=0){for(let o=this;;){for(let{children:s,positions:a}=o._tree,l=t>0?s.length:-1;e!=l;e+=t){let l=s[e],u=a[e]+o.from;if(Pu(r,i,u,u+l.length))if(l instanceof $u){if(n&Vu.ExcludeBuffers)continue;let s=l.findChild(0,l.buffer.length,t,i-u,r);if(s>-1)return new _u(new Au(o,l,e,u),null,s)}else if(n&Vu.IncludeAnonymous||!l.type.isAnonymous||Lu(l)){let s;if(!(n&Vu.IgnoreMounts)&&l.props&&(s=l.prop(bu.mounted))&&!s.overlay)return new Iu(s.tree,u,e,o);let a=new Iu(l,u,e,o);return n&Vu.IncludeAnonymous||!a.type.isAnonymous?a:a.nextChild(t<0?l.children.length-1:0,t,i,r)}}if(n&Vu.IncludeAnonymous||!o.type.isAnonymous)return null;if(e=o.index>=0?o.index+t:t<0?-1:o._parent._tree.children.length,o=o._parent,!o)return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,i=0){let r;if(!(i&Vu.IgnoreOverlays)&&(r=this._tree.prop(bu.mounted))&&r.overlay){let i=e-this.from;for(let{from:e,to:n}of r.overlay)if((t>0?e<=i:e<i)&&(t<0?n>=i:n>i))return new Iu(r.tree,r.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,i)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}cursor(e=0){return new Mu(this,e)}get tree(){return this._tree}toTree(){return this._tree}resolve(e,t=0){return Ru(this,e,t,!1)}resolveInner(e,t=0){return Ru(this,e,t,!0)}enterUnfinishedNodesBefore(e){return Qu(this,e)}getChild(e,t=null,i=null){let r=Eu(this,e,t,i);return r.length?r[0]:null}getChildren(e,t=null,i=null){return Eu(this,e,t,i)}toString(){return this._tree.toString()}get node(){return this}matchContext(e){return Du(this,e)}}function Eu(e,t,i,r){let n=e.cursor(),o=[];if(!n.firstChild())return o;if(null!=i)for(;!n.type.is(i);)if(!n.nextSibling())return o;for(;;){if(null!=r&&n.type.is(r))return o;if(n.type.is(t)&&o.push(n.node),!n.nextSibling())return null==r?o:[]}}function Du(e,t,i=t.length-1){for(let r=e.parent;i>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(t[i]&&t[i]!=r.name)return!1;i--}}return!0}class Au{constructor(e,t,i,r){this.parent=e,this.buffer=t,this.index=i,this.start=r}}class _u{constructor(e,t,i){this.context=e,this._parent=t,this.index=i,this.type=e.buffer.set.types[e.buffer.buffer[i]]}get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}child(e,t,i){let{buffer:r}=this.context,n=r.findChild(this.index+4,r.buffer[this.index+3],e,t-this.context.start,i);return n<0?null:new _u(this.context,this,n)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,i=0){if(i&Vu.ExcludeBuffers)return null;let{buffer:r}=this.context,n=r.findChild(this.index+4,r.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return n<0?null:new _u(this.context,this,n)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new _u(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new _u(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}cursor(e=0){return new Mu(this,e)}get tree(){return null}toTree(){let e=[],t=[],{buffer:i}=this.context,r=this.index+4,n=i.buffer[this.index+3];if(n>r){let o=i.buffer[this.index+1],s=i.buffer[this.index+2];e.push(i.slice(r,n,o,s)),t.push(0)}return new Cu(this.type,e,t,this.to-this.from)}resolve(e,t=0){return Ru(this,e,t,!1)}resolveInner(e,t=0){return Ru(this,e,t,!0)}enterUnfinishedNodesBefore(e){return Qu(this,e)}toString(){return this.context.buffer.childString(this.index)}getChild(e,t=null,i=null){let r=Eu(this,e,t,i);return r.length?r[0]:null}getChildren(e,t=null,i=null){return Eu(this,e,t,i)}get node(){return this}matchContext(e){return Du(this,e)}}class Mu{constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Iu)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let t=e._parent;t;t=t._parent)this.stack.unshift(t.index);this.bufferNode=e,this.yieldBuf(e.index)}}get name(){return this.type.name}yieldNode(e){return!!e&&(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0)}yieldBuf(e,t){this.index=e;let{start:i,buffer:r}=this.buffer;return this.type=t||r.set.types[r.buffer[e]],this.from=i+r.buffer[e+1],this.to=i+r.buffer[e+2],!0}yield(e){return!!e&&(e instanceof Iu?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)))}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,i){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,i,this.mode));let{buffer:r}=this.buffer,n=r.findChild(this.index+4,r.buffer[this.index+3],e,t-this.buffer.start,i);return!(n<0)&&(this.stack.push(this.index),this.yieldBuf(n))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,i=this.mode){return this.buffer?!(i&Vu.ExcludeBuffers)&&this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,i))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Vu.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Vu.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode));let{buffer:t}=this.buffer,i=this.stack.length-1;if(e<0){let e=i<0?0:this.stack[i]+4;if(this.index!=e)return this.yieldBuf(t.findChild(e,this.index,-1,0,4))}else{let e=t.buffer[this.index+3];if(e<(i<0?t.buffer.length:t.buffer[this.stack[i]+3]))return this.yieldBuf(e)}return i<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode))}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,i,{buffer:r}=this;if(r){if(e>0){if(this.index<r.buffer.buffer.length)return!1}else for(let e=0;e<this.index;e++)if(r.buffer.buffer[e+3]<this.index)return!1;({index:t,parent:i}=r)}else({index:t,_parent:i}=this._tree);for(;i;({index:t,_parent:i}=i))if(t>-1)for(let r=t+e,n=e<0?-1:i._tree.children.length;r!=n;r+=e){let e=i._tree.children[r];if(this.mode&Vu.IncludeAnonymous||e instanceof $u||!e.type.isAnonymous||Lu(e))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,i=0;if(e&&e.context==this.buffer)e:for(let r=this.index,n=this.stack.length;n>=0;){for(let o=e;o;o=o._parent)if(o.index==r){if(r==this.index)return o;t=o,i=n+1;break e}r=this.stack[--n]}for(let e=i;e<this.stack.length;e++)t=new _u(this.buffer,t,this.stack[e]);return this.bufferNode=new _u(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let i=0;;){let r=!1;if(this.type.isAnonymous||!1!==e(this)){if(this.firstChild()){i++;continue}this.type.isAnonymous||(r=!0)}for(;r&&t&&t(this),r=this.type.isAnonymous,!this.nextSibling();){if(!i)return;this.parent(),i--,r=!0}}}matchContext(e){if(!this.buffer)return Du(this.node,e);let{buffer:t}=this.buffer,{types:i}=t.set;for(let r=e.length-1,n=this.stack.length-1;r>=0;n--){if(n<0)return Du(this.node,e,r);let o=i[t.buffer[this.stack[n]]];if(!o.isAnonymous){if(e[r]&&e[r]!=o.name)return!1;r--}}return!0}}function Lu(e){return e.children.some((e=>e instanceof $u||!e.type.isAnonymous||Lu(e)))}const Gu=new WeakMap;function Nu(e,t){if(!e.isAnonymous||t instanceof $u||t.type!=e)return 1;let i=Gu.get(t);if(null==i){i=1;for(let r of t.children){if(r.type!=e||!(r instanceof Cu)){i=1;break}i+=Nu(e,r)}Gu.set(t,i)}return i}function Wu(e,t,i,r,n,o,s,a,l){let u=0;for(let i=r;i<n;i++)u+=Nu(e,t[i]);let c=Math.ceil(1.5*u/8),d=[],h=[];return function t(i,r,n,s,a){for(let u=n;u<s;){let n=u,p=r[u],f=Nu(e,i[u]);for(u++;u<s;u++){let t=Nu(e,i[u]);if(f+t>=c)break;f+=t}if(u==n+1){if(f>c){let e=i[n];t(e.children,e.positions,0,e.children.length,r[n]+a);continue}d.push(i[n])}else{let t=r[u-1]+i[u-1].length-p;d.push(Wu(e,i,r,n,u,p,t,null,l))}h.push(p+a-o)}}(t,i,r,n,0),(a||l)(d,h,s)}class Bu{constructor(e,t,i,r,n=!1,o=!1){this.from=e,this.to=t,this.tree=i,this.offset=r,this.open=(n?1:0)|(o?2:0)}get openStart(){return(1&this.open)>0}get openEnd(){return(2&this.open)>0}static addTree(e,t=[],i=!1){let r=[new Bu(0,e.length,e,0,!1,i)];for(let i of t)i.to>e.length&&r.push(i);return r}static applyChanges(e,t,i=128){if(!t.length)return e;let r=[],n=1,o=e.length?e[0]:null;for(let s=0,a=0,l=0;;s++){let u=s<t.length?t[s]:null,c=u?u.fromA:1e9;if(c-a>=i)for(;o&&o.from<c;){let t=o;if(a>=t.from||c<=t.to||l){let e=Math.max(t.from,a)-l,i=Math.min(t.to,c)-l;t=e>=i?null:new Bu(e,i,t.tree,t.offset+l,s>0,!!u)}if(t&&r.push(t),o.to>c)break;o=n<e.length?e[n++]:null}if(!u)break;a=u.toA,l=u.toA-u.toB}return r}}class zu{startParse(e,t,i){return"string"==typeof e&&(e=new Fu(e)),i=i?i.length?i.map((e=>new Ou(e.from,e.to))):[new Ou(0,0)]:[new Ou(0,e.length)],this.createParse(e,t||[],i)}parse(e,t,i){let r=this.startParse(e,t,i);for(;;){let e=r.advance();if(e)return e}}}class Fu{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}class Uu{constructor(e,t,i,r,n){this.parser=e,this.parse=t,this.overlay=i,this.target=r,this.ranges=n}}class qu{constructor(e,t,i,r,n,o,s){this.parser=e,this.predicate=t,this.mounts=i,this.index=r,this.start=n,this.target=o,this.prev=s,this.depth=0,this.ranges=[]}}const Xu=new bu({perNode:!0});class ju{constructor(e,t,i,r,n){this.nest=t,this.input=i,this.fragments=r,this.ranges=n,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=e}advance(){if(this.baseParse){let e=this.baseParse.advance();if(!e)return null;if(this.baseParse=null,this.baseTree=e,this.startInner(),null!=this.stoppedAt)for(let e of this.inner)e.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let e=this.baseTree;return null!=this.stoppedAt&&(e=new Cu(e.type,e.children,e.positions,e.length,e.propValues.concat([[Xu,this.stoppedAt]]))),e}let e=this.inner[this.innerDone],t=e.parse.advance();if(t){this.innerDone++;let i=Object.assign(Object.create(null),e.target.props);i[bu.mounted.id]=new Su(t,e.overlay,e.parser),e.target.props=i}return null}get parsedPos(){if(this.baseParse)return 0;let e=this.input.length;for(let t=this.innerDone;t<this.inner.length;t++)this.inner[t].ranges[0].from<e&&(e=Math.min(e,this.inner[t].parse.parsedPos));return e}stopAt(e){if(this.stoppedAt=e,this.baseParse)this.baseParse.stopAt(e);else for(let t=this.innerDone;t<this.inner.length;t++)this.inner[t].parse.stopAt(e)}startInner(){let e=new Ku(this.fragments),t=null,i=null,r=new Mu(new Iu(this.baseTree,this.ranges[0].from,0,null),Vu.IncludeAnonymous|Vu.IgnoreMounts);e:for(let n,o;null==this.stoppedAt||r.from<this.stoppedAt;){let s,a=!0;if(e.hasNode(r)){if(t){let e=t.mounts.find((e=>e.frag.from<=r.from&&e.frag.to>=r.to&&e.mount.overlay));if(e)for(let i of e.mount.overlay){let n=i.from+e.pos,o=i.to+e.pos;n>=r.from&&o<=r.to&&!t.ranges.some((e=>e.from<o&&e.to>n))&&t.ranges.push({from:n,to:o})}}a=!1}else if(i&&(o=Hu(i.ranges,r.from,r.to)))a=2!=o;else if(!r.type.isAnonymous&&r.from<r.to&&(n=this.nest(r,this.input))){r.tree||Yu(r);let o=e.findMounts(r.from,n.parser);if("function"==typeof n.overlay)t=new qu(n.parser,n.overlay,o,this.inner.length,r.from,r.tree,t);else{let e=ec(this.ranges,n.overlay||[new Ou(r.from,r.to)]);e.length&&this.inner.push(new Uu(n.parser,n.parser.startParse(this.input,ic(o,e),e),n.overlay?n.overlay.map((e=>new Ou(e.from-r.from,e.to-r.from))):null,r.tree,e)),n.overlay?e.length&&(i={ranges:e,depth:0,prev:i}):a=!1}}else t&&(s=t.predicate(r))&&(!0===s&&(s=new Ou(r.from,r.to)),s.from<s.to&&t.ranges.push(s));if(a&&r.firstChild())t&&t.depth++,i&&i.depth++;else for(;!r.nextSibling();){if(!r.parent())break e;if(t&&!--t.depth){let e=ec(this.ranges,t.ranges);e.length&&this.inner.splice(t.index,0,new Uu(t.parser,t.parser.startParse(this.input,ic(t.mounts,e),e),t.ranges.map((e=>new Ou(e.from-t.start,e.to-t.start))),t.target,e)),t=t.prev}i&&!--i.depth&&(i=i.prev)}}}}function Hu(e,t,i){for(let r of e){if(r.from>=i)break;if(r.to>t)return r.from<=t&&r.to>=i?2:1}return 0}function Zu(e,t,i,r,n,o){if(t<i){let s=e.buffer[t+1],a=e.buffer[i-2];r.push(e.slice(t,i,s,a)),n.push(s-o)}}function Yu(e){let{node:t}=e,i=0;do{e.parent(),i++}while(!e.tree);let r=0,n=e.tree,o=0;for(;o=n.positions[r]+e.from,!(o<=t.from&&o+n.children[r].length>=t.to);r++);let s=n.children[r],a=s.buffer;n.children[r]=function e(i,r,n,l,u){let c=i;for(;a[c+2]+o<=t.from;)c=a[c+3];let d=[],h=[];Zu(s,i,c,d,h,l);let p=a[c+1],f=a[c+2],m=p+o==t.from&&f+o==t.to&&a[c]==t.type.id;return d.push(m?t.toTree():e(c+4,a[c+3],s.set.types[a[c]],p,f-p)),h.push(p-l),Zu(s,a[c+3],r,d,h,l),new Cu(n,d,h,u)}(0,a.length,vu.none,0,s.length);for(let r=0;r<=i;r++)e.childAfter(t.from)}class Ju{constructor(e,t){this.offset=t,this.done=!1,this.cursor=e.cursor(Vu.IncludeAnonymous|Vu.IgnoreMounts)}moveTo(e){let{cursor:t}=this,i=e-this.offset;for(;!this.done&&t.from<i;)t.to>=e&&t.enter(i,1,Vu.IgnoreOverlays|Vu.ExcludeBuffers)||t.next(!1)||(this.done=!0)}hasNode(e){if(this.moveTo(e.from),!this.done&&this.cursor.from+this.offset==e.from&&this.cursor.tree)for(let t=this.cursor.tree;;){if(t==e.tree)return!0;if(!(t.children.length&&0==t.positions[0]&&t.children[0]instanceof Cu))break;t=t.children[0]}return!1}}class Ku{constructor(e){var t;if(this.fragments=e,this.curTo=0,this.fragI=0,e.length){let i=this.curFrag=e[0];this.curTo=null!==(t=i.tree.prop(Xu))&&void 0!==t?t:i.to,this.inner=new Ju(i.tree,-i.offset)}else this.curFrag=this.inner=null}hasNode(e){for(;this.curFrag&&e.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=e.from&&this.curTo>=e.to&&this.inner.hasNode(e)}nextFrag(){var e;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let t=this.curFrag=this.fragments[this.fragI];this.curTo=null!==(e=t.tree.prop(Xu))&&void 0!==e?e:t.to,this.inner=new Ju(t.tree,-t.offset)}}findMounts(e,t){var i;let r=[];if(this.inner){this.inner.cursor.moveTo(e,1);for(let e=this.inner.cursor.node;e;e=e.parent){let n=null===(i=e.tree)||void 0===i?void 0:i.prop(bu.mounted);if(n&&n.parser==t)for(let t=this.fragI;t<this.fragments.length;t++){let i=this.fragments[t];if(i.from>=e.to)break;i.tree==this.curFrag.tree&&r.push({frag:i,pos:e.from-i.offset,mount:n})}}}return r}}function ec(e,t){let i=null,r=t;for(let n=1,o=0;n<e.length;n++){let s=e[n-1].to,a=e[n].from;for(;o<r.length;o++){let e=r[o];if(e.from>=a)break;e.to<=s||(i||(r=i=t.slice()),e.from<s?(i[o]=new Ou(e.from,s),e.to>a&&i.splice(o+1,0,new Ou(a,e.to))):e.to>a?i[o--]=new Ou(a,e.to):i.splice(o--,1))}}return r}function tc(e,t,i,r){let n=0,o=0,s=!1,a=!1,l=-1e9,u=[];for(;;){let c=n==e.length?1e9:s?e[n].to:e[n].from,d=o==t.length?1e9:a?t[o].to:t[o].from;if(s!=a){let e=Math.max(l,i),t=Math.min(c,d,r);e<t&&u.push(new Ou(e,t))}if(l=Math.min(c,d),1e9==l)break;c==l&&(s?(s=!1,n++):s=!0),d==l&&(a?(a=!1,o++):a=!0)}return u}function ic(e,t){let i=[];for(let{pos:r,mount:n,frag:o}of e){let e=r+(n.overlay?n.overlay[0].from:0),s=e+n.tree.length,a=Math.max(o.from,e),l=Math.min(o.to,s);if(n.overlay){let s=tc(t,n.overlay.map((e=>new Ou(e.from+r,e.to+r))),a,l);for(let t=0,r=a;;t++){let a=t==s.length,u=a?l:s[t].from;if(u>r&&i.push(new Bu(r,u,n.tree,-e,o.from>=r,o.to<=u)),a)break;r=s[t].to}}else i.push(new Bu(a,l,n.tree,-e,o.from>=e,o.to<=s))}return i}let rc=0;class nc{constructor(e,t,i){this.set=e,this.base=t,this.modified=i,this.id=rc++}static define(e){if(null==e?void 0:e.base)throw new Error("Can not derive from a modified tag");let t=new nc([],null,[]);if(t.set.push(t),e)for(let i of e.set)t.set.push(i);return t}static defineModifier(){let e=new sc;return t=>t.modified.indexOf(e)>-1?t:sc.get(t.base||t,t.modified.concat(e).sort(((e,t)=>e.id-t.id)))}}let oc=0;class sc{constructor(){this.instances=[],this.id=oc++}static get(e,t){if(!t.length)return e;let i=t[0].instances.find((i=>{return i.base==e&&(r=t,n=i.modified,r.length==n.length&&r.every(((e,t)=>e==n[t])));var r,n}));if(i)return i;let r=[],n=new nc(r,e,t);for(let e of t)e.instances.push(n);let o=ac(t);for(let t of e.set)for(let e of o)r.push(sc.get(t,e));return n}}function ac(e){let t=[e];for(let i=0;i<e.length;i++)for(let r of ac(e.slice(0,i).concat(e.slice(i+1))))t.push(r);return t}function lc(e){let t=Object.create(null);for(let i in e){let r=e[i];Array.isArray(r)||(r=[r]);for(let e of i.split(" "))if(e){let i=[],n=2,o=e;for(let t=0;;){if("..."==o&&t>0&&t+3==e.length){n=1;break}let r=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(o);if(!r)throw new RangeError("Invalid path: "+e);if(i.push("*"==r[0]?"":'"'==r[0][0]?JSON.parse(r[0]):r[0]),t+=r[0].length,t==e.length)break;let s=e[t++];if(t==e.length&&"!"==s){n=0;break}if("/"!=s)throw new RangeError("Invalid path: "+e);o=e.slice(t)}let s=i.length-1,a=i[s];if(!a)throw new RangeError("Invalid path: "+e);let l=new cc(r,n,s>0?i.slice(0,s):null);t[a]=l.sort(t[a])}}return uc.add(t)}const uc=new bu;class cc{constructor(e,t,i,r){this.tags=e,this.mode=t,this.context=i,this.next=r}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}function dc(e,t){let i=Object.create(null);for(let t of e)if(Array.isArray(t.tag))for(let e of t.tag)i[e.id]=t.class;else i[t.tag.id]=t.class;let{scope:r,all:n=null}=t||{};return{style:e=>{let t=n;for(let r of e)for(let e of r.set){let r=i[e.id];if(r){t=t?t+" "+r:r;break}}return t},scope:r}}function hc(e,t){let i=null;for(let r of e){let e=r.style(t);e&&(i=i?i+" "+e:e)}return i}function pc(e,t,i,r=0,n=e.length){let o=new fc(r,Array.isArray(t)?t:[t],i);o.highlightRange(e.cursor(),r,n,"",o.highlighters),o.flush(n)}class fc{constructor(e,t,i){this.at=e,this.highlighters=t,this.span=i,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,i,r,n){let{type:o,from:s,to:a}=e;if(s>=i||a<=t)return;o.isTop&&(n=this.highlighters.filter((e=>!e.scope||e.scope(o))));let l=r,u=o.prop(uc),c=!1;for(;u;){if(!u.context||e.matchContext(u.context)){let e=hc(n,u.tags);e&&(l&&(l+=" "),l+=e,1==u.mode?r+=(r?" ":"")+e:0==u.mode&&(c=!0));break}u=u.next}if(this.startSpan(e.from,l),c)return;let d=e.tree&&e.tree.prop(bu.mounted);if(d&&d.overlay){let o=e.node.enter(d.overlay[0].from+s,1),u=this.highlighters.filter((e=>!e.scope||e.scope(d.tree.type))),c=e.firstChild();for(let h=0,p=s;;h++){let f=h<d.overlay.length?d.overlay[h]:null,m=f?f.from+s:a,g=Math.max(t,p),O=Math.min(i,m);if(g<O&&c)for(;e.from<O&&(this.highlightRange(e,g,O,r,n),this.startSpan(Math.min(i,e.to),l),!(e.to>=m)&&e.nextSibling()););if(!f||m>i)break;p=f.to+s,p>t&&(this.highlightRange(o.cursor(),Math.max(t,f.from+s),Math.min(i,p),r,u),this.startSpan(p,l))}c&&e.parent()}else if(e.firstChild()){do{if(!(e.to<=t)){if(e.from>=i)break;this.highlightRange(e,t,i,r,n),this.startSpan(Math.min(i,e.to),l)}}while(e.nextSibling());e.parent()}}}const mc=nc.define,gc=mc(),Oc=mc(),bc=mc(Oc),Sc=mc(Oc),yc=mc(),vc=mc(yc),wc=mc(yc),xc=mc(),kc=mc(xc),Vc=mc(),Cc=mc(),Tc=mc(),$c=mc(Tc),Pc=mc(),Qc={comment:gc,lineComment:mc(gc),blockComment:mc(gc),docComment:mc(gc),name:Oc,variableName:mc(Oc),typeName:bc,tagName:mc(bc),propertyName:Sc,attributeName:mc(Sc),className:mc(Oc),labelName:mc(Oc),namespace:mc(Oc),macroName:mc(Oc),literal:yc,string:vc,docString:mc(vc),character:mc(vc),attributeValue:mc(vc),number:wc,integer:mc(wc),float:mc(wc),bool:mc(yc),regexp:mc(yc),escape:mc(yc),color:mc(yc),url:mc(yc),keyword:Vc,self:mc(Vc),null:mc(Vc),atom:mc(Vc),unit:mc(Vc),modifier:mc(Vc),operatorKeyword:mc(Vc),controlKeyword:mc(Vc),definitionKeyword:mc(Vc),moduleKeyword:mc(Vc),operator:Cc,derefOperator:mc(Cc),arithmeticOperator:mc(Cc),logicOperator:mc(Cc),bitwiseOperator:mc(Cc),compareOperator:mc(Cc),updateOperator:mc(Cc),definitionOperator:mc(Cc),typeOperator:mc(Cc),controlOperator:mc(Cc),punctuation:Tc,separator:mc(Tc),bracket:$c,angleBracket:mc($c),squareBracket:mc($c),paren:mc($c),brace:mc($c),content:xc,heading:kc,heading1:mc(kc),heading2:mc(kc),heading3:mc(kc),heading4:mc(kc),heading5:mc(kc),heading6:mc(kc),contentSeparator:mc(xc),list:mc(xc),quote:mc(xc),emphasis:mc(xc),strong:mc(xc),link:mc(xc),monospace:mc(xc),strikethrough:mc(xc),inserted:mc(),deleted:mc(),changed:mc(),invalid:mc(),meta:Pc,documentMeta:mc(Pc),annotation:mc(Pc),processingInstruction:mc(Pc),definition:nc.defineModifier(),constant:nc.defineModifier(),function:nc.defineModifier(),standard:nc.defineModifier(),local:nc.defineModifier(),special:nc.defineModifier()};var Rc;dc([{tag:Qc.link,class:"tok-link"},{tag:Qc.heading,class:"tok-heading"},{tag:Qc.emphasis,class:"tok-emphasis"},{tag:Qc.strong,class:"tok-strong"},{tag:Qc.keyword,class:"tok-keyword"},{tag:Qc.atom,class:"tok-atom"},{tag:Qc.bool,class:"tok-bool"},{tag:Qc.url,class:"tok-url"},{tag:Qc.labelName,class:"tok-labelName"},{tag:Qc.inserted,class:"tok-inserted"},{tag:Qc.deleted,class:"tok-deleted"},{tag:Qc.literal,class:"tok-literal"},{tag:Qc.string,class:"tok-string"},{tag:Qc.number,class:"tok-number"},{tag:[Qc.regexp,Qc.escape,Qc.special(Qc.string)],class:"tok-string2"},{tag:Qc.variableName,class:"tok-variableName"},{tag:Qc.local(Qc.variableName),class:"tok-variableName tok-local"},{tag:Qc.definition(Qc.variableName),class:"tok-variableName tok-definition"},{tag:Qc.special(Qc.variableName),class:"tok-variableName2"},{tag:Qc.definition(Qc.propertyName),class:"tok-propertyName tok-definition"},{tag:Qc.typeName,class:"tok-typeName"},{tag:Qc.namespace,class:"tok-namespace"},{tag:Qc.className,class:"tok-className"},{tag:Qc.macroName,class:"tok-macroName"},{tag:Qc.propertyName,class:"tok-propertyName"},{tag:Qc.operator,class:"tok-operator"},{tag:Qc.comment,class:"tok-comment"},{tag:Qc.meta,class:"tok-meta"},{tag:Qc.invalid,class:"tok-invalid"},{tag:Qc.punctuation,class:"tok-punctuation"}]);const Ic=new bu;class Ec{constructor(e,t,i=[]){this.data=e,Rr.prototype.hasOwnProperty("tree")||Object.defineProperty(Rr.prototype,"tree",{get(){return _c(this)}}),this.parser=t,this.extension=[Uc.of(this),Rr.languageData.of(((e,t,i)=>e.facet(Dc(e,t,i))))].concat(i)}isActiveAt(e,t,i=-1){return Dc(e,t,i)==this.data}findRegions(e){let t=e.facet(Uc);if((null==t?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let i=[],r=(e,t)=>{if(e.prop(Ic)==this.data)return void i.push({from:t,to:t+e.length});let n=e.prop(bu.mounted);if(n){if(n.tree.prop(Ic)==this.data){if(n.overlay)for(let e of n.overlay)i.push({from:e.from+t,to:e.to+t});else i.push({from:t,to:t+e.length});return}if(n.overlay){let e=i.length;if(r(n.tree,n.overlay[0].from+t),i.length>e)return}}for(let i=0;i<e.children.length;i++){let n=e.children[i];n instanceof Cu&&r(n,e.positions[i]+t)}};return r(_c(e),0),i}get allowsNesting(){return!0}}function Dc(e,t,i){let r=e.facet(Uc);if(!r)return null;let n=r.data;if(r.allowsNesting)for(let r=_c(e).topNode;r;r=r.enter(t,i,Vu.ExcludeBuffers))n=r.type.prop(Ic)||n;return n}Ec.setState=Sr.define();class Ac extends Ec{constructor(e,t){super(e,t),this.parser=t}static define(e){let t=(i=e.languageData,zi.define({combine:i?e=>e.concat(i):void 0}));var i;return new Ac(t,e.parser.configure({props:[Ic.add((e=>e.isTop?t:void 0))]}))}configure(e){return new Ac(this.data,this.parser.configure(e))}get allowsNesting(){return this.parser.hasWrappers()}}function _c(e){let t=e.field(Ec.state,!1);return t?t.tree:Cu.empty}class Mc{constructor(e,t=e.length){this.doc=e,this.length=t,this.cursorPos=0,this.string="",this.cursor=e.iter()}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let i=this.cursorPos-this.string.length;return e<i||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-i,t-i)}}let Lc=null;class Gc{constructor(e,t,i=[],r,n,o,s,a){this.parser=e,this.state=t,this.fragments=i,this.tree=r,this.treeLen=n,this.viewport=o,this.skipped=s,this.scheduleOn=a,this.parse=null,this.tempSkipped=[]}static create(e,t,i){return new Gc(e,t,[],Cu.empty,0,i,[],null)}startParse(){return this.parser.startParse(new Mc(this.state.doc),this.fragments)}work(e,t){return null!=t&&t>=this.state.doc.length&&(t=void 0),this.tree!=Cu.empty&&this.isDone(null!=t?t:this.state.doc.length)?(this.takeTree(),!0):this.withContext((()=>{var i;if("number"==typeof e){let t=Date.now()+e;e=()=>Date.now()>t}for(this.parse||(this.parse=this.startParse()),null!=t&&(null==this.parse.stoppedAt||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let r=this.parse.advance();if(r){if(this.fragments=this.withoutTempSkipped(Bu.addTree(r,this.fragments,null!=this.parse.stoppedAt)),this.treeLen=null!==(i=this.parse.stoppedAt)&&void 0!==i?i:this.state.doc.length,this.tree=r,this.parse=null,!(this.treeLen<(null!=t?t:this.state.doc.length)))return!0;this.parse=this.startParse()}if(e())return!1}}))}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((null==this.parse.stoppedAt||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext((()=>{for(;!(t=this.parse.advance()););})),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(Bu.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=Lc;Lc=this;try{return e()}finally{Lc=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=Nc(e,t.from,t.to);return e}changes(e,t){let{fragments:i,tree:r,treeLen:n,viewport:o,skipped:s}=this;if(this.takeTree(),!e.empty){let t=[];if(e.iterChangedRanges(((e,i,r,n)=>t.push({fromA:e,toA:i,fromB:r,toB:n}))),i=Bu.applyChanges(i,t),r=Cu.empty,n=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){s=[];for(let t of this.skipped){let i=e.mapPos(t.from,1),r=e.mapPos(t.to,-1);i<r&&s.push({from:i,to:r})}}}return new Gc(this.parser,t,i,r,n,o,s,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let t=0;t<this.skipped.length;t++){let{from:i,to:r}=this.skipped[t];i<e.to&&r>e.from&&(this.fragments=Nc(this.fragments,i,r),this.skipped.splice(t--,1))}return!(this.skipped.length>=t)&&(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends zu{createParse(t,i,r){let n=r[0].from,o=r[r.length-1].to;return{parsedPos:n,advance(){let t=Lc;if(t){for(let e of r)t.tempSkipped.push(e);e&&(t.scheduleOn=t.scheduleOn?Promise.all([t.scheduleOn,e]):e)}return this.parsedPos=o,new Cu(vu.none,[],[],o-n)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&0==t[0].from&&t[0].to>=e}static get(){return Lc}}function Nc(e,t,i){return Bu.applyChanges(e,[{fromA:t,toA:i,fromB:t,toB:i}])}class Wc{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),i=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,i)||t.takeTree(),new Wc(t)}static init(e){let t=Math.min(3e3,e.doc.length),i=Gc.create(e.facet(Uc).parser,e,{from:0,to:t});return i.work(20,t)||i.takeTree(),new Wc(i)}}Ec.state=Zi.define({create:Wc.init,update(e,t){for(let e of t.effects)if(e.is(Ec.setState))return e.value;return t.startState.facet(Uc)!=t.state.facet(Uc)?Wc.init(t.state):e.apply(t)}});let Bc=e=>{let t=setTimeout((()=>e()),500);return()=>clearTimeout(t)};"undefined"!=typeof requestIdleCallback&&(Bc=e=>{let t=-1,i=setTimeout((()=>{t=requestIdleCallback(e,{timeout:400})}),100);return()=>t<0?clearTimeout(i):cancelIdleCallback(t)});const zc="undefined"!=typeof navigator&&(null===(Rc=navigator.scheduling)||void 0===Rc?void 0:Rc.isInputPending)?()=>navigator.scheduling.isInputPending():null,Fc=Lo.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(Ec.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),e.docChanged&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(Ec.state);t.tree==t.context.tree&&t.context.isDone(e.doc.length)||(this.working=Bc(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:i,viewport:{to:r}}=this.view,n=i.field(Ec.state);if(n.tree==n.context.tree&&n.context.isDone(r+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!zc?Math.max(25,e.timeRemaining()-5):1e9),s=n.context.treeLen<r&&i.doc.length>r+1e3,a=n.context.work((()=>zc&&zc()||Date.now()>o),r+(s?0:1e5));this.chunkBudget-=Date.now()-t,(a||this.chunkBudget<=0)&&(n.context.takeTree(),this.view.dispatch({effects:Ec.setState.of(new Wc(n.context))})),this.chunkBudget>0&&(!a||s)&&this.scheduleWork(),this.checkAsyncSchedule(n.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then((()=>this.scheduleWork())).catch((e=>Do(this.view.state,e))).then((()=>this.workScheduled--)),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Uc=zi.define({combine:e=>e.length?e[0]:null,enables:[Ec.state,Fc]});class qc{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}}const Xc=zi.define(),jc=zi.define({combine:e=>{if(!e.length)return"  ";if(!/^(?: +|\t+)$/.test(e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(e[0]));return e[0]}});function Hc(e){let t=e.facet(jc);return 9==t.charCodeAt(0)?e.tabSize*t.length:t.length}function Zc(e,t){let i="",r=e.tabSize;if(9==e.facet(jc).charCodeAt(0))for(;t>=r;)i+="\t",t-=r;for(let e=0;e<t;e++)i+=" ";return i}function Yc(e,t){e instanceof Rr&&(e=new Jc(e));for(let i of e.state.facet(Xc)){let r=i(e,t);if(null!=r)return r}let i=_c(e.state);return i?function(e,t,i){return td(t.resolveInner(i).enterUnfinishedNodesBefore(i),i,e)}(e,i,t):null}class Jc{constructor(e,t={}){this.state=e,this.options=t,this.unit=Hc(e)}lineAt(e,t=1){let i=this.state.doc.lineAt(e),{simulateBreak:r,simulateDoubleBreak:n}=this.options;return null!=r&&r>=i.from&&r<=i.to?n&&r==e?{text:"",from:e}:(t<0?r<e:r<=e)?{text:i.text.slice(r-i.from),from:r}:{text:i.text.slice(0,r-i.from),from:i.from}:i}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:i,from:r}=this.lineAt(e,t);return i.slice(e-r,Math.min(i.length,e+100-r))}column(e,t=1){let{text:i,from:r}=this.lineAt(e,t),n=this.countColumn(i,e-r),o=this.options.overrideIndentation?this.options.overrideIndentation(r):-1;return o>-1&&(n+=o-this.countColumn(i,i.search(/\S|$/))),n}countColumn(e,t=e.length){return Hr(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:i,from:r}=this.lineAt(e,t),n=this.options.overrideIndentation;if(n){let e=n(r);if(e>-1)return e}return this.countColumn(i,i.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const Kc=new bu;function ed(e){let t=e.type.prop(Kc);if(t)return t;let i,r=e.firstChild;if(r&&(i=r.type.prop(bu.closedBy))){let t=e.lastChild,r=t&&i.indexOf(t.name)>-1;return e=>od(e,!0,1,void 0,r&&!function(e){return e.pos==e.options.simulateBreak&&e.options.simulateDoubleBreak}(e)?t.from:void 0)}return null==e.parent?id:null}function td(e,t,i){for(;e;e=e.parent){let r=ed(e);if(r)return r(rd.create(i,t,e))}return null}function id(){return 0}class rd extends Jc{constructor(e,t,i){super(e.state,e.options),this.base=e,this.pos=t,this.node=i}static create(e,t,i){return new rd(e,t,i)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){let e=this.state.doc.lineAt(this.node.from);for(;;){let t=this.node.resolve(e.from);for(;t.parent&&t.parent.from==t.from;)t=t.parent;if(nd(t,this.node))break;e=this.state.doc.lineAt(t.from)}return this.lineIndent(e.from)}continue(){let e=this.node.parent;return e?td(e,this.pos,this.base):0}}function nd(e,t){for(let i=t;i;i=i.parent)if(e==i)return!0;return!1}function od(e,t,i,r,n){let o=e.textAfter,s=o.match(/^\s*/)[0].length,a=r&&o.slice(s,s+r.length)==r||n==e.pos+s,l=t?function(e){let t=e.node,i=t.childAfter(t.from),r=t.lastChild;if(!i)return null;let n=e.options.simulateBreak,o=e.state.doc.lineAt(i.from),s=null==n||n<=o.from?o.to:Math.min(o.to,n);for(let e=i.to;;){let n=t.childAfter(e);if(!n||n==r)return null;if(!n.type.isSkipped)return n.from<s?i:null;e=n.to}}(e):null;return l?a?e.column(l.from):e.column(l.to):e.baseIndent+(a?0:e.unit*i)}function sd({except:e,units:t=1}={}){return i=>{let r=e&&e.test(i.textAfter);return i.baseIndent+(r?0:t*i.unit)}}const ad=zi.define(),ld=new bu;function ud(e){let t=e.firstChild,i=e.lastChild;return t&&t.to<i.from?{from:t.to,to:i.type.isError?e.to:i.from}:null}function cd(e){let t=e.lastChild;return t&&t.to==e.to&&t.type.isError}function dd(e,t,i){for(let r of e.facet(ad)){let n=r(e,t,i);if(n)return n}return function(e,t,i){let r=_c(e);if(r.length<i)return null;let n=null;for(let o=r.resolveInner(i);o;o=o.parent){if(o.to<=i||o.from>i)continue;if(n&&o.from<t)break;let s=o.type.prop(ld);if(s&&(o.to<r.length-50||r.length==e.doc.length||!cd(o))){let r=s(o,e);r&&r.from<=i&&r.from>=t&&r.to>i&&(n=r)}}return n}(e,t,i)}function hd(e,t){let i=t.mapPos(e.from,1),r=t.mapPos(e.to,-1);return i>=r?void 0:{from:i,to:r}}const pd=Sr.define({map:hd}),fd=Sr.define({map:hd});function md(e){let t=[];for(let{head:i}of e.state.selection.ranges)t.some((e=>e.from<=i&&e.to>=i))||t.push(e.lineBlockAt(i));return t}const gd=Zi.define({create:()=>fo.none,update(e,t){e=e.map(t.changes);for(let i of t.effects)i.is(pd)&&!bd(e,i.value.from,i.value.to)?e=e.update({add:[Vd.range(i.value.from,i.value.to)]}):i.is(fd)&&(e=e.update({filter:(e,t)=>i.value.from!=e||i.value.to!=t,filterFrom:i.value.from,filterTo:i.value.to}));if(t.selection){let i=!1,{head:r}=t.selection.main;e.between(r,r,((e,t)=>{e<r&&t>r&&(i=!0)})),i&&(e=e.update({filterFrom:r,filterTo:r,filter:(e,t)=>t<=r||e>=r}))}return e},provide:e=>Ga.decorations.from(e)});function Od(e,t,i){var r;let n=null;return null===(r=e.field(gd,!1))||void 0===r||r.between(t,i,((e,t)=>{(!n||n.from>e)&&(n={from:e,to:t})})),n}function bd(e,t,i){let r=!1;return e.between(t,t,((e,n)=>{e==t&&n==i&&(r=!0)})),r}function Sd(e,t){return e.field(gd,!1)?t:t.concat(Sr.appendConfig.of(kd()))}function yd(e,t,i=!0){let r=e.state.doc.lineAt(t.from).number,n=e.state.doc.lineAt(t.to).number;return Ga.announce.of(`${e.state.phrase(i?"Folded lines":"Unfolded lines")} ${r} ${e.state.phrase("to")} ${n}.`)}const vd=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:e=>{for(let t of md(e)){let i=dd(e.state,t.from,t.to);if(i)return e.dispatch({effects:Sd(e.state,[pd.of(i),yd(e,i)])}),!0}return!1}},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:e=>{if(!e.state.field(gd,!1))return!1;let t=[];for(let i of md(e)){let r=Od(e.state,i.from,i.to);r&&t.push(fd.of(r),yd(e,r,!1))}return t.length&&e.dispatch({effects:t}),t.length>0}},{key:"Ctrl-Alt-[",run:e=>{let{state:t}=e,i=[];for(let r=0;r<t.doc.length;){let n=e.lineBlockAt(r),o=dd(t,n.from,n.to);o&&i.push(pd.of(o)),r=(o?e.lineBlockAt(o.to):n).to+1}return i.length&&e.dispatch({effects:Sd(e.state,i)}),!!i.length}},{key:"Ctrl-Alt-]",run:e=>{let t=e.state.field(gd,!1);if(!t||!t.size)return!1;let i=[];return t.between(0,e.state.doc.length,((e,t)=>{i.push(fd.of({from:e,to:t}))})),e.dispatch({effects:i}),!0}}],wd={placeholderDOM:null,placeholderText:"…"},xd=zi.define({combine:e=>Ir(e,wd)});function kd(e){let t=[gd,$d];return e&&t.push(xd.of(e)),t}const Vd=fo.replace({widget:new class extends ho{toDOM(e){let{state:t}=e,i=t.facet(xd),r=t=>{let i=e.lineBlockAt(e.posAtDOM(t.target)),r=Od(e.state,i.from,i.to);r&&e.dispatch({effects:fd.of(r)}),t.preventDefault()};if(i.placeholderDOM)return i.placeholderDOM(e,r);let n=document.createElement("span");return n.textContent=i.placeholderText,n.setAttribute("aria-label",t.phrase("folded code")),n.title=t.phrase("unfold"),n.className="cm-foldPlaceholder",n.onclick=r,n}}}),Cd={openText:"⌄",closedText:"›",markerDOM:null,domEventHandlers:{}};class Td extends jl{constructor(e,t){super(),this.config=e,this.open=t}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let t=document.createElement("span");return t.textContent=this.open?this.config.openText:this.config.closedText,t.title=e.state.phrase(this.open?"Fold line":"Unfold line"),t}}const $d=Ga.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class Pd{constructor(e,t){let i;function r(e){let t=en.newName();return(i||(i=Object.create(null)))["."+t]=e,t}const n="string"==typeof t.all?t.all:t.all?r(t.all):void 0,o=t.scope;this.scope=o instanceof Ec?e=>e.prop(Ic)==o.data:o?e=>e==o:void 0,this.style=dc(e.map((e=>({tag:e.tag,class:e.class||r(Object.assign({},e,{tag:null}))}))),{all:n}).style,this.module=i?new en(i):null,this.themeType=t.themeType}static define(e,t){return new Pd(e,t||{})}}const Qd=zi.define(),Rd=zi.define({combine:e=>e.length?[e[0]]:null});function Id(e){let t=e.facet(Qd);return t.length?t:e.facet(Rd)}const Ed=ir.high(Lo.fromClass(class{constructor(e){this.markCache=Object.create(null),this.tree=_c(e.state),this.decorations=this.buildDeco(e,Id(e.state))}update(e){let t=_c(e.state),i=Id(e.state),r=i!=Id(e.startState);t.length<e.view.viewport.to&&!r&&t.type==this.tree.type?this.decorations=this.decorations.map(e.changes):(t!=this.tree||e.viewportChanged||r)&&(this.tree=t,this.decorations=this.buildDeco(e.view,i))}buildDeco(e,t){if(!t||!this.tree.length)return fo.none;let i=new Lr;for(let{from:r,to:n}of e.visibleRanges)pc(this.tree,t,((e,t,r)=>{i.add(e,t,this.markCache[r]||(this.markCache[r]=fo.mark({class:r})))}),r,n);return i.finish()}},{decorations:e=>e.decorations})),Dd=Pd.define([{tag:Qc.meta,color:"#7a757a"},{tag:Qc.link,textDecoration:"underline"},{tag:Qc.heading,textDecoration:"underline",fontWeight:"bold"},{tag:Qc.emphasis,fontStyle:"italic"},{tag:Qc.strong,fontWeight:"bold"},{tag:Qc.strikethrough,textDecoration:"line-through"},{tag:Qc.keyword,color:"#708"},{tag:[Qc.atom,Qc.bool,Qc.url,Qc.contentSeparator,Qc.labelName],color:"#219"},{tag:[Qc.literal,Qc.inserted],color:"#164"},{tag:[Qc.string,Qc.deleted],color:"#a11"},{tag:[Qc.regexp,Qc.escape,Qc.special(Qc.string)],color:"#e40"},{tag:Qc.definition(Qc.variableName),color:"#00f"},{tag:Qc.local(Qc.variableName),color:"#30a"},{tag:[Qc.typeName,Qc.namespace],color:"#085"},{tag:Qc.className,color:"#167"},{tag:[Qc.special(Qc.variableName),Qc.macroName],color:"#256"},{tag:Qc.definition(Qc.propertyName),color:"#00c"},{tag:Qc.comment,color:"#940"},{tag:Qc.invalid,color:"#f00"}]),Ad=Ga.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),_d="()[]{}",Md=zi.define({combine:e=>Ir(e,{afterCursor:!0,brackets:_d,maxScanDistance:1e4,renderMatch:Nd})}),Ld=fo.mark({class:"cm-matchingBracket"}),Gd=fo.mark({class:"cm-nonmatchingBracket"});function Nd(e){let t=[],i=e.matched?Ld:Gd;return t.push(i.range(e.start.from,e.start.to)),e.end&&t.push(i.range(e.end.from,e.end.to)),t}const Wd=[Zi.define({create:()=>fo.none,update(e,t){if(!t.docChanged&&!t.selection)return e;let i=[],r=t.state.facet(Md);for(let e of t.state.selection.ranges){if(!e.empty)continue;let n=zd(t.state,e.head,-1,r)||e.head>0&&zd(t.state,e.head-1,1,r)||r.afterCursor&&(zd(t.state,e.head,1,r)||e.head<t.state.doc.length&&zd(t.state,e.head+1,-1,r));n&&(i=i.concat(r.renderMatch(n,t.state)))}return fo.set(i,!0)},provide:e=>Ga.decorations.from(e)}),Ad];function Bd(e,t,i){let r=e.prop(t<0?bu.openedBy:bu.closedBy);if(r)return r;if(1==e.name.length){let r=i.indexOf(e.name);if(r>-1&&r%2==(t<0?1:0))return[i[r+t]]}return null}function zd(e,t,i,r={}){let n=r.maxScanDistance||1e4,o=r.brackets||_d,s=_c(e),a=s.resolveInner(t,i);for(let r=a;r;r=r.parent){let n=Bd(r.type,i,o);if(n&&r.from<r.to)return Fd(e,t,i,r,n,o)}return function(e,t,i,r,n,o,s){let a=i<0?e.sliceDoc(t-1,t):e.sliceDoc(t,t+1),l=s.indexOf(a);if(l<0||l%2==0!=i>0)return null;let u={from:i<0?t-1:t,to:i>0?t+1:t},c=e.doc.iterRange(t,i>0?e.doc.length:0),d=0;for(let e=0;!c.next().done&&e<=o;){let o=c.value;i<0&&(e+=o.length);let a=t+e*i;for(let e=i>0?0:o.length-1,t=i>0?o.length:-1;e!=t;e+=i){let t=s.indexOf(o[e]);if(!(t<0||r.resolve(a+e,1).type!=n))if(t%2==0==i>0)d++;else{if(1==d)return{start:u,end:{from:a+e,to:a+e+1},matched:t>>1==l>>1};d--}}i>0&&(e+=o.length)}return c.done?{start:u,matched:!1}:null}(e,t,i,s,a.type,n,o)}function Fd(e,t,i,r,n,o){let s=r.parent,a={from:r.from,to:r.to},l=0,u=null==s?void 0:s.cursor();if(u&&(i<0?u.childBefore(r.from):u.childAfter(r.to)))do{if(i<0?u.to<=r.from:u.from>=r.to){if(0==l&&n.indexOf(u.type.name)>-1&&u.from<u.to)return{start:a,end:{from:u.from,to:u.to},matched:!0};if(Bd(u.type,i,o))l++;else if(Bd(u.type,-i,o)&&(l--,0==l))return{start:a,end:u.from==u.to?void 0:{from:u.from,to:u.to},matched:!1}}}while(i<0?u.prevSibling():u.nextSibling());return{start:a,matched:!1}}const Ud=Object.create(null),qd=[vu.none];new wu(qd);const Xd=[],jd=Object.create(null);for(let[e,t]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","typeName"],["attribute","propertyName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])jd[e]=Zd(Ud,t);function Hd(e,t){Xd.indexOf(e)>-1||(Xd.push(e),console.warn(t))}function Zd(e,t){let i=null;for(let r of t.split(".")){let t=e[r]||Qc[r];t?"function"==typeof t?i?i=t(i):Hd(r,`Modifier ${r} used at start of tag`):i?Hd(r,`Tag ${r} used as modifier`):i=t:Hd(r,`Unknown highlighting tag ${r}`)}if(!i)return 0;let r=t.replace(/ /g,"_"),n=vu.define({id:qd.length,name:r,props:[lc({[r]:i})]});return qd.push(n),n.id}new class{constructor(e){this.extra=e,this.table=Object.assign(Object.create(null),jd)}resolve(e){return e?this.table[e]||(this.table[e]=Zd(this.extra,e)):0}}(Ud);function Yd(e,t){return({state:i,dispatch:r})=>{if(i.readOnly)return!1;let n=e(t,i);return!!n&&(r(i.update(n)),!0)}}const Jd=Yd((function(e,t,i=t.selection.ranges){let r=[],n=-1;for(let{from:e,to:o}of i){let i=r.length,s=1e9;for(let i=e;i<=o;){let a=t.doc.lineAt(i);if(a.from>n&&(e==o||o>a.from)){n=a.from;let e=th(t,i).line;if(!e)continue;let o=/^\s*/.exec(a.text)[0].length,l=o==a.length,u=a.text.slice(o,o+e.length)==e?o:-1;o<a.text.length&&o<s&&(s=o),r.push({line:a,comment:u,token:e,indent:o,empty:l,single:!1})}i=a.to+1}if(s<1e9)for(let e=i;e<r.length;e++)r[e].indent<r[e].line.text.length&&(r[e].indent=s);r.length==i+1&&(r[i].single=!0)}if(2!=e&&r.some((e=>e.comment<0&&(!e.empty||e.single)))){let e=[];for(let{line:t,token:i,indent:n,empty:o,single:s}of r)!s&&o||e.push({from:t.from+n,insert:i+" "});let i=t.changes(e);return{changes:i,selection:t.selection.map(i,1)}}if(1!=e&&r.some((e=>e.comment>=0))){let e=[];for(let{line:t,comment:i,token:n}of r)if(i>=0){let r=t.from+i,o=r+n.length;" "==t.text[o-t.from]&&o++,e.push({from:r,to:o})}return{changes:e}}return null}),0),Kd=Yd(ih,0),eh=Yd(((e,t)=>ih(e,t,function(e){let t=[];for(let i of e.selection.ranges){let r=e.doc.lineAt(i.from),n=i.to<=r.to?r:e.doc.lineAt(i.to),o=t.length-1;o>=0&&t[o].to>r.from?t[o].to=n.to:t.push({from:r.from,to:n.to})}return t}(t))),0);function th(e,t=e.selection.main.head){let i=e.languageDataAt("commentTokens",t);return i.length?i[0]:{}}function ih(e,t,i=t.selection.ranges){let r=i.map((e=>th(t,e.from).block));if(!r.every((e=>e)))return null;let n=i.map(((e,i)=>function(e,{open:t,close:i},r,n){let o,s,a=e.sliceDoc(r-50,r),l=e.sliceDoc(n,n+50),u=/\s*$/.exec(a)[0].length,c=/^\s*/.exec(l)[0].length,d=a.length-u;if(a.slice(d-t.length,d)==t&&l.slice(c,c+i.length)==i)return{open:{pos:r-u,margin:u&&1},close:{pos:n+c,margin:c&&1}};n-r<=100?o=s=e.sliceDoc(r,n):(o=e.sliceDoc(r,r+50),s=e.sliceDoc(n-50,n));let h=/^\s*/.exec(o)[0].length,p=/\s*$/.exec(s)[0].length,f=s.length-p-i.length;return o.slice(h,h+t.length)==t&&s.slice(f,f+i.length)==i?{open:{pos:r+h+t.length,margin:/\s/.test(o.charAt(h+t.length))?1:0},close:{pos:n-p-i.length,margin:/\s/.test(s.charAt(f-1))?1:0}}:null}(t,r[i],e.from,e.to)));if(2!=e&&!n.every((e=>e)))return{changes:t.changes(i.map(((e,t)=>n[t]?[]:[{from:e.from,insert:r[t].open+" "},{from:e.to,insert:" "+r[t].close}])))};if(1!=e&&n.some((e=>e))){let e=[];for(let t,i=0;i<n.length;i++)if(t=n[i]){let n=r[i],{open:o,close:s}=t;e.push({from:o.pos-n.open.length,to:o.pos+o.margin},{from:s.pos-s.margin,to:s.pos+n.close.length})}return{changes:e}}return null}const rh=gr.define(),nh=gr.define(),oh=zi.define(),sh=zi.define({combine:e=>Ir(e,{minDepth:100,newGroupDelay:500},{minDepth:Math.max,newGroupDelay:Math.min})});const ah=Zi.define({create:()=>wh.empty,update(e,t){let i=t.state.facet(sh),r=t.annotation(rh);if(r){let n=t.docChanged?Ni.single(function(e){let t=0;return e.iterChangedRanges(((e,i)=>t=i)),t}(t.changes)):void 0,o=ph.fromTransaction(t,n),s=r.side,a=0==s?e.undone:e.done;return a=o?fh(a,a.length,i.minDepth,o):Oh(a,t.startState.selection),new wh(0==s?r.rest:a,0==s?a:r.rest)}let n=t.annotation(nh);if("full"!=n&&"before"!=n||(e=e.isolate()),!1===t.annotation(yr.addToHistory))return t.changes.empty?e:e.addMapping(t.changes.desc);let o=ph.fromTransaction(t),s=t.annotation(yr.time),a=t.annotation(yr.userEvent);return o?e=e.addChanges(o,s,a,i.newGroupDelay,i.minDepth):t.selection&&(e=e.addSelection(t.startState.selection,s,a,i.newGroupDelay)),"full"!=n&&"after"!=n||(e=e.isolate()),e},toJSON:e=>({done:e.done.map((e=>e.toJSON())),undone:e.undone.map((e=>e.toJSON()))}),fromJSON:e=>new wh(e.done.map(ph.fromJSON),e.undone.map(ph.fromJSON))});function lh(e,t){return function({state:i,dispatch:r}){if(!t&&i.readOnly)return!1;let n=i.field(ah,!1);if(!n)return!1;let o=n.pop(e,i,t);return!!o&&(r(o),!0)}}const uh=lh(0,!1),ch=lh(1,!1),dh=lh(0,!0),hh=lh(1,!0);class ph{constructor(e,t,i,r,n){this.changes=e,this.effects=t,this.mapped=i,this.startSelection=r,this.selectionsAfter=n}setSelAfter(e){return new ph(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,t,i;return{changes:null===(e=this.changes)||void 0===e?void 0:e.toJSON(),mapped:null===(t=this.mapped)||void 0===t?void 0:t.toJSON(),startSelection:null===(i=this.startSelection)||void 0===i?void 0:i.toJSON(),selectionsAfter:this.selectionsAfter.map((e=>e.toJSON()))}}static fromJSON(e){return new ph(e.changes&&Ii.fromJSON(e.changes),[],e.mapped&&Ri.fromJSON(e.mapped),e.startSelection&&Ni.fromJSON(e.startSelection),e.selectionsAfter.map(Ni.fromJSON))}static fromTransaction(e,t){let i=gh;for(let t of e.startState.facet(oh)){let r=t(e);r.length&&(i=i.concat(r))}return!i.length&&e.changes.empty?null:new ph(e.changes.invert(e.startState.doc),i,void 0,t||e.startState.selection,gh)}static selection(e){return new ph(void 0,gh,void 0,void 0,e)}}function fh(e,t,i,r){let n=t+1>i+20?t-i-1:0,o=e.slice(n,t);return o.push(r),o}function mh(e,t){return e.length?t.length?e.concat(t):e:t}const gh=[];function Oh(e,t){if(e.length){let i=e[e.length-1],r=i.selectionsAfter.slice(Math.max(0,i.selectionsAfter.length-200));return r.length&&r[r.length-1].eq(t)?e:(r.push(t),fh(e,e.length-1,1e9,i.setSelAfter(r)))}return[ph.selection([t])]}function bh(e){let t=e[e.length-1],i=e.slice();return i[e.length-1]=t.setSelAfter(t.selectionsAfter.slice(0,t.selectionsAfter.length-1)),i}function Sh(e,t){if(!e.length)return e;let i=e.length,r=gh;for(;i;){let n=yh(e[i-1],t,r);if(n.changes&&!n.changes.empty||n.effects.length){let t=e.slice(0,i);return t[i-1]=n,t}t=n.mapped,i--,r=n.selectionsAfter}return r.length?[ph.selection(r)]:gh}function yh(e,t,i){let r=mh(e.selectionsAfter.length?e.selectionsAfter.map((e=>e.map(t))):gh,i);if(!e.changes)return ph.selection(r);let n=e.changes.map(t),o=t.mapDesc(e.changes,!0),s=e.mapped?e.mapped.composeDesc(o):o;return new ph(n,Sr.mapEffects(e.effects,t),s,e.startSelection.map(o),r)}const vh=/^(input\.type|delete)($|\.)/;class wh{constructor(e,t,i=0,r){this.done=e,this.undone=t,this.prevTime=i,this.prevUserEvent=r}isolate(){return this.prevTime?new wh(this.done,this.undone):this}addChanges(e,t,i,r,n){let o=this.done,s=o[o.length-1];return o=s&&s.changes&&!s.changes.empty&&e.changes&&(!i||vh.test(i))&&(!s.selectionsAfter.length&&t-this.prevTime<r&&function(e,t){let i=[],r=!1;return e.iterChangedRanges(((e,t)=>i.push(e,t))),t.iterChangedRanges(((e,t,n,o)=>{for(let e=0;e<i.length;){let t=i[e++],s=i[e++];o>=t&&n<=s&&(r=!0)}})),r}(s.changes,e.changes)||"input.type.compose"==i)?fh(o,o.length-1,n,new ph(e.changes.compose(s.changes),mh(e.effects,s.effects),s.mapped,s.startSelection,gh)):fh(o,o.length,n,e),new wh(o,gh,t,i)}addSelection(e,t,i,r){let n=this.done.length?this.done[this.done.length-1].selectionsAfter:gh;return n.length>0&&t-this.prevTime<r&&i==this.prevUserEvent&&i&&/^select($|\.)/.test(i)&&(o=n[n.length-1],s=e,o.ranges.length==s.ranges.length&&0===o.ranges.filter(((e,t)=>e.empty!=s.ranges[t].empty)).length)?this:new wh(Oh(this.done,e),this.undone,t,i);var o,s}addMapping(e){return new wh(Sh(this.done,e),Sh(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,t,i){let r=0==e?this.done:this.undone;if(0==r.length)return null;let n=r[r.length-1];if(i&&n.selectionsAfter.length)return t.update({selection:n.selectionsAfter[n.selectionsAfter.length-1],annotations:rh.of({side:e,rest:bh(r)}),userEvent:0==e?"select.undo":"select.redo",scrollIntoView:!0});if(n.changes){let i=1==r.length?gh:r.slice(0,r.length-1);return n.mapped&&(i=Sh(i,n.mapped)),t.update({changes:n.changes,selection:n.startSelection,effects:n.effects,annotations:rh.of({side:e,rest:i}),filter:!1,userEvent:0==e?"undo":"redo",scrollIntoView:!0})}return null}}wh.empty=new wh(gh,gh);const xh=[{key:"Mod-z",run:uh,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:ch,preventDefault:!0},{key:"Mod-u",run:dh,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:hh,preventDefault:!0}];function kh(e,t){return Ni.create(e.ranges.map(t),e.mainIndex)}function Vh(e,t){return e.update({selection:t,scrollIntoView:!0,userEvent:"select"})}function Ch({state:e,dispatch:t},i){let r=kh(e.selection,i);return!r.eq(e.selection)&&(t(Vh(e,r)),!0)}function Th(e,t){return Ni.cursor(t?e.to:e.from)}function $h(e,t){return Ch(e,(i=>i.empty?e.moveByChar(i,t):Th(i,t)))}function Ph(e){return e.textDirectionAt(e.state.selection.main.head)==jo.LTR}const Qh=e=>$h(e,!Ph(e)),Rh=e=>$h(e,Ph(e));function Ih(e,t){return Ch(e,(i=>i.empty?e.moveByGroup(i,t):Th(i,t)))}function Eh(e,t,i){if(t.type.prop(i))return!0;let r=t.to-t.from;return r&&(r>2||/[^\s,.;:]/.test(e.sliceDoc(t.from,t.to)))||t.firstChild}function Dh(e,t,i){let r,n,o=_c(e).resolveInner(t.head),s=i?bu.closedBy:bu.openedBy;for(let r=t.head;;){let t=i?o.childAfter(r):o.childBefore(r);if(!t)break;Eh(e,t,s)?o=t:r=i?t.to:t.from}return n=o.type.prop(s)&&(r=i?zd(e,o.from,1):zd(e,o.to,-1))&&r.matched?i?r.end.to:r.end.from:i?o.to:o.from,Ni.cursor(n,i?-1:1)}function Ah(e,t){return Ch(e,(i=>{if(!i.empty)return Th(i,t);let r=e.moveVertically(i,t);return r.head!=i.head?r:e.moveToLineBoundary(i,t)}))}const _h=e=>Ah(e,!1),Mh=e=>Ah(e,!0);function Lh(e,t){let{state:i}=e,r=kh(i.selection,(i=>i.empty?e.moveVertically(i,t,Math.min(e.dom.clientHeight,innerHeight)):Th(i,t)));if(r.eq(i.selection))return!1;let n,o=e.coordsAtPos(i.selection.main.head),s=e.scrollDOM.getBoundingClientRect();return o&&o.top>s.top&&o.bottom<s.bottom&&o.top-s.top<=e.scrollDOM.scrollHeight-e.scrollDOM.scrollTop-e.scrollDOM.clientHeight&&(n=Ga.scrollIntoView(r.main.head,{y:"start",yMargin:o.top-s.top})),e.dispatch(Vh(i,r),{effects:n}),!0}const Gh=e=>Lh(e,!1),Nh=e=>Lh(e,!0);function Wh(e,t,i){let r=e.lineBlockAt(t.head),n=e.moveToLineBoundary(t,i);if(n.head==t.head&&n.head!=(i?r.to:r.from)&&(n=e.moveToLineBoundary(t,i,!1)),!i&&n.head==r.from&&r.length){let i=/^\s*/.exec(e.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;i&&t.head!=r.from+i&&(n=Ni.cursor(r.from+i))}return n}const Bh=e=>Ch(e,(t=>Wh(e,t,!0))),zh=e=>Ch(e,(t=>Wh(e,t,!1)));function Fh(e,t){let i=kh(e.state.selection,(e=>{let i=t(e);return Ni.range(e.anchor,i.head,i.goalColumn)}));return!i.eq(e.state.selection)&&(e.dispatch(Vh(e.state,i)),!0)}function Uh(e,t){return Fh(e,(i=>e.moveByChar(i,t)))}const qh=e=>Uh(e,!Ph(e)),Xh=e=>Uh(e,Ph(e));function jh(e,t){return Fh(e,(i=>e.moveByGroup(i,t)))}function Hh(e,t){return Fh(e,(i=>e.moveVertically(i,t)))}const Zh=e=>Hh(e,!1),Yh=e=>Hh(e,!0);function Jh(e,t){return Fh(e,(i=>e.moveVertically(i,t,Math.min(e.dom.clientHeight,innerHeight))))}const Kh=e=>Jh(e,!1),ep=e=>Jh(e,!0),tp=e=>Fh(e,(t=>Wh(e,t,!0))),ip=e=>Fh(e,(t=>Wh(e,t,!1))),rp=({state:e,dispatch:t})=>(t(Vh(e,{anchor:0})),!0),np=({state:e,dispatch:t})=>(t(Vh(e,{anchor:e.doc.length})),!0),op=({state:e,dispatch:t})=>(t(Vh(e,{anchor:e.selection.main.anchor,head:0})),!0),sp=({state:e,dispatch:t})=>(t(Vh(e,{anchor:e.selection.main.anchor,head:e.doc.length})),!0);function ap({state:e,dispatch:t},i){if(e.readOnly)return!1;let r="delete.selection",n=e.changeByRange((e=>{let{from:t,to:n}=e;if(t==n){let e=i(t);e<t?r="delete.backward":e>t&&(r="delete.forward"),t=Math.min(t,e),n=Math.max(n,e)}return t==n?{range:e}:{changes:{from:t,to:n},range:Ni.cursor(t)}}));return!n.changes.empty&&(t(e.update(n,{scrollIntoView:!0,userEvent:r})),!0)}function lp(e,t,i){if(e instanceof Ga)for(let r of e.state.facet(Ga.atomicRanges).map((t=>t(e))))r.between(t,t,((e,r)=>{e<t&&r>t&&(t=i?r:e)}));return t}const up=(e,t)=>ap(e,(i=>{let r,n,{state:o}=e,s=o.doc.lineAt(i);if(!t&&i>s.from&&i<s.from+200&&!/[^ \t]/.test(r=s.text.slice(0,i-s.from))){if("\t"==r[r.length-1])return i-1;let e=Hr(r,o.tabSize)%Hc(o)||Hc(o);for(let t=0;t<e&&" "==r[r.length-1-t];t++)i--;n=i}else n=vi(s.text,i-s.from,t,t)+s.from,n==i&&s.number!=(t?o.doc.lines:1)&&(n+=t?1:-1);return lp(e,n,t)})),cp=e=>up(e,!1),dp=e=>up(e,!0),hp=(e,t)=>ap(e,(i=>{let r=i,{state:n}=e,o=n.doc.lineAt(r),s=n.charCategorizer(r);for(let e=null;;){if(r==(t?o.to:o.from)){r==i&&o.number!=(t?n.doc.lines:1)&&(r+=t?1:-1);break}let a=vi(o.text,r-o.from,t)+o.from,l=o.text.slice(Math.min(r,a)-o.from,Math.max(r,a)-o.from),u=s(l);if(null!=e&&u!=e)break;" "==l&&r==i||(e=u),r=a}return lp(e,r,t)})),pp=e=>hp(e,!1),fp=e=>ap(e,(t=>{let i=e.lineBlockAt(t).to;return lp(e,t<i?i:Math.min(e.state.doc.length,t+1),!0)}));function mp(e){let t=[],i=-1;for(let r of e.selection.ranges){let n=e.doc.lineAt(r.from),o=e.doc.lineAt(r.to);if(r.empty||r.to!=o.from||(o=e.doc.lineAt(r.to-1)),i>=n.number){let e=t[t.length-1];e.to=o.to,e.ranges.push(r)}else t.push({from:n.from,to:o.to,ranges:[r]});i=o.number+1}return t}function gp(e,t,i){if(e.readOnly)return!1;let r=[],n=[];for(let t of mp(e)){if(i?t.to==e.doc.length:0==t.from)continue;let o=e.doc.lineAt(i?t.to+1:t.from-1),s=o.length+1;if(i){r.push({from:t.to,to:o.to},{from:t.from,insert:o.text+e.lineBreak});for(let i of t.ranges)n.push(Ni.range(Math.min(e.doc.length,i.anchor+s),Math.min(e.doc.length,i.head+s)))}else{r.push({from:o.from,to:t.from},{from:t.to,insert:e.lineBreak+o.text});for(let e of t.ranges)n.push(Ni.range(e.anchor-s,e.head-s))}}return!!r.length&&(t(e.update({changes:r,scrollIntoView:!0,selection:Ni.create(n,e.selection.mainIndex),userEvent:"move.line"})),!0)}function Op(e,t,i){if(e.readOnly)return!1;let r=[];for(let t of mp(e))i?r.push({from:t.from,insert:e.doc.slice(t.from,t.to)+e.lineBreak}):r.push({from:t.to,insert:e.lineBreak+e.doc.slice(t.from,t.to)});return t(e.update({changes:r,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const bp=yp(!1),Sp=yp(!0);function yp(e){return({state:t,dispatch:i})=>{if(t.readOnly)return!1;let r=t.changeByRange((i=>{let{from:r,to:n}=i,o=t.doc.lineAt(r),s=!e&&r==n&&function(e,t){if(/\(\)|\[\]|\{\}/.test(e.sliceDoc(t-1,t+1)))return{from:t,to:t};let i,r=_c(e).resolveInner(t),n=r.childBefore(t),o=r.childAfter(t);return n&&o&&n.to<=t&&o.from>=t&&(i=n.type.prop(bu.closedBy))&&i.indexOf(o.name)>-1&&e.doc.lineAt(n.to).from==e.doc.lineAt(o.from).from?{from:n.to,to:o.from}:null}(t,r);e&&(r=n=(n<=o.to?o:t.doc.lineAt(n)).to);let a=new Jc(t,{simulateBreak:r,simulateDoubleBreak:!!s}),l=Yc(a,r);for(null==l&&(l=/^\s*/.exec(t.doc.lineAt(r).text)[0].length);n<o.to&&/\s/.test(o.text[n-o.from]);)n++;s?({from:r,to:n}=s):r>o.from&&r<o.from+100&&!/\S/.test(o.text.slice(0,r))&&(r=o.from);let u=["",Zc(t,l)];return s&&u.push(Zc(t,a.lineIndent(o.from,-1))),{changes:{from:r,to:n,insert:ui.of(u)},range:Ni.cursor(r+1+u[1].length)}}));return i(t.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function vp(e,t){let i=-1;return e.changeByRange((r=>{let n=[];for(let o=r.from;o<=r.to;){let s=e.doc.lineAt(o);s.number>i&&(r.empty||r.to>s.from)&&(t(s,n,r),i=s.number),o=s.to+1}let o=e.changes(n);return{changes:n,range:Ni.range(o.mapPos(r.anchor,1),o.mapPos(r.head,1))}}))}const wp=({state:e,dispatch:t})=>!e.readOnly&&(t(e.update(vp(e,((t,i)=>{i.push({from:t.from,insert:e.facet(jc)})})),{userEvent:"input.indent"})),!0),xp=({state:e,dispatch:t})=>!e.readOnly&&(t(e.update(vp(e,((t,i)=>{let r=/^\s*/.exec(t.text)[0];if(!r)return;let n=Hr(r,e.tabSize),o=0,s=Zc(e,Math.max(0,n-Hc(e)));for(;o<r.length&&o<s.length&&r.charCodeAt(o)==s.charCodeAt(o);)o++;i.push({from:t.from+o,to:t.from+r.length,insert:s.slice(o)})})),{userEvent:"delete.dedent"})),!0),kp=[{key:"ArrowLeft",run:Qh,shift:qh,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:e=>Ih(e,!Ph(e)),shift:e=>jh(e,!Ph(e))},{mac:"Cmd-ArrowLeft",run:zh,shift:ip},{key:"ArrowRight",run:Rh,shift:Xh,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:e=>Ih(e,Ph(e)),shift:e=>jh(e,Ph(e))},{mac:"Cmd-ArrowRight",run:Bh,shift:tp},{key:"ArrowUp",run:_h,shift:Zh,preventDefault:!0},{mac:"Cmd-ArrowUp",run:rp,shift:op},{mac:"Ctrl-ArrowUp",run:Gh,shift:Kh},{key:"ArrowDown",run:Mh,shift:Yh,preventDefault:!0},{mac:"Cmd-ArrowDown",run:np,shift:sp},{mac:"Ctrl-ArrowDown",run:Nh,shift:ep},{key:"PageUp",run:Gh,shift:Kh},{key:"PageDown",run:Nh,shift:ep},{key:"Home",run:zh,shift:ip,preventDefault:!0},{key:"Mod-Home",run:rp,shift:op},{key:"End",run:Bh,shift:tp,preventDefault:!0},{key:"Mod-End",run:np,shift:sp},{key:"Enter",run:bp},{key:"Mod-a",run:({state:e,dispatch:t})=>(t(e.update({selection:{anchor:0,head:e.doc.length},userEvent:"select"})),!0)},{key:"Backspace",run:cp,shift:cp},{key:"Delete",run:dp},{key:"Mod-Backspace",mac:"Alt-Backspace",run:pp},{key:"Mod-Delete",mac:"Alt-Delete",run:e=>hp(e,!0)},{mac:"Mod-Backspace",run:e=>ap(e,(t=>{let i=e.lineBlockAt(t).from;return lp(e,t>i?i:Math.max(0,t-1),!1)}))},{mac:"Mod-Delete",run:fp}].concat([{key:"Ctrl-b",run:Qh,shift:qh,preventDefault:!0},{key:"Ctrl-f",run:Rh,shift:Xh},{key:"Ctrl-p",run:_h,shift:Zh},{key:"Ctrl-n",run:Mh,shift:Yh},{key:"Ctrl-a",run:e=>Ch(e,(t=>Ni.cursor(e.lineBlockAt(t.head).from,1))),shift:e=>Fh(e,(t=>Ni.cursor(e.lineBlockAt(t.head).from)))},{key:"Ctrl-e",run:e=>Ch(e,(t=>Ni.cursor(e.lineBlockAt(t.head).to,-1))),shift:e=>Fh(e,(t=>Ni.cursor(e.lineBlockAt(t.head).to)))},{key:"Ctrl-d",run:dp},{key:"Ctrl-h",run:cp},{key:"Ctrl-k",run:fp},{key:"Ctrl-Alt-h",run:pp},{key:"Ctrl-o",run:({state:e,dispatch:t})=>{if(e.readOnly)return!1;let i=e.changeByRange((e=>({changes:{from:e.from,to:e.to,insert:ui.of(["",""])},range:Ni.cursor(e.from)})));return t(e.update(i,{scrollIntoView:!0,userEvent:"input"})),!0}},{key:"Ctrl-t",run:({state:e,dispatch:t})=>{if(e.readOnly)return!1;let i=e.changeByRange((t=>{if(!t.empty||0==t.from||t.from==e.doc.length)return{range:t};let i=t.from,r=e.doc.lineAt(i),n=i==r.from?i-1:vi(r.text,i-r.from,!1)+r.from,o=i==r.to?i+1:vi(r.text,i-r.from,!0)+r.from;return{changes:{from:n,to:o,insert:e.doc.slice(i,o).append(e.doc.slice(n,i))},range:Ni.cursor(o)}}));return!i.changes.empty&&(t(e.update(i,{scrollIntoView:!0,userEvent:"move.character"})),!0)}},{key:"Ctrl-v",run:Nh}].map((e=>({mac:e.key,run:e.run,shift:e.shift})))),Vp=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:e=>Ch(e,(t=>Dh(e.state,t,!Ph(e)))),shift:e=>Fh(e,(t=>Dh(e.state,t,!Ph(e))))},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:e=>Ch(e,(t=>Dh(e.state,t,Ph(e)))),shift:e=>Fh(e,(t=>Dh(e.state,t,Ph(e))))},{key:"Alt-ArrowUp",run:({state:e,dispatch:t})=>gp(e,t,!1)},{key:"Shift-Alt-ArrowUp",run:({state:e,dispatch:t})=>Op(e,t,!1)},{key:"Alt-ArrowDown",run:({state:e,dispatch:t})=>gp(e,t,!0)},{key:"Shift-Alt-ArrowDown",run:({state:e,dispatch:t})=>Op(e,t,!0)},{key:"Escape",run:({state:e,dispatch:t})=>{let i=e.selection,r=null;return i.ranges.length>1?r=Ni.create([i.main]):i.main.empty||(r=Ni.create([Ni.cursor(i.main.head)])),!!r&&(t(Vh(e,r)),!0)}},{key:"Mod-Enter",run:Sp},{key:"Alt-l",mac:"Ctrl-l",run:({state:e,dispatch:t})=>{let i=mp(e).map((({from:t,to:i})=>Ni.range(t,Math.min(i+1,e.doc.length))));return t(e.update({selection:Ni.create(i),userEvent:"select"})),!0}},{key:"Mod-i",run:({state:e,dispatch:t})=>{let i=kh(e.selection,(t=>{var i;let r=_c(e).resolveInner(t.head,1);for(;!(r.from<t.from&&r.to>=t.to||r.to>t.to&&r.from<=t.from)&&(null===(i=r.parent)||void 0===i?void 0:i.parent);)r=r.parent;return Ni.range(r.to,r.from)}));return t(Vh(e,i)),!0},preventDefault:!0},{key:"Mod-[",run:xp},{key:"Mod-]",run:wp},{key:"Mod-Alt-\\",run:({state:e,dispatch:t})=>{if(e.readOnly)return!1;let i=Object.create(null),r=new Jc(e,{overrideIndentation:e=>{let t=i[e];return null==t?-1:t}}),n=vp(e,((t,n,o)=>{let s=Yc(r,t.from);if(null==s)return;/\S/.test(t.text)||(s=0);let a=/^\s*/.exec(t.text)[0],l=Zc(e,s);(a!=l||o.from<t.from+a.length)&&(i[t.from]=s,n.push({from:t.from,to:t.from+a.length,insert:l}))}));return n.changes.empty||t(e.update(n,{userEvent:"indent"})),!0}},{key:"Shift-Mod-k",run:e=>{if(e.state.readOnly)return!1;let{state:t}=e,i=t.changes(mp(t).map((({from:e,to:i})=>(e>0?e--:i<t.doc.length&&i++,{from:e,to:i})))),r=kh(t.selection,(t=>e.moveVertically(t,!0))).map(i);return e.dispatch({changes:i,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0}},{key:"Shift-Mod-\\",run:({state:e,dispatch:t})=>function(e,t,i){let r=!1,n=kh(e.selection,(t=>{let n=zd(e,t.head,-1)||zd(e,t.head,1)||t.head>0&&zd(e,t.head-1,1)||t.head<e.doc.length&&zd(e,t.head+1,-1);if(!n||!n.end)return t;r=!0;let o=n.start.from==t.head?n.end.to:n.end.from;return i?Ni.range(t.anchor,o):Ni.cursor(o)}));return!!r&&(t(Vh(e,n)),!0)}(e,t,!1)},{key:"Mod-/",run:e=>{let t=th(e.state);return t.line?Jd(e):!!t.block&&eh(e)}},{key:"Alt-A",run:Kd}].concat(kp),Cp={key:"Tab",run:wp,shift:xp};function Tp(){var e=arguments[0];"string"==typeof e&&(e=document.createElement(e));var t=1,i=arguments[1];if(i&&"object"==typeof i&&null==i.nodeType&&!Array.isArray(i)){for(var r in i)if(Object.prototype.hasOwnProperty.call(i,r)){var n=i[r];"string"==typeof n?e.setAttribute(r,n):null!=n&&(e[r]=n)}t++}for(;t<arguments.length;t++)$p(e,arguments[t]);return e}function $p(e,t){if("string"==typeof t)e.appendChild(document.createTextNode(t));else if(null==t);else if(null!=t.nodeType)e.appendChild(t);else{if(!Array.isArray(t))throw new RangeError("Unsupported child node: "+t);for(var i=0;i<t.length;i++)$p(e,t[i])}}const Pp="function"==typeof String.prototype.normalize?e=>e.normalize("NFKD"):e=>e;class Qp{constructor(e,t,i=0,r=e.length,n){this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(i,r),this.bufferStart=i,this.normalize=n?e=>n(Pp(e)):Pp,this.query=this.normalize(t)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return Ci(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let t=Ti(e),i=this.bufferStart+this.bufferPos;this.bufferPos+=$i(e);let r=this.normalize(t);for(let e=0,n=i;;e++){let o=r.charCodeAt(e),s=this.match(o,n);if(s)return this.value=s,this;if(e==r.length-1)break;n==i&&e<t.length&&t.charCodeAt(e)==o&&n++}}}match(e,t){let i=null;for(let r=0;r<this.matches.length;r+=2){let n=this.matches[r],o=!1;this.query.charCodeAt(n)==e&&(n==this.query.length-1?i={from:this.matches[r+1],to:t+1}:(this.matches[r]++,o=!0)),o||(this.matches.splice(r,2),r-=2)}return this.query.charCodeAt(0)==e&&(1==this.query.length?i={from:t,to:t+1}:this.matches.push(1,t)),i}}"undefined"!=typeof Symbol&&(Qp.prototype[Symbol.iterator]=function(){return this});const Rp={from:-1,to:-1,match:/.*/.exec("")},Ip="gm"+(null==/x/.unicode?"":"u");class Ep{constructor(e,t,i,r=0,n=e.length){if(this.to=n,this.curLine="",this.done=!1,this.value=Rp,/\\[sWDnr]|\n|\r|\[\^/.test(t))return new _p(e,t,i,r,n);this.re=new RegExp(t,Ip+((null==i?void 0:i.ignoreCase)?"i":"")),this.iter=e.iter();let o=e.lineAt(r);this.curLineStart=o.from,this.matchPos=r,this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){let i=this.curLineStart+t.index,r=i+t[0].length;if(this.matchPos=r+(i==r?1:0),i==this.curLine.length&&this.nextLine(),i<r||i>this.value.to)return this.value={from:i,to:r,match:t},this;e=this.matchPos-this.curLineStart}else{if(!(this.curLineStart+this.curLine.length<this.to))return this.done=!0,this;this.nextLine(),e=0}}}}const Dp=new WeakMap;class Ap{constructor(e,t){this.from=e,this.text=t}get to(){return this.from+this.text.length}static get(e,t,i){let r=Dp.get(e);if(!r||r.from>=i||r.to<=t){let r=new Ap(t,e.sliceString(t,i));return Dp.set(e,r),r}if(r.from==t&&r.to==i)return r;let{text:n,from:o}=r;return o>t&&(n=e.sliceString(t,o)+n,o=t),r.to<i&&(n+=e.sliceString(r.to,i)),Dp.set(e,new Ap(o,n)),new Ap(t,n.slice(t-o,i-o))}}class _p{constructor(e,t,i,r,n){this.text=e,this.to=n,this.done=!1,this.value=Rp,this.matchPos=r,this.re=new RegExp(t,Ip+((null==i?void 0:i.ignoreCase)?"i":"")),this.flat=Ap.get(e,r,this.chunkEnd(r+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t&&this.flat.to<this.to&&t.index+t[0].length>this.flat.text.length-10&&(t=null),t){let e=this.flat.from+t.index,i=e+t[0].length;return this.value={from:e,to:i,match:t},this.matchPos=i+(e==i?1:0),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=Ap.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+2*this.flat.text.length))}}}function Mp(e){let t=Tp("input",{class:"cm-textfield",name:"line"});function i(){let i=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(t.value);if(!i)return;let{state:r}=e,n=r.doc.lineAt(r.selection.main.head),[,o,s,a,l]=i,u=a?+a.slice(1):0,c=s?+s:n.number;if(s&&l){let e=c/100;o&&(e=e*("-"==o?-1:1)+n.number/r.doc.lines),c=Math.round(r.doc.lines*e)}else s&&o&&(c=c*("-"==o?-1:1)+n.number);let d=r.doc.line(Math.max(1,Math.min(r.doc.lines,c)));e.dispatch({effects:Lp.of(!1),selection:Ni.cursor(d.from+Math.max(0,Math.min(u,d.length))),scrollIntoView:!0}),e.focus()}return{dom:Tp("form",{class:"cm-gotoLine",onkeydown:t=>{27==t.keyCode?(t.preventDefault(),e.dispatch({effects:Lp.of(!1)}),e.focus()):13==t.keyCode&&(t.preventDefault(),i())},onsubmit:e=>{e.preventDefault(),i()}},Tp("label",e.state.phrase("Go to line"),": ",t)," ",Tp("button",{class:"cm-button",type:"submit"},e.state.phrase("go")))}}"undefined"!=typeof Symbol&&(Ep.prototype[Symbol.iterator]=_p.prototype[Symbol.iterator]=function(){return this});const Lp=Sr.define(),Gp=Zi.define({create:()=>!0,update(e,t){for(let i of t.effects)i.is(Lp)&&(e=i.value);return e},provide:e=>Xl.from(e,(e=>e?Mp:null))}),Np=Ga.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),Wp={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},Bp=zi.define({combine:e=>Ir(e,Wp,{highlightWordAroundCursor:(e,t)=>e||t,minSelectionLength:Math.min,maxMatches:Math.min})});const zp=fo.mark({class:"cm-selectionMatch"}),Fp=fo.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function Up(e,t,i,r){return!(0!=i&&e(t.sliceDoc(i-1,i))==Tr.Word||r!=t.doc.length&&e(t.sliceDoc(r,r+1))==Tr.Word)}const qp=Lo.fromClass(class{constructor(e){this.decorations=this.getDeco(e)}update(e){(e.selectionSet||e.docChanged||e.viewportChanged)&&(this.decorations=this.getDeco(e.view))}getDeco(e){let t=e.state.facet(Bp),{state:i}=e,r=i.selection;if(r.ranges.length>1)return fo.none;let n,o=r.main,s=null;if(o.empty){if(!t.highlightWordAroundCursor)return fo.none;let e=i.wordAt(o.head);if(!e)return fo.none;s=i.charCategorizer(o.head),n=i.sliceDoc(e.from,e.to)}else{let e=o.to-o.from;if(e<t.minSelectionLength||e>200)return fo.none;if(t.wholeWords){if(n=i.sliceDoc(o.from,o.to),s=i.charCategorizer(o.head),!Up(s,i,o.from,o.to)||!function(e,t,i,r){return e(t.sliceDoc(i,i+1))==Tr.Word&&e(t.sliceDoc(r-1,r))==Tr.Word}(s,i,o.from,o.to))return fo.none}else if(n=i.sliceDoc(o.from,o.to).trim(),!n)return fo.none}let a=[];for(let r of e.visibleRanges){let e=new Qp(i.doc,n,r.from,r.to);for(;!e.next().done;){let{from:r,to:n}=e.value;if((!s||Up(s,i,r,n))&&(o.empty&&r<=o.from&&n>=o.to?a.push(Fp.range(r,n)):(r>=o.to||n<=o.from)&&a.push(zp.range(r,n)),a.length>t.maxMatches))return fo.none}}return fo.set(a)}},{decorations:e=>e.decorations}),Xp=Ga.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}});const jp=zi.define({combine(e){var t;return{top:e.reduce(((e,t)=>null!=e?e:t.top),void 0)||!1,caseSensitive:e.reduce(((e,t)=>null!=e?e:t.caseSensitive),void 0)||!1,createPanel:(null===(t=e.find((e=>e.createPanel)))||void 0===t?void 0:t.createPanel)||(e=>new yf(e))}}});class Hp{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||function(e){try{return new RegExp(e,Ip),!0}catch(e){return!1}}(this.search)),this.unquoted=e.literal?this.search:this.search.replace(/\\([nrt\\])/g,((e,t)=>"n"==t?"\n":"r"==t?"\r":"t"==t?"\t":"\\"))}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp}create(){return this.regexp?new ef(this):new Jp(this)}getCursor(e,t=0,i=e.length){return this.regexp?Kp(this,e,t,i):Yp(this,e,t,i)}}class Zp{constructor(e){this.spec=e}}function Yp(e,t,i,r){return new Qp(t,e.unquoted,i,r,e.caseSensitive?void 0:e=>e.toLowerCase())}class Jp extends Zp{constructor(e){super(e)}nextMatch(e,t,i){let r=Yp(this.spec,e,i,e.length).nextOverlapping();return r.done&&(r=Yp(this.spec,e,0,t).nextOverlapping()),r.done?null:r.value}prevMatchInRange(e,t,i){for(let r=i;;){let i=Math.max(t,r-1e4-this.spec.unquoted.length),n=Yp(this.spec,e,i,r),o=null;for(;!n.nextOverlapping().done;)o=n.value;if(o)return o;if(i==t)return null;r-=1e4}}prevMatch(e,t,i){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,i,e.length)}getReplacement(e){return this.spec.replace}matchAll(e,t){let i=Yp(this.spec,e,0,e.length),r=[];for(;!i.next().done;){if(r.length>=t)return null;r.push(i.value)}return r}highlight(e,t,i,r){let n=Yp(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(i+this.spec.unquoted.length,e.length));for(;!n.next().done;)r(n.value.from,n.value.to)}}function Kp(e,t,i,r){return new Ep(t,e.search,e.caseSensitive?void 0:{ignoreCase:!0},i,r)}class ef extends Zp{nextMatch(e,t,i){let r=Kp(this.spec,e,i,e.length).next();return r.done&&(r=Kp(this.spec,e,0,t).next()),r.done?null:r.value}prevMatchInRange(e,t,i){for(let r=1;;r++){let n=Math.max(t,i-1e4*r),o=Kp(this.spec,e,n,i),s=null;for(;!o.next().done;)s=o.value;if(s&&(n==t||s.from>n+10))return s;if(n==t)return null}}prevMatch(e,t,i){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,i,e.length)}getReplacement(e){return this.spec.replace.replace(/\$([$&\d+])/g,((t,i)=>"$"==i?"$":"&"==i?e.match[0]:"0"!=i&&+i<e.match.length?e.match[i]:t))}matchAll(e,t){let i=Kp(this.spec,e,0,e.length),r=[];for(;!i.next().done;){if(r.length>=t)return null;r.push(i.value)}return r}highlight(e,t,i,r){let n=Kp(this.spec,e,Math.max(0,t-250),Math.min(i+250,e.length));for(;!n.next().done;)r(n.value.from,n.value.to)}}const tf=Sr.define(),rf=Sr.define(),nf=Zi.define({create:e=>new of(gf(e).create(),null),update(e,t){for(let i of t.effects)i.is(tf)?e=new of(i.value.create(),e.panel):i.is(rf)&&(e=new of(e.query,i.value?mf:null));return e},provide:e=>Xl.from(e,(e=>e.panel))});class of{constructor(e,t){this.query=e,this.panel=t}}const sf=fo.mark({class:"cm-searchMatch"}),af=fo.mark({class:"cm-searchMatch cm-searchMatch-selected"}),lf=Lo.fromClass(class{constructor(e){this.view=e,this.decorations=this.highlight(e.state.field(nf))}update(e){let t=e.state.field(nf);(t!=e.startState.field(nf)||e.docChanged||e.selectionSet||e.viewportChanged)&&(this.decorations=this.highlight(t))}highlight({query:e,panel:t}){if(!t||!e.spec.valid)return fo.none;let{view:i}=this,r=new Lr;for(let t=0,n=i.visibleRanges,o=n.length;t<o;t++){let{from:s,to:a}=n[t];for(;t<o-1&&a>n[t+1].from-500;)a=n[++t].to;e.highlight(i.state.doc,s,a,((e,t)=>{let n=i.state.selection.ranges.some((i=>i.from==e&&i.to==t));r.add(e,t,n?af:sf)}))}return r.finish()}},{decorations:e=>e.decorations});function uf(e){return t=>{let i=t.state.field(nf,!1);return i&&i.query.spec.valid?e(t,i):Of(t)}}const cf=uf(((e,{query:t})=>{let{from:i,to:r}=e.state.selection.main,n=t.nextMatch(e.state.doc,i,r);return!(!n||n.from==i&&n.to==r)&&(e.dispatch({selection:{anchor:n.from,head:n.to},scrollIntoView:!0,effects:xf(e,n),userEvent:"select.search"}),!0)})),df=uf(((e,{query:t})=>{let{state:i}=e,{from:r,to:n}=i.selection.main,o=t.prevMatch(i.doc,r,n);return!!o&&(e.dispatch({selection:{anchor:o.from,head:o.to},scrollIntoView:!0,effects:xf(e,o),userEvent:"select.search"}),!0)})),hf=uf(((e,{query:t})=>{let i=t.matchAll(e.state.doc,1e3);return!(!i||!i.length)&&(e.dispatch({selection:Ni.create(i.map((e=>Ni.range(e.from,e.to)))),userEvent:"select.search.matches"}),!0)})),pf=uf(((e,{query:t})=>{let{state:i}=e,{from:r,to:n}=i.selection.main;if(i.readOnly)return!1;let o=t.nextMatch(i.doc,r,r);if(!o)return!1;let s,a,l=[];if(o.from==r&&o.to==n&&(a=i.toText(t.getReplacement(o)),l.push({from:o.from,to:o.to,insert:a}),o=t.nextMatch(i.doc,o.from,o.to)),o){let e=0==l.length||l[0].from>=o.to?0:o.to-o.from-a.length;s={anchor:o.from-e,head:o.to-e}}return e.dispatch({changes:l,selection:s,scrollIntoView:!!s,effects:o?xf(e,o):void 0,userEvent:"input.replace"}),!0})),ff=uf(((e,{query:t})=>{if(e.state.readOnly)return!1;let i=t.matchAll(e.state.doc,1e9).map((e=>{let{from:i,to:r}=e;return{from:i,to:r,insert:t.getReplacement(e)}}));return!!i.length&&(e.dispatch({changes:i,userEvent:"input.replace.all"}),!0)}));function mf(e){return e.state.facet(jp).createPanel(e)}function gf(e,t){var i;let r=e.selection.main,n=r.empty||r.to>r.from+100?"":e.sliceDoc(r.from,r.to),o=null!==(i=null==t?void 0:t.caseSensitive)&&void 0!==i?i:e.facet(jp).caseSensitive;return t&&!n?t:new Hp({search:n.replace(/\n/g,"\\n"),caseSensitive:o})}const Of=e=>{let t=e.state.field(nf,!1);if(t&&t.panel){let i=zl(e,mf);if(!i)return!1;let r=i.dom.querySelector("[name=search]");if(r!=e.root.activeElement){let i=gf(e.state,t.query.spec);i.valid&&e.dispatch({effects:tf.of(i)}),r.focus(),r.select()}}else e.dispatch({effects:[rf.of(!0),t?tf.of(gf(e.state,t.query.spec)):Sr.appendConfig.of(Vf)]});return!0},bf=e=>{let t=e.state.field(nf,!1);if(!t||!t.panel)return!1;let i=zl(e,mf);return i&&i.dom.contains(e.root.activeElement)&&e.focus(),e.dispatch({effects:rf.of(!1)}),!0},Sf=[{key:"Mod-f",run:Of,scope:"editor search-panel"},{key:"F3",run:cf,shift:df,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:cf,shift:df,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:bf,scope:"editor search-panel"},{key:"Mod-Shift-l",run:({state:e,dispatch:t})=>{let i=e.selection;if(i.ranges.length>1||i.main.empty)return!1;let{from:r,to:n}=i.main,o=[],s=0;for(let t=new Qp(e.doc,e.sliceDoc(r,n));!t.next().done;){if(o.length>1e3)return!1;t.value.from==r&&(s=o.length),o.push(Ni.range(t.value.from,t.value.to))}return t(e.update({selection:Ni.create(o,s),userEvent:"select.search.matches"})),!0}},{key:"Alt-g",run:e=>{let t=zl(e,Mp);if(!t){let i=[Lp.of(!0)];null==e.state.field(Gp,!1)&&i.push(Sr.appendConfig.of([Gp,Np])),e.dispatch({effects:i}),t=zl(e,Mp)}return t&&t.dom.querySelector("input").focus(),!0}},{key:"Mod-d",run:({state:e,dispatch:t})=>{let{ranges:i}=e.selection;if(i.some((e=>e.from===e.to)))return(({state:e,dispatch:t})=>{let{selection:i}=e,r=Ni.create(i.ranges.map((t=>e.wordAt(t.head)||Ni.cursor(t.head))),i.mainIndex);return!r.eq(i)&&(t(e.update({selection:r})),!0)})({state:e,dispatch:t});let r=e.sliceDoc(i[0].from,i[0].to);if(e.selection.ranges.some((t=>e.sliceDoc(t.from,t.to)!=r)))return!1;let n=function(e,t){let{main:i,ranges:r}=e.selection,n=e.wordAt(i.head),o=n&&n.from==i.from&&n.to==i.to;for(let i=!1,n=new Qp(e.doc,t,r[r.length-1].to);;){if(n.next(),!n.done){if(i&&r.some((e=>e.from==n.value.from)))continue;if(o){let t=e.wordAt(n.value.from);if(!t||t.from!=n.value.from||t.to!=n.value.to)continue}return n.value}if(i)return null;n=new Qp(e.doc,t,0,Math.max(0,r[r.length-1].from-1)),i=!0}}(e,r);return!!n&&(t(e.update({selection:e.selection.addRange(Ni.range(n.from,n.to),!1),effects:Ga.scrollIntoView(n.to)})),!0)},preventDefault:!0}];class yf{constructor(e){this.view=e;let t=this.query=e.state.field(nf).query.spec;function i(e,t,i){return Tp("button",{class:"cm-button",name:e,onclick:t,type:"button"},i)}this.commit=this.commit.bind(this),this.searchField=Tp("input",{value:t.search,placeholder:vf(e,"Find"),"aria-label":vf(e,"Find"),class:"cm-textfield",name:"search",onchange:this.commit,onkeyup:this.commit}),this.replaceField=Tp("input",{value:t.replace,placeholder:vf(e,"Replace"),"aria-label":vf(e,"Replace"),class:"cm-textfield",name:"replace",onchange:this.commit,onkeyup:this.commit}),this.caseField=Tp("input",{type:"checkbox",name:"case",checked:t.caseSensitive,onchange:this.commit}),this.reField=Tp("input",{type:"checkbox",name:"re",checked:t.regexp,onchange:this.commit}),this.dom=Tp("div",{onkeydown:e=>this.keydown(e),class:"cm-search"},[this.searchField,i("next",(()=>cf(e)),[vf(e,"next")]),i("prev",(()=>df(e)),[vf(e,"previous")]),i("select",(()=>hf(e)),[vf(e,"all")]),Tp("label",null,[this.caseField,vf(e,"match case")]),Tp("label",null,[this.reField,vf(e,"regexp")]),...e.state.readOnly?[]:[Tp("br"),this.replaceField,i("replace",(()=>pf(e)),[vf(e,"replace")]),i("replaceAll",(()=>ff(e)),[vf(e,"replace all")]),Tp("button",{name:"close",onclick:()=>bf(e),"aria-label":vf(e,"close"),type:"button"},["×"])]])}commit(){let e=new Hp({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:tf.of(e)}))}keydown(e){var t,i,r;t=this.view,i=e,r="search-panel",Ya(Ha(t.state),i,t,r)?e.preventDefault():13==e.keyCode&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?df:cf)(this.view)):13==e.keyCode&&e.target==this.replaceField&&(e.preventDefault(),pf(this.view))}update(e){for(let t of e.transactions)for(let e of t.effects)e.is(tf)&&!e.value.eq(this.query)&&this.setQuery(e.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(jp).top}}function vf(e,t){return e.state.phrase(t)}const wf=/[\s\.,:;?!]/;function xf(e,{from:t,to:i}){let r=e.state.doc.lineAt(t).from,n=e.state.doc.lineAt(i).to,o=Math.max(r,t-30),s=Math.min(n,i+30),a=e.state.sliceDoc(o,s);if(o!=r)for(let e=0;e<30;e++)if(!wf.test(a[e+1])&&wf.test(a[e])){a=a.slice(e);break}if(s!=n)for(let e=a.length-1;e>a.length-30;e--)if(!wf.test(a[e-1])&&wf.test(a[e])){a=a.slice(0,e);break}return Ga.announce.of(`${e.state.phrase("current match")}. ${a} ${e.state.phrase("on line")} ${e.state.doc.lineAt(t).number}`)}const kf=Ga.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),Vf=[nf,ir.lowest(lf),kf];class Cf{constructor(e,t,i){this.state=e,this.pos=t,this.explicit=i,this.abortListeners=[]}tokenBefore(e){let t=_c(this.state).resolveInner(this.pos,-1);for(;t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}matchBefore(e){let t=this.state.doc.lineAt(this.pos),i=Math.max(t.from,this.pos-250),r=t.text.slice(i-t.from,this.pos-t.from),n=r.search(Rf(e,!1));return n<0?null:{from:i+n,to:this.pos,text:r.slice(n)}}get aborted(){return null==this.abortListeners}addEventListener(e,t){"abort"==e&&this.abortListeners&&this.abortListeners.push(t)}}function Tf(e){let t=Object.keys(e).join(""),i=/\w/.test(t);return i&&(t=t.replace(/\w/g,"")),`[${i?"\\w":""}${t.replace(/[^\w\s]/g,"\\$&")}]`}function $f(e){let t=e.map((e=>"string"==typeof e?{label:e}:e)),[i,r]=t.every((e=>/^\w+$/.test(e.label)))?[/\w*$/,/\w+$/]:function(e){let t=Object.create(null),i=Object.create(null);for(let{label:r}of e){t[r[0]]=!0;for(let e=1;e<r.length;e++)i[r[e]]=!0}let r=Tf(t)+Tf(i)+"*$";return[new RegExp("^"+r),new RegExp(r)]}(t);return e=>{let n=e.matchBefore(r);return n||e.explicit?{from:n?n.from:e.pos,options:t,validFor:i}:null}}class Pf{constructor(e,t,i){this.completion=e,this.source=t,this.match=i}}function Qf(e){return e.selection.main.head}function Rf(e,t){var i;let{source:r}=e,n=t&&"^"!=r[0],o="$"!=r[r.length-1];return n||o?new RegExp(`${n?"^":""}(?:${r})${o?"$":""}`,null!==(i=e.flags)&&void 0!==i?i:e.ignoreCase?"i":""):e}function If(e,t){const i=t.completion.apply||t.completion.label;let r=t.source;var n,o,s,a;"string"==typeof i?e.dispatch((n=e.state,o=i,s=r.from,a=r.to,Object.assign(Object.assign({},n.changeByRange((e=>{if(e==n.selection.main)return{changes:{from:s,to:a,insert:o},range:Ni.cursor(s+o.length)};let t=a-s;return!e.empty||t&&n.sliceDoc(e.from-t,e.from)!=n.sliceDoc(s,a)?{range:e}:{changes:{from:e.from-t,to:e.from,insert:o},range:Ni.cursor(e.from-t+o.length)}}))),{userEvent:"input.complete"}))):i(e,t.completion,r.from,r.to)}const Ef=new WeakMap;function Df(e){if(!Array.isArray(e))return e;let t=Ef.get(e);return t||Ef.set(e,t=$f(e)),t}class Af{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[];for(let t=0;t<e.length;){let i=Ci(e,t),r=$i(i);this.chars.push(i);let n=e.slice(t,t+r),o=n.toUpperCase();this.folded.push(Ci(o==n?n.toLowerCase():o,0)),t+=r}this.astral=e.length!=this.chars.length}match(e){if(0==this.pattern.length)return[0];if(e.length<this.pattern.length)return null;let{chars:t,folded:i,any:r,precise:n,byWord:o}=this;if(1==t.length){let r=Ci(e,0);return r==t[0]?[0,0,$i(r)]:r==i[0]?[-200,0,$i(r)]:null}let s=e.indexOf(this.pattern);if(0==s)return[0,0,this.pattern.length];let a=t.length,l=0;if(s<0){for(let n=0,o=Math.min(e.length,200);n<o&&l<a;){let o=Ci(e,n);o!=t[l]&&o!=i[l]||(r[l++]=n),n+=$i(o)}if(l<a)return null}let u=0,c=0,d=!1,h=0,p=-1,f=-1,m=/[a-z]/.test(e),g=!0;for(let r=0,l=Math.min(e.length,200),O=0;r<l&&c<a;){let l=Ci(e,r);s<0&&(u<a&&l==t[u]&&(n[u++]=r),h<a&&(l==t[h]||l==i[h]?(0==h&&(p=r),f=r+1,h++):h=0));let b,S=l<255?l>=48&&l<=57||l>=97&&l<=122?2:l>=65&&l<=90?1:0:(b=Ti(l))!=b.toLowerCase()?1:b!=b.toUpperCase()?2:0;(!r||1==S&&m||0==O&&0!=S)&&(t[c]==l||i[c]==l&&(d=!0)?o[c++]=r:o.length&&(g=!1)),O=S,r+=$i(l)}return c==a&&0==o[0]&&g?this.result((d?-200:0)-100,o,e):h==a&&0==p?[-200-e.length,0,f]:s>-1?[-700-e.length,s,s+this.pattern.length]:h==a?[-900-e.length,p,f]:c==a?this.result((d?-200:0)-100-700+(g?0:-1100),o,e):2==t.length?null:this.result((r[0]?-700:0)-200-1100,r,e)}result(e,t,i){let r=[e-i.length],n=1;for(let e of t){let t=e+(this.astral?$i(Ci(i,e)):1);n>1&&r[n-1]==e?r[n-1]=t:(r[n++]=e,r[n++]=t)}return r}}const _f=zi.define({combine:e=>Ir(e,{activateOnTyping:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[]},{defaultKeymap:(e,t)=>e&&t,closeOnBlur:(e,t)=>e&&t,icons:(e,t)=>e&&t,optionClass:(e,t)=>i=>function(e,t){return e?t?e+" "+t:e:t}(e(i),t(i)),addToOptions:(e,t)=>e.concat(t)})});function Mf(e,t,i){if(e<=i)return{from:0,to:e};if(t<=e>>1){let e=Math.floor(t/i);return{from:e*i,to:(e+1)*i}}let r=Math.floor((e-t)/i);return{from:e-(r+1)*i,to:e-r*i}}class Lf{constructor(e,t){this.view=e,this.stateField=t,this.info=null,this.placeInfo={read:()=>this.measureInfo(),write:e=>this.positionInfo(e),key:this};let i=e.state.field(t),{options:r,selected:n}=i.open,o=e.state.facet(_f);this.optionContent=function(e){let t=e.addToOptions.slice();return e.icons&&t.push({render(e){let t=document.createElement("div");return t.classList.add("cm-completionIcon"),e.type&&t.classList.add(...e.type.split(/\s+/g).map((e=>"cm-completionIcon-"+e))),t.setAttribute("aria-hidden","true"),t},position:20}),t.push({render(e,t,i){let r=document.createElement("span");r.className="cm-completionLabel";let{label:n}=e,o=0;for(let e=1;e<i.length;){let t=i[e++],s=i[e++];t>o&&r.appendChild(document.createTextNode(n.slice(o,t)));let a=r.appendChild(document.createElement("span"));a.appendChild(document.createTextNode(n.slice(t,s))),a.className="cm-completionMatchedText",o=s}return o<n.length&&r.appendChild(document.createTextNode(n.slice(o))),r},position:50},{render(e){if(!e.detail)return null;let t=document.createElement("span");return t.className="cm-completionDetail",t.textContent=e.detail,t},position:80}),t.sort(((e,t)=>e.position-t.position)).map((e=>e.render))}(o),this.optionClass=o.optionClass,this.range=Mf(r.length,n,o.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.dom.addEventListener("mousedown",(t=>{for(let i,n=t.target;n&&n!=this.dom;n=n.parentNode)if("LI"==n.nodeName&&(i=/-(\d+)$/.exec(n.id))&&+i[1]<r.length)return If(e,r[+i[1]]),void t.preventDefault()})),this.list=this.dom.appendChild(this.createListBox(r,i.id,this.range)),this.list.addEventListener("scroll",(()=>{this.info&&this.view.requestMeasure(this.placeInfo)}))}mount(){this.updateSel()}update(e){e.state.field(this.stateField)!=e.startState.field(this.stateField)&&this.updateSel()}positioned(){this.info&&this.view.requestMeasure(this.placeInfo)}updateSel(){let e=this.view.state.field(this.stateField),t=e.open;if((t.selected<this.range.from||t.selected>=this.range.to)&&(this.range=Mf(t.options.length,t.selected,this.view.state.facet(_f).maxRenderedOptions),this.list.remove(),this.list=this.dom.appendChild(this.createListBox(t.options,e.id,this.range)),this.list.addEventListener("scroll",(()=>{this.info&&this.view.requestMeasure(this.placeInfo)}))),this.updateSelectedOption(t.selected)){this.info&&(this.info.remove(),this.info=null);let{completion:i}=t.options[t.selected],{info:r}=i;if(!r)return;let n="string"==typeof r?document.createTextNode(r):r(i);if(!n)return;"then"in n?n.then((t=>{t&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(t)})).catch((e=>Do(this.view.state,e,"completion info"))):this.addInfoPane(n)}}addInfoPane(e){let t=this.info=document.createElement("div");t.className="cm-tooltip cm-completionInfo",t.appendChild(e),this.dom.appendChild(t),this.view.requestMeasure(this.placeInfo)}updateSelectedOption(e){let t=null;for(let i=this.list.firstChild,r=this.range.from;i;i=i.nextSibling,r++)r==e?i.hasAttribute("aria-selected")||(i.setAttribute("aria-selected","true"),t=i):i.hasAttribute("aria-selected")&&i.removeAttribute("aria-selected");return t&&function(e,t){let i=e.getBoundingClientRect(),r=t.getBoundingClientRect();r.top<i.top?e.scrollTop-=i.top-r.top:r.bottom>i.bottom&&(e.scrollTop+=r.bottom-i.bottom)}(this.list,t),t}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let t=this.dom.getBoundingClientRect(),i=this.info.getBoundingClientRect(),r=e.getBoundingClientRect();if(r.top>Math.min(innerHeight,t.bottom)-10||r.bottom<Math.max(0,t.top)+10)return null;let n=Math.max(0,Math.min(r.top,innerHeight-i.height))-t.top,o=this.view.textDirection==jo.RTL,s=t.left,a=innerWidth-t.right;return o&&s<Math.min(i.width,a)?o=!1:!o&&a<Math.min(i.width,s)&&(o=!0),{top:n,left:o}}positionInfo(e){this.info&&(this.info.style.top=(e?e.top:-1e6)+"px",e&&(this.info.classList.toggle("cm-completionInfo-left",e.left),this.info.classList.toggle("cm-completionInfo-right",!e.left)))}createListBox(e,t,i){const r=document.createElement("ul");r.id=t,r.setAttribute("role","listbox"),r.setAttribute("aria-expanded","true"),r.setAttribute("aria-label",this.view.state.phrase("Completions"));for(let n=i.from;n<i.to;n++){let{completion:i,match:o}=e[n];const s=r.appendChild(document.createElement("li"));s.id=t+"-"+n,s.setAttribute("role","option");let a=this.optionClass(i);a&&(s.className=a);for(let e of this.optionContent){let t=e(i,this.view.state,o);t&&s.appendChild(t)}}return i.from&&r.classList.add("cm-completionListIncompleteTop"),i.to<e.length&&r.classList.add("cm-completionListIncompleteBottom"),r}}function Gf(e){return 100*(e.boost||0)+(e.apply?10:0)+(e.info?5:0)+(e.type?1:0)}class Nf{constructor(e,t,i,r,n){this.options=e,this.attrs=t,this.tooltip=i,this.timestamp=r,this.selected=n}setSelected(e,t){return e==this.selected||e>=this.options.length?this:new Nf(this.options,zf(t,e),this.tooltip,this.timestamp,e)}static build(e,t,i,r,n){let o=function(e,t){let i=[],r=0;for(let n of e)if(n.hasResult())if(!1===n.result.filter){let e=n.result.getMatch;for(let t of n.result.options){let o=[1e9-r++];if(e)for(let i of e(t))o.push(i);i.push(new Pf(t,n,o))}}else{let e,r=new Af(t.sliceDoc(n.from,n.to));for(let t of n.result.options)(e=r.match(t.label))&&(null!=t.boost&&(e[0]+=t.boost),i.push(new Pf(t,n,e)))}let n=[],o=null;for(let e of i.sort(Uf))!o||o.label!=e.completion.label||o.detail!=e.completion.detail||null!=o.type&&null!=e.completion.type&&o.type!=e.completion.type||o.apply!=e.completion.apply?n.push(e):Gf(e.completion)>Gf(o)&&(n[n.length-1]=e),o=e.completion;return n}(e,t);if(!o.length)return null;let s=0;if(r&&r.selected){let e=r.options[r.selected].completion;for(let t=0;t<o.length;t++)if(o[t].completion==e){s=t;break}}return new Nf(o,zf(i,s),{pos:e.reduce(((e,t)=>t.hasResult()?Math.min(e,t.from):e),1e8),create:(a=Kf,e=>new Lf(e,a)),above:n.aboveCursor},r?r.timestamp:Date.now(),s);var a}map(e){return new Nf(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected)}}class Wf{constructor(e,t,i){this.active=e,this.id=t,this.open=i}static start(){return new Wf(Ff,"cm-ac-"+Math.floor(2e6*Math.random()).toString(36),null)}update(e){let{state:t}=e,i=t.facet(_f),r=(i.override||t.languageDataAt("autocomplete",Qf(t)).map(Df)).map((t=>(this.active.find((e=>e.source==t))||new Xf(t,this.active.some((e=>0!=e.state))?1:0)).update(e,i)));r.length==this.active.length&&r.every(((e,t)=>e==this.active[t]))&&(r=this.active);let n=e.selection||r.some((t=>t.hasResult()&&e.changes.touchesRange(t.from,t.to)))||!function(e,t){if(e==t)return!0;for(let i=0,r=0;;){for(;i<e.length&&!e[i].hasResult;)i++;for(;r<t.length&&!t[r].hasResult;)r++;let n=i==e.length,o=r==t.length;if(n||o)return n==o;if(e[i++].result!=t[r++].result)return!1}}(r,this.active)?Nf.build(r,t,this.id,this.open,i):this.open&&e.docChanged?this.open.map(e.changes):this.open;!n&&r.every((e=>1!=e.state))&&r.some((e=>e.hasResult()))&&(r=r.map((e=>e.hasResult()?new Xf(e.source,0):e)));for(let t of e.effects)t.is(Jf)&&(n=n&&n.setSelected(t.value,this.id));return r==this.active&&n==this.open?this:new Wf(r,this.id,n)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:Bf}}const Bf={"aria-autocomplete":"list"};function zf(e,t){return{"aria-autocomplete":"list","aria-haspopup":"listbox","aria-activedescendant":e+"-"+t,"aria-controls":e}}const Ff=[];function Uf(e,t){let i=t.match[0]-e.match[0];return i||e.completion.label.localeCompare(t.completion.label)}function qf(e){return e.isUserEvent("input.type")?"input":e.isUserEvent("delete.backward")?"delete":null}class Xf{constructor(e,t,i=-1){this.source=e,this.state=t,this.explicitPos=i}hasResult(){return!1}update(e,t){let i=qf(e),r=this;i?r=r.handleUserEvent(e,i,t):e.docChanged?r=r.handleChange(e):e.selection&&0!=r.state&&(r=new Xf(r.source,0));for(let t of e.effects)if(t.is(Hf))r=new Xf(r.source,1,t.value?Qf(e.state):-1);else if(t.is(Zf))r=new Xf(r.source,0);else if(t.is(Yf))for(let e of t.value)e.source==r.source&&(r=e);return r}handleUserEvent(e,t,i){return"delete"!=t&&i.activateOnTyping?new Xf(this.source,1):this.map(e.changes)}handleChange(e){return e.changes.touchesRange(Qf(e.startState))?new Xf(this.source,0):this.map(e.changes)}map(e){return e.empty||this.explicitPos<0?this:new Xf(this.source,this.state,e.mapPos(this.explicitPos))}}class jf extends Xf{constructor(e,t,i,r,n){super(e,2,t),this.result=i,this.from=r,this.to=n}hasResult(){return!0}handleUserEvent(e,t,i){var r;let n=e.changes.mapPos(this.from),o=e.changes.mapPos(this.to,1),s=Qf(e.state);if((this.explicitPos<0?s<=n:s<this.from)||s>o||"delete"==t&&Qf(e.startState)==this.from)return new Xf(this.source,"input"==t&&i.activateOnTyping?1:0);let a,l=this.explicitPos<0?-1:e.changes.mapPos(this.explicitPos);return function(e,t,i,r){if(!e)return!1;let n=t.sliceDoc(i,r);return"function"==typeof e?e(n,i,r,t):Rf(e,!0).test(n)}(this.result.validFor,e.state,n,o)?new jf(this.source,l,this.result,n,o):this.result.update&&(a=this.result.update(this.result,n,o,new Cf(e.state,s,l>=0)))?new jf(this.source,l,a,a.from,null!==(r=a.to)&&void 0!==r?r:Qf(e.state)):new Xf(this.source,1,l)}handleChange(e){return e.changes.touchesRange(this.from,this.to)?new Xf(this.source,0):this.map(e.changes)}map(e){return e.empty?this:new jf(this.source,this.explicitPos<0?-1:e.mapPos(this.explicitPos),this.result,e.mapPos(this.from),e.mapPos(this.to,1))}}const Hf=Sr.define(),Zf=Sr.define(),Yf=Sr.define({map:(e,t)=>e.map((e=>e.map(t)))}),Jf=Sr.define(),Kf=Zi.define({create:()=>Wf.start(),update:(e,t)=>e.update(t),provide:e=>[Al.from(e,(e=>e.tooltip)),Ga.contentAttributes.from(e,(e=>e.attrs))]});function em(e,t="option"){return i=>{let r=i.state.field(Kf,!1);if(!r||!r.open||Date.now()-r.open.timestamp<75)return!1;let n,o=1;"page"==t&&(n=function(e,t){let i=e.plugin(Il);if(!i)return null;let r=i.manager.tooltips.indexOf(t);return r<0?null:i.manager.tooltipViews[r]}(i,r.open.tooltip))&&(o=Math.max(2,Math.floor(n.dom.offsetHeight/n.dom.querySelector("li").offsetHeight)-1));let s=r.open.selected+o*(e?1:-1),{length:a}=r.open.options;return s<0?s="page"==t?0:a-1:s>=a&&(s="page"==t?a-1:0),i.dispatch({effects:Jf.of(s)}),!0}}class tm{constructor(e,t){this.active=e,this.context=t,this.time=Date.now(),this.updates=[],this.done=void 0}}const im=Lo.fromClass(class{constructor(e){this.view=e,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.composing=0;for(let t of e.state.field(Kf).active)1==t.state&&this.startQuery(t)}update(e){let t=e.state.field(Kf);if(!e.selectionSet&&!e.docChanged&&e.startState.field(Kf)==t)return;let i=e.transactions.some((e=>(e.selection||e.docChanged)&&!qf(e)));for(let t=0;t<this.running.length;t++){let r=this.running[t];if(i||r.updates.length+e.transactions.length>50&&Date.now()-r.time>1e3){for(let e of r.context.abortListeners)try{e()}catch(e){Do(this.view.state,e)}r.context.abortListeners=null,this.running.splice(t--,1)}else r.updates.push(...e.transactions)}if(this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),this.debounceUpdate=t.active.some((e=>1==e.state&&!this.running.some((t=>t.active.source==e.source))))?setTimeout((()=>this.startUpdate()),50):-1,0!=this.composing)for(let t of e.transactions)"input"==qf(t)?this.composing=2:2==this.composing&&t.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1;let{state:e}=this.view,t=e.field(Kf);for(let e of t.active)1!=e.state||this.running.some((t=>t.active.source==e.source))||this.startQuery(e)}startQuery(e){let{state:t}=this.view,i=Qf(t),r=new Cf(t,i,e.explicitPos==i),n=new tm(e,r);this.running.push(n),Promise.resolve(e.source(r)).then((e=>{n.context.aborted||(n.done=e||null,this.scheduleAccept())}),(e=>{this.view.dispatch({effects:Zf.of(null)}),Do(this.view.state,e)}))}scheduleAccept(){this.running.every((e=>void 0!==e.done))?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout((()=>this.accept()),50))}accept(){var e;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let t=[],i=this.view.state.facet(_f);for(let r=0;r<this.running.length;r++){let n=this.running[r];if(void 0===n.done)continue;if(this.running.splice(r--,1),n.done){let r=new jf(n.active.source,n.active.explicitPos,n.done,n.done.from,null!==(e=n.done.to)&&void 0!==e?e:Qf(n.updates.length?n.updates[0].startState:this.view.state));for(let e of n.updates)r=r.update(e,i);if(r.hasResult()){t.push(r);continue}}let o=this.view.state.field(Kf).active.find((e=>e.source==n.active.source));if(o&&1==o.state)if(null==n.done){let e=new Xf(n.active.source,0);for(let t of n.updates)e=e.update(t,i);1!=e.state&&t.push(e)}else this.startQuery(o)}t.length&&this.view.dispatch({effects:Yf.of(t)})}},{eventHandlers:{blur(){let e=this.view.state.field(Kf,!1);e&&e.tooltip&&this.view.state.facet(_f).closeOnBlur&&this.view.dispatch({effects:Zf.of(null)})},compositionstart(){this.composing=1},compositionend(){3==this.composing&&setTimeout((()=>this.view.dispatch({effects:Hf.of(!1)})),20),this.composing=0}}}),rm=Ga.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",listStyle:"none",margin:0,padding:0,"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer",padding:"1px 3px",lineHeight:1.2}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"···"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"300px"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'ƒ'"}},".cm-completionIcon-class":{"&:after":{content:"'○'"}},".cm-completionIcon-interface":{"&:after":{content:"'◌'"}},".cm-completionIcon-variable":{"&:after":{content:"'𝑥'"}},".cm-completionIcon-constant":{"&:after":{content:"'𝐶'"}},".cm-completionIcon-type":{"&:after":{content:"'𝑡'"}},".cm-completionIcon-enum":{"&:after":{content:"'∪'"}},".cm-completionIcon-property":{"&:after":{content:"'□'"}},".cm-completionIcon-keyword":{"&:after":{content:"'🔑︎'"}},".cm-completionIcon-namespace":{"&:after":{content:"'▢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class nm{constructor(e,t,i,r){this.field=e,this.line=t,this.from=i,this.to=r}}class om{constructor(e,t,i){this.field=e,this.from=t,this.to=i}map(e){let t=e.mapPos(this.from,-1,Qi.TrackDel),i=e.mapPos(this.to,1,Qi.TrackDel);return null==t||null==i?null:new om(this.field,t,i)}}class sm{constructor(e,t){this.lines=e,this.fieldPositions=t}instantiate(e,t){let i=[],r=[t],n=e.doc.lineAt(t),o=/^\s*/.exec(n.text)[0];for(let n of this.lines){if(i.length){let i=o,s=/^\t*/.exec(n)[0].length;for(let t=0;t<s;t++)i+=e.facet(jc);r.push(t+i.length-s),n=i+n.slice(s)}i.push(n),t+=n.length+1}return{text:i,ranges:this.fieldPositions.map((e=>new om(e.field,r[e.line]+e.from,r[e.line]+e.to)))}}static parse(e){let t,i=[],r=[],n=[];for(let o of e.split(/\r\n?|\n/)){for(;t=/[#$]\{(?:(\d+)(?::([^}]*))?|([^}]*))\}/.exec(o);){let e=t[1]?+t[1]:null,s=t[2]||t[3]||"",a=-1;for(let t=0;t<i.length;t++)(null!=e?i[t].seq==e:s&&i[t].name==s)&&(a=t);if(a<0){let t=0;for(;t<i.length&&(null==e||null!=i[t].seq&&i[t].seq<e);)t++;i.splice(t,0,{seq:e,name:s}),a=t;for(let e of n)e.field>=a&&e.field++}n.push(new nm(a,r.length,t.index,t.index+s.length)),o=o.slice(0,t.index)+s+o.slice(t.index+t[0].length)}r.push(o)}return new sm(r,n)}}let am=fo.widget({widget:new class extends ho{toDOM(){let e=document.createElement("span");return e.className="cm-snippetFieldPosition",e}ignoreEvent(){return!1}}}),lm=fo.mark({class:"cm-snippetField"});class um{constructor(e,t){this.ranges=e,this.active=t,this.deco=fo.set(e.map((e=>(e.from==e.to?am:lm).range(e.from,e.to))))}map(e){let t=[];for(let i of this.ranges){let r=i.map(e);if(!r)return null;t.push(r)}return new um(t,this.active)}selectionInsideField(e){return e.ranges.every((e=>this.ranges.some((t=>t.field==this.active&&t.from<=e.from&&t.to>=e.to))))}}const cm=Sr.define({map:(e,t)=>e&&e.map(t)}),dm=Sr.define(),hm=Zi.define({create:()=>null,update(e,t){for(let i of t.effects){if(i.is(cm))return i.value;if(i.is(dm)&&e)return new um(e.ranges,i.value)}return e&&t.docChanged&&(e=e.map(t.changes)),e&&t.selection&&!e.selectionInsideField(t.selection)&&(e=null),e},provide:e=>Ga.decorations.from(e,(e=>e?e.deco:fo.none))});function pm(e,t){return Ni.create(e.filter((e=>e.field==t)).map((e=>Ni.range(e.from,e.to))))}function fm(e){let t=sm.parse(e);return(e,i,r,n)=>{let{text:o,ranges:s}=t.instantiate(e.state,r),a={changes:{from:r,to:n,insert:ui.of(o)}};if(s.length&&(a.selection=pm(s,0)),s.length>1){let t=new um(s,0),i=a.effects=[cm.of(t)];void 0===e.state.field(hm,!1)&&i.push(Sr.appendConfig.of([hm,bm,ym,rm]))}e.dispatch(e.state.update(a))}}function mm(e){return({state:t,dispatch:i})=>{let r=t.field(hm,!1);if(!r||e<0&&0==r.active)return!1;let n=r.active+e,o=e>0&&!r.ranges.some((t=>t.field==n+e));return i(t.update({selection:pm(r.ranges,n),effects:cm.of(o?null:new um(r.ranges,n))})),!0}}const gm=[{key:"Tab",run:mm(1),shift:mm(-1)},{key:"Escape",run:({state:e,dispatch:t})=>!!e.field(hm,!1)&&(t(e.update({effects:cm.of(null)})),!0)}],Om=zi.define({combine:e=>e.length?e[0]:gm}),bm=ir.highest(Xa.compute([Om],(e=>e.facet(Om))));function Sm(e,t){return Object.assign(Object.assign({},t),{apply:fm(e)})}const ym=Ga.domEventHandlers({mousedown(e,t){let i,r=t.state.field(hm,!1);if(!r||null==(i=t.posAtCoords({x:e.clientX,y:e.clientY})))return!1;let n=r.ranges.find((e=>e.from<=i&&e.to>=i));return!(!n||n.field==r.active)&&(t.dispatch({selection:pm(r.ranges,n.field),effects:cm.of(r.ranges.some((e=>e.field>n.field))?new um(r.ranges,n.field):null)}),!0)}}),vm={brackets:["(","[","{","'",'"'],before:")]}:;>"},wm=Sr.define({map(e,t){let i=t.mapPos(e,-1,Qi.TrackAfter);return null==i?void 0:i}}),xm=Sr.define({map:(e,t)=>t.mapPos(e)}),km=new class extends Er{};km.startSide=1,km.endSide=-1;const Vm=Zi.define({create:()=>Mr.empty,update(e,t){if(t.selection){let i=t.state.doc.lineAt(t.selection.main.head).from,r=t.startState.doc.lineAt(t.startState.selection.main.head).from;i!=t.changes.mapPos(r,-1)&&(e=Mr.empty)}e=e.map(t.changes);for(let i of t.effects)i.is(wm)?e=e.update({add:[km.range(i.value,i.value+1)]}):i.is(xm)&&(e=e.update({filter:e=>e!=i.value}));return e}});const Cm="()[]{}<>";function Tm(e){for(let t=0;t<Cm.length;t+=2)if(Cm.charCodeAt(t)==e)return Cm.charAt(t+1);return Ti(e<128?e:e+1)}function $m(e,t){return e.languageDataAt("closeBrackets",t)[0]||vm}const Pm="object"==typeof navigator&&/Android\b/.test(navigator.userAgent),Qm=Ga.inputHandler.of(((e,t,i,r)=>{if((Pm?e.composing:e.compositionStarted)||e.state.readOnly)return!1;let n=e.state.selection.main;if(r.length>2||2==r.length&&1==$i(Ci(r,0))||t!=n.from||i!=n.to)return!1;let o=function(e,t){let i=$m(e,e.selection.main.head),r=i.brackets||vm.brackets;for(let n of r){let o=Tm(Ci(n,0));if(t==n)return o==n?_m(e,n,r.indexOf(n+n+n)>-1):Dm(e,n,o,i.before||vm.before);if(t==o&&Im(e,e.selection.main.from))return Am(e,n,o)}return null}(e.state,r);return!!o&&(e.dispatch(o),!0)})),Rm=[{key:"Backspace",run:({state:e,dispatch:t})=>{if(e.readOnly)return!1;let i=$m(e,e.selection.main.head).brackets||vm.brackets,r=null,n=e.changeByRange((t=>{if(t.empty){let r=function(e,t){let i=e.sliceString(t-2,t);return $i(Ci(i,0))==i.length?i:i.slice(1)}(e.doc,t.head);for(let n of i)if(n==r&&Em(e.doc,t.head)==Tm(Ci(n,0)))return{changes:{from:t.head-n.length,to:t.head+n.length},range:Ni.cursor(t.head-n.length),userEvent:"delete.backward"}}return{range:r=t}}));return r||t(e.update(n,{scrollIntoView:!0})),!r}}];function Im(e,t){let i=!1;return e.field(Vm).between(0,e.doc.length,(e=>{e==t&&(i=!0)})),i}function Em(e,t){let i=e.sliceString(t,t+2);return i.slice(0,$i(Ci(i,0)))}function Dm(e,t,i,r){let n=null,o=e.changeByRange((o=>{if(!o.empty)return{changes:[{insert:t,from:o.from},{insert:i,from:o.to}],effects:wm.of(o.to+t.length),range:Ni.range(o.anchor+t.length,o.head+t.length)};let s=Em(e.doc,o.head);return!s||/\s/.test(s)||r.indexOf(s)>-1?{changes:{insert:t+i,from:o.head},effects:wm.of(o.head+t.length),range:Ni.cursor(o.head+t.length)}:{range:n=o}}));return n?null:e.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function Am(e,t,i){let r=null,n=e.selection.ranges.map((t=>t.empty&&Em(e.doc,t.head)==i?Ni.cursor(t.head+i.length):r=t));return r?null:e.update({selection:Ni.create(n,e.selection.mainIndex),scrollIntoView:!0,effects:e.selection.ranges.map((({from:e})=>xm.of(e)))})}function _m(e,t,i){let r=null,n=e.changeByRange((n=>{if(!n.empty)return{changes:[{insert:t,from:n.from},{insert:t,from:n.to}],effects:wm.of(n.to+t.length),range:Ni.range(n.anchor+t.length,n.head+t.length)};let o=n.head,s=Em(e.doc,o);if(s==t){if(Mm(e,o))return{changes:{insert:t+t,from:o},effects:wm.of(o+t.length),range:Ni.cursor(o+t.length)};if(Im(e,o)){let r=i&&e.sliceDoc(o,o+3*t.length)==t+t+t;return{range:Ni.cursor(o+t.length*(r?3:1)),effects:xm.of(o)}}}else{if(i&&e.sliceDoc(o-2*t.length,o)==t+t&&Mm(e,o-2*t.length))return{changes:{insert:t+t+t+t,from:o},effects:wm.of(o+t.length),range:Ni.cursor(o+t.length)};if(e.charCategorizer(o)(s)!=Tr.Word){let i=e.sliceDoc(o-1,o);if(i!=t&&e.charCategorizer(o)(i)!=Tr.Word&&!function(e,t,i){let r=_c(e).resolveInner(t,-1);for(let n=0;n<5;n++){if(e.sliceDoc(r.from,r.from+i.length)==i)return!0;let n=r.to==t&&r.parent;if(!n)break;r=n}return!1}(e,o,t))return{changes:{insert:t+t,from:o},effects:wm.of(o+t.length),range:Ni.cursor(o+t.length)}}}return{range:r=n}}));return r?null:e.update(n,{scrollIntoView:!0,userEvent:"input.type"})}function Mm(e,t){let i=_c(e).resolveInner(t+1);return i.parent&&i.from==t}const Lm=[{key:"Ctrl-Space",run:e=>!!e.state.field(Kf,!1)&&(e.dispatch({effects:Hf.of(!0)}),!0)},{key:"Escape",run:e=>{let t=e.state.field(Kf,!1);return!(!t||!t.active.some((e=>0!=e.state)))&&(e.dispatch({effects:Zf.of(null)}),!0)}},{key:"ArrowDown",run:em(!0)},{key:"ArrowUp",run:em(!1)},{key:"PageDown",run:em(!0,"page")},{key:"PageUp",run:em(!1,"page")},{key:"Enter",run:e=>{let t=e.state.field(Kf,!1);return!(e.state.readOnly||!t||!t.open||Date.now()-t.open.timestamp<75)&&(If(e,t.open.options[t.open.selected]),!0)}}],Gm=ir.highest(Xa.computeN([_f],(e=>e.facet(_f).defaultKeymap?[Lm]:[])));class Nm{constructor(e,t,i){this.from=e,this.to=t,this.diagnostic=i}}class Wm{constructor(e,t,i){this.diagnostics=e,this.panel=t,this.selected=i}static init(e,t,i){let r=e,n=i.facet(tg).markerFilter;n&&(r=n(r));let o=fo.set(r.map((e=>e.from==e.to||e.from==e.to-1&&i.doc.lineAt(e.from).to==e.from?fo.widget({widget:new ng(e),diagnostic:e}).range(e.from):fo.mark({attributes:{class:"cm-lintRange cm-lintRange-"+e.severity},diagnostic:e}).range(e.from,e.to))),!0);return new Wm(o,t,Bm(o))}}function Bm(e,t=null,i=0){let r=null;return e.between(i,1e9,((e,i,{spec:n})=>{if(!t||n.diagnostic==t)return r=new Nm(e,i,n.diagnostic),!1})),r}function zm(e,t){return!(!e.effects.some((e=>e.is(Um)))&&!e.changes.touchesRange(t.pos))}function Fm(e,t){return e.field(jm,!1)?t:t.concat(Sr.appendConfig.of([jm,Ga.decorations.compute([jm],(e=>{let{selected:t,panel:i}=e.field(jm);return t&&i&&t.from!=t.to?fo.set([Hm.range(t.from,t.to)]):fo.none})),Nl(Zm,{hideOn:zm}),ug]))}const Um=Sr.define(),qm=Sr.define(),Xm=Sr.define(),jm=Zi.define({create:()=>new Wm(fo.none,null,null),update(e,t){if(t.docChanged){let i=e.diagnostics.map(t.changes),r=null;if(e.selected){let n=t.changes.mapPos(e.selected.from,1);r=Bm(i,e.selected.diagnostic,n)||Bm(i,null,n)}e=new Wm(i,e.panel,r)}for(let i of t.effects)i.is(Um)?e=Wm.init(i.value,e.panel,t.state):i.is(qm)?e=new Wm(e.diagnostics,i.value?sg.open:null,e.selected):i.is(Xm)&&(e=new Wm(e.diagnostics,e.panel,i.value));return e},provide:e=>[Xl.from(e,(e=>e.panel)),Ga.decorations.from(e,(e=>e.diagnostics))]}),Hm=fo.mark({class:"cm-lintRange cm-lintRange-active"});function Zm(e,t,i){let{diagnostics:r}=e.state.field(jm),n=[],o=2e8,s=0;r.between(t-(i<0?1:0),t+(i>0?1:0),((e,r,{spec:a})=>{t>=e&&t<=r&&(e==r||(t>e||i>0)&&(t<r||i<0))&&(n.push(a.diagnostic),o=Math.min(e,o),s=Math.max(r,s))}));let a=e.state.facet(tg).tooltipFilter;return a&&(n=a(n)),n.length?{pos:o,end:s,above:e.state.doc.lineAt(o).to<s,create:()=>({dom:Ym(e,n)})}:null}function Ym(e,t){return Tp("ul",{class:"cm-tooltip-lint"},t.map((t=>rg(e,t,!1))))}const Jm=e=>{let t=e.state.field(jm,!1);return!(!t||!t.panel)&&(e.dispatch({effects:qm.of(!1)}),!0)},Km=[{key:"Mod-Shift-m",run:e=>{let t=e.state.field(jm,!1);t&&t.panel||e.dispatch({effects:Fm(e.state,[qm.of(!0)])});let i=zl(e,sg.open);return i&&i.dom.querySelector(".cm-panel-lint ul").focus(),!0}},{key:"F8",run:e=>{let t=e.state.field(jm,!1);if(!t)return!1;let i=e.state.selection.main,r=t.diagnostics.iter(i.to+1);return!(!r.value&&(r=t.diagnostics.iter(0),!r.value||r.from==i.from&&r.to==i.to))&&(e.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),!0)}}],eg=Lo.fromClass(class{constructor(e){this.view=e,this.timeout=-1,this.set=!0;let{delay:t}=e.state.facet(tg);this.lintTime=Date.now()+t,this.run=this.run.bind(this),this.timeout=setTimeout(this.run,t)}run(){let e=Date.now();if(e<this.lintTime-10)setTimeout(this.run,this.lintTime-e);else{this.set=!1;let{state:e}=this.view,{sources:t}=e.facet(tg);Promise.all(t.map((e=>Promise.resolve(e(this.view))))).then((t=>{let i=t.reduce(((e,t)=>e.concat(t)));this.view.state.doc==e.doc&&this.view.dispatch(function(e,t){return{effects:Fm(e,[Um.of(t)])}}(this.view.state,i))}),(e=>{Do(this.view.state,e)}))}}update(e){let t=e.state.facet(tg);(e.docChanged||t!=e.startState.facet(tg))&&(this.lintTime=Date.now()+t.delay,this.set||(this.set=!0,this.timeout=setTimeout(this.run,t.delay)))}force(){this.set&&(this.lintTime=Date.now(),this.run())}destroy(){clearTimeout(this.timeout)}}),tg=zi.define({combine:e=>Object.assign({sources:e.map((e=>e.source))},Ir(e.map((e=>e.config)),{delay:750,markerFilter:null,tooltipFilter:null})),enables:eg});function ig(e){let t=[];if(e)e:for(let{name:i}of e){for(let e=0;e<i.length;e++){let r=i[e];if(/[a-zA-Z]/.test(r)&&!t.some((e=>e.toLowerCase()==r.toLowerCase()))){t.push(r);continue e}}t.push("")}return t}function rg(e,t,i){var r;let n=i?ig(t.actions):[];return Tp("li",{class:"cm-diagnostic cm-diagnostic-"+t.severity},Tp("span",{class:"cm-diagnosticText"},t.renderMessage?t.renderMessage():t.message),null===(r=t.actions)||void 0===r?void 0:r.map(((i,r)=>{let o=r=>{r.preventDefault();let n=Bm(e.state.field(jm).diagnostics,t);n&&i.apply(e,n.from,n.to)},{name:s}=i,a=n[r]?s.indexOf(n[r]):-1,l=a<0?s:[s.slice(0,a),Tp("u",s.slice(a,a+1)),s.slice(a+1)];return Tp("button",{type:"button",class:"cm-diagnosticAction",onclick:o,onmousedown:o,"aria-label":` Action: ${s}${a<0?"":` (access key "${n[r]})"`}.`},l)})),t.source&&Tp("div",{class:"cm-diagnosticSource"},t.source))}class ng extends ho{constructor(e){super(),this.diagnostic=e}eq(e){return e.diagnostic==this.diagnostic}toDOM(){return Tp("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class og{constructor(e,t){this.diagnostic=t,this.id="item_"+Math.floor(4294967295*Math.random()).toString(16),this.dom=rg(e,t,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class sg{constructor(e){this.view=e,this.items=[];this.list=Tp("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:t=>{if(27==t.keyCode)Jm(this.view),this.view.focus();else if(38==t.keyCode||33==t.keyCode)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(40==t.keyCode||34==t.keyCode)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(36==t.keyCode)this.moveSelection(0);else if(35==t.keyCode)this.moveSelection(this.items.length-1);else if(13==t.keyCode)this.view.focus();else{if(!(t.keyCode>=65&&t.keyCode<=90&&this.selectedIndex>=0))return;{let{diagnostic:i}=this.items[this.selectedIndex],r=ig(i.actions);for(let n=0;n<r.length;n++)if(r[n].toUpperCase().charCodeAt(0)==t.keyCode){let t=Bm(this.view.state.field(jm).diagnostics,i);t&&i.actions[n].apply(e,t.from,t.to)}}}t.preventDefault()},onclick:e=>{for(let t=0;t<this.items.length;t++)this.items[t].dom.contains(e.target)&&this.moveSelection(t)}}),this.dom=Tp("div",{class:"cm-panel-lint"},this.list,Tp("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>Jm(this.view)},"×")),this.update()}get selectedIndex(){let e=this.view.state.field(jm).selected;if(!e)return-1;for(let t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}update(){let{diagnostics:e,selected:t}=this.view.state.field(jm),i=0,r=!1,n=null;for(e.between(0,this.view.state.doc.length,((e,o,{spec:s})=>{let a,l=-1;for(let e=i;e<this.items.length;e++)if(this.items[e].diagnostic==s.diagnostic){l=e;break}l<0?(a=new og(this.view,s.diagnostic),this.items.splice(i,0,a),r=!0):(a=this.items[l],l>i&&(this.items.splice(i,l-i),r=!0)),t&&a.diagnostic==t.diagnostic?a.dom.hasAttribute("aria-selected")||(a.dom.setAttribute("aria-selected","true"),n=a):a.dom.hasAttribute("aria-selected")&&a.dom.removeAttribute("aria-selected"),i++}));i<this.items.length&&!(1==this.items.length&&this.items[0].diagnostic.from<0);)r=!0,this.items.pop();0==this.items.length&&(this.items.push(new og(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),r=!0),n?(this.list.setAttribute("aria-activedescendant",n.id),this.view.requestMeasure({key:this,read:()=>({sel:n.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:e,panel:t})=>{e.top<t.top?this.list.scrollTop-=t.top-e.top:e.bottom>t.bottom&&(this.list.scrollTop+=e.bottom-t.bottom)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),r&&this.sync()}sync(){let e=this.list.firstChild;function t(){let t=e;e=t.nextSibling,t.remove()}for(let i of this.items)if(i.dom.parentNode==this.list){for(;e!=i.dom;)t();e=i.dom.nextSibling}else this.list.insertBefore(i.dom,e);for(;e;)t()}moveSelection(e){if(this.selectedIndex<0)return;let t=Bm(this.view.state.field(jm).diagnostics,this.items[e].diagnostic);t&&this.view.dispatch({selection:{anchor:t.from,head:t.to},scrollIntoView:!0,effects:Xm.of(t)})}static open(e){return new sg(e)}}function ag(e,t='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${t}>${encodeURIComponent(e)}</svg>')`}function lg(e){return ag(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${e}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const ug=Ga.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:lg("#d11")},".cm-lintRange-warning":{backgroundImage:lg("orange")},".cm-lintRange-info":{backgroundImage:lg("#999")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});class cg extends jl{constructor(e){super(),this.diagnostics=e,this.severity=e.reduce(((e,t)=>{let i=t.severity;return"error"==i||"warning"==i&&"info"==e?i:e}),"info")}toDOM(e){let t=document.createElement("div");t.className="cm-lint-marker cm-lint-marker-"+this.severity;let i=this.diagnostics,r=e.state.facet(mg).tooltipFilter;return r&&(i=r(i)),i.length&&(t.onmouseover=()=>function(e,t,i){function r(){let r=e.elementAtHeight(t.getBoundingClientRect().top+5-e.documentTop);e.coordsAtPos(r.from)&&e.dispatch({effects:pg.of({pos:r.from,above:!1,create:()=>({dom:Ym(e,i),getCoords:()=>t.getBoundingClientRect()})})}),t.onmouseout=t.onmousemove=null,function(e,t){let i=r=>{let n=t.getBoundingClientRect();if(!(r.clientX>n.left-10&&r.clientX<n.right+10&&r.clientY>n.top-10&&r.clientY<n.bottom+10)){for(let e=r.target;e;e=e.parentNode)if(1==e.nodeType&&e.classList.contains("cm-tooltip-lint"))return;window.removeEventListener("mousemove",i),e.state.field(fg)&&e.dispatch({effects:pg.of(null)})}};window.addEventListener("mousemove",i)}(e,t)}let{hoverTime:n}=e.state.facet(mg),o=setTimeout(r,n);t.onmouseout=()=>{clearTimeout(o),t.onmouseout=t.onmousemove=null},t.onmousemove=()=>{clearTimeout(o),o=setTimeout(r,n)}}(e,t,i)),t}}function dg(e,t){let i=Object.create(null);for(let r of t){let t=e.lineAt(r.from);(i[t.from]||(i[t.from]=[])).push(r)}let r=[];for(let e in i)r.push(new cg(i[e]).range(+e));return Mr.of(r,!0)}Jl({class:"cm-gutter-lint",markers:e=>e.state.field(hg)});const hg=Zi.define({create:()=>Mr.empty,update(e,t){e=e.map(t.changes);let i=t.state.facet(mg).markerFilter;for(let r of t.effects)if(r.is(Um)){let n=r.value;i&&(n=i(n||[])),e=dg(t.state.doc,n.slice(0))}return e}}),pg=Sr.define(),fg=Zi.define({create:()=>null,update:(e,t)=>(e&&t.docChanged&&(e=zm(t,e)?null:Object.assign(Object.assign({},e),{pos:t.changes.mapPos(e.pos)})),t.effects.reduce(((e,t)=>t.is(pg)?t.value:e),e)),provide:e=>Al.from(e)});Ga.baseTheme({".cm-gutter-lint":{width:"1.4em","& .cm-gutterElement":{padding:".2em"}},".cm-lint-marker":{width:"1em",height:"1em"},".cm-lint-marker-info":{content:ag('<path fill="#aaf" stroke="#77e" stroke-width="6" stroke-linejoin="round" d="M5 5L35 5L35 35L5 35Z"/>')},".cm-lint-marker-warning":{content:ag('<path fill="#fe8" stroke="#fd7" stroke-width="6" stroke-linejoin="round" d="M20 6L37 35L3 35Z"/>')},".cm-lint-marker-error:before":{content:ag('<circle cx="20" cy="20" r="15" fill="#f87" stroke="#f43" stroke-width="6"/>')}});const mg=zi.define({combine:e=>Ir(e,{hoverTime:300,markerFilter:null,tooltipFilter:null})}),gg=[function(e={}){return[lu.of(e),eu(),du]}(),fu,function(e={}){return[Ol.of(e),bl||(bl=Lo.fromClass(class{constructor(e){this.view=e,this.decorations=fo.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(e.state.facet(Ol)),this.decorations=this.decorator.createDeco(e)}makeDecorator(e){return new hl({regexp:e.specialChars,decoration:(t,i,r)=>{let{doc:n}=i.state,o=Ci(t[0],0);if(9==o){let e=n.lineAt(r),t=i.state.tabSize,o=Hr(e.text,t,r-e.from);return fo.replace({widget:new yl((t-o%t)*this.view.defaultCharacterWidth)})}return this.decorationCache[o]||(this.decorationCache[o]=fo.replace({widget:new Sl(e,o)}))},boundary:e.replaceTabs?void 0:/[^]/})}update(e){let t=e.state.facet(Ol);e.startState.facet(Ol)!=t?(this.decorator=this.makeDecorator(t),this.decorations=this.decorator.createDeco(e.view)):this.decorations=this.decorator.updateDeco(e,this.decorations)}},{decorations:e=>e.decorations}))]}(),function(e={}){return[ah,sh.of(e),Ga.domEventHandlers({beforeinput(e,t){let i="historyUndo"==e.inputType?uh:"historyRedo"==e.inputType?ch:null;return!!i&&(e.preventDefault(),i(t))}})]}(),function(e={}){let t=Object.assign(Object.assign({},Cd),e),i=new Td(t,!0),r=new Td(t,!1),n=Lo.fromClass(class{constructor(e){this.from=e.viewport.from,this.markers=this.buildMarkers(e)}update(e){(e.docChanged||e.viewportChanged||e.startState.facet(Uc)!=e.state.facet(Uc)||e.startState.field(gd,!1)!=e.state.field(gd,!1)||_c(e.startState)!=_c(e.state))&&(this.markers=this.buildMarkers(e.view))}buildMarkers(e){let t=new Lr;for(let n of e.viewportLineBlocks){let o=Od(e.state,n.from,n.to)?r:dd(e.state,n.from,n.to)?i:null;o&&t.add(n.from,n.from,o)}return t.finish()}}),{domEventHandlers:o}=t;return[n,Jl({class:"cm-foldGutter",markers(e){var t;return(null===(t=e.plugin(n))||void 0===t?void 0:t.markers)||Mr.empty},initialSpacer:()=>new Td(t,!1),domEventHandlers:Object.assign(Object.assign({},o),{click:(e,t,i)=>{if(o.click&&o.click(e,t,i))return!0;let r=Od(e.state,t.from,t.to);if(r)return e.dispatch({effects:fd.of(r)}),!0;let n=dd(e.state,t.from,t.to);return!!n&&(e.dispatch({effects:pd.of(n)}),!0)}})}),kd()]}(),function(e={}){return[Ka.of(e),tl,rl]}(),[ul,cl],Rr.allowMultipleSelections.of(!0),Rr.transactionFilter.of((e=>{if(!e.docChanged||!e.isUserEvent("input.type")&&!e.isUserEvent("input.complete"))return e;let t=e.startState.languageDataAt("indentOnInput",e.startState.selection.main.head);if(!t.length)return e;let i=e.newDoc,{head:r}=e.newSelection.main,n=i.lineAt(r);if(r>n.from+200)return e;let o=i.sliceString(n.from,r);if(!t.some((e=>e.test(o))))return e;let{state:s}=e,a=-1,l=[];for(let{head:e}of s.selection.ranges){let t=s.doc.lineAt(e);if(t.from==a)continue;a=t.from;let i=Yc(s,t.from);if(null==i)continue;let r=/^\s*/.exec(t.text)[0],n=Zc(s,i);r!=n&&l.push({from:t.from,to:t.from+r.length,insert:n})}return l.length?[e,{changes:l,sequential:!0}]:e})),function(e,t){let i,r=[Ed];return e instanceof Pd&&(e.module&&r.push(Ga.styleModule.of(e.module)),i=e.themeType),(null==t?void 0:t.fallback)?r.push(Rd.of(e)):i?r.push(Qd.computeN([Ga.darkTheme],(t=>t.facet(Ga.darkTheme)==("dark"==i)?[e]:[]))):r.push(Qd.of(e)),r}(Dd,{fallback:!0}),function(e={}){return[Md.of(e),Wd]}(),[Qm,Vm],function(e={}){return[Kf,_f.of(e),im,Gm,rm]}(),function(e){let t=(null==e?void 0:e.eventFilter)||(e=>e.altKey&&0==e.button);return Ga.mouseSelectionStyle.of(((e,i)=>t(i)?Vl(e,i):null))}(),function(e={}){let[t,i]=Cl[e.key||"Alt"],r=Lo.fromClass(class{constructor(e){this.view=e,this.isDown=!1}set(e){this.isDown!=e&&(this.isDown=e,this.view.update([]))}},{eventHandlers:{keydown(e){this.set(e.keyCode==t||i(e))},keyup(e){e.keyCode!=t&&i(e)||this.set(!1)}}});return[r,Ga.contentAttributes.of((e=>{var t;return(null===(t=e.plugin(r))||void 0===t?void 0:t.isDown)?Tl:null}))]}(),wl,function(e){let t=[Xp,qp];return e&&t.push(Bp.of(e)),t}(),Xa.of([...Rm,...Vp,...Sf,...xh,...vd,...Lm,...Km])];class Og{constructor(e,t,i,r,n,o,s,a,l,u=0,c){this.p=e,this.stack=t,this.state=i,this.reducePos=r,this.pos=n,this.score=o,this.buffer=s,this.bufferBase=a,this.curContext=l,this.lookAhead=u,this.parent=c}toString(){return`[${this.stack.filter(((e,t)=>t%3==0)).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,t,i=0){let r=e.parser.context;return new Og(e,[],t,i,i,0,[],0,r?new bg(r,r.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){let t=e>>19,i=65535&e,{parser:r}=this.p,n=r.dynamicPrecedence(i);if(n&&(this.score+=n),0==t)return this.pushState(r.getGoto(this.state,i,!0),this.reducePos),i<r.minRepeatTerm&&this.storeNode(i,this.reducePos,this.reducePos,4,!0),void this.reduceContext(i,this.reducePos);let o=this.stack.length-3*(t-1)-(262144&e?6:0),s=this.stack[o-2],a=this.stack[o-1],l=this.bufferBase+this.buffer.length-a;if(i<r.minRepeatTerm||131072&e){let e=r.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(i,s,e,l+4,!0)}if(262144&e)this.state=this.stack[o];else{let e=this.stack[o-3];this.state=r.getGoto(e,i,!0)}for(;this.stack.length>o;)this.stack.pop();this.reduceContext(i,s)}storeNode(e,t,i,r=4,n=!1){if(0==e&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let e=this,r=this.buffer.length;if(0==r&&e.parent&&(r=e.bufferBase-e.parent.bufferBase,e=e.parent),r>0&&0==e.buffer[r-4]&&e.buffer[r-1]>-1){if(t==i)return;if(e.buffer[r-2]>=t)return void(e.buffer[r-2]=i)}}if(n&&this.pos!=i){let n=this.buffer.length;if(n>0&&0!=this.buffer[n-4])for(;n>0&&this.buffer[n-2]>i;)this.buffer[n]=this.buffer[n-4],this.buffer[n+1]=this.buffer[n-3],this.buffer[n+2]=this.buffer[n-2],this.buffer[n+3]=this.buffer[n-1],n-=4,r>4&&(r-=4);this.buffer[n]=e,this.buffer[n+1]=t,this.buffer[n+2]=i,this.buffer[n+3]=r}else this.buffer.push(e,t,i,r)}shift(e,t,i){let r=this.pos;if(131072&e)this.pushState(65535&e,this.pos);else if(0==(262144&e)){let n=e,{parser:o}=this.p;(i>this.pos||t<=o.maxNode)&&(this.pos=i,o.stateFlag(n,1)||(this.reducePos=i)),this.pushState(n,r),this.shiftContext(t,r),t<=o.maxNode&&this.buffer.push(t,r,i,4)}else this.pos=i,this.shiftContext(t,r),t<=this.p.parser.maxNode&&this.buffer.push(t,r,i,4)}apply(e,t,i){65536&e?this.reduce(e):this.shift(e,t,i)}useNode(e,t){let i=this.p.reused.length-1;(i<0||this.p.reused[i]!=e)&&(this.p.reused.push(e),i++);let r=this.pos;this.reducePos=this.pos=r+e.length,this.pushState(t,r),this.buffer.push(i,r,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let i=e.buffer.slice(t),r=e.bufferBase+t;for(;e&&r==e.bufferBase;)e=e.parent;return new Og(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,i,r,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let i=e<=this.p.parser.maxNode;i&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,i?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new yg(this);;){let i=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(0==(65536&i))return!0;if(0==i)return!1;t.reduce(i)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){let i=[];for(let r,n=0;n<t.length;n+=2)(r=t[n+1])!=this.state&&this.p.parser.hasAction(r,e)&&i.push(t[n],r);if(this.stack.length<120)for(let e=0;i.length<8&&e<t.length;e+=2){let r=t[e+1];i.some(((e,t)=>1&t&&e==r))||i.push(t[e],r)}t=i}let i=[];for(let e=0;e<t.length&&i.length<4;e+=2){let r=t[e+1];if(r==this.state)continue;let n=this.split();n.pushState(r,this.pos),n.storeNode(0,n.pos,n.pos,4,!0),n.shiftContext(t[e],this.pos),n.score-=200,i.push(n)}return i}forceReduce(){let e=this.p.parser.stateSlot(this.state,5);if(0==(65536&e))return!1;let{parser:t}=this.p;if(!t.validAction(this.state,e)){let i=e>>19,r=65535&e,n=this.stack.length-3*i;if(n<0||t.getGoto(this.stack[n],r,!1)<0)return!1;this.storeNode(0,this.reducePos,this.reducePos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(e),!0}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(3!=this.stack.length)return!1;let{parser:e}=this.p;return 65535==e.data[e.stateSlot(this.state,1)]&&!e.stateSlot(this.state,4)}restart(){this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||-3!=this.buffer[e])&&this.buffer.push(this.curContext.hash,this.reducePos,this.reducePos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||-4!=this.buffer[e])&&this.buffer.push(this.lookAhead,this.reducePos,this.reducePos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new bg(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class bg{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}}var Sg;!function(e){e[e.Insert=200]="Insert",e[e.Delete=190]="Delete",e[e.Reduce=100]="Reduce",e[e.MaxNext=4]="MaxNext",e[e.MaxInsertStackDepth=300]="MaxInsertStackDepth",e[e.DampenInsertStackDepth=120]="DampenInsertStackDepth"}(Sg||(Sg={}));class yg{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=65535&e,i=e>>19;0==i?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=3*(i-1);let r=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=r}}class vg{constructor(e,t,i){this.stack=e,this.pos=t,this.index=i,this.buffer=e.buffer,0==this.index&&this.maybeNext()}static create(e,t=e.bufferBase+e.buffer.length){return new vg(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;null!=e&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,0==this.index&&this.maybeNext()}fork(){return new vg(this.stack,this.pos,this.index)}}class wg{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const xg=new wg;class kg{constructor(e,t){this.input=e,this.ranges=t,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=xg,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let i=this.range,r=this.rangeIndex,n=this.pos+e;for(;n<i.from;){if(!r)return null;let e=this.ranges[--r];n-=i.from-e.to,i=e}for(;t<0?n>i.to:n>=i.to;){if(r==this.ranges.length-1)return null;let e=this.ranges[++r];n+=e.from-i.to,i=e}return n}peek(e){let t,i,r=this.chunkOff+e;if(r>=0&&r<this.chunk.length)t=this.pos+e,i=this.chunk.charCodeAt(r);else{let r=this.resolveOffset(e,1);if(null==r)return-1;if(t=r,t>=this.chunk2Pos&&t<this.chunk2Pos+this.chunk2.length)i=this.chunk2.charCodeAt(t-this.chunk2Pos);else{let e=this.rangeIndex,r=this.range;for(;r.to<=t;)r=this.ranges[++e];this.chunk2=this.input.chunk(this.chunk2Pos=t),t+this.chunk2.length>r.to&&(this.chunk2=this.chunk2.slice(0,r.to-t)),i=this.chunk2.charCodeAt(0)}}return t>=this.token.lookAhead&&(this.token.lookAhead=t+1),i}acceptToken(e,t=0){let i=t?this.resolveOffset(t,-1):this.pos;if(null==i||i<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=i}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),t=this.pos+e.length;this.chunk=t>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=xg,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let i="";for(let r of this.ranges){if(r.from>=t)break;r.to>e&&(i+=this.input.read(Math.max(r.from,e),Math.min(r.to,t)))}return i}}class Vg{constructor(e,t){this.data=e,this.id=t}token(e,t){!function(e,t,i,r){let n=0,o=1<<r,{parser:s}=i.p,{dialect:a}=s;e:for(;0!=(o&e[n]);){let i=e[n+1];for(let r=n+3;r<i;r+=2)if((e[r+1]&o)>0){let i=e[r];if(a.allows(i)&&(-1==t.token.value||t.token.value==i||s.overrides(i,t.token.value))){t.acceptToken(i);break}}for(let r=t.next,o=0,s=e[n+2];o<s;){let a=o+s>>1,l=i+a+(a<<1),u=e[l],c=e[l+1];if(r<u)s=a;else{if(!(r>=c)){n=e[l+2],t.advance();continue e}o=a+1}}break}}(this.data,e,t,this.id)}}Vg.prototype.contextual=Vg.prototype.fallback=Vg.prototype.extend=!1;class Cg{constructor(e,t={}){this.token=e,this.contextual=!!t.contextual,this.fallback=!!t.fallback,this.extend=!!t.extend}}function Tg(e,t=Uint16Array){if("string"!=typeof e)return e;let i=null;for(let r=0,n=0;r<e.length;){let o=0;for(;;){let t=e.charCodeAt(r++),i=!1;if(126==t){o=65535;break}t>=92&&t--,t>=34&&t--;let n=t-32;if(n>=46&&(n-=46,i=!0),o+=n,i)break;o*=46}i?i[n++]=o:i=new t(o)}return i}const $g="undefined"!=typeof process&&process.env&&/\bparse\b/.test(process.env.LOG);let Pg=null;var Qg,Rg;function Ig(e,t,i){let r=e.cursor(Vu.IncludeAnonymous);for(r.moveTo(t);;)if(!(i<0?r.childBefore(t):r.childAfter(t)))for(;;){if((i<0?r.to<t:r.from>t)&&!r.type.isError)return i<0?Math.max(0,Math.min(r.to-1,t-25)):Math.min(e.length,Math.max(r.from+1,t+25));if(i<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return i<0?0:e.length}}!function(e){e[e.Margin=25]="Margin"}(Qg||(Qg={}));class Eg{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?Ig(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?Ig(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let i=this.trees[t],r=this.index[t];if(r==i.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let n=i.children[r],o=this.start[t]+i.positions[r];if(o>e)return this.nextStart=o,null;if(n instanceof Cu){if(o==e){if(o<this.safeFrom)return null;let e=o+n.length;if(e<=this.safeTo){let t=n.prop(bu.lookAhead);if(!t||e+t<this.fragment.to)return n}}this.index[t]++,o+n.length>=Math.max(this.safeFrom,e)&&(this.trees.push(n),this.start.push(o),this.index.push(0))}else this.index[t]++,this.nextStart=o+n.length}}}class Dg{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map((e=>new wg))}getActions(e){let t=0,i=null,{parser:r}=e.p,{tokenizers:n}=r,o=r.stateSlot(e.state,3),s=e.curContext?e.curContext.hash:0,a=0;for(let r=0;r<n.length;r++){if(0==(1<<r&o))continue;let l=n[r],u=this.tokens[r];if((!i||l.fallback)&&((l.contextual||u.start!=e.pos||u.mask!=o||u.context!=s)&&(this.updateCachedToken(u,l,e),u.mask=o,u.context=s),u.lookAhead>u.end+25&&(a=Math.max(u.lookAhead,a)),0!=u.value)){let r=t;if(u.extended>-1&&(t=this.addActions(e,u.extended,u.end,t)),t=this.addActions(e,u.value,u.end,t),!l.extend&&(i=u,t>r))break}}for(;this.actions.length>t;)this.actions.pop();return a&&e.setLookAhead(a),i||e.pos!=this.stream.end||(i=new wg,i.value=e.p.parser.eofTerm,i.start=i.end=e.pos,t=this.addActions(e,i.value,i.end,t)),this.mainToken=i,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new wg,{pos:i,p:r}=e;return t.start=i,t.end=Math.min(i+1,r.stream.end),t.value=i==r.stream.end?r.parser.eofTerm:0,t}updateCachedToken(e,t,i){if(t.token(this.stream.reset(i.pos,e),i),e.value>-1){let{parser:t}=i.p;for(let r=0;r<t.specialized.length;r++)if(t.specialized[r]==e.value){let n=t.specializers[r](this.stream.read(e.start,e.end),i);if(n>=0&&i.p.parser.dialect.allows(n>>1)){0==(1&n)?e.value=n>>1:e.extended=n>>1;break}}}else e.value=0,e.end=Math.min(i.p.stream.end,i.pos+1)}putAction(e,t,i,r){for(let t=0;t<r;t+=3)if(this.actions[t]==e)return r;return this.actions[r++]=e,this.actions[r++]=t,this.actions[r++]=i,r}addActions(e,t,i,r){let{state:n}=e,{parser:o}=e.p,{data:s}=o;for(let e=0;e<2;e++)for(let a=o.stateSlot(n,e?2:1);;a+=3){if(65535==s[a]){if(1!=s[a+1]){0==r&&2==s[a+1]&&(r=this.putAction(Wg(s,a+2),t,i,r));break}a=Wg(s,a+2)}s[a]==t&&(r=this.putAction(Wg(s,a+1),t,i,r))}return r}}!function(e){e[e.Distance=5]="Distance",e[e.MaxRemainingPerStep=3]="MaxRemainingPerStep",e[e.MinBufferLengthPrune=500]="MinBufferLengthPrune",e[e.ForceReduceLimit=10]="ForceReduceLimit",e[e.CutDepth=15e3]="CutDepth",e[e.CutTo=9e3]="CutTo"}(Rg||(Rg={}));class Ag{constructor(e,t,i,r){this.parser=e,this.input=t,this.ranges=r,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.stream=new kg(t,r),this.tokens=new Dg(e,this.stream),this.topTerm=e.top[1];let{from:n}=r[0];this.stacks=[Og.start(this,e.top[0],n)],this.fragments=i.length&&this.stream.end-n>4*e.bufferLength?new Eg(i,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e,t,i=this.stacks,r=this.minStackPos,n=this.stacks=[];for(let o=0;o<i.length;o++){let s=i[o];for(;;){if(this.tokens.mainToken=null,s.pos>r)n.push(s);else{if(this.advanceStack(s,n,i))continue;{e||(e=[],t=[]),e.push(s);let i=this.tokens.getMainToken(s);t.push(i.value,i.end)}}break}}if(!n.length){let t=e&&function(e){let t=null;for(let i of e){let e=i.p.stoppedAt;(i.pos==i.p.stream.end||null!=e&&i.pos>e)&&i.p.parser.stateFlag(i.state,2)&&(!t||t.score<i.score)&&(t=i)}return t}(e);if(t)return this.stackToTree(t);if(this.parser.strict)throw $g&&e&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+r);this.recovering||(this.recovering=5)}if(this.recovering&&e){let i=null!=this.stoppedAt&&e[0].pos>this.stoppedAt?e[0]:this.runRecovery(e,t,n);if(i)return this.stackToTree(i.forceAll())}if(this.recovering){let e=1==this.recovering?1:3*this.recovering;if(n.length>e)for(n.sort(((e,t)=>t.score-e.score));n.length>e;)n.pop();n.some((e=>e.reducePos>r))&&this.recovering--}else if(n.length>1)e:for(let e=0;e<n.length-1;e++){let t=n[e];for(let i=e+1;i<n.length;i++){let r=n[i];if(t.sameState(r)||t.buffer.length>500&&r.buffer.length>500){if(!((t.score-r.score||t.buffer.length-r.buffer.length)>0)){n.splice(e--,1);continue e}n.splice(i--,1)}}}this.minStackPos=n[0].pos;for(let e=1;e<n.length;e++)n[e].pos<this.minStackPos&&(this.minStackPos=n[e].pos);return null}stopAt(e){if(null!=this.stoppedAt&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,t,i){let r=e.pos,{parser:n}=this,o=$g?this.stackID(e)+" -> ":"";if(null!=this.stoppedAt&&r>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let t=e.curContext&&e.curContext.tracker.strict,i=t?e.curContext.hash:0;for(let s=this.fragments.nodeAt(r);s;){let r=this.parser.nodeSet.types[s.type.id]==s.type?n.getGoto(e.state,s.type.id):-1;if(r>-1&&s.length&&(!t||(s.prop(bu.contextHash)||0)==i))return e.useNode(s,r),$g&&console.log(o+this.stackID(e)+` (via reuse of ${n.getName(s.type.id)})`),!0;if(!(s instanceof Cu)||0==s.children.length||s.positions[0]>0)break;let a=s.children[0];if(!(a instanceof Cu&&0==s.positions[0]))break;s=a}}let s=n.stateSlot(e.state,4);if(s>0)return e.reduce(s),$g&&console.log(o+this.stackID(e)+` (via always-reduce ${n.getName(65535&s)})`),!0;if(e.stack.length>=15e3)for(;e.stack.length>9e3&&e.forceReduce(););let a=this.tokens.getActions(e);for(let s=0;s<a.length;){let l=a[s++],u=a[s++],c=a[s++],d=s==a.length||!i,h=d?e:e.split();if(h.apply(l,u,c),$g&&console.log(o+this.stackID(h)+` (via ${0==(65536&l)?"shift":`reduce of ${n.getName(65535&l)}`} for ${n.getName(u)} @ ${r}${h==e?"":", split"})`),d)return!0;h.pos>r?t.push(h):i.push(h)}return!1}advanceFully(e,t){let i=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>i)return _g(e,t),!0}}runRecovery(e,t,i){let r=null,n=!1;for(let o=0;o<e.length;o++){let s=e[o],a=t[o<<1],l=t[1+(o<<1)],u=$g?this.stackID(s)+" -> ":"";if(s.deadEnd){if(n)continue;if(n=!0,s.restart(),$g&&console.log(u+this.stackID(s)+" (restarted)"),this.advanceFully(s,i))continue}let c=s.split(),d=u;for(let e=0;c.forceReduce()&&e<10;e++){if($g&&console.log(d+this.stackID(c)+" (via force-reduce)"),this.advanceFully(c,i))break;$g&&(d=this.stackID(c)+" -> ")}for(let e of s.recoverByInsert(a))$g&&console.log(u+this.stackID(e)+" (via recover-insert)"),this.advanceFully(e,i);this.stream.end>s.pos?(l==s.pos&&(l++,a=0),s.recoverByDelete(a,l),$g&&console.log(u+this.stackID(s)+` (via recover-delete ${this.parser.getName(a)})`),_g(s,i)):(!r||r.score<s.score)&&(r=s)}return r}stackToTree(e){return e.close(),Cu.build({buffer:vg.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=(Pg||(Pg=new WeakMap)).get(e);return t||Pg.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function _g(e,t){for(let i=0;i<t.length;i++){let r=t[i];if(r.pos==e.pos&&r.sameState(e))return void(t[i].score<e.score&&(t[i]=e))}t.push(e)}class Mg{constructor(e,t,i){this.source=e,this.flags=t,this.disabled=i}allows(e){return!this.disabled||0==this.disabled[e]}}const Lg=e=>e;class Gg{constructor(e){this.start=e.start,this.shift=e.shift||Lg,this.reduce=e.reduce||Lg,this.reuse=e.reuse||Lg,this.hash=e.hash||(()=>0),this.strict=!1!==e.strict}}class Ng extends zu{constructor(e){if(super(),this.wrappers=[],14!=e.version)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let t=e.nodeNames.split(" ");this.minRepeatTerm=t.length;for(let i=0;i<e.repeatNodeCount;i++)t.push("");let i=Object.keys(e.topRules).map((t=>e.topRules[t][1])),r=[];for(let e=0;e<t.length;e++)r.push([]);function n(e,t,i){r[e].push([t,t.deserialize(String(i))])}if(e.nodeProps)for(let t of e.nodeProps){let e=t[0];"string"==typeof e&&(e=bu[e]);for(let i=1;i<t.length;){let r=t[i++];if(r>=0)n(r,e,t[i++]);else{let o=t[i+-r];for(let s=-r;s>0;s--)n(t[i++],e,o);i++}}}this.nodeSet=new wu(t.map(((t,n)=>vu.define({name:n>=this.minRepeatTerm?void 0:t,id:n,props:r[n],top:i.indexOf(n)>-1,error:0==n,skipped:e.skippedNodes&&e.skippedNodes.indexOf(n)>-1})))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=mu;let o=Tg(e.tokenData);if(this.context=e.context,this.specialized=new Uint16Array(e.specialized?e.specialized.length:0),this.specializers=[],e.specialized)for(let t=0;t<e.specialized.length;t++)this.specialized[t]=e.specialized[t].term,this.specializers[t]=e.specialized[t].get;this.states=Tg(e.states,Uint32Array),this.data=Tg(e.stateData),this.goto=Tg(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map((e=>"number"==typeof e?new Vg(o,e):e)),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,i){let r=new Ag(this,e,t,i);for(let n of this.wrappers)r=n(r,e,t,i);return r}getGoto(e,t,i=!1){let r=this.goto;if(t>=r[0])return-1;for(let n=r[t+1];;){let t=r[n++],o=1&t,s=r[n++];if(o&&i)return s;for(let i=n+(t>>1);n<i;n++)if(r[n]==e)return s;if(o)return-1}}hasAction(e,t){let i=this.data;for(let r=0;r<2;r++)for(let n,o=this.stateSlot(e,r?2:1);;o+=3){if(65535==(n=i[o])){if(1!=i[o+1]){if(2==i[o+1])return Wg(i,o+2);break}n=i[o=Wg(i,o+2)]}if(n==t||0==n)return Wg(i,o+1)}return 0}stateSlot(e,t){return this.states[6*e+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){if(t==this.stateSlot(e,4))return!0;for(let i=this.stateSlot(e,1);;i+=3){if(65535==this.data[i]){if(1!=this.data[i+1])return!1;i=Wg(this.data,i+2)}if(t==Wg(this.data,i+1))return!0}}nextStates(e){let t=[];for(let i=this.stateSlot(e,1);;i+=3){if(65535==this.data[i]){if(1!=this.data[i+1])break;i=Wg(this.data,i+2)}if(0==(1&this.data[i+2])){let e=this.data[i+1];t.some(((t,i)=>1&i&&t==e))||t.push(this.data[i],e)}}return t}overrides(e,t){let i=Bg(this.data,this.tokenPrecTable,t);return i<0||Bg(this.data,this.tokenPrecTable,e)<i}configure(e){let t=Object.assign(Object.create(Ng.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let i=this.topRules[e.top];if(!i)throw new RangeError(`Invalid top rule name ${e.top}`);t.top=i}return e.tokenizers&&(t.tokenizers=this.tokenizers.map((t=>{let i=e.tokenizers.find((e=>e.from==t));return i?i.to:t}))),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),null!=e.strict&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),null!=e.bufferLength&&(t.bufferLength=e.bufferLength),t}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return null==t?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),i=t.map((()=>!1));if(e)for(let r of e.split(" ")){let e=t.indexOf(r);e>=0&&(i[e]=!0)}let r=null;for(let e=0;e<t.length;e++)if(!i[e])for(let i,n=this.dialects[t[e]];65535!=(i=this.data[n++]);)(r||(r=new Uint8Array(this.maxTerm+1)))[i]=1;return new Mg(e,i,r)}static deserialize(e){return new Ng(e)}}function Wg(e,t){return e[t]|e[t+1]<<16}function Bg(e,t,i){for(let r,n=t;65535!=(r=e[n]);n++)if(r==i)return n-t;return-1}const zg=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288];function Fg(e){return e>=65&&e<=90||e>=97&&e<=122||e>=161}const Ug=new Cg(((e,t)=>{for(let r=!1,n=0,o=0;;o++){let{next:s}=e;if(!(Fg(s)||45==s||95==s||r&&(i=s,i>=48&&i<=57))){r&&e.acceptToken(40==s?94:2==n&&t.canShift(2)?2:95);break}!r&&(45!=s||o>0)&&(r=!0),n===o&&45==s&&n++,e.advance()}var i})),qg=new Cg((e=>{if(zg.includes(e.peek(-1))){let{next:t}=e;(Fg(t)||95==t||35==t||46==t||91==t||58==t||45==t)&&e.acceptToken(93)}})),Xg=new Cg((e=>{if(!zg.includes(e.peek(-1))){let{next:t}=e;if(37==t&&(e.advance(),e.acceptToken(1)),Fg(t)){do{e.advance()}while(Fg(e.next));e.acceptToken(1)}}})),jg=lc({"import charset namespace keyframes":Qc.definitionKeyword,"media supports":Qc.controlKeyword,"from to selector":Qc.keyword,NamespaceName:Qc.namespace,KeyframeName:Qc.labelName,TagName:Qc.tagName,ClassName:Qc.className,PseudoClassName:Qc.constant(Qc.className),IdName:Qc.labelName,"FeatureName PropertyName":Qc.propertyName,AttributeName:Qc.attributeName,NumberLiteral:Qc.number,KeywordQuery:Qc.keyword,UnaryQueryOp:Qc.operatorKeyword,"CallTag ValueName":Qc.atom,VariableName:Qc.variableName,Callee:Qc.operatorKeyword,Unit:Qc.unit,"UniversalSelector NestingSelector":Qc.definitionOperator,AtKeyword:Qc.keyword,MatchOp:Qc.compareOperator,"ChildOp SiblingOp, LogicOp":Qc.logicOperator,BinOp:Qc.arithmeticOperator,Important:Qc.modifier,Comment:Qc.blockComment,ParenthesizedContent:Qc.special(Qc.name),ColorLiteral:Qc.color,StringLiteral:Qc.string,":":Qc.punctuation,"PseudoOp #":Qc.derefOperator,"; ,":Qc.separator,"( )":Qc.paren,"[ ]":Qc.squareBracket,"{ }":Qc.brace}),Hg={__proto__:null,lang:32,"nth-child":32,"nth-last-child":32,"nth-of-type":32,dir:32,url:60,"url-prefix":60,domain:60,regexp:60,selector:134},Zg={__proto__:null,"@import":114,"@media":138,"@charset":142,"@namespace":146,"@keyframes":152,"@supports":164},Yg={__proto__:null,not:128,only:128,from:158,to:160},Jg=Ng.deserialize({version:14,states:"7WOYQ[OOOOQP'#Cd'#CdOOQP'#Cc'#CcO!ZQ[O'#CfO!}QXO'#CaO#UQ[O'#ChO#aQ[O'#DPO#fQ[O'#DTOOQP'#Ec'#EcO#kQdO'#DeO$VQ[O'#DrO#kQdO'#DtO$hQ[O'#DvO$sQ[O'#DyO$xQ[O'#EPO%WQ[O'#EROOQS'#Eb'#EbOOQS'#ES'#ESQYQ[OOOOQP'#Cg'#CgOOQP,59Q,59QO!ZQ[O,59QO%_Q[O'#EVO%yQWO,58{O&RQ[O,59SO#aQ[O,59kO#fQ[O,59oO%_Q[O,59sO%_Q[O,59uO%_Q[O,59vO'bQ[O'#D`OOQS,58{,58{OOQP'#Ck'#CkOOQO'#C}'#C}OOQP,59S,59SO'iQWO,59SO'nQWO,59SOOQP'#DR'#DROOQP,59k,59kOOQO'#DV'#DVO'sQ`O,59oOOQS'#Cp'#CpO#kQdO'#CqO'{QvO'#CsO)VQtO,5:POOQO'#Cx'#CxO'iQWO'#CwO)kQWO'#CyOOQS'#Ef'#EfOOQO'#Dh'#DhO)pQ[O'#DoO*OQWO'#EiO$xQ[O'#DmO*^QWO'#DpOOQO'#Ej'#EjO%|QWO,5:^O*cQpO,5:`OOQS'#Dx'#DxO*kQWO,5:bO*pQ[O,5:bOOQO'#D{'#D{O*xQWO,5:eO*}QWO,5:kO+VQWO,5:mOOQS-E8Q-E8QOOQP1G.l1G.lO+yQXO,5:qOOQO-E8T-E8TOOQS1G.g1G.gOOQP1G.n1G.nO'iQWO1G.nO'nQWO1G.nOOQP1G/V1G/VO,WQ`O1G/ZO,qQXO1G/_O-XQXO1G/aO-oQXO1G/bO.VQXO'#CdO.zQWO'#DaOOQS,59z,59zO/PQWO,59zO/XQ[O,59zO/`QdO'#CoO/gQ[O'#DOOOQP1G/Z1G/ZO#kQdO1G/ZO/nQpO,59]OOQS,59_,59_O#kQdO,59aO/vQWO1G/kOOQS,59c,59cO/{Q!bO,59eO0TQWO'#DhO0`QWO,5:TO0eQWO,5:ZO$xQ[O,5:VO$xQ[O'#EYO0mQWO,5;TO0xQWO,5:XO%_Q[O,5:[OOQS1G/x1G/xOOQS1G/z1G/zOOQS1G/|1G/|O1ZQWO1G/|O1`QdO'#D|OOQS1G0P1G0POOQS1G0V1G0VOOQS1G0X1G0XOOQP7+$Y7+$YOOQP7+$u7+$uO#kQdO7+$uO#kQdO,59{O1nQ[O'#EXO1xQWO1G/fOOQS1G/f1G/fO1xQWO1G/fO2QQtO'#ETO2uQdO'#EeO3PQWO,59ZO3UQXO'#EhO3]QWO,59jO3bQpO7+$uOOQS1G.w1G.wOOQS1G.{1G.{OOQS7+%V7+%VO3jQWO1G/PO#kQdO1G/oOOQO1G/u1G/uOOQO1G/q1G/qO3oQWO,5:tOOQO-E8W-E8WO3}QXO1G/vOOQS7+%h7+%hO4UQYO'#CsO%|QWO'#EZO4^QdO,5:hOOQS,5:h,5:hO4lQpO<<HaO4tQtO1G/gOOQO,5:s,5:sO5XQ[O,5:sOOQO-E8V-E8VOOQS7+%Q7+%QO5cQWO7+%QOOQS-E8R-E8RO#kQdO'#EUO5kQWO,5;POOQT1G.u1G.uO5sQWO,5;SOOQP1G/U1G/UOOQP<<Ha<<HaOOQS7+$k7+$kO5{QdO7+%ZOOQO7+%b7+%bOOQS,5:u,5:uOOQS-E8X-E8XOOQS1G0S1G0SOOQPAN={AN={O6SQtO'#EWO#kQdO'#EWO6}QdO7+%ROOQO7+%R7+%ROOQO1G0_1G0_OOQS<<Hl<<HlO7_QdO,5:pOOQO-E8S-E8SOOQO<<Hu<<HuO7iQtO,5:rOOQS-E8U-E8UOOQO<<Hm<<Hm",stateData:"8j~O#TOSROS~OUWOXWO]TO^TOtUOxVO!Y_O!ZXO!gYO!iZO!k[O!n]O!t^O#RPO#WRO~O#RcO~O]hO^hOpfOtiOxjO|kO!PmO#PlO#WeO~O!RnO~P!`O`sO#QqO#RpO~O#RuO~O#RwO~OQ!QObzOf!QOh!QOn!PO#Q}O#RyO#Z{O~Ob!SO!b!UO!e!VO#R!RO!R#]P~Oh![On!PO#R!ZO~O#R!^O~Ob!SO!b!UO!e!VO#R!RO~O!W#]P~P$VOUWOXWO]TO^TOtUOxVO#RPO#WRO~OpfO!RnO~O`!hO#QqO#RpO~OQ!pOUWOXWO]TO^TOtUOxVO!Y_O!ZXO!gYO!iZO!k[O!n]O!t^O#R!oO#WRO~O!Q!qO~P&^Ob!tO~Ob!uO~Ov!vOz!wO~OP!yObgXjgX!WgX!bgX!egX#RgXagXQgXfgXhgXngXpgX#QgX#ZgXvgX!QgX!VgX~Ob!SOj!zO!b!UO!e!VO#R!RO!W#]P~Ob!}O~Ob!SO!b!UO!e!VO#R#OO~Op#SO!`#RO!R#]X!W#]X~Ob#VO~Oj!zO!W#XO~O!W#YO~Oh#ZOn!PO~O!R#[O~O!RnO!`#RO~O!RnO!W#_O~O]hO^hOtiOxjO|kO!PmO#PlO#WeO~Op!ya!R!yaa!ya~P+_Ov#aOz#bO~O]hO^hOtiOxjO#WeO~Op{i|{i!P{i!R{i#P{ia{i~P,`Op}i|}i!P}i!R}i#P}ia}i~P,`Op!Oi|!Oi!P!Oi!R!Oi#P!Oia!Oi~P,`O]WX]!UX^WXpWXtWXxWX|WX!PWX!RWX#PWX#WWX~O]#cO~O!Q#fO!W#dO~O!Q#fO~P&^Oa#XP~P#kOa#[P~P%_Oa#nOj!zO~O!W#pO~Oh#qOo#qO~O]!^Xa![X!`![X~O]#rO~Oa#sO!`#RO~Op#SO!R#]a!W#]a~O!`#ROp!aa!R!aa!W!aaa!aa~O!W#xO~O!Q#|O!q#zO!r#zO#Z#yO~O!Q!{X!W!{X~P&^O!Q$SO!W#dO~Oj!zOQ!wXa!wXb!wXf!wXh!wXn!wXp!wX#Q!wX#R!wX#Z!wX~Op$VOa#XX~P#kOa$XO~Oa#[X~P!`Oa$ZO~Oj!zOv$[O~Oa$]O~O!`#ROp!|a!R!|a!W!|a~Oa$_O~P+_OP!yO!RgX~O!Q$bO!q#zO!r#zO#Z#yO~Oj!zOv$cO~Oj!zOp$eO!V$gO!Q!Ti!W!Ti~P#kO!Q!{a!W!{a~P&^O!Q$iO!W#dO~Op$VOa#Xa~OpfOa#[a~Oa$lO~P#kOj!zOQ!zXb!zXf!zXh!zXn!zXp!zX!Q!zX!V!zX!W!zX#Q!zX#R!zX#Z!zX~Op$eO!V$oO!Q!Tq!W!Tq~P#kOa!xap!xa~P#kOj!zOQ!zab!zaf!zah!zan!zap!za!Q!za!V!za!W!za#Q!za#R!za#Z!za~Oo#Zj!Pj~",goto:",O#_PPPPP#`P#h#vP#h$U#hPP$[PPP$b$k$kP$}P$kP$k%e%wPPP&a&g#hP&mP#hP&sP#hP#h#hPPP&y']'iPP#`PP'o'o'y'oP'oP'o'oP#`P#`P#`P'|#`P(P(SPP#`P#`(V(e(s(y)T)Z)e)kPPPPPP)q)yP*e*hP+^+a+j]`Obn!s#d$QiWObfklmn!s!u#V#d$QiQObfklmn!s!u#V#d$QQdRR!ceQrTR!ghQ!gsQ!|!OR#`!hq!QXZz!t!w!z#b#c#i#r$O$V$^$e$f$jp!QXZz!t!w!z#b#c#i#r$O$V$^$e$f$jT#z#[#{q!OXZz!t!w!z#b#c#i#r$O$V$^$e$f$jp!QXZz!t!w!z#b#c#i#r$O$V$^$e$f$jQ![[R#Z!]QtTR!ihQ!gtR#`!iQvUR!jiQxVR!kjQoSQ!fgQ#W!XQ#^!`Q#_!aR$`#zQ!rnQ#g!sQ$P#dR$h$QX!pn!s#d$Qa!WY^_|!S!U#R#SR#P!SR!][R!_]R#]!_QbOU!bb!s$QQ!snR$Q#dQ#i!tU$U#i$^$jQ$^#rR$j$VQ$W#iR$k$WQgSS!eg$YR$Y#kQ$f$OR$n$fQ#e!rS$R#e$TR$T#gQ#T!TR#v#TQ#{#[R$a#{]aObn!s#d$Q[SObn!s#d$QQ!dfQ!lkQ!mlQ!nmQ#k!uR#w#VR#j!tQ|XQ!YZQ!xz[#h!t#i#r$V$^$jQ#m!wQ#o!zQ#}#bQ$O#cS$d$O$fR$m$eR#l!uQ!XYQ!a_R!{|U!TY_|Q!`^Q#Q!SQ#U!UQ#t#RR#u#S",nodeNames:"⚠ Unit VariableName Comment StyleSheet RuleSet UniversalSelector TagSelector TagName NestingSelector ClassSelector ClassName PseudoClassSelector : :: PseudoClassName PseudoClassName ) ( ArgList ValueName ParenthesizedValue ColorLiteral NumberLiteral StringLiteral BinaryExpression BinOp CallExpression Callee CallLiteral CallTag ParenthesizedContent , PseudoClassName ArgList IdSelector # IdName ] AttributeSelector [ AttributeName MatchOp ChildSelector ChildOp DescendantSelector SiblingSelector SiblingOp } { Block Declaration PropertyName Important ; ImportStatement AtKeyword import KeywordQuery FeatureQuery FeatureName BinaryQuery LogicOp UnaryQuery UnaryQueryOp ParenthesizedQuery SelectorQuery selector MediaStatement media CharsetStatement charset NamespaceStatement namespace NamespaceName KeyframesStatement keyframes KeyframeName KeyframeList from to SupportsStatement supports AtRule",maxTerm:106,nodeProps:[["openedBy",17,"(",48,"{"],["closedBy",18,")",49,"}"]],propSources:[jg],skippedNodes:[0,3],repeatNodeCount:8,tokenData:"Ay~R![OX$wX^%]^p$wpq%]qr(crs+}st,otu2Uuv$wvw2rwx2}xy3jyz3uz{3z{|4_|}8U}!O8a!O!P8x!P!Q9Z!Q![;e![!]<Y!]!^<x!^!_$w!_!`=T!`!a=`!a!b$w!b!c>O!c!}$w!}#O?[#O#P$w#P#Q?g#Q#R2U#R#T$w#T#U?r#U#c$w#c#d@q#d#o$w#o#pAQ#p#q2U#q#rA]#r#sAh#s#y$w#y#z%]#z$f$w$f$g%]$g#BY$w#BY#BZ%]#BZ$IS$w$IS$I_%]$I_$I|$w$I|$JO%]$JO$JT$w$JT$JU%]$JU$KV$w$KV$KW%]$KW&FU$w&FU&FV%]&FV~$wW$zQOy%Qz~%QW%VQoWOy%Qz~%Q~%bf#T~OX%QX^&v^p%Qpq&vqy%Qz#y%Q#y#z&v#z$f%Q$f$g&v$g#BY%Q#BY#BZ&v#BZ$IS%Q$IS$I_&v$I_$I|%Q$I|$JO&v$JO$JT%Q$JT$JU&v$JU$KV%Q$KV$KW&v$KW&FU%Q&FU&FV&v&FV~%Q~&}f#T~oWOX%QX^&v^p%Qpq&vqy%Qz#y%Q#y#z&v#z$f%Q$f$g&v$g#BY%Q#BY#BZ&v#BZ$IS%Q$IS$I_&v$I_$I|%Q$I|$JO&v$JO$JT%Q$JT$JU&v$JU$KV%Q$KV$KW&v$KW&FU%Q&FU&FV&v&FV~%Q^(fSOy%Qz#]%Q#]#^(r#^~%Q^(wSoWOy%Qz#a%Q#a#b)T#b~%Q^)YSoWOy%Qz#d%Q#d#e)f#e~%Q^)kSoWOy%Qz#c%Q#c#d)w#d~%Q^)|SoWOy%Qz#f%Q#f#g*Y#g~%Q^*_SoWOy%Qz#h%Q#h#i*k#i~%Q^*pSoWOy%Qz#T%Q#T#U*|#U~%Q^+RSoWOy%Qz#b%Q#b#c+_#c~%Q^+dSoWOy%Qz#h%Q#h#i+p#i~%Q^+wQ!VUoWOy%Qz~%Q~,QUOY+}Zr+}rs,ds#O+}#O#P,i#P~+}~,iOh~~,lPO~+}_,tWtPOy%Qz!Q%Q!Q![-^![!c%Q!c!i-^!i#T%Q#T#Z-^#Z~%Q^-cWoWOy%Qz!Q%Q!Q![-{![!c%Q!c!i-{!i#T%Q#T#Z-{#Z~%Q^.QWoWOy%Qz!Q%Q!Q![.j![!c%Q!c!i.j!i#T%Q#T#Z.j#Z~%Q^.qWfUoWOy%Qz!Q%Q!Q![/Z![!c%Q!c!i/Z!i#T%Q#T#Z/Z#Z~%Q^/bWfUoWOy%Qz!Q%Q!Q![/z![!c%Q!c!i/z!i#T%Q#T#Z/z#Z~%Q^0PWoWOy%Qz!Q%Q!Q![0i![!c%Q!c!i0i!i#T%Q#T#Z0i#Z~%Q^0pWfUoWOy%Qz!Q%Q!Q![1Y![!c%Q!c!i1Y!i#T%Q#T#Z1Y#Z~%Q^1_WoWOy%Qz!Q%Q!Q![1w![!c%Q!c!i1w!i#T%Q#T#Z1w#Z~%Q^2OQfUoWOy%Qz~%QY2XSOy%Qz!_%Q!_!`2e!`~%QY2lQzQoWOy%Qz~%QX2wQXPOy%Qz~%Q~3QUOY2}Zw2}wx,dx#O2}#O#P3d#P~2}~3gPO~2}_3oQbVOy%Qz~%Q~3zOa~_4RSUPjSOy%Qz!_%Q!_!`2e!`~%Q_4fUjS!PPOy%Qz!O%Q!O!P4x!P!Q%Q!Q![7_![~%Q^4}SoWOy%Qz!Q%Q!Q![5Z![~%Q^5bWoW#ZUOy%Qz!Q%Q!Q![5Z![!g%Q!g!h5z!h#X%Q#X#Y5z#Y~%Q^6PWoWOy%Qz{%Q{|6i|}%Q}!O6i!O!Q%Q!Q![6z![~%Q^6nSoWOy%Qz!Q%Q!Q![6z![~%Q^7RSoW#ZUOy%Qz!Q%Q!Q![6z![~%Q^7fYoW#ZUOy%Qz!O%Q!O!P5Z!P!Q%Q!Q![7_![!g%Q!g!h5z!h#X%Q#X#Y5z#Y~%Q_8ZQpVOy%Qz~%Q^8fUjSOy%Qz!O%Q!O!P4x!P!Q%Q!Q![7_![~%Q_8}S#WPOy%Qz!Q%Q!Q![5Z![~%Q~9`RjSOy%Qz{9i{~%Q~9nSoWOy9iyz9zz{:o{~9i~9}ROz9zz{:W{~9z~:ZTOz9zz{:W{!P9z!P!Q:j!Q~9z~:oOR~~:tUoWOy9iyz9zz{:o{!P9i!P!Q;W!Q~9i~;_QoWR~Oy%Qz~%Q^;jY#ZUOy%Qz!O%Q!O!P5Z!P!Q%Q!Q![7_![!g%Q!g!h5z!h#X%Q#X#Y5z#Y~%QX<_S]POy%Qz![%Q![!]<k!]~%QX<rQ^PoWOy%Qz~%Q_<}Q!WVOy%Qz~%QY=YQzQOy%Qz~%QX=eS|POy%Qz!`%Q!`!a=q!a~%QX=xQ|PoWOy%Qz~%QX>RUOy%Qz!c%Q!c!}>e!}#T%Q#T#o>e#o~%QX>lY!YPoWOy%Qz}%Q}!O>e!O!Q%Q!Q![>e![!c%Q!c!}>e!}#T%Q#T#o>e#o~%QX?aQxPOy%Qz~%Q^?lQvUOy%Qz~%QX?uSOy%Qz#b%Q#b#c@R#c~%QX@WSoWOy%Qz#W%Q#W#X@d#X~%QX@kQ!`PoWOy%Qz~%QX@tSOy%Qz#f%Q#f#g@d#g~%QXAVQ!RPOy%Qz~%Q_AbQ!QVOy%Qz~%QZAmS!PPOy%Qz!_%Q!_!`2e!`~%Q",tokenizers:[qg,Xg,Ug,0,1,2,3],topRules:{StyleSheet:[0,4]},specialized:[{term:94,get:e=>Hg[e]||-1},{term:56,get:e=>Zg[e]||-1},{term:95,get:e=>Yg[e]||-1}],tokenPrec:1078});let Kg=null;function eO(){if(!Kg&&"object"==typeof document&&document.body){let e=[];for(let t in document.body.style)/[A-Z]|^-|^(item|length)$/.test(t)||e.push(t);Kg=e.sort().map((e=>({type:"property",label:e})))}return Kg||[]}const tO=["active","after","before","checked","default","disabled","empty","enabled","first-child","first-letter","first-line","first-of-type","focus","hover","in-range","indeterminate","invalid","lang","last-child","last-of-type","link","not","nth-child","nth-last-child","nth-last-of-type","nth-of-type","only-of-type","only-child","optional","out-of-range","placeholder","read-only","read-write","required","root","selection","target","valid","visited"].map((e=>({type:"class",label:e}))),iO=["above","absolute","activeborder","additive","activecaption","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","antialiased","appworkspace","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic-abegede-gez","ethiopic-halehame-aa-er","ethiopic-halehame-gez","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","graytext","grid","groove","hand","hard-light","help","hidden","hide","higher","highlight","highlighttext","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","justify","keep-all","landscape","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-hexadecimal","lower-latin","lower-norwegian","lowercase","ltr","luminosity","manipulation","match","matrix","matrix3d","medium","menu","menutext","message-box","middle","min-intrinsic","mix","monospace","move","multiple","multiple_mask_images","multiply","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","opacity","open-quote","optimizeLegibility","optimizeSpeed","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","text","text-bottom","text-top","textarea","textfield","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","to","top","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-latin","uppercase","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"].map((e=>({type:"keyword",label:e}))).concat(["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"].map((e=>({type:"constant",label:e})))),rO=["a","abbr","address","article","aside","b","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","dd","del","details","dfn","dialog","div","dl","dt","em","figcaption","figure","footer","form","header","hgroup","h1","h2","h3","h4","h5","h6","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","main","meter","nav","ol","output","p","pre","ruby","section","select","small","source","span","strong","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","tr","u","ul"].map((e=>({type:"type",label:e}))),nO=/^[\w-]*/,oO=e=>{let{state:t,pos:i}=e,r=_c(t).resolveInner(i,-1);if("PropertyName"==r.name)return{from:r.from,options:eO(),validFor:nO};if("ValueName"==r.name)return{from:r.from,options:iO,validFor:nO};if("PseudoClassName"==r.name)return{from:r.from,options:tO,validFor:nO};if("TagName"==r.name){for(let{parent:e}=r;e;e=e.parent)if("Block"==e.name)return{from:r.from,options:eO(),validFor:nO};return{from:r.from,options:rO,validFor:nO}}if(!e.explicit)return null;let n=r.resolve(i),o=n.childBefore(i);return o&&":"==o.name&&"PseudoClassSelector"==n.name?{from:i,options:tO,validFor:nO}:o&&":"==o.name&&"Declaration"==n.name||"ArgList"==n.name?{from:i,options:iO,validFor:nO}:"Block"==n.name?{from:i,options:eO(),validFor:nO}:null},sO=Ac.define({parser:Jg.configure({props:[Kc.add({Declaration:sd()}),ld.add({Block:ud})]}),languageData:{commentTokens:{block:{open:"/*",close:"*/"}},indentOnInput:/^\s*\}$/,wordChars:"-"}});function aO(){return new qc(sO,sO.data.of({autocomplete:oO}))}var lO,uO,cO,dO,hO,pO,fO;lO=i.customElement("rnwppages-style-property"),uO=i.query(".textarea"),lO((cO=class extends ue{constructor(...e){super(...e),babelHelpers.initializerDefineProperty(this,"TextArea",dO,this)}SubRender(){return t.html` <div> <div class="textarea" @change=${e=>{this.model.GetStringValue()}} style="width: 100%;height:250px;margin-top: 10px;border: 1px solid #ccc;"/> </div> `}firstUpdated(e){super.firstUpdated(e),this.EditorView=new Ga({state:Rr.create({doc:this.model.GetStringValue(),extensions:[gg,aO(),Xa.of([Cp]),sO.data.of({autocomplete:oO}),Ga.updateListener.of((e=>{e.docChanged&&this.model.SetValue(this.EditorView.state.doc.toString())}))]}),parent:this.TextArea})}Clear(){this.EditorView.dispatch({changes:{from:0,to:this.EditorView.state.doc.length,insert:""}})}},dO=babelHelpers.applyDecoratedDescriptor(cO.prototype,"TextArea",[uO],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),cO));class mO extends ce{constructor(e,t,i){super(e,t,i),this.MaxValue=null,this.MinValue=null,this.Suffix=""}SetMaxValue(e){return this.MaxValue=e,this}SetMinValue(e){return this.MinValue=e,this}Render(){return t.html`<rnwppages-style-property ${S.ref((e=>this.Instance=e))} .model="${this}"></rnwppages-style-property>`}SetSuffix(e){return this.Suffix=e,this}Clear(){super.Clear(),null!=this.Instance&&this.Instance.Clear()}}class gO extends(fe(O.ModelWithParent)){constructor(...e){super(...e),this.IsBlockContainer=!1}Page(){return this.Parent.ParentContainer}Initialize(){}GetUniqueId(){return"Block_"+this.Options.Id}get Index(){return this.Parent.Blocks.indexOf(this)}get PageBuilder(){return this.Parent.PageBuilder}get PageSection(){return this.Parent.PageSection}get BlockType(){var e;return null===(e=_.find((e=>e.Id==this.Options.Type)))||void 0===e?void 0:e.BlockType}get ParentContainer(){return this.Parent.ParentContainer}InitializeStartingValues(){}Remove(){let e=this.Parent.Blocks.indexOf(this);e<0||(this.Parent.Blocks.splice(e,1),this.Parent.Refresh())}async AddBlock(e=null){let i=await h.Dialog.Show(t.html`<rnwppages-field-picker-dialog .Section="${this.PageSection}"></rnwppages-field-picker-dialog>`);if(null==i)return;null==e&&(e+=1);let r=this.ParentContainer.CreateBlockOptionsAndModel(i);r.Parent=this.Parent,this.Parent.Blocks.splice(e,0,r),this.ParentContainer.FieldAdded(r),this.Parent.Refresh()}GetStyles(e=""){let t=super.GetStyles(e);return t.GetOrCreateGroup("General").AddProperties(ai.GetProperties(this,"","Background-Color|Margin|Padding")),t.GetOrCreateGroup("Border").AddProperties(ai.GetProperties(this,"","Border")),t.GetOrCreateGroup("Advanced",200).AddProperty(new mO(this,"Styles","Custom css styles")),t}CanDragToSection(e){return this.PageSection.IsBlockSupported(this.BlockType)}Clone(){let e=(new li).CloneSingleBlock(this.Options.ToObject()),t=this.ParentContainer.CreateBlockOptionsAndModel(e);this.Parent.InsertBlock(t,this.Index+1),t.Select(),this.Parent.Refresh()}GetFormulas(e=[]){}}i.customElement("rnwppages-text-property")(class extends ue{constructor(...e){super(...e),this.LatestObjectToUse=null}SubRender(){return t.html` <rn-text-editor style="height:200px" .value="${this.model.GetValue()}" .nodes="${[new v.ImageNode,new x.IconNode(this.model.Element.PageBuilder),new w.FieldNode(this.model.Element.PageBuilder)]}" @change="${e=>this.model.SetValue(e.detail)}"> </rn-text-editor> `}update(e){super.update(e),this.LatestModel!=this.model&&(this.MaybeUnsubscribe(),this.LatestModel=this.model.Element,this.MaybeSubscribe())}IsStoreBase(){if(null!=this.model.Element.Options&&null!=this.model.Element.Options.ValueChanged)return!0}MaybeUnsubscribe(){this.IsStoreBase()&&this.model.Element.Options.Unsubscribe(this)}MaybeSubscribe(){this.IsStoreBase()&&this.model.Element.Options.Subscribe(this,(e=>{e==this.model.PropertyName&&this.forceUpdate()}))}});class OO extends ce{constructor(e,t,i){super(e,t,i),this.ActivateChangeWhenBlur=!1}SetActivateChangeWhenBlur(){return this.ActivateChangeWhenBlur=!0,this}Render(){return t.html` <rnwppages-text-property .model="${this}"></rnwppages-text-property> `}}class bO extends gO{constructor(e,t){super(e,t)}ProcessText(){return n.EventManager.Publish("GetHTML",{HTML:this.Options.Text,PageBuilder:this.Page})}InitializeStartingValues(){this.Options.Text=y.TextContainerGenerator.GenerateText("Your text goes here")}GetProperties(){let e=super.GetProperties();return e.GetOrCreateGroup("General").AddProperty(new OO(this,"Text","Text")),e}GetStyles(e=""){let t=super.GetStyles(e);return t.GetOrCreateGroup("Paragraph styles",1).AddProperties(ai.GetProperties(this,"","LineHeight")),t}GetLabel(){return"Text"}render(){return t.html`<rnwppages-text-field-block .model="${this}"></rnwppages-text-field-block>`}GetFormulas(e=[]){super.GetFormulas(e);let t=y.TextContainerGenerator.GetElementsOfType(this.Options.Text,"field");for(let i of t)"__formula"==i.attrs.id&&e.push(i.attrs.path)}}class SO extends D{LoadDefaultValues(){super.LoadDefaultValues(),this.Type=E.Navigation,this.Label="Navigation"}}i.customElement("rnwppages-navigation-field-block")(class extends J{SubRender(){return t.html`<div> <a class="navigationItem" href="#" @click="${e=>e.preventDefault()}">${"<<"}</a> <a class="navigationItem" href="#" @click="${e=>e.preventDefault()}">${"<"}</a> <a class="navigationItem" href="#" @click="${e=>e.preventDefault()}">1</a> <a class="navigationItem" href="#" @click="${e=>e.preventDefault()}">2</a> <a class="navigationItem" href="#" @click="${e=>e.preventDefault()}">3</a> <a class="navigationItem" href="#" @click="${e=>e.preventDefault()}">${">"}</a> <a class="navigationItem" href="#" @click="${e=>e.preventDefault()}">${">>"}</a> </div>`}});class yO extends gO{constructor(e,t){super(e,t)}ProcessText(){return n.EventManager.Publish("GetHTML",{HTML:this.Options.Text,PageBuilder:this.Page})}InitializeStartingValues(){this.Options.Text=y.TextContainerGenerator.GenerateText("Your text goes here")}GetLabel(){return"Navigator"}render(){return t.html`<rnwppages-navigation-field-block .model="${this}"></rnwppages-navigation-field-block>`}}i.customElement("rnwppages-textwithfield-field-block")(class extends J{SubRender(){return t.html`<rn-text-container .pageBuilder="${this.model.PageBuilder}" .property="${"Text"}" .object="${this.model.Options}" .isPlain="${!1}" .canAddFields="${!0}" @change="${e=>{this.model.Options.SetValue("Text",e.detail)}}" .Block="${this.model}"></rn-text-container>`}});class vO extends bO{render(){return t.html`<rnwppages-textwithfield-field-block .model="${this}"></rnwppages-textwithfield-field-block>`}GetFormulas(e=[]){super.GetFormulas(e);let t=y.TextContainerGenerator.GetElementsOfType(this.Options.Text,"field");for(let i of t)"__formula"==i.attrs.id&&e.push(i.attrs.path)}}class wO extends F{LoadDefaultValues(){super.LoadDefaultValues(),this.Type=E.TextWithFields}}let xO=(hO=r.StoreAutoIncrement("SearchFieldId"),pO=class extends r.StoreBase{constructor(...e){super(...e),babelHelpers.initializerDefineProperty(this,"Id",fO,this)}LoadDefaultValues(){this.FieldId="",this.PathId="",this.ComparisonType="",this.Label="",this.Id=0,this.SubType=""}},fO=babelHelpers.applyDecoratedDescriptor(pO.prototype,"Id",[hO],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pO);var kO,VO,CO;let TO=(kO=r.StoreDataType(xO),VO=class extends D{constructor(...e){super(...e),babelHelpers.initializerDefineProperty(this,"Fields",CO,this)}LoadDefaultValues(){super.LoadDefaultValues(),this.Type=E.SearchBar,this.Label="Search Criteria",this.SearchButtonLabel="Search",this.Fields=[]}},CO=babelHelpers.applyDecoratedDescriptor(VO.prototype,"Fields",[kO],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),VO);i.customElement("rnwppages-search-field")(class extends e.LitElementBase{render(){var e;let i=null===(e=this.model.Block.PageBuilder.DataSource.GetFields())||void 0===e?void 0:e.find((e=>e.Id==this.model.Options.FieldId));return null==i||""==this.model.Options.ComparisonType?t.html` <div style="color: red"> Please select a field and a comparison </div> `:t.html` <div> <strong>${this.model.Options.Label}</strong> ${this.GetInput(i)} </div> `}GetParentStyles(){return{width:"calc(33.33% - 2px)",marginLeft:"2px",display:"inline-block",marginBottom:"5px"}}GetInput(e){return e.Type,t.html` <input disabled type='text' style="width: 100%;background-color: white;"/> `}});class $O{constructor(e,t){this.Block=e,this.Options=t}render(){return t.html`<rnwppages-search-field .model="${this}"></rnwppages-search-field>`}}var PO={},QO={};function RO(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function IO(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?RO(Object(i),!0).forEach((function(t){DO(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):RO(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function EO(e){return(EO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function DO(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function AO(){return(AO=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function _O(e,t){if(null==e)return{};var i,r,n=function(e,t){if(null==e)return{};var i,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)i=o[r],t.indexOf(i)>=0||(n[i]=e[i]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)i=o[r],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}!function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="magnifying-glass",i=[128269,"search"],r="f002",n="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352c79.5 0 144-64.5 144-144s-64.5-144-144-144S64 128.5 64 208s64.5 144 144 144z";e.definition={prefix:"fas",iconName:t,icon:[512,512,i,r,n]},e.faMagnifyingGlass=e.definition,e.prefix="fas",e.iconName=t,e.width=512,e.height=512,e.ligatures=i,e.unicode=r,e.svgPathData=n,e.aliases=i}(QO),function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=QO;e.definition={prefix:t.prefix,iconName:t.iconName,icon:[t.width,t.height,t.aliases,t.unicode,t.svgPathData]},e.faSearch=e.definition,e.prefix=t.prefix,e.iconName=t.iconName,e.width=t.width,e.height=t.height,e.ligatures=t.aliases,e.unicode=t.unicode,e.svgPathData=t.svgPathData,e.aliases=t.aliases}(PO),i.customElement("rnwppages-search-field-block")(class extends J{SubRender(){return this.GetContainer(0==this.model.Fields.length?t.html`<p style="margin:0;text-align: center;color: red;">Please add some search fields to start</p>`:t.html` <div style="width: 100%"> ${this.model.Fields.map((e=>e.render()))} <div style="width: 100%"> <Button style="align-items: center;display: flex;" class=${"rnbtn rnbtn-success"}><rn-fontawesome style="margin-right: 3px" .icon=${PO.faSearch}></rn-fontawesome> ${this.model.Options.SearchButtonLabel}</Button> </div> </div>`)}GetContainer(e){return e=t.html`<div style="display: flex;align-items: center;flex-wrap: wrap;width: 100%;"> ${e} </div>`,""==this.model.Options.Label?t.html` <div style="display: block;width: 100%;"> ${e} </div> `:t.html` <fieldset style="width: 100%;border: 1px solid #dfdfdf;padding: 5px"> <legend style="display: flex;align-items: center;"><rn-fontawesome style="margin-right: 5px" .icon=${PO.faSearch}></rn-fontawesome>${this.model.Options.Label}</legend> ${e} </fieldset> `}});function MO(e){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var LO=MO(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),GO=MO(/Edge/i),NO=MO(/firefox/i),WO=MO(/safari/i)&&!MO(/chrome/i)&&!MO(/android/i),BO=MO(/iP(ad|od|hone)/i),zO=MO(/chrome/i)&&MO(/android/i),FO={capture:!1,passive:!1};function UO(e,t,i){e.addEventListener(t,i,!LO&&FO)}function qO(e,t,i){e.removeEventListener(t,i,!LO&&FO)}function XO(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(e){return!1}return!1}}function jO(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function HO(e,t,i,r){if(e){i=i||document;do{if(null!=t&&(">"===t[0]?e.parentNode===i&&XO(e,t):XO(e,t))||r&&e===i)return e;if(e===i)break}while(e=jO(e))}return null}var ZO,YO=/\s+/g;function JO(e,t,i){if(e&&t)if(e.classList)e.classList[i?"add":"remove"](t);else{var r=(" "+e.className+" ").replace(YO," ").replace(" "+t+" "," ");e.className=(r+(i?" "+t:"")).replace(YO," ")}}function KO(e,t,i){var r=e&&e.style;if(r){if(void 0===i)return document.defaultView&&document.defaultView.getComputedStyle?i=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(i=e.currentStyle),void 0===t?i:i[t];t in r||-1!==t.indexOf("webkit")||(t="-webkit-"+t),r[t]=i+("string"==typeof i?"":"px")}}function eb(e,t){var i="";if("string"==typeof e)i=e;else do{var r=KO(e,"transform");r&&"none"!==r&&(i=r+" "+i)}while(!t&&(e=e.parentNode));var n=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return n&&new n(i)}function tb(e,t,i){if(e){var r=e.getElementsByTagName(t),n=0,o=r.length;if(i)for(;n<o;n++)i(r[n],n);return r}return[]}function ib(){var e=document.scrollingElement;return e||document.documentElement}function rb(e,t,i,r,n){if(e.getBoundingClientRect||e===window){var o,s,a,l,u,c,d;if(e!==window&&e.parentNode&&e!==ib()?(s=(o=e.getBoundingClientRect()).top,a=o.left,l=o.bottom,u=o.right,c=o.height,d=o.width):(s=0,a=0,l=window.innerHeight,u=window.innerWidth,c=window.innerHeight,d=window.innerWidth),(t||i)&&e!==window&&(n=n||e.parentNode,!LO))do{if(n&&n.getBoundingClientRect&&("none"!==KO(n,"transform")||i&&"static"!==KO(n,"position"))){var h=n.getBoundingClientRect();s-=h.top+parseInt(KO(n,"border-top-width")),a-=h.left+parseInt(KO(n,"border-left-width")),l=s+o.height,u=a+o.width;break}}while(n=n.parentNode);if(r&&e!==window){var p=eb(n||e),f=p&&p.a,m=p&&p.d;p&&(l=(s/=m)+(c/=m),u=(a/=f)+(d/=f))}return{top:s,left:a,bottom:l,right:u,width:d,height:c}}}function nb(e,t,i){for(var r=ub(e,!0),n=rb(e)[t];r;){var o=rb(r)[i];if(!("top"===i||"left"===i?n>=o:n<=o))return r;if(r===ib())break;r=ub(r,!1)}return!1}function ob(e,t,i,r){for(var n=0,o=0,s=e.children;o<s.length;){if("none"!==s[o].style.display&&s[o]!==hS.ghost&&(r||s[o]!==hS.dragged)&&HO(s[o],i.draggable,e,!1)){if(n===t)return s[o];n++}o++}return null}function sb(e,t){for(var i=e.lastElementChild;i&&(i===hS.ghost||"none"===KO(i,"display")||t&&!XO(i,t));)i=i.previousElementSibling;return i||null}function ab(e,t){var i=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===hS.clone||t&&!XO(e,t)||i++;return i}function lb(e){var t=0,i=0,r=ib();if(e)do{var n=eb(e),o=n.a,s=n.d;t+=e.scrollLeft*o,i+=e.scrollTop*s}while(e!==r&&(e=e.parentNode));return[t,i]}function ub(e,t){if(!e||!e.getBoundingClientRect)return ib();var i=e,r=!1;do{if(i.clientWidth<i.scrollWidth||i.clientHeight<i.scrollHeight){var n=KO(i);if(i.clientWidth<i.scrollWidth&&("auto"==n.overflowX||"scroll"==n.overflowX)||i.clientHeight<i.scrollHeight&&("auto"==n.overflowY||"scroll"==n.overflowY)){if(!i.getBoundingClientRect||i===document.body)return ib();if(r||t)return i;r=!0}}}while(i=i.parentNode);return ib()}function cb(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function db(e,t){return function(){if(!ZO){var i=arguments,r=this;1===i.length?e.call(r,i[0]):e.apply(r,i),ZO=setTimeout((function(){ZO=void 0}),t)}}}function hb(e,t,i){e.scrollLeft+=t,e.scrollTop+=i}function pb(e){var t=window.Polymer,i=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):i?i(e).clone(!0)[0]:e.cloneNode(!0)}var fb="Sortable"+(new Date).getTime();function mb(){var e,t=[];return{captureAnimationState:function(){(t=[],this.options.animation)&&[].slice.call(this.el.children).forEach((function(e){if("none"!==KO(e,"display")&&e!==hS.ghost){t.push({target:e,rect:rb(e)});var i=IO({},t[t.length-1].rect);if(e.thisAnimationDuration){var r=eb(e,!0);r&&(i.top-=r.f,i.left-=r.e)}e.fromRect=i}}))},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(function(e,t){for(var i in e)if(e.hasOwnProperty(i))for(var r in t)if(t.hasOwnProperty(r)&&t[r]===e[i][r])return Number(i);return-1}(t,{target:e}),1)},animateAll:function(i){var r=this;if(!this.options.animation)return clearTimeout(e),void("function"==typeof i&&i());var n=!1,o=0;t.forEach((function(e){var t=0,i=e.target,s=i.fromRect,a=rb(i),l=i.prevFromRect,u=i.prevToRect,c=e.rect,d=eb(i,!0);d&&(a.top-=d.f,a.left-=d.e),i.toRect=a,i.thisAnimationDuration&&cb(l,a)&&!cb(s,a)&&(c.top-a.top)/(c.left-a.left)==(s.top-a.top)/(s.left-a.left)&&(t=function(e,t,i,r){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-i.top,2)+Math.pow(t.left-i.left,2))*r.animation}(c,l,u,r.options)),cb(a,s)||(i.prevFromRect=s,i.prevToRect=a,t||(t=r.options.animation),r.animate(i,c,a,t)),t&&(n=!0,o=Math.max(o,t),clearTimeout(i.animationResetTimer),i.animationResetTimer=setTimeout((function(){i.animationTime=0,i.prevFromRect=null,i.fromRect=null,i.prevToRect=null,i.thisAnimationDuration=null}),t),i.thisAnimationDuration=t)})),clearTimeout(e),n?e=setTimeout((function(){"function"==typeof i&&i()}),o):"function"==typeof i&&i(),t=[]},animate:function(e,t,i,r){if(r){KO(e,"transition",""),KO(e,"transform","");var n=eb(this.el),o=n&&n.a,s=n&&n.d,a=(t.left-i.left)/(o||1),l=(t.top-i.top)/(s||1);e.animatingX=!!a,e.animatingY=!!l,KO(e,"transform","translate3d("+a+"px,"+l+"px,0)"),this.forRepaintDummy=function(e){return e.offsetWidth}(e),KO(e,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),KO(e,"transform","translate3d(0,0,0)"),"number"==typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){KO(e,"transition",""),KO(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),r)}}}}var gb=[],Ob={initializeByDefault:!0},bb={mount:function(e){for(var t in Ob)Ob.hasOwnProperty(t)&&!(t in e)&&(e[t]=Ob[t]);gb.forEach((function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")})),gb.push(e)},pluginEvent:function(e,t,i){var r=this;this.eventCanceled=!1,i.cancel=function(){r.eventCanceled=!0};var n=e+"Global";gb.forEach((function(r){t[r.pluginName]&&(t[r.pluginName][n]&&t[r.pluginName][n](IO({sortable:t},i)),t.options[r.pluginName]&&t[r.pluginName][e]&&t[r.pluginName][e](IO({sortable:t},i)))}))},initializePlugins:function(e,t,i,r){for(var n in gb.forEach((function(r){var n=r.pluginName;if(e.options[n]||r.initializeByDefault){var o=new r(e,t,e.options);o.sortable=e,o.options=e.options,e[n]=o,AO(i,o.defaults)}})),e.options)if(e.options.hasOwnProperty(n)){var o=this.modifyOption(e,n,e.options[n]);void 0!==o&&(e.options[n]=o)}},getEventProperties:function(e,t){var i={};return gb.forEach((function(r){"function"==typeof r.eventProperties&&AO(i,r.eventProperties.call(t[r.pluginName],e))})),i},modifyOption:function(e,t,i){var r;return gb.forEach((function(n){e[n.pluginName]&&n.optionListeners&&"function"==typeof n.optionListeners[t]&&(r=n.optionListeners[t].call(e[n.pluginName],i))})),r}};var Sb=["evt"],yb=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=i.evt,n=_O(i,Sb);bb.pluginEvent.bind(hS)(e,t,IO({dragEl:wb,parentEl:xb,ghostEl:kb,rootEl:Vb,nextEl:Cb,lastDownEl:Tb,cloneEl:$b,cloneHidden:Pb,dragStarted:Bb,putSortable:Ab,activeSortable:hS.active,originalEvent:r,oldIndex:Qb,oldDraggableIndex:Ib,newIndex:Rb,newDraggableIndex:Eb,hideGhostForTarget:lS,unhideGhostForTarget:uS,cloneNowHidden:function(){Pb=!0},cloneNowShown:function(){Pb=!1},dispatchSortableEvent:function(e){vb({sortable:t,name:e,originalEvent:r})}},n))};function vb(e){!function(e){var t=e.sortable,i=e.rootEl,r=e.name,n=e.targetEl,o=e.cloneEl,s=e.toEl,a=e.fromEl,l=e.oldIndex,u=e.newIndex,c=e.oldDraggableIndex,d=e.newDraggableIndex,h=e.originalEvent,p=e.putSortable,f=e.extraEventProperties;if(t=t||i&&i[fb]){var m,g=t.options,O="on"+r.charAt(0).toUpperCase()+r.substr(1);!window.CustomEvent||LO||GO?(m=document.createEvent("Event")).initEvent(r,!0,!0):m=new CustomEvent(r,{bubbles:!0,cancelable:!0}),m.to=s||i,m.from=a||i,m.item=n||i,m.clone=o,m.oldIndex=l,m.newIndex=u,m.oldDraggableIndex=c,m.newDraggableIndex=d,m.originalEvent=h,m.pullMode=p?p.lastPutMode:void 0;var b=IO(IO({},f),bb.getEventProperties(r,t));for(var S in b)m[S]=b[S];i&&i.dispatchEvent(m),g[O]&&g[O].call(t,m)}}(IO({putSortable:Ab,cloneEl:$b,targetEl:wb,rootEl:Vb,oldIndex:Qb,oldDraggableIndex:Ib,newIndex:Rb,newDraggableIndex:Eb},e))}var wb,xb,kb,Vb,Cb,Tb,$b,Pb,Qb,Rb,Ib,Eb,Db,Ab,_b,Mb,Lb,Gb,Nb,Wb,Bb,zb,Fb,Ub,qb,Xb=!1,jb=!1,Hb=[],Zb=!1,Yb=!1,Jb=[],Kb=!1,eS=[],tS="undefined"!=typeof document,iS=BO,rS=GO||LO?"cssFloat":"float",nS=tS&&!zO&&!BO&&"draggable"in document.createElement("div"),oS=function(){if(tS){if(LO)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),sS=function(e,t){var i=KO(e),r=parseInt(i.width)-parseInt(i.paddingLeft)-parseInt(i.paddingRight)-parseInt(i.borderLeftWidth)-parseInt(i.borderRightWidth),n=ob(e,0,t),o=ob(e,1,t),s=n&&KO(n),a=o&&KO(o),l=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+rb(n).width,u=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+rb(o).width;if("flex"===i.display)return"column"===i.flexDirection||"column-reverse"===i.flexDirection?"vertical":"horizontal";if("grid"===i.display)return i.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(n&&s.float&&"none"!==s.float){var c="left"===s.float?"left":"right";return!o||"both"!==a.clear&&a.clear!==c?"horizontal":"vertical"}return n&&("block"===s.display||"flex"===s.display||"table"===s.display||"grid"===s.display||l>=r&&"none"===i[rS]||o&&"none"===i[rS]&&l+u>r)?"vertical":"horizontal"},aS=function(e){function t(e,i){return function(r,n,o,s){var a=r.options.group.name&&n.options.group.name&&r.options.group.name===n.options.group.name;if(null==e&&(i||a))return!0;if(null==e||!1===e)return!1;if(i&&"clone"===e)return e;if("function"==typeof e)return t(e(r,n,o,s),i)(r,n,o,s);var l=(i?r:n).options.group.name;return!0===e||"string"==typeof e&&e===l||e.join&&e.indexOf(l)>-1}}var i={},r=e.group;r&&"object"==EO(r)||(r={name:r}),i.name=r.name,i.checkPull=t(r.pull,!0),i.checkPut=t(r.put),i.revertClone=r.revertClone,e.group=i},lS=function(){!oS&&kb&&KO(kb,"display","none")},uS=function(){!oS&&kb&&KO(kb,"display","")};tS&&!zO&&document.addEventListener("click",(function(e){if(jb)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),jb=!1,!1}),!0);var cS=function(e){if(wb){e=e.touches?e.touches[0]:e;var t=(n=e.clientX,o=e.clientY,Hb.some((function(e){var t=e[fb].options.emptyInsertThreshold;if(t&&!sb(e)){var i=rb(e),r=n>=i.left-t&&n<=i.right+t,a=o>=i.top-t&&o<=i.bottom+t;return r&&a?s=e:void 0}})),s);if(t){var i={};for(var r in e)e.hasOwnProperty(r)&&(i[r]=e[r]);i.target=i.rootEl=t,i.preventDefault=void 0,i.stopPropagation=void 0,t[fb]._onDragOver(i)}}var n,o,s},dS=function(e){wb&&wb.parentNode[fb]._isOutsideThisEl(e.target)};function hS(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=AO({},t),e[fb]=this;var i={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return sS(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==hS.supportPointer&&"PointerEvent"in window&&!WO,emptyInsertThreshold:5};for(var r in bb.initializePlugins(this,e,i),i)!(r in t)&&(t[r]=i[r]);for(var n in aS(t),this)"_"===n.charAt(0)&&"function"==typeof this[n]&&(this[n]=this[n].bind(this));this.nativeDraggable=!t.forceFallback&&nS,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?UO(e,"pointerdown",this._onTapStart):(UO(e,"mousedown",this._onTapStart),UO(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(UO(e,"dragover",this),UO(e,"dragenter",this)),Hb.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),AO(this,mb())}function pS(e,t,i,r,n,o,s,a){var l,u,c=e[fb],d=c.options.onMove;return!window.CustomEvent||LO||GO?(l=document.createEvent("Event")).initEvent("move",!0,!0):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=t,l.from=e,l.dragged=i,l.draggedRect=r,l.related=n||t,l.relatedRect=o||rb(t),l.willInsertAfter=a,l.originalEvent=s,e.dispatchEvent(l),d&&(u=d.call(c,l,s)),u}function fS(e){e.draggable=!1}function mS(){Kb=!1}function gS(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,i=t.length,r=0;i--;)r+=t.charCodeAt(i);return r.toString(36)}function OS(e){return setTimeout(e,0)}function bS(e){return clearTimeout(e)}hS.prototype={constructor:hS,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(zb=null)},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,wb):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,i=this.el,r=this.options,n=r.preventOnFilter,o=e.type,s=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,a=(s||e).target,l=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||a,u=r.filter;if(function(e){eS.length=0;var t=e.getElementsByTagName("input"),i=t.length;for(;i--;){var r=t[i];r.checked&&eS.push(r)}}(i),!wb&&!(/mousedown|pointerdown/.test(o)&&0!==e.button||r.disabled)&&!l.isContentEditable&&(this.nativeDraggable||!WO||!a||"SELECT"!==a.tagName.toUpperCase())&&!((a=HO(a,r.draggable,i,!1))&&a.animated||Tb===a)){if(Qb=ab(a),Ib=ab(a,r.draggable),"function"==typeof u){if(u.call(this,e,a,this))return vb({sortable:t,rootEl:l,name:"filter",targetEl:a,toEl:i,fromEl:i}),yb("filter",t,{evt:e}),void(n&&e.cancelable&&e.preventDefault())}else if(u&&(u=u.split(",").some((function(r){if(r=HO(l,r.trim(),i,!1))return vb({sortable:t,rootEl:r,name:"filter",targetEl:a,fromEl:i,toEl:i}),yb("filter",t,{evt:e}),!0}))))return void(n&&e.cancelable&&e.preventDefault());r.handle&&!HO(l,r.handle,i,!1)||this._prepareDragStart(e,s,a)}}},_prepareDragStart:function(e,t,i){var r,n=this,o=n.el,s=n.options,a=o.ownerDocument;if(i&&!wb&&i.parentNode===o){var l=rb(i);if(Vb=o,xb=(wb=i).parentNode,Cb=wb.nextSibling,Tb=i,Db=s.group,hS.dragged=wb,_b={target:wb,clientX:(t||e).clientX,clientY:(t||e).clientY},Nb=_b.clientX-l.left,Wb=_b.clientY-l.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,wb.style["will-change"]="all",r=function(){yb("delayEnded",n,{evt:e}),hS.eventCanceled?n._onDrop():(n._disableDelayedDragEvents(),!NO&&n.nativeDraggable&&(wb.draggable=!0),n._triggerDragStart(e,t),vb({sortable:n,name:"choose",originalEvent:e}),JO(wb,s.chosenClass,!0))},s.ignore.split(",").forEach((function(e){tb(wb,e.trim(),fS)})),UO(a,"dragover",cS),UO(a,"mousemove",cS),UO(a,"touchmove",cS),UO(a,"mouseup",n._onDrop),UO(a,"touchend",n._onDrop),UO(a,"touchcancel",n._onDrop),NO&&this.nativeDraggable&&(this.options.touchStartThreshold=4,wb.draggable=!0),yb("delayStart",this,{evt:e}),!s.delay||s.delayOnTouchOnly&&!t||this.nativeDraggable&&(GO||LO))r();else{if(hS.eventCanceled)return void this._onDrop();UO(a,"mouseup",n._disableDelayedDrag),UO(a,"touchend",n._disableDelayedDrag),UO(a,"touchcancel",n._disableDelayedDrag),UO(a,"mousemove",n._delayedDragTouchMoveHandler),UO(a,"touchmove",n._delayedDragTouchMoveHandler),s.supportPointer&&UO(a,"pointermove",n._delayedDragTouchMoveHandler),n._dragStartTimer=setTimeout(r,s.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){wb&&fS(wb),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;qO(e,"mouseup",this._disableDelayedDrag),qO(e,"touchend",this._disableDelayedDrag),qO(e,"touchcancel",this._disableDelayedDrag),qO(e,"mousemove",this._delayedDragTouchMoveHandler),qO(e,"touchmove",this._delayedDragTouchMoveHandler),qO(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?UO(document,"pointermove",this._onTouchMove):UO(document,t?"touchmove":"mousemove",this._onTouchMove):(UO(wb,"dragend",this),UO(Vb,"dragstart",this._onDragStart));try{document.selection?OS((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(e,t){if(Xb=!1,Vb&&wb){yb("dragStarted",this,{evt:t}),this.nativeDraggable&&UO(document,"dragover",dS);var i=this.options;!e&&JO(wb,i.dragClass,!1),JO(wb,i.ghostClass,!0),hS.active=this,e&&this._appendGhost(),vb({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(Mb){this._lastX=Mb.clientX,this._lastY=Mb.clientY,lS();for(var e=document.elementFromPoint(Mb.clientX,Mb.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(Mb.clientX,Mb.clientY))!==t;)t=e;if(wb.parentNode[fb]._isOutsideThisEl(e),t)do{if(t[fb]){if(t[fb]._onDragOver({clientX:Mb.clientX,clientY:Mb.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);uS()}},_onTouchMove:function(e){if(_b){var t=this.options,i=t.fallbackTolerance,r=t.fallbackOffset,n=e.touches?e.touches[0]:e,o=kb&&eb(kb,!0),s=kb&&o&&o.a,a=kb&&o&&o.d,l=iS&&qb&&lb(qb),u=(n.clientX-_b.clientX+r.x)/(s||1)+(l?l[0]-Jb[0]:0)/(s||1),c=(n.clientY-_b.clientY+r.y)/(a||1)+(l?l[1]-Jb[1]:0)/(a||1);if(!hS.active&&!Xb){if(i&&Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))<i)return;this._onDragStart(e,!0)}if(kb){o?(o.e+=u-(Lb||0),o.f+=c-(Gb||0)):o={a:1,b:0,c:0,d:1,e:u,f:c};var d="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");KO(kb,"webkitTransform",d),KO(kb,"mozTransform",d),KO(kb,"msTransform",d),KO(kb,"transform",d),Lb=u,Gb=c,Mb=n}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!kb){var e=this.options.fallbackOnBody?document.body:Vb,t=rb(wb,!0,iS,!0,e),i=this.options;if(iS){for(qb=e;"static"===KO(qb,"position")&&"none"===KO(qb,"transform")&&qb!==document;)qb=qb.parentNode;qb!==document.body&&qb!==document.documentElement?(qb===document&&(qb=ib()),t.top+=qb.scrollTop,t.left+=qb.scrollLeft):qb=ib(),Jb=lb(qb)}JO(kb=wb.cloneNode(!0),i.ghostClass,!1),JO(kb,i.fallbackClass,!0),JO(kb,i.dragClass,!0),KO(kb,"transition",""),KO(kb,"transform",""),KO(kb,"box-sizing","border-box"),KO(kb,"margin",0),KO(kb,"top",t.top),KO(kb,"left",t.left),KO(kb,"width",t.width),KO(kb,"height",t.height),KO(kb,"opacity","0.8"),KO(kb,"position",iS?"absolute":"fixed"),KO(kb,"zIndex","100000"),KO(kb,"pointerEvents","none"),hS.ghost=kb,e.appendChild(kb),KO(kb,"transform-origin",Nb/parseInt(kb.style.width)*100+"% "+Wb/parseInt(kb.style.height)*100+"%")}},_onDragStart:function(e,t){var i=this,r=e.dataTransfer,n=i.options;yb("dragStart",this,{evt:e}),hS.eventCanceled?this._onDrop():(yb("setupClone",this),hS.eventCanceled||(($b=pb(wb)).removeAttribute("id"),$b.draggable=!1,$b.style["will-change"]="",this._hideClone(),JO($b,this.options.chosenClass,!1),hS.clone=$b),i.cloneId=OS((function(){yb("clone",i),hS.eventCanceled||(i.options.removeCloneOnHide||Vb.insertBefore($b,wb),i._hideClone(),vb({sortable:i,name:"clone"}))})),!t&&JO(wb,n.dragClass,!0),t?(jb=!0,i._loopId=setInterval(i._emulateDragOver,50)):(qO(document,"mouseup",i._onDrop),qO(document,"touchend",i._onDrop),qO(document,"touchcancel",i._onDrop),r&&(r.effectAllowed="move",n.setData&&n.setData.call(i,r,wb)),UO(document,"drop",i),KO(wb,"transform","translateZ(0)")),Xb=!0,i._dragStartId=OS(i._dragStarted.bind(i,t,e)),UO(document,"selectstart",i),Bb=!0,WO&&KO(document.body,"user-select","none"))},_onDragOver:function(e){var t,i,r,n,o=this.el,s=e.target,a=this.options,l=a.group,u=hS.active,c=Db===l,d=a.sort,h=Ab||u,p=this,f=!1;if(!Kb){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),s=HO(s,a.draggable,o,!0),P("dragOver"),hS.eventCanceled)return f;if(wb.contains(e.target)||s.animated&&s.animatingX&&s.animatingY||p._ignoreWhileAnimating===s)return R(!1);if(jb=!1,u&&!a.disabled&&(c?d||(r=xb!==Vb):Ab===this||(this.lastPutMode=Db.checkPull(this,u,wb,e))&&l.checkPut(this,u,wb,e))){if(n="vertical"===this._getDirection(e,s),t=rb(wb),P("dragOverValid"),hS.eventCanceled)return f;if(r)return xb=Vb,Q(),this._hideClone(),P("revert"),hS.eventCanceled||(Cb?Vb.insertBefore(wb,Cb):Vb.appendChild(wb)),R(!0);var m=sb(o,a.draggable);if(!m||function(e,t,i){var r=rb(sb(i.el,i.options.draggable)),n=10;return t?e.clientX>r.right+n||e.clientX<=r.right&&e.clientY>r.bottom&&e.clientX>=r.left:e.clientX>r.right&&e.clientY>r.top||e.clientX<=r.right&&e.clientY>r.bottom+n}(e,n,this)&&!m.animated){if(m===wb)return R(!1);if(m&&o===e.target&&(s=m),s&&(i=rb(s)),!1!==pS(Vb,o,wb,t,s,i,e,!!s))return Q(),m&&m.nextSibling?o.insertBefore(wb,m.nextSibling):o.appendChild(wb),xb=o,I(),R(!0)}else if(m&&function(e,t,i){var r=rb(ob(i.el,0,i.options,!0)),n=10;return t?e.clientX<r.left-n||e.clientY<r.top&&e.clientX<r.right:e.clientY<r.top-n||e.clientY<r.bottom&&e.clientX<r.left}(e,n,this)){var g=ob(o,0,a,!0);if(g===wb)return R(!1);if(i=rb(s=g),!1!==pS(Vb,o,wb,t,s,i,e,!1))return Q(),o.insertBefore(wb,g),xb=o,I(),R(!0)}else if(s.parentNode===o){i=rb(s);var O,b,S,y=wb.parentNode!==o,v=!function(e,t,i){var r=i?e.left:e.top,n=i?e.right:e.bottom,o=i?e.width:e.height,s=i?t.left:t.top,a=i?t.right:t.bottom,l=i?t.width:t.height;return r===s||n===a||r+o/2===s+l/2}(wb.animated&&wb.toRect||t,s.animated&&s.toRect||i,n),w=n?"top":"left",x=nb(s,"top","top")||nb(wb,"top","top"),k=x?x.scrollTop:void 0;if(zb!==s&&(b=i[w],Zb=!1,Yb=!v&&a.invertSwap||y),0!==(O=function(e,t,i,r,n,o,s,a){var l=r?e.clientY:e.clientX,u=r?i.height:i.width,c=r?i.top:i.left,d=r?i.bottom:i.right,h=!1;if(!s)if(a&&Ub<u*n){if(!Zb&&(1===Fb?l>c+u*o/2:l<d-u*o/2)&&(Zb=!0),Zb)h=!0;else if(1===Fb?l<c+Ub:l>d-Ub)return-Fb}else if(l>c+u*(1-n)/2&&l<d-u*(1-n)/2)return function(e){return ab(wb)<ab(e)?1:-1}(t);if((h=h||s)&&(l<c+u*o/2||l>d-u*o/2))return l>c+u/2?1:-1;return 0}(e,s,i,n,v?1:a.swapThreshold,null==a.invertedSwapThreshold?a.swapThreshold:a.invertedSwapThreshold,Yb,zb===s))){var V=ab(wb);do{V-=O,S=xb.children[V]}while(S&&("none"===KO(S,"display")||S===kb))}if(0===O||S===s)return R(!1);zb=s,Fb=O;var C=s.nextElementSibling,T=!1,$=pS(Vb,o,wb,t,s,i,e,T=1===O);if(!1!==$)return 1!==$&&-1!==$||(T=1===$),Kb=!0,setTimeout(mS,30),Q(),T&&!C?o.appendChild(wb):s.parentNode.insertBefore(wb,T?C:s),x&&hb(x,0,k-x.scrollTop),xb=wb.parentNode,void 0===b||Yb||(Ub=Math.abs(b-rb(s)[w])),I(),R(!0)}if(o.contains(wb))return R(!1)}return!1}function P(a,l){yb(a,p,IO({evt:e,isOwner:c,axis:n?"vertical":"horizontal",revert:r,dragRect:t,targetRect:i,canSort:d,fromSortable:h,target:s,completed:R,onMove:function(i,r){return pS(Vb,o,wb,t,i,rb(i),e,r)},changed:I},l))}function Q(){P("dragOverAnimationCapture"),p.captureAnimationState(),p!==h&&h.captureAnimationState()}function R(t){return P("dragOverCompleted",{insertion:t}),t&&(c?u._hideClone():u._showClone(p),p!==h&&(JO(wb,Ab?Ab.options.ghostClass:u.options.ghostClass,!1),JO(wb,a.ghostClass,!0)),Ab!==p&&p!==hS.active?Ab=p:p===hS.active&&Ab&&(Ab=null),h===p&&(p._ignoreWhileAnimating=s),p.animateAll((function(){P("dragOverAnimationComplete"),p._ignoreWhileAnimating=null})),p!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(s===wb&&!wb.animated||s===o&&!s.animated)&&(zb=null),a.dragoverBubble||e.rootEl||s===document||(wb.parentNode[fb]._isOutsideThisEl(e.target),!t&&cS(e)),!a.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),f=!0}function I(){Rb=ab(wb),Eb=ab(wb,a.draggable),vb({sortable:p,name:"change",toEl:o,newIndex:Rb,newDraggableIndex:Eb,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){qO(document,"mousemove",this._onTouchMove),qO(document,"touchmove",this._onTouchMove),qO(document,"pointermove",this._onTouchMove),qO(document,"dragover",cS),qO(document,"mousemove",cS),qO(document,"touchmove",cS)},_offUpEvents:function(){var e=this.el.ownerDocument;qO(e,"mouseup",this._onDrop),qO(e,"touchend",this._onDrop),qO(e,"pointerup",this._onDrop),qO(e,"touchcancel",this._onDrop),qO(document,"selectstart",this)},_onDrop:function(e){var t=this.el,i=this.options;Rb=ab(wb),Eb=ab(wb,i.draggable),yb("drop",this,{evt:e}),xb=wb&&wb.parentNode,Rb=ab(wb),Eb=ab(wb,i.draggable),hS.eventCanceled||(Xb=!1,Yb=!1,Zb=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),bS(this.cloneId),bS(this._dragStartId),this.nativeDraggable&&(qO(document,"drop",this),qO(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),WO&&KO(document.body,"user-select",""),KO(wb,"transform",""),e&&(Bb&&(e.cancelable&&e.preventDefault(),!i.dropBubble&&e.stopPropagation()),kb&&kb.parentNode&&kb.parentNode.removeChild(kb),(Vb===xb||Ab&&"clone"!==Ab.lastPutMode)&&$b&&$b.parentNode&&$b.parentNode.removeChild($b),wb&&(this.nativeDraggable&&qO(wb,"dragend",this),fS(wb),wb.style["will-change"]="",Bb&&!Xb&&JO(wb,Ab?Ab.options.ghostClass:this.options.ghostClass,!1),JO(wb,this.options.chosenClass,!1),vb({sortable:this,name:"unchoose",toEl:xb,newIndex:null,newDraggableIndex:null,originalEvent:e}),Vb!==xb?(Rb>=0&&(vb({rootEl:xb,name:"add",toEl:xb,fromEl:Vb,originalEvent:e}),vb({sortable:this,name:"remove",toEl:xb,originalEvent:e}),vb({rootEl:xb,name:"sort",toEl:xb,fromEl:Vb,originalEvent:e}),vb({sortable:this,name:"sort",toEl:xb,originalEvent:e})),Ab&&Ab.save()):Rb!==Qb&&Rb>=0&&(vb({sortable:this,name:"update",toEl:xb,originalEvent:e}),vb({sortable:this,name:"sort",toEl:xb,originalEvent:e})),hS.active&&(null!=Rb&&-1!==Rb||(Rb=Qb,Eb=Ib),vb({sortable:this,name:"end",toEl:xb,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){yb("nulling",this),Vb=wb=xb=kb=Cb=$b=Tb=Pb=_b=Mb=Bb=Rb=Eb=Qb=Ib=zb=Fb=Ab=Db=hS.dragged=hS.ghost=hS.clone=hS.active=null,eS.forEach((function(e){e.checked=!0})),eS.length=Lb=Gb=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":wb&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move");e.cancelable&&e.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],i=this.el.children,r=0,n=i.length,o=this.options;r<n;r++)HO(e=i[r],o.draggable,this.el,!1)&&t.push(e.getAttribute(o.dataIdAttr)||gS(e));return t},sort:function(e,t){var i={},r=this.el;this.toArray().forEach((function(e,t){var n=r.children[t];HO(n,this.options.draggable,r,!1)&&(i[e]=n)}),this),t&&this.captureAnimationState(),e.forEach((function(e){i[e]&&(r.removeChild(i[e]),r.appendChild(i[e]))})),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return HO(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var i=this.options;if(void 0===t)return i[e];var r=bb.modifyOption(this,e,t);i[e]=void 0!==r?r:t,"group"===e&&aS(i)},destroy:function(){yb("destroy",this);var e=this.el;e[fb]=null,qO(e,"mousedown",this._onTapStart),qO(e,"touchstart",this._onTapStart),qO(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(qO(e,"dragover",this),qO(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),Hb.splice(Hb.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Pb){if(yb("hideClone",this),hS.eventCanceled)return;KO($b,"display","none"),this.options.removeCloneOnHide&&$b.parentNode&&$b.parentNode.removeChild($b),Pb=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(Pb){if(yb("showClone",this),hS.eventCanceled)return;wb.parentNode!=Vb||this.options.group.revertClone?Cb?Vb.insertBefore($b,Cb):Vb.appendChild($b):Vb.insertBefore($b,wb),this.options.group.revertClone&&this.animate(wb,$b),KO($b,"display",""),Pb=!1}}else this._hideClone()}},tS&&UO(document,"touchmove",(function(e){(hS.active||Xb)&&e.cancelable&&e.preventDefault()})),hS.utils={on:UO,off:qO,css:KO,find:tb,is:function(e,t){return!!HO(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e},throttle:db,closest:HO,toggleClass:JO,clone:pb,index:ab,nextTick:OS,cancelNextTick:bS,detectDirection:sS,getChild:ob},hS.get=function(e){return e[fb]},hS.mount=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(hS.utils=IO(IO({},hS.utils),e.utils)),bb.mount(e)}))},hS.create=function(e,t){return new hS(e,t)},hS.version="1.15.0";var SS,yS,vS,wS,xS,kS,VS=[],CS=!1;function TS(){VS.forEach((function(e){clearInterval(e.pid)})),VS=[]}function $S(){clearInterval(kS)}var PS=db((function(e,t,i,r){if(t.scroll){var n,o=(e.touches?e.touches[0]:e).clientX,s=(e.touches?e.touches[0]:e).clientY,a=t.scrollSensitivity,l=t.scrollSpeed,u=ib(),c=!1;yS!==i&&(yS=i,TS(),SS=t.scroll,n=t.scrollFn,!0===SS&&(SS=ub(i,!0)));var d=0,h=SS;do{var p=h,f=rb(p),m=f.top,g=f.bottom,O=f.left,b=f.right,S=f.width,y=f.height,v=void 0,w=void 0,x=p.scrollWidth,k=p.scrollHeight,V=KO(p),C=p.scrollLeft,T=p.scrollTop;p===u?(v=S<x&&("auto"===V.overflowX||"scroll"===V.overflowX||"visible"===V.overflowX),w=y<k&&("auto"===V.overflowY||"scroll"===V.overflowY||"visible"===V.overflowY)):(v=S<x&&("auto"===V.overflowX||"scroll"===V.overflowX),w=y<k&&("auto"===V.overflowY||"scroll"===V.overflowY));var $=v&&(Math.abs(b-o)<=a&&C+S<x)-(Math.abs(O-o)<=a&&!!C),P=w&&(Math.abs(g-s)<=a&&T+y<k)-(Math.abs(m-s)<=a&&!!T);if(!VS[d])for(var Q=0;Q<=d;Q++)VS[Q]||(VS[Q]={});VS[d].vx==$&&VS[d].vy==P&&VS[d].el===p||(VS[d].el=p,VS[d].vx=$,VS[d].vy=P,clearInterval(VS[d].pid),0==$&&0==P||(c=!0,VS[d].pid=setInterval(function(){r&&0===this.layer&&hS.active._onTouchMove(xS);var t=VS[this.layer].vy?VS[this.layer].vy*l:0,i=VS[this.layer].vx?VS[this.layer].vx*l:0;"function"==typeof n&&"continue"!==n.call(hS.dragged.parentNode[fb],i,t,e,xS,VS[this.layer].el)||hb(VS[this.layer].el,i,t)}.bind({layer:d}),24))),d++}while(t.bubbleScroll&&h!==u&&(h=ub(h,!1)));CS=c}}),30),QS=function(e){var t=e.originalEvent,i=e.putSortable,r=e.dragEl,n=e.activeSortable,o=e.dispatchSortableEvent,s=e.hideGhostForTarget,a=e.unhideGhostForTarget;if(t){var l=i||n;s();var u=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,c=document.elementFromPoint(u.clientX,u.clientY);a(),l&&!l.el.contains(c)&&(o("spill"),this.onSpill({dragEl:r,putSortable:i}))}};function RS(){}function IS(){}RS.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,i=e.putSortable;this.sortable.captureAnimationState(),i&&i.captureAnimationState();var r=ob(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(t,r):this.sortable.el.appendChild(t),this.sortable.animateAll(),i&&i.animateAll()},drop:QS},AO(RS,{pluginName:"revertOnSpill"}),IS.prototype={onSpill:function(e){var t=e.dragEl,i=e.putSortable||this.sortable;i.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),i.animateAll()},drop:QS},AO(IS,{pluginName:"removeOnSpill"}),hS.mount(new function(){function e(){for(var e in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?UO(document,"dragover",this._handleAutoScroll):this.options.supportPointer?UO(document,"pointermove",this._handleFallbackAutoScroll):t.touches?UO(document,"touchmove",this._handleFallbackAutoScroll):UO(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?qO(document,"dragover",this._handleAutoScroll):(qO(document,"pointermove",this._handleFallbackAutoScroll),qO(document,"touchmove",this._handleFallbackAutoScroll),qO(document,"mousemove",this._handleFallbackAutoScroll)),$S(),TS(),clearTimeout(ZO),ZO=void 0},nulling:function(){xS=yS=SS=CS=kS=vS=wS=null,VS.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var i=this,r=(e.touches?e.touches[0]:e).clientX,n=(e.touches?e.touches[0]:e).clientY,o=document.elementFromPoint(r,n);if(xS=e,t||this.options.forceAutoScrollFallback||GO||LO||WO){PS(e,this.options,o,t);var s=ub(o,!0);!CS||kS&&r===vS&&n===wS||(kS&&$S(),kS=setInterval((function(){var o=ub(document.elementFromPoint(r,n),!0);o!==s&&(s=o,TS()),PS(e,i.options,o,t)}),10),vS=r,wS=n)}else{if(!this.options.bubbleScroll||ub(o,!0)===ib())return void TS();PS(e,this.options,ub(o,!1),!1)}}},AO(e,{pluginName:"scroll",initializeByDefault:!0})}),hS.mount(IS,RS);var ES={},DS={};!function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="up-down-left-right",i=["arrows-alt"],r="f0b2",n="M278.6 9.4c-12.5-12.5-32.8-12.5-45.3 0l-64 64c-9.2 9.2-11.9 22.9-6.9 34.9s16.6 19.8 29.6 19.8h32v96H128V192c0-12.9-7.8-24.6-19.8-29.6s-25.7-2.2-34.9 6.9l-64 64c-12.5 12.5-12.5 32.8 0 45.3l64 64c9.2 9.2 22.9 11.9 34.9 6.9s19.8-16.6 19.8-29.6V288h96v96H192c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9l64 64c12.5 12.5 32.8 12.5 45.3 0l64-64c9.2-9.2 11.9-22.9 6.9-34.9s-16.6-19.8-29.6-19.8H288V288h96v32c0 12.9 7.8 24.6 19.8 29.6s25.7 2.2 34.9-6.9l64-64c12.5-12.5 12.5-32.8 0-45.3l-64-64c-9.2-9.2-22.9-11.9-34.9-6.9s-19.8 16.6-19.8 29.6v32H288V128h32c12.9 0 24.6-7.8 29.6-19.8s2.2-25.7-6.9-34.9l-64-64z";e.definition={prefix:"fas",iconName:t,icon:[512,512,i,r,n]},e.faUpDownLeftRight=e.definition,e.prefix="fas",e.iconName=t,e.width=512,e.height=512,e.ligatures=i,e.unicode=r,e.svgPathData=n,e.aliases=i}(DS),function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=DS;e.definition={prefix:t.prefix,iconName:t.iconName,icon:[t.width,t.height,t.aliases,t.unicode,t.svgPathData]},e.faArrowsAlt=e.definition,e.prefix=t.prefix,e.iconName=t.iconName,e.width=t.width,e.height=t.height,e.ligatures=t.aliases,e.unicode=t.unicode,e.svgPathData=t.svgPathData,e.aliases=t.aliases}(ES);var AS,_S,MS,LS,GS,NS,WS,BS={};!function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="trash",i=[],r="f1f8",n="M135.2 17.7L128 32H32C14.3 32 0 46.3 0 64S14.3 96 32 96H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H320l-7.2-14.3C307.4 6.8 296.3 0 284.2 0H163.8c-12.1 0-23.2 6.8-28.6 17.7zM416 128H32L53.2 467c1.6 25.3 22.6 45 47.9 45H346.9c25.3 0 46.3-19.7 47.9-45L416 128z";e.definition={prefix:"fas",iconName:t,icon:[448,512,i,r,n]},e.faTrash=e.definition,e.prefix="fas",e.iconName=t,e.width=448,e.height=512,e.ligatures=i,e.unicode=r,e.svgPathData=n,e.aliases=i}(BS),AS=i.customElement("rnwppages-search-field-property"),_S=i.query(".searchItemContainer"),AS((MS=class extends ue{constructor(...e){super(...e),babelHelpers.initializerDefineProperty(this,"SearchItemContainer",LS,this)}firstUpdated(e){super.firstUpdated(e)}ContainerRendered(e){}get Block(){return this.model.Element}SubRender(){var e;let i=[sk.Multiple,sk.Date,sk.DateTime,sk.Time,sk.Text,sk.Composed];if(null==this.Block.PageBuilder.DataSource.GetForm())return this.Block.PageBuilder.GetSelectAFormLink();let r=null===(e=this.Block.PageBuilder.DataSource)||void 0===e?void 0:e.GetFields().filter((e=>e.UseInConditions&&i.indexOf(e.Type)>=0));return t.html` <div ${S.ref((e=>this.CreateSortable(e)))} class="searchItemContainer"> ${this.Block.Fields.map((e=>t.html` <div class='searchableFieldItem' style="border: 1px solid #999;margin-bottom: 15px;border-radius: 5px;padding:5px;display: flex;" data-option-id=${e.Options.Id}> <div style="display: flex;flex-direction: column;justify-content: space-between;margin-right: 5px"> <rn-fontawesome style="cursor: pointer;" .icon=${ES.faArrowsAlt} class='searchFieldMove'/> <rn-fontawesome @click=${()=>this.Remove(e)} style="cursor: pointer" class='searchFieldRemove' .icon=${BS.faTrash}/> </div> <div style="flex-grow: 1"> <div class='rncontrol'> <label>Field</label> <select .value=${g.live(e.Options.FieldId+"_"+e.Options.PathId)} style="height: auto;padding: 0;width: 100%;max-width: none;" @change=${t=>this.FieldChanged(t,e,t.target.value,t.target[t.target.selectedIndex])} > <option data-linetype=${ok.None.toString()} id={''}>${RNTranslate("Select a field")}</option> <optgroup .label=${RNTranslate("Fields")}> ${r.map((i=>i.GetDataSections().map(((r,n)=>t.html` <option ?selected="${e.Options.FieldId+"_"+e.Options.PathId==i.Id+"_"+r.PathId}" data-path-id=${r.PathId} data-field-id=${i.Id} data-linetype=${ok.Standard.toString()} .value=${i.Id+"_"+r.PathId}>${(n>0?"    ":"")+r.Label}</option> `))))} </optgroup> </select> </div> <rn-inputs-text .label=${"Label"} .value="${e.Options.Label}" @input="${t=>{e.Options.Label=t.target.value,this.forceUpdate(),this.Block.Refresh()}}"></rn-inputs-text> ${this.GetComparisonDropDown(e)} </div> </div> `))} <div style="margin-top: 10px"> <button style="margin-right: 2px;" @click=${()=>this.AddField()} class=${"rnbtn rnbtn-success btnSearchAddFieldButton"}> <rn-fontawesome .icon=${Y.faPlus}></rn-fontawesome> Add Field</button> </div> </div> `}FieldChanged(e,t,i,r){let n;t.Options.PathId="";let o=r.getAttribute("data-field-id"),s=this.Block.PageBuilder.DataSource.GetFields().find((e=>e.Id==o));null==s?(n=sk.None,t.Options.FieldId="",t.Options.ComparisonType="",this.Block.Refresh(),this.forceUpdate()):n=s.Type,t.Options.FieldId=o,t.Options.PathId=r.getAttribute("data-path-id"),t.Options.SubType=n,s.GetDataSections();let a=this.Block.PageBuilder.DataSource.GetFriendlyName(o,r.getAttribute("data-path-id"),!1,!1);t.Options.Label=null==a?"":a,t.Options.ComparisonType="",this.Block.Refresh(),this.forceUpdate()}AddField(){this.Block.AddField((new xO).Merge()),this.forceUpdate()}GetComparisonDropDown(e){let i=this.Block.PageBuilder.DataSource.GetFields().find((t=>t.Id==e.Options.FieldId));if(null==i)return null;let r=[];switch(i.Type){case sk.List:case sk.Text:case sk.Composed:r.push({Label:"Equal To",Value:fk.Equal}),r.push({Label:"Not Equal To",Value:fk.NotEqual}),r.push({Label:"Contains",Value:fk.Contains}),r.push({Label:"Not Contains",Value:fk.NotContains});break;case sk.DateTime:case sk.Date:case sk.Time:case sk.Number:r.push({Label:"Equal To",Value:fk.Equal}),r.push({Label:"Not Equal To",Value:fk.NotEqual}),r.push({Label:"Greater than",Value:fk.GreaterThan}),r.push({Label:"Greater or equal than",Value:fk.GreaterOrEqualThan}),r.push({Label:"Less than",Value:fk.LessThan}),r.push({Label:"Less or equal than",Value:fk.LessOrEqualThan});break;case sk.Multiple:r.push({Label:"Contains",Value:fk.Contains}),r.push({Label:"Not Contains",Value:fk.NotContains});break;case sk.User:r.push({Label:"Is",Value:fk.UserIs}),r.push({Label:"Is Not",Value:fk.UserIsNot}),r.push({Label:"HasRole",Value:fk.HasRole}),r.push({Label:"Has Not Role",Value:fk.HasNotRole});break;case sk.EntryId:r.push({Label:"Equal To",Value:fk.Equal}),r.push({Label:"Not Equal To",Value:fk.NotEqual}),r.push({Label:"Greater than",Value:fk.GreaterThan}),r.push({Label:"Greater or equal than",Value:fk.GreaterOrEqualThan}),r.push({Label:"Less than",Value:fk.LessThan}),r.push({Label:"Less or equal than",Value:fk.LessOrEqualThan})}return 0==r.length?null:t.html` <rn-inputs-select .label=${"Comparison Type"} .value="${e.Options.ComparisonType}" @change="${t=>{e.Options.ComparisonType=t.detail,this.forceUpdate(),this.Block.Refresh()}}" .options="${r}"></rn-inputs-select>`}async Remove(e){this.Block.Fields.splice(this.Block.Fields.indexOf(e),1),this.Block.Options.Fields.splice(this.Block.Options.Fields.indexOf(e.Options),1),this.model.Refresh(),this.Block.Refresh()}CreateSortable(e){null!=e&&new hS(e,{handle:".searchFieldMove",animation:150,onEnd:t=>{let i=[];e.querySelectorAll(".searchableFieldItem").forEach((e=>{let t=e.getAttribute("data-option-id"),r=this.Block.Fields.find((e=>e.Options.Id.toString()==t));null!=r&&i.push(r)})),this.Block.Fields=i,this.Block.Options.Fields=i.map((e=>e.Options)),this.Block.Refresh()}})}},LS=babelHelpers.applyDecoratedDescriptor(MS.prototype,"SearchItemContainer",[_S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),MS));class zS extends ce{Render(){return t.html`<rnwppages-search-field-property .model="${this}"></rnwppages-search-field-property>`}}class FS extends gO{constructor(e,t){super(e,t),this.Fields=[];for(let e of this.Options.Fields)this.Fields.push(new $O(this,e))}render(){return t.html`<rnwppages-search-field-block .model="${this}"></rnwppages-search-field-block>`}AddField(e){this.Fields.push(new $O(this,e)),this.Options.Fields.push(e),this.Refresh()}GetLabel(){return"Search Bar"}GetProperties(){let e=super.GetProperties(),t=e.GetOrCreateGroup("General",1);return t.AddProperty(new de(this,"Label","Label")),t.AddProperty(new de(this,"SearchButtonLabel","Search Button Label")),e.GetOrCreateGroup("Search Fields",2).AddProperty(new zS(this,"FieldId","").SetRefreshPropertiesPanel()),e}}i.customElement("rnwppages-field-block")(class extends J{SubRender(){let e=this.model.PageBuilder.DataSource.GetFieldById(this.model.Options.FieldId);return t.html` ${this.GetLabel()} ${c.rnIf(null==e&&"__formula"!=this.model.Options.FieldId?t.html`<span style="color:red">Select a field first</span>`:t.html`<p class="fieldValue">${this.model.PageBuilder.DataSource.GetFriendlyName(this.model.Options.FieldId,this.model.Options.PathId,!0,!0)}</p>`)} `}GetLabel(){return""!=this.model.Options.Label?t.html`<label class="fieldLabel">${this.model.Options.Label}</label>`:null}});class US extends Bt{constructor(e,t,i,r){super(e,t,r),this.PathProperty="",this.Filter=[],this.AllowFormulas=!1,this.AllowedTypes=[],this.PathProperty=i}SetAfterValueChanged(e){return this.AfterValueChanged=e,this}SetAllowFormulas(){return this.AllowFormulas=!0,this}SetFilter(e){return this.Filter=e,this}Render(){var e,i;let r=this.GetStringValue(),n="";""!=this.PathProperty&&(n=this.GetStringValue(this.PathProperty)),""==n&&(n="Value");let o=r+"_"+n,s=null!==(e=null===(i=this.Element.PageBuilder.DataSource)||void 0===i?void 0:i.GetFields())&&void 0!==e?e:[];return this.Filter.length>0&&(s=s.filter((e=>this.Filter.indexOf(e.Type)>=0))),t.html`<div style="margin-bottom: 10px"> <div style="margin-bottom: 3px"> <label style="font-weight: bold">${this.Label}</label> </div> ${null==this.Element.PageBuilder.DataSource.GetForm()?this.Element.PageBuilder.GetSelectAFormLink():t.html` <select .value=${g.live(o)} style="height: auto;padding: 3px;width: 100%;max-width: none" @change=${e=>{this.ValueChanged(e)}}> <option ?selected="${""==o}" value="" data-linetype=${ok.None.toString()}>${RNTranslate("Select a field")}</option> <optgroup .label=${RNTranslate("Fields")}> ${s.map((e=>e.GetDataSections("Filter").filter(((e,t)=>0==t||""!=this.PathProperty)).map(((i,r)=>t.html` <option ?selected="${o==e.Id+"_"+i.PathId}" data-path-id=${i.PathId} data-field-id=${e.Id} .value=${e.Id+"_"+i.PathId}>${(r>0?"    ":"")+i.Label}</option> `))))} </optgroup> ${c.rnIf(this.AllowFormulas&&t.html` <optgroup label="Formulas"> ${d.repeat(this.Element.PageBuilder.Options.Formulas,(e=>e.Id),(e=>t.html`<option ?selected="${o=="__formula_"+e.Id}" value="__formula" data-path-id=${e.Id}>${this.Element.PageBuilder.DataSource.GetFriendlyName("__formula",e.Id.toString())}</option>`))} <option value="__formula" data-path-id="__new">New Formula</option> </optgroup> `)} </select> `} </div>`}async ValueChanged(e){if("__formula"==e.target.value&&"__new"==e.target[e.target.selectedIndex].getAttribute("data-path-id")){if(""==rnBuilderVar.IsPR)return h.Dialog.Show(t.html`<rnwppages-license-required .message=${"Formulas are only available in the full version"}></rnwppages-license-required>`),this.SetValue("",this.PropertyName),this.SetValue("",this.PathProperty),this.Refresh(),void(this.AfterValueChanged&&this.AfterValueChanged());let e=await h.Dialog.Show(t.html`<rnwppages-formula-dialog .pageBuilder="${this.Element.PageBuilder}"></rnwppages-formula-dialog>`);return null!=e?(this.Element.PageBuilder.AddFormula(e),this.SetValue("__formula",this.PropertyName),this.SetValue(e.Id.toString(),this.PathProperty)):(this.SetValue("",this.PropertyName),this.SetValue("",this.PathProperty)),this.Refresh(),void(this.AfterValueChanged&&this.AfterValueChanged())}this.SetValue(e.target[e.target.selectedIndex].getAttribute("data-field-id"),this.PropertyName),""!=this.PathProperty&&this.SetValue(e.target[e.target.selectedIndex].getAttribute("data-path-id"),this.PathProperty),this.AfterValueChanged&&this.AfterValueChanged()}}i.customElement("rnwppages-checkbox-property")(class extends ue{SubRender(){return t.html` <div> <div style="display: flex;align-items: center;" @click=${e=>this.model.SetBooleanValue(!this.model.GetBooleanValue())}> <input type='checkbox' .checked=${g.live(this.model.GetBooleanValue())}/> <label style="margin-left: 3px;font-weight: bold;">${this.model.Label}</label> </div> ${this.model.MaybeAddHint()} </div> `}GetLabel(){return null}});class qS extends ce{constructor(e,t,i){super(e,t,i)}Render(){return t.html`<rnwppages-checkbox-property .model="${this}"></rnwppages-checkbox-property>`}}i.customElement("rnwppages-role-property")(class extends ue{SubRender(){return t.html`<rn-inputs-select style="min-height: 30px" multiple .value="${this.model.GetValue()}" @change="${e=>this.model.SetValue(e.detail)}" .propertyName="${"Type"}" .options="${[{Label:"User that submitted the form",Value:"__usersubmitted"},...rnBuilderVar.Roles.map((e=>({Label:e.Label,Value:e.Id})))]}"></rn-inputs-select>`}});class XS extends ce{constructor(e,t,i){super(e,t,i),this.PlaceHolder="Select.."}SetPlaceHolder(e){return this.PlaceHolder=e,this}Render(){return t.html`<rnwppages-role-property .model="${this}"></rnwppages-role-property>`}}class jS extends gO{constructor(e,t){super(e,t)}InitializeStartingValues(){}GetLabel(){return"Field"}GetProperties(){var e;let i=super.GetProperties(),r=i.GetOrCreateGroup("General",1);r.AddProperty(new de(this,"Label","Label")),r.AddProperty(new US(this,"FieldId","PathId","Field").SetAllowFormulas().SetAfterValueChanged((()=>{var e;this.Options.Editable=!1,this.Options.Label=null===(e=this.PageBuilder.DataSource)||void 0===e?void 0:e.GetFriendlyName(this.Options.FieldId,this.Options.PathId),this.Refresh(),n.EventManager.Publish("RefreshFieldProperties")})));let o=null===(e=this.PageBuilder.DataSource)||void 0===e?void 0:e.GetFieldById(this.Options.FieldId);return null!=o&&[sk.Text,sk.Multiple].indexOf(o.Type)>=0&&(r.AddProperty(new qS(this,"Editable","Editable (Full version only)").SetOnChange((e=>{""!=rnBuilderVar.IsPR?this.Options.Editable=e:h.Dialog.Show(t.html` <rnwppages-license-required .message="${"Sorry this feature is only available in the full version"}"></rnwppages-license-required>`)})).SetRefreshPropertiesPanel()),this.Options.Editable&&r.AddProperty(new XS(this,"AllowedRoles","User roles that can edit the entries (If left empty everyone will be able to edit the entries)"))),i}GetStyles(e=""){let t=super.GetStyles(e);return t.GetOrCreateGroup("Field Value").AddProperties(ai.GetProperties(this,".fieldValue","FontSize|FontWeight|FontStyle|Background-Color|Color|Padding|TextAlign")),t.GetOrCreateGroup("Field Label").AddProperties(ai.GetProperties(this,".fieldLabel","FontSize|FontWeight|FontStyle|Background-Color|Color|Padding|TextAlign")),t}render(){return t.html`<rnwppages-field-block .model="${this}"></rnwppages-field-block>`}GetFormulas(e=[]){super.GetFormulas(e),"__formula"==this.Options.FieldId&&e.push(this.Options.PathId)}}let HS=(GS=r.StoreDataType(String),NS=class extends D{constructor(...e){super(...e),babelHelpers.initializerDefineProperty(this,"AllowedRoles",WS,this)}LoadDefaultValues(){super.LoadDefaultValues(),this.Type=E.Field,this.FieldId="",this.PathId="",this.Label="",this.Editable=!1,this.AllowedRoles=[]}},WS=babelHelpers.applyDecoratedDescriptor(NS.prototype,"AllowedRoles",[GS],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),NS);class ZS extends D{LoadDefaultValues(){super.LoadDefaultValues(),this.Type=E.FieldSummary}}var YS,JS,KS,ey,ty;i.customElement("rnwppages-summary-block")(class extends J{SubRender(){return this.model.PageBuilder.DataSource.GetFieldById(this.model.Options.FieldId),t.html` <div style="text-align: center;padding: 10px;background-color: #eee;border: 1px solid #bbbb;"> <p style="font-weight: bold;margin-bottom: 3px">Summary Block</p> <p>This block will display all the filled fields of the form</p> </div> `}});class iy extends gO{constructor(e,t){super(e,t)}InitializeStartingValues(){}GetLabel(){return"Field Summary"}GetProperties(){return super.GetProperties()}render(){return t.html`<rnwppages-summary-block .model="${this}"></rnwppages-summary-block>`}}let ry=(YS=r.StoreAutoIncrement("GridColumnId"),JS=r.StoreDataType(Object),KS=class extends r.StoreBase{constructor(...e){super(...e),babelHelpers.initializerDefineProperty(this,"ColumnId",ey,this),babelHelpers.initializerDefineProperty(this,"Header",ty,this)}LoadDefaultValues(){this.ColumnId=0,this.Header="Column",this.Type="Text",this.Width=""}},ey=babelHelpers.applyDecoratedDescriptor(KS.prototype,"ColumnId",[YS],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ty=babelHelpers.applyDecoratedDescriptor(KS.prototype,"Header",[JS],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),KS);var ny,oy,sy;let ay;!function(e){e.URL="URL",e.EditEntry="EditEntry",e.ViewEntry="ViewEntry",e.MainPage="MainPage",e.DeleteEntry="DeleteEntry",e.ApproveEntry="ApproveEntry",e.DisapproveEntry="DisapproveEntry"}(ay||(ay={}));let ly=(ny=r.StoreDataType(Object),oy=class extends ry{constructor(...e){super(...e),babelHelpers.initializerDefineProperty(this,"Text",sy,this)}LoadDefaultValues(){super.LoadDefaultValues(),this.Type="Link",this.LinkType=ay.URL,this.Text=null,this.OpenInNewTab=!1,this.Value=""}},sy=babelHelpers.applyDecoratedDescriptor(oy.prototype,"Text",[ny],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oy);var uy,cy,dy,hy,py,fy,my,gy;let Oy=(uy=r.StoreDataType(Object),cy=r.StoreDataType(Object),dy=class extends D{constructor(...e){super(...e),babelHelpers.initializerDefineProperty(this,"Text",hy,this),babelHelpers.initializerDefineProperty(this,"Value",py,this)}LoadDefaultValues(){super.LoadDefaultValues(),this.Type=E.Link,this.Text=null,this.Style="Link",this.OpenInNewTab=!1,this.LinkType=ay.URL,this.Value=null,this.Icon=(new A).Merge()}},hy=babelHelpers.applyDecoratedDescriptor(dy.prototype,"Text",[uy],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),py=babelHelpers.applyDecoratedDescriptor(dy.prototype,"Value",[cy],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dy),by=(fy=r.StoreDataType(Object),my=class extends r.StoreBase{constructor(...e){super(...e),babelHelpers.initializerDefineProperty(this,"Value",gy,this)}LoadDefaultValues(){this.LinkType=ay.URL,this.Value=null,this.OpenInNewTab=!1}},gy=babelHelpers.applyDecoratedDescriptor(my.prototype,"Value",[fy],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),my);i.customElement("rnwppages-link-block")(class extends J{SubRender(){return null==this.model.Generator&&(this.model.Generator=new k.SingleLineGenerator(this.model.PageBuilder)),null==this.model.Text&&(this.model.Text=this.model.Generator.ParseContent(this.model.Options.Text)),"Link"==this.model.Options.Style?this.GenerateLink():this.GenerateButton()}GenerateLink(){return t.html`<a href="#" @click="${e=>e.preventDefault()}">${this.model.PageBuilder.MaybeGenerateIcon(this.model.Options.Icon)}${this.model.Text}</a>`}GenerateButton(){return t.html`<a class="linkButton" @click="${e=>e.preventDefault()}">${this.model.PageBuilder.MaybeGenerateIcon(this.model.Options.Icon)}${this.model.Text}</a>`}}),i.customElement("rn-text-with-tags-property")(class extends ue{constructor(...e){super(...e),this.Placeholder=""}static get properties(){return{}}SubRender(){return t.html` <div style="position: relative;"> <rn-single-line-text-editor .collection="${this.model.Collections}" .value="${this.model.GetValue()}" @change="${e=>{this.model.SetValue(e.detail)}}"></rn-single-line-text-editor> </div> `}SetPlaceholder(e){return this.Placeholder=e,this}});class Sy extends ce{constructor(e,t,i){super(e,t,i),this.Hint="",this.Collections=new V.SingleLineCollection}SetHint(e){return this.Hint=e,this}SetCreateGroup(e,t,i=null){return this.Collections.CreateGroup(e,t,i),this}SetAddFieldsGroup(){if(!this.Collections.Groups.some((e=>"Field"==e.Type)))return this.Collections.CreateGroup("Field","Fields",(e=>{var t;return null===(t=this.Element.PageBuilder.DataSource.GetFields())||void 0===t?void 0:t.forEach((t=>{t.GetDataSections("Display").forEach(((t,i)=>{e.CreateItem(t.Id+"_"+t.PathId,this.Element.PageBuilder.DataSource.GetFriendlyName(t.Id,t.PathId,!0,!1),0==i?0:1)}))}))})),this}Render(){return t.html`<rn-text-with-tags-property .model=${this}></rn-text-with-tags-property>`}}var yy,vy,wy,xy,ky,Vy=[{Source:"brands",Value:"42-group"},{Source:"brands",Value:"500px"},{Source:"brands",Value:"accessible-icon"},{Source:"brands",Value:"accusoft"},{Source:"brands",Value:"adn"},{Source:"brands",Value:"adversal"},{Source:"brands",Value:"affiliatetheme"},{Source:"brands",Value:"airbnb"},{Source:"brands",Value:"algolia"},{Source:"brands",Value:"alipay"},{Source:"brands",Value:"amazon-pay"},{Source:"brands",Value:"amazon"},{Source:"brands",Value:"amilia"},{Source:"brands",Value:"android"},{Source:"brands",Value:"angellist"},{Source:"brands",Value:"angrycreative"},{Source:"brands",Value:"angular"},{Source:"brands",Value:"app-store-ios"},{Source:"brands",Value:"app-store"},{Source:"brands",Value:"apper"},{Source:"brands",Value:"apple-pay"},{Source:"brands",Value:"apple"},{Source:"brands",Value:"artstation"},{Source:"brands",Value:"asymmetrik"},{Source:"brands",Value:"atlassian"},{Source:"brands",Value:"audible"},{Source:"brands",Value:"autoprefixer"},{Source:"brands",Value:"avianex"},{Source:"brands",Value:"aviato"},{Source:"brands",Value:"aws"},{Source:"brands",Value:"bandcamp"},{Source:"brands",Value:"battle-net"},{Source:"brands",Value:"behance"},{Source:"brands",Value:"bilibili"},{Source:"brands",Value:"bimobject"},{Source:"brands",Value:"bitbucket"},{Source:"brands",Value:"bitcoin"},{Source:"brands",Value:"bity"},{Source:"brands",Value:"black-tie"},{Source:"brands",Value:"blackberry"},{Source:"brands",Value:"blogger-b"},{Source:"brands",Value:"blogger"},{Source:"brands",Value:"bluetooth-b"},{Source:"brands",Value:"bluetooth"},{Source:"brands",Value:"bootstrap"},{Source:"brands",Value:"bots"},{Source:"brands",Value:"btc"},{Source:"brands",Value:"buffer"},{Source:"brands",Value:"buromobelexperte"},{Source:"brands",Value:"buy-n-large"},{Source:"brands",Value:"buysellads"},{Source:"brands",Value:"canadian-maple-leaf"},{Source:"brands",Value:"cc-amazon-pay"},{Source:"brands",Value:"cc-amex"},{Source:"brands",Value:"cc-apple-pay"},{Source:"brands",Value:"cc-diners-club"},{Source:"brands",Value:"cc-discover"},{Source:"brands",Value:"cc-jcb"},{Source:"brands",Value:"cc-mastercard"},{Source:"brands",Value:"cc-paypal"},{Source:"brands",Value:"cc-stripe"},{Source:"brands",Value:"cc-visa"},{Source:"brands",Value:"centercode"},{Source:"brands",Value:"centos"},{Source:"brands",Value:"chrome"},{Source:"brands",Value:"chromecast"},{Source:"brands",Value:"cloudflare"},{Source:"brands",Value:"cloudscale"},{Source:"brands",Value:"cloudsmith"},{Source:"brands",Value:"cloudversify"},{Source:"brands",Value:"cmplid"},{Source:"brands",Value:"codepen"},{Source:"brands",Value:"codiepie"},{Source:"brands",Value:"confluence"},{Source:"brands",Value:"connectdevelop"},{Source:"brands",Value:"contao"},{Source:"brands",Value:"cotton-bureau"},{Source:"brands",Value:"cpanel"},{Source:"brands",Value:"creative-commons-by"},{Source:"brands",Value:"creative-commons-nc-eu"},{Source:"brands",Value:"creative-commons-nc-jp"},{Source:"brands",Value:"creative-commons-nc"},{Source:"brands",Value:"creative-commons-nd"},{Source:"brands",Value:"creative-commons-pd-alt"},{Source:"brands",Value:"creative-commons-pd"},{Source:"brands",Value:"creative-commons-remix"},{Source:"brands",Value:"creative-commons-sa"},{Source:"brands",Value:"creative-commons-sampling-plus"},{Source:"brands",Value:"creative-commons-sampling"},{Source:"brands",Value:"creative-commons-share"},{Source:"brands",Value:"creative-commons-zero"},{Source:"brands",Value:"creative-commons"},{Source:"brands",Value:"critical-role"},{Source:"brands",Value:"css3-alt"},{Source:"brands",Value:"css3"},{Source:"brands",Value:"cuttlefish"},{Source:"brands",Value:"d-and-d-beyond"},{Source:"brands",Value:"d-and-d"},{Source:"brands",Value:"dailymotion"},{Source:"brands",Value:"dashcube"},{Source:"brands",Value:"deezer"},{Source:"brands",Value:"delicious"},{Source:"brands",Value:"deploydog"},{Source:"brands",Value:"deskpro"},{Source:"brands",Value:"dev"},{Source:"brands",Value:"deviantart"},{Source:"brands",Value:"dhl"},{Source:"brands",Value:"diaspora"},{Source:"brands",Value:"digg"},{Source:"brands",Value:"digital-ocean"},{Source:"brands",Value:"discord"},{Source:"brands",Value:"discourse"},{Source:"brands",Value:"dochub"},{Source:"brands",Value:"docker"},{Source:"brands",Value:"draft2digital"},{Source:"brands",Value:"dribbble"},{Source:"brands",Value:"dropbox"},{Source:"brands",Value:"drupal"},{Source:"brands",Value:"dyalog"},{Source:"brands",Value:"earlybirds"},{Source:"brands",Value:"ebay"},{Source:"brands",Value:"edge-legacy"},{Source:"brands",Value:"edge"},{Source:"brands",Value:"elementor"},{Source:"brands",Value:"ello"},{Source:"brands",Value:"ember"},{Source:"brands",Value:"empire"},{Source:"brands",Value:"envira"},{Source:"brands",Value:"erlang"},{Source:"brands",Value:"ethereum"},{Source:"brands",Value:"etsy"},{Source:"brands",Value:"evernote"},{Source:"brands",Value:"expeditedssl"},{Source:"brands",Value:"facebook-f"},{Source:"brands",Value:"facebook-messenger"},{Source:"brands",Value:"facebook"},{Source:"brands",Value:"fantasy-flight-games"},{Source:"brands",Value:"fedex"},{Source:"brands",Value:"fedora"},{Source:"brands",Value:"figma"},{Source:"brands",Value:"firefox-browser"},{Source:"brands",Value:"firefox"},{Source:"brands",Value:"first-order-alt"},{Source:"brands",Value:"first-order"},{Source:"brands",Value:"firstdraft"},{Source:"brands",Value:"flickr"},{Source:"brands",Value:"flipboard"},{Source:"brands",Value:"fly"},{Source:"brands",Value:"font-awesome"},{Source:"brands",Value:"fonticons-fi"},{Source:"brands",Value:"fonticons"},{Source:"brands",Value:"fort-awesome-alt"},{Source:"brands",Value:"fort-awesome"},{Source:"brands",Value:"forumbee"},{Source:"brands",Value:"foursquare"},{Source:"brands",Value:"free-code-camp"},{Source:"brands",Value:"freebsd"},{Source:"brands",Value:"fulcrum"},{Source:"brands",Value:"galactic-republic"},{Source:"brands",Value:"galactic-senate"},{Source:"brands",Value:"get-pocket"},{Source:"brands",Value:"gg-circle"},{Source:"brands",Value:"gg"},{Source:"brands",Value:"git-alt"},{Source:"brands",Value:"git"},{Source:"brands",Value:"github-alt"},{Source:"brands",Value:"github"},{Source:"brands",Value:"gitkraken"},{Source:"brands",Value:"gitlab"},{Source:"brands",Value:"gitter"},{Source:"brands",Value:"glide-g"},{Source:"brands",Value:"glide"},{Source:"brands",Value:"gofore"},{Source:"brands",Value:"golang"},{Source:"brands",Value:"goodreads-g"},{Source:"brands",Value:"goodreads"},{Source:"brands",Value:"google-drive"},{Source:"brands",Value:"google-pay"},{Source:"brands",Value:"google-play"},{Source:"brands",Value:"google-plus-g"},{Source:"brands",Value:"google-plus"},{Source:"brands",Value:"google-wallet"},{Source:"brands",Value:"google"},{Source:"brands",Value:"gratipay"},{Source:"brands",Value:"grav"},{Source:"brands",Value:"gripfire"},{Source:"brands",Value:"grunt"},{Source:"brands",Value:"guilded"},{Source:"brands",Value:"gulp"},{Source:"brands",Value:"hacker-news"},{Source:"brands",Value:"hackerrank"},{Source:"brands",Value:"hashnode"},{Source:"brands",Value:"hips"},{Source:"brands",Value:"hire-a-helper"},{Source:"brands",Value:"hive"},{Source:"brands",Value:"hooli"},{Source:"brands",Value:"hornbill"},{Source:"brands",Value:"hotjar"},{Source:"brands",Value:"houzz"},{Source:"brands",Value:"html5"},{Source:"brands",Value:"hubspot"},{Source:"brands",Value:"ideal"},{Source:"brands",Value:"imdb"},{Source:"brands",Value:"instagram"},{Source:"brands",Value:"instalod"},{Source:"brands",Value:"intercom"},{Source:"brands",Value:"internet-explorer"},{Source:"brands",Value:"invision"},{Source:"brands",Value:"ioxhost"},{Source:"brands",Value:"itch-io"},{Source:"brands",Value:"itunes-note"},{Source:"brands",Value:"itunes"},{Source:"brands",Value:"java"},{Source:"brands",Value:"jedi-order"},{Source:"brands",Value:"jenkins"},{Source:"brands",Value:"jira"},{Source:"brands",Value:"joget"},{Source:"brands",Value:"joomla"},{Source:"brands",Value:"js"},{Source:"brands",Value:"jsfiddle"},{Source:"brands",Value:"kaggle"},{Source:"brands",Value:"keybase"},{Source:"brands",Value:"keycdn"},{Source:"brands",Value:"kickstarter-k"},{Source:"brands",Value:"kickstarter"},{Source:"brands",Value:"korvue"},{Source:"brands",Value:"laravel"},{Source:"brands",Value:"lastfm"},{Source:"brands",Value:"leanpub"},{Source:"brands",Value:"less"},{Source:"brands",Value:"line"},{Source:"brands",Value:"linkedin-in"},{Source:"brands",Value:"linkedin"},{Source:"brands",Value:"linode"},{Source:"brands",Value:"linux"},{Source:"brands",Value:"lyft"},{Source:"brands",Value:"magento"},{Source:"brands",Value:"mailchimp"},{Source:"brands",Value:"mandalorian"},{Source:"brands",Value:"markdown"},{Source:"brands",Value:"mastodon"},{Source:"brands",Value:"maxcdn"},{Source:"brands",Value:"mdb"},{Source:"brands",Value:"medapps"},{Source:"brands",Value:"medium"},{Source:"brands",Value:"medrt"},{Source:"brands",Value:"meetup"},{Source:"brands",Value:"megaport"},{Source:"brands",Value:"mendeley"},{Source:"brands",Value:"meta"},{Source:"brands",Value:"microblog"},{Source:"brands",Value:"microsoft"},{Source:"brands",Value:"mix"},{Source:"brands",Value:"mixcloud"},{Source:"brands",Value:"mixer"},{Source:"brands",Value:"mizuni"},{Source:"brands",Value:"modx"},{Source:"brands",Value:"monero"},{Source:"brands",Value:"names"},{Source:"brands",Value:"napster"},{Source:"brands",Value:"neos"},{Source:"brands",Value:"nfc-directional"},{Source:"brands",Value:"nfc-symbol"},{Source:"brands",Value:"nimblr"},{Source:"brands",Value:"node-js"},{Source:"brands",Value:"node"},{Source:"brands",Value:"npm"},{Source:"brands",Value:"ns8"},{Source:"brands",Value:"nutritionix"},{Source:"brands",Value:"octopus-deploy"},{Source:"brands",Value:"odnoklassniki"},{Source:"brands",Value:"old-republic"},{Source:"brands",Value:"opencart"},{Source:"brands",Value:"openid"},{Source:"brands",Value:"opera"},{Source:"brands",Value:"optin-monster"},{Source:"brands",Value:"orcid"},{Source:"brands",Value:"osi"},{Source:"brands",Value:"padlet"},{Source:"brands",Value:"page4"},{Source:"brands",Value:"pagelines"},{Source:"brands",Value:"palfed"},{Source:"brands",Value:"patreon"},{Source:"brands",Value:"paypal"},{Source:"brands",Value:"perbyte"},{Source:"brands",Value:"periscope"},{Source:"brands",Value:"phabricator"},{Source:"brands",Value:"phoenix-framework"},{Source:"brands",Value:"phoenix-squadron"},{Source:"brands",Value:"php"},{Source:"brands",Value:"pied-piper-alt"},{Source:"brands",Value:"pied-piper-hat"},{Source:"brands",Value:"pied-piper-pp"},{Source:"brands",Value:"pied-piper"},{Source:"brands",Value:"pinterest-p"},{Source:"brands",Value:"pinterest"},{Source:"brands",Value:"pix"},{Source:"brands",Value:"playstation"},{Source:"brands",Value:"product-hunt"},{Source:"brands",Value:"pushed"},{Source:"brands",Value:"python"},{Source:"brands",Value:"qq"},{Source:"brands",Value:"quinscape"},{Source:"brands",Value:"quora"},{Source:"brands",Value:"r-project"},{Source:"brands",Value:"raspberry-pi"},{Source:"brands",Value:"ravelry"},{Source:"brands",Value:"react"},{Source:"brands",Value:"reacteurope"},{Source:"brands",Value:"readme"},{Source:"brands",Value:"rebel"},{Source:"brands",Value:"red-river"},{Source:"brands",Value:"reddit-alien"},{Source:"brands",Value:"reddit"},{Source:"brands",Value:"redhat"},{Source:"brands",Value:"renren"},{Source:"brands",Value:"replyd"},{Source:"brands",Value:"researchgate"},{Source:"brands",Value:"resolving"},{Source:"brands",Value:"rev"},{Source:"brands",Value:"rocketchat"},{Source:"brands",Value:"rockrms"},{Source:"brands",Value:"rust"},{Source:"brands",Value:"safari"},{Source:"brands",Value:"salesforce"},{Source:"brands",Value:"sass"},{Source:"brands",Value:"schlix"},{Source:"brands",Value:"screenpal"},{Source:"brands",Value:"scribd"},{Source:"brands",Value:"searchengin"},{Source:"brands",Value:"sellcast"},{Source:"brands",Value:"sellsy"},{Source:"brands",Value:"servicestack"},{Source:"brands",Value:"shirtsinbulk"},{Source:"brands",Value:"shopify"},{Source:"brands",Value:"shopware"},{Source:"brands",Value:"simplybuilt"},{Source:"brands",Value:"sistrix"},{Source:"brands",Value:"sith"},{Source:"brands",Value:"sitrox"},{Source:"brands",Value:"sketch"},{Source:"brands",Value:"skyatlas"},{Source:"brands",Value:"skype"},{Source:"brands",Value:"slack"},{Source:"brands",Value:"slideshare"},{Source:"brands",Value:"snapchat"},{Source:"brands",Value:"soundcloud"},{Source:"brands",Value:"sourcetree"},{Source:"brands",Value:"space-awesome"},{Source:"brands",Value:"speakap"},{Source:"brands",Value:"speaker-deck"},{Source:"brands",Value:"spotify"},{Source:"brands",Value:"square-behance"},{Source:"brands",Value:"square-dribbble"},{Source:"brands",Value:"square-facebook"},{Source:"brands",Value:"square-font-awesome-stroke"},{Source:"brands",Value:"square-font-awesome"},{Source:"brands",Value:"square-git"},{Source:"brands",Value:"square-github"},{Source:"brands",Value:"square-gitlab"},{Source:"brands",Value:"square-google-plus"},{Source:"brands",Value:"square-hacker-news"},{Source:"brands",Value:"square-instagram"},{Source:"brands",Value:"square-js"},{Source:"brands",Value:"square-lastfm"},{Source:"brands",Value:"square-odnoklassniki"},{Source:"brands",Value:"square-pied-piper"},{Source:"brands",Value:"square-pinterest"},{Source:"brands",Value:"square-reddit"},{Source:"brands",Value:"square-snapchat"},{Source:"brands",Value:"square-steam"},{Source:"brands",Value:"square-tumblr"},{Source:"brands",Value:"square-twitter"},{Source:"brands",Value:"square-viadeo"},{Source:"brands",Value:"square-vimeo"},{Source:"brands",Value:"square-whatsapp"},{Source:"brands",Value:"square-xing"},{Source:"brands",Value:"square-youtube"},{Source:"brands",Value:"squarespace"},{Source:"brands",Value:"stack-exchange"},{Source:"brands",Value:"stack-overflow"},{Source:"brands",Value:"stackpath"},{Source:"brands",Value:"staylinked"},{Source:"brands",Value:"steam-symbol"},{Source:"brands",Value:"steam"},{Source:"brands",Value:"sticker-mule"},{Source:"brands",Value:"strava"},{Source:"brands",Value:"stripe-s"},{Source:"brands",Value:"stripe"},{Source:"brands",Value:"studiovinari"},{Source:"brands",Value:"stumbleupon-circle"},{Source:"brands",Value:"stumbleupon"},{Source:"brands",Value:"superpowers"},{Source:"brands",Value:"supple"},{Source:"brands",Value:"suse"},{Source:"brands",Value:"swift"},{Source:"brands",Value:"symfony"},{Source:"brands",Value:"teamspeak"},{Source:"brands",Value:"telegram"},{Source:"brands",Value:"tencent-weibo"},{Source:"brands",Value:"the-red-yeti"},{Source:"brands",Value:"themeco"},{Source:"brands",Value:"themeisle"},{Source:"brands",Value:"think-peaks"},{Source:"brands",Value:"tiktok"},{Source:"brands",Value:"trade-federation"},{Source:"brands",Value:"trello"},{Source:"brands",Value:"tumblr"},{Source:"brands",Value:"twitch"},{Source:"brands",Value:"twitter"},{Source:"brands",Value:"typo3"},{Source:"brands",Value:"uber"},{Source:"brands",Value:"ubuntu"},{Source:"brands",Value:"uikit"},{Source:"brands",Value:"umbraco"},{Source:"brands",Value:"uncharted"},{Source:"brands",Value:"uniregistry"},{Source:"brands",Value:"unity"},{Source:"brands",Value:"unsplash"},{Source:"brands",Value:"untappd"},{Source:"brands",Value:"ups"},{Source:"brands",Value:"usb"},{Source:"brands",Value:"usps"},{Source:"brands",Value:"ussunnah"},{Source:"brands",Value:"vaadin"},{Source:"brands",Value:"viacoin"},{Source:"brands",Value:"viadeo"},{Source:"brands",Value:"viber"},{Source:"brands",Value:"vimeo-v"},{Source:"brands",Value:"vimeo"},{Source:"brands",Value:"vine"},{Source:"brands",Value:"vk"},{Source:"brands",Value:"vnv"},{Source:"brands",Value:"vuejs"},{Source:"brands",Value:"watchman-monitoring"},{Source:"brands",Value:"waze"},{Source:"brands",Value:"weebly"},{Source:"brands",Value:"weibo"},{Source:"brands",Value:"weixin"},{Source:"brands",Value:"whatsapp"},{Source:"brands",Value:"whmcs"},{Source:"brands",Value:"wikipedia-w"},{Source:"brands",Value:"windows"},{Source:"brands",Value:"wirsindhandwerk"},{Source:"brands",Value:"wix"},{Source:"brands",Value:"wizards-of-the-coast"},{Source:"brands",Value:"wodu"},{Source:"brands",Value:"wolf-pack-battalion"},{Source:"brands",Value:"wordpress-simple"},{Source:"brands",Value:"wordpress"},{Source:"brands",Value:"wpbeginner"},{Source:"brands",Value:"wpexplorer"},{Source:"brands",Value:"wpforms"},{Source:"brands",Value:"wpressr"},{Source:"brands",Value:"xbox"},{Source:"brands",Value:"xing"},{Source:"brands",Value:"y-combinator"},{Source:"brands",Value:"yahoo"},{Source:"brands",Value:"yammer"},{Source:"brands",Value:"yandex-international"},{Source:"brands",Value:"yandex"},{Source:"brands",Value:"yarn"},{Source:"brands",Value:"yelp"},{Source:"brands",Value:"yoast"},{Source:"brands",Value:"youtube"},{Source:"brands",Value:"zhihu"},{Source:"solid",Value:"solid"},{Source:"solid",Value:"1"},{Source:"solid",Value:"2"},{Source:"solid",Value:"3"},{Source:"solid",Value:"4"},{Source:"solid",Value:"5"},{Source:"solid",Value:"6"},{Source:"solid",Value:"7"},{Source:"solid",Value:"8"},{Source:"solid",Value:"9"},{Source:"solid",Value:"a"},{Source:"solid",Value:"address-book"},{Source:"solid",Value:"address-card"},{Source:"solid",Value:"align-center"},{Source:"solid",Value:"align-justify"},{Source:"solid",Value:"align-left"},{Source:"solid",Value:"align-right"},{Source:"solid",Value:"anchor-circle-check"},{Source:"solid",Value:"anchor-circle-exclamation"},{Source:"solid",Value:"anchor-circle-xmark"},{Source:"solid",Value:"anchor-lock"},{Source:"solid",Value:"anchor"},{Source:"solid",Value:"angle-down"},{Source:"solid",Value:"angle-left"},{Source:"solid",Value:"angle-right"},{Source:"solid",Value:"angle-up"},{Source:"solid",Value:"angles-down"},{Source:"solid",Value:"angles-left"},{Source:"solid",Value:"angles-right"},{Source:"solid",Value:"angles-up"},{Source:"solid",Value:"ankh"},{Source:"solid",Value:"apple-whole"},{Source:"solid",Value:"archway"},{Source:"solid",Value:"arrow-down-1-9"},{Source:"solid",Value:"arrow-down-9-1"},{Source:"solid",Value:"arrow-down-a-z"},{Source:"solid",Value:"arrow-down-long"},{Source:"solid",Value:"arrow-down-short-wide"},{Source:"solid",Value:"arrow-down-up-across-line"},{Source:"solid",Value:"arrow-down-up-lock"},{Source:"solid",Value:"arrow-down-wide-short"},{Source:"solid",Value:"arrow-down-z-a"},{Source:"solid",Value:"arrow-down"},{Source:"solid",Value:"arrow-left-long"},{Source:"solid",Value:"arrow-left"},{Source:"solid",Value:"arrow-pointer"},{Source:"solid",Value:"arrow-right-arrow-left"},{Source:"solid",Value:"arrow-right-from-bracket"},{Source:"solid",Value:"arrow-right-long"},{Source:"solid",Value:"arrow-right-to-bracket"},{Source:"solid",Value:"arrow-right-to-city"},{Source:"solid",Value:"arrow-right"},{Source:"solid",Value:"arrow-rotate-left"},{Source:"solid",Value:"arrow-rotate-right"},{Source:"solid",Value:"arrow-trend-down"},{Source:"solid",Value:"arrow-trend-up"},{Source:"solid",Value:"arrow-turn-down"},{Source:"solid",Value:"arrow-turn-up"},{Source:"solid",Value:"arrow-up-1-9"},{Source:"solid",Value:"arrow-up-9-1"},{Source:"solid",Value:"arrow-up-a-z"},{Source:"solid",Value:"arrow-up-from-bracket"},{Source:"solid",Value:"arrow-up-from-ground-water"},{Source:"solid",Value:"arrow-up-from-water-pump"},{Source:"solid",Value:"arrow-up-long"},{Source:"solid",Value:"arrow-up-right-dots"},{Source:"solid",Value:"arrow-up-right-from-square"},{Source:"solid",Value:"arrow-up-short-wide"},{Source:"solid",Value:"arrow-up-wide-short"},{Source:"solid",Value:"arrow-up-z-a"},{Source:"solid",Value:"arrow-up"},{Source:"solid",Value:"arrows-down-to-line"},{Source:"solid",Value:"arrows-down-to-people"},{Source:"solid",Value:"arrows-left-right-to-line"},{Source:"solid",Value:"arrows-left-right"},{Source:"solid",Value:"arrows-rotate"},{Source:"solid",Value:"arrows-spin"},{Source:"solid",Value:"arrows-split-up-and-left"},{Source:"solid",Value:"arrows-to-circle"},{Source:"solid",Value:"arrows-to-dot"},{Source:"solid",Value:"arrows-to-eye"},{Source:"solid",Value:"arrows-turn-right"},{Source:"solid",Value:"arrows-turn-to-dots"},{Source:"solid",Value:"arrows-up-down-left-right"},{Source:"solid",Value:"arrows-up-down"},{Source:"solid",Value:"arrows-up-to-line"},{Source:"solid",Value:"asterisk"},{Source:"solid",Value:"at"},{Source:"solid",Value:"atom"},{Source:"solid",Value:"audio-description"},{Source:"solid",Value:"austral-sign"},{Source:"solid",Value:"award"},{Source:"solid",Value:"b"},{Source:"solid",Value:"baby-carriage"},{Source:"solid",Value:"baby"},{Source:"solid",Value:"backward-fast"},{Source:"solid",Value:"backward-step"},{Source:"solid",Value:"backward"},{Source:"solid",Value:"bacon"},{Source:"solid",Value:"bacteria"},{Source:"solid",Value:"bacterium"},{Source:"solid",Value:"bag-shopping"},{Source:"solid",Value:"bahai"},{Source:"solid",Value:"baht-sign"},{Source:"solid",Value:"ban-smoking"},{Source:"solid",Value:"ban"},{Source:"solid",Value:"bandage"},{Source:"solid",Value:"barcode"},{Source:"solid",Value:"bars-progress"},{Source:"solid",Value:"bars-staggered"},{Source:"solid",Value:"bars"},{Source:"solid",Value:"baseball-bat-ball"},{Source:"solid",Value:"baseball"},{Source:"solid",Value:"basket-shopping"},{Source:"solid",Value:"basketball"},{Source:"solid",Value:"bath"},{Source:"solid",Value:"battery-empty"},{Source:"solid",Value:"battery-full"},{Source:"solid",Value:"battery-half"},{Source:"solid",Value:"battery-quarter"},{Source:"solid",Value:"battery-three-quarters"},{Source:"solid",Value:"bed-pulse"},{Source:"solid",Value:"bed"},{Source:"solid",Value:"beer-mug-empty"},{Source:"solid",Value:"bell-concierge"},{Source:"solid",Value:"bell-slash"},{Source:"solid",Value:"bell"},{Source:"solid",Value:"bezier-curve"},{Source:"solid",Value:"bicycle"},{Source:"solid",Value:"binoculars"},{Source:"solid",Value:"biohazard"},{Source:"solid",Value:"bitcoin-sign"},{Source:"solid",Value:"blender-phone"},{Source:"solid",Value:"blender"},{Source:"solid",Value:"blog"},{Source:"solid",Value:"bold"},{Source:"solid",Value:"bolt-lightning"},{Source:"solid",Value:"bolt"},{Source:"solid",Value:"bomb"},{Source:"solid",Value:"bone"},{Source:"solid",Value:"bong"},{Source:"solid",Value:"book-atlas"},{Source:"solid",Value:"book-bible"},{Source:"solid",Value:"book-bookmark"},{Source:"solid",Value:"book-journal-whills"},{Source:"solid",Value:"book-medical"},{Source:"solid",Value:"book-open-reader"},{Source:"solid",Value:"book-open"},{Source:"solid",Value:"book-quran"},{Source:"solid",Value:"book-skull"},{Source:"solid",Value:"book-tanakh"},{Source:"solid",Value:"book"},{Source:"solid",Value:"bookmark"},{Source:"solid",Value:"border-all"},{Source:"solid",Value:"border-none"},{Source:"solid",Value:"border-top-left"},{Source:"solid",Value:"bore-hole"},{Source:"solid",Value:"bottle-droplet"},{Source:"solid",Value:"bottle-water"},{Source:"solid",Value:"bowl-food"},{Source:"solid",Value:"bowl-rice"},{Source:"solid",Value:"bowling-ball"},{Source:"solid",Value:"box-archive"},{Source:"solid",Value:"box-open"},{Source:"solid",Value:"box-tissue"},{Source:"solid",Value:"box"},{Source:"solid",Value:"boxes-packing"},{Source:"solid",Value:"boxes-stacked"},{Source:"solid",Value:"braille"},{Source:"solid",Value:"brain"},{Source:"solid",Value:"brazilian-real-sign"},{Source:"solid",Value:"bread-slice"},{Source:"solid",Value:"bridge-circle-check"},{Source:"solid",Value:"bridge-circle-exclamation"},{Source:"solid",Value:"bridge-circle-xmark"},{Source:"solid",Value:"bridge-lock"},{Source:"solid",Value:"bridge-water"},{Source:"solid",Value:"bridge"},{Source:"solid",Value:"briefcase-medical"},{Source:"solid",Value:"briefcase"},{Source:"solid",Value:"broom-ball"},{Source:"solid",Value:"broom"},{Source:"solid",Value:"brush"},{Source:"solid",Value:"bucket"},{Source:"solid",Value:"bug-slash"},{Source:"solid",Value:"bug"},{Source:"solid",Value:"bugs"},{Source:"solid",Value:"building-circle-arrow-right"},{Source:"solid",Value:"building-circle-check"},{Source:"solid",Value:"building-circle-exclamation"},{Source:"solid",Value:"building-circle-xmark"},{Source:"solid",Value:"building-columns"},{Source:"solid",Value:"building-flag"},{Source:"solid",Value:"building-lock"},{Source:"solid",Value:"building-ngo"},{Source:"solid",Value:"building-shield"},{Source:"solid",Value:"building-un"},{Source:"solid",Value:"building-user"},{Source:"solid",Value:"building-wheat"},{Source:"solid",Value:"building"},{Source:"solid",Value:"bullhorn"},{Source:"solid",Value:"bullseye"},{Source:"solid",Value:"burger"},{Source:"solid",Value:"burst"},{Source:"solid",Value:"bus-simple"},{Source:"solid",Value:"bus"},{Source:"solid",Value:"business-time"},{Source:"solid",Value:"c"},{Source:"solid",Value:"cable-car"},{Source:"solid",Value:"cake-candles"},{Source:"solid",Value:"calculator"},{Source:"solid",Value:"calendar-check"},{Source:"solid",Value:"calendar-day"},{Source:"solid",Value:"calendar-days"},{Source:"solid",Value:"calendar-minus"},{Source:"solid",Value:"calendar-plus"},{Source:"solid",Value:"calendar-week"},{Source:"solid",Value:"calendar-xmark"},{Source:"solid",Value:"calendar"},{Source:"solid",Value:"camera-retro"},{Source:"solid",Value:"camera-rotate"},{Source:"solid",Value:"camera"},{Source:"solid",Value:"campground"},{Source:"solid",Value:"candy-cane"},{Source:"solid",Value:"cannabis"},{Source:"solid",Value:"capsules"},{Source:"solid",Value:"car-battery"},{Source:"solid",Value:"car-burst"},{Source:"solid",Value:"car-on"},{Source:"solid",Value:"car-rear"},{Source:"solid",Value:"car-side"},{Source:"solid",Value:"car-tunnel"},{Source:"solid",Value:"car"},{Source:"solid",Value:"caravan"},{Source:"solid",Value:"caret-down"},{Source:"solid",Value:"caret-left"},{Source:"solid",Value:"caret-right"},{Source:"solid",Value:"caret-up"},{Source:"solid",Value:"carrot"},{Source:"solid",Value:"cart-arrow-down"},{Source:"solid",Value:"cart-flatbed-suitcase"},{Source:"solid",Value:"cart-flatbed"},{Source:"solid",Value:"cart-plus"},{Source:"solid",Value:"cart-shopping"},{Source:"solid",Value:"cash-register"},{Source:"solid",Value:"cat"},{Source:"solid",Value:"cedi-sign"},{Source:"solid",Value:"cent-sign"},{Source:"solid",Value:"certificate"},{Source:"solid",Value:"chair"},{Source:"solid",Value:"chalkboard-user"},{Source:"solid",Value:"chalkboard"},{Source:"solid",Value:"champagne-glasses"},{Source:"solid",Value:"charging-station"},{Source:"solid",Value:"chart-area"},{Source:"solid",Value:"chart-bar"},{Source:"solid",Value:"chart-column"},{Source:"solid",Value:"chart-gantt"},{Source:"solid",Value:"chart-line"},{Source:"solid",Value:"chart-pie"},{Source:"solid",Value:"chart-simple"},{Source:"solid",Value:"check-double"},{Source:"solid",Value:"check-to-slot"},{Source:"solid",Value:"check"},{Source:"solid",Value:"cheese"},{Source:"solid",Value:"chess-bishop"},{Source:"solid",Value:"chess-board"},{Source:"solid",Value:"chess-king"},{Source:"solid",Value:"chess-knight"},{Source:"solid",Value:"chess-pawn"},{Source:"solid",Value:"chess-queen"},{Source:"solid",Value:"chess-rook"},{Source:"solid",Value:"chess"},{Source:"solid",Value:"chevron-down"},{Source:"solid",Value:"chevron-left"},{Source:"solid",Value:"chevron-right"},{Source:"solid",Value:"chevron-up"},{Source:"solid",Value:"child-dress"},{Source:"solid",Value:"child-reaching"},{Source:"solid",Value:"child-rifle"},{Source:"solid",Value:"child"},{Source:"solid",Value:"children"},{Source:"solid",Value:"church"},{Source:"solid",Value:"circle-arrow-down"},{Source:"solid",Value:"circle-arrow-left"},{Source:"solid",Value:"circle-arrow-right"},{Source:"solid",Value:"circle-arrow-up"},{Source:"solid",Value:"circle-check"},{Source:"solid",Value:"circle-chevron-down"},{Source:"solid",Value:"circle-chevron-left"},{Source:"solid",Value:"circle-chevron-right"},{Source:"solid",Value:"circle-chevron-up"},{Source:"solid",Value:"circle-dollar-to-slot"},{Source:"solid",Value:"circle-dot"},{Source:"solid",Value:"circle-down"},{Source:"solid",Value:"circle-exclamation"},{Source:"solid",Value:"circle-h"},{Source:"solid",Value:"circle-half-stroke"},{Source:"solid",Value:"circle-info"},{Source:"solid",Value:"circle-left"},{Source:"solid",Value:"circle-minus"},{Source:"solid",Value:"circle-nodes"},{Source:"solid",Value:"circle-notch"},{Source:"solid",Value:"circle-pause"},{Source:"solid",Value:"circle-play"},{Source:"solid",Value:"circle-plus"},{Source:"solid",Value:"circle-question"},{Source:"solid",Value:"circle-radiation"},{Source:"solid",Value:"circle-right"},{Source:"solid",Value:"circle-stop"},{Source:"solid",Value:"circle-up"},{Source:"solid",Value:"circle-user"},{Source:"solid",Value:"circle-xmark"},{Source:"solid",Value:"circle"},{Source:"solid",Value:"city"},{Source:"solid",Value:"clapperboard"},{Source:"solid",Value:"clipboard-check"},{Source:"solid",Value:"clipboard-list"},{Source:"solid",Value:"clipboard-question"},{Source:"solid",Value:"clipboard-user"},{Source:"solid",Value:"clipboard"},{Source:"solid",Value:"clock-rotate-left"},{Source:"solid",Value:"clock"},{Source:"solid",Value:"clone"},{Source:"solid",Value:"closed-captioning"},{Source:"solid",Value:"cloud-arrow-down"},{Source:"solid",Value:"cloud-arrow-up"},{Source:"solid",Value:"cloud-bolt"},{Source:"solid",Value:"cloud-meatball"},{Source:"solid",Value:"cloud-moon-rain"},{Source:"solid",Value:"cloud-moon"},{Source:"solid",Value:"cloud-rain"},{Source:"solid",Value:"cloud-showers-heavy"},{Source:"solid",Value:"cloud-showers-water"},{Source:"solid",Value:"cloud-sun-rain"},{Source:"solid",Value:"cloud-sun"},{Source:"solid",Value:"cloud"},{Source:"solid",Value:"clover"},{Source:"solid",Value:"code-branch"},{Source:"solid",Value:"code-commit"},{Source:"solid",Value:"code-compare"},{Source:"solid",Value:"code-fork"},{Source:"solid",Value:"code-merge"},{Source:"solid",Value:"code-pull-request"},{Source:"solid",Value:"code"},{Source:"solid",Value:"coins"},{Source:"solid",Value:"colon-sign"},{Source:"solid",Value:"comment-dollar"},{Source:"solid",Value:"comment-dots"},{Source:"solid",Value:"comment-medical"},{Source:"solid",Value:"comment-slash"},{Source:"solid",Value:"comment-sms"},{Source:"solid",Value:"comment"},{Source:"solid",Value:"comments-dollar"},{Source:"solid",Value:"comments"},{Source:"solid",Value:"compact-disc"},{Source:"solid",Value:"compass-drafting"},{Source:"solid",Value:"compass"},{Source:"solid",Value:"compress"},{Source:"solid",Value:"computer-mouse"},{Source:"solid",Value:"computer"},{Source:"solid",Value:"cookie-bite"},{Source:"solid",Value:"cookie"},{Source:"solid",Value:"copy"},{Source:"solid",Value:"copyright"},{Source:"solid",Value:"couch"},{Source:"solid",Value:"cow"},{Source:"solid",Value:"credit-card"},{Source:"solid",Value:"crop-simple"},{Source:"solid",Value:"crop"},{Source:"solid",Value:"cross"},{Source:"solid",Value:"crosshairs"},{Source:"solid",Value:"crow"},{Source:"solid",Value:"crown"},{Source:"solid",Value:"crutch"},{Source:"solid",Value:"cruzeiro-sign"},{Source:"solid",Value:"cube"},{Source:"solid",Value:"cubes-stacked"},{Source:"solid",Value:"cubes"},{Source:"solid",Value:"d"},{Source:"solid",Value:"database"},{Source:"solid",Value:"delete-left"},{Source:"solid",Value:"democrat"},{Source:"solid",Value:"desktop"},{Source:"solid",Value:"dharmachakra"},{Source:"solid",Value:"diagram-next"},{Source:"solid",Value:"diagram-predecessor"},{Source:"solid",Value:"diagram-project"},{Source:"solid",Value:"diagram-successor"},{Source:"solid",Value:"diamond-turn-right"},{Source:"solid",Value:"diamond"},{Source:"solid",Value:"dice-d20"},{Source:"solid",Value:"dice-d6"},{Source:"solid",Value:"dice-five"},{Source:"solid",Value:"dice-four"},{Source:"solid",Value:"dice-one"},{Source:"solid",Value:"dice-six"},{Source:"solid",Value:"dice-three"},{Source:"solid",Value:"dice-two"},{Source:"solid",Value:"dice"},{Source:"solid",Value:"disease"},{Source:"solid",Value:"display"},{Source:"solid",Value:"divide"},{Source:"solid",Value:"dna"},{Source:"solid",Value:"dog"},{Source:"solid",Value:"dollar-sign"},{Source:"solid",Value:"dolly"},{Source:"solid",Value:"dong-sign"},{Source:"solid",Value:"door-closed"},{Source:"solid",Value:"door-open"},{Source:"solid",Value:"dove"},{Source:"solid",Value:"down-left-and-up-right-to-center"},{Source:"solid",Value:"down-long"},{Source:"solid",Value:"download"},{Source:"solid",Value:"dragon"},{Source:"solid",Value:"draw-polygon"},{Source:"solid",Value:"droplet-slash"},{Source:"solid",Value:"droplet"},{Source:"solid",Value:"drum-steelpan"},{Source:"solid",Value:"drum"},{Source:"solid",Value:"drumstick-bite"},{Source:"solid",Value:"dumbbell"},{Source:"solid",Value:"dumpster-fire"},{Source:"solid",Value:"dumpster"},{Source:"solid",Value:"dungeon"},{Source:"solid",Value:"e"},{Source:"solid",Value:"ear-deaf"},{Source:"solid",Value:"ear-listen"},{Source:"solid",Value:"earth-africa"},{Source:"solid",Value:"earth-americas"},{Source:"solid",Value:"earth-asia"},{Source:"solid",Value:"earth-europe"},{Source:"solid",Value:"earth-oceania"},{Source:"solid",Value:"egg"},{Source:"solid",Value:"eject"},{Source:"solid",Value:"elevator"},{Source:"solid",Value:"ellipsis-vertical"},{Source:"solid",Value:"ellipsis"},{Source:"solid",Value:"envelope-circle-check"},{Source:"solid",Value:"envelope-open-text"},{Source:"solid",Value:"envelope-open"},{Source:"solid",Value:"envelope"},{Source:"solid",Value:"envelopes-bulk"},{Source:"solid",Value:"equals"},{Source:"solid",Value:"eraser"},{Source:"solid",Value:"ethernet"},{Source:"solid",Value:"euro-sign"},{Source:"solid",Value:"exclamation"},{Source:"solid",Value:"expand"},{Source:"solid",Value:"explosion"},{Source:"solid",Value:"eye-dropper"},{Source:"solid",Value:"eye-low-vision"},{Source:"solid",Value:"eye-slash"},{Source:"solid",Value:"eye"},{Source:"solid",Value:"f"},{Source:"solid",Value:"face-angry"},{Source:"solid",Value:"face-dizzy"},{Source:"solid",Value:"face-flushed"},{Source:"solid",Value:"face-frown-open"},{Source:"solid",Value:"face-frown"},{Source:"solid",Value:"face-grimace"},{Source:"solid",Value:"face-grin-beam-sweat"},{Source:"solid",Value:"face-grin-beam"},{Source:"solid",Value:"face-grin-hearts"},{Source:"solid",Value:"face-grin-squint-tears"},{Source:"solid",Value:"face-grin-squint"},{Source:"solid",Value:"face-grin-stars"},{Source:"solid",Value:"face-grin-tears"},{Source:"solid",Value:"face-grin-tongue-squint"},{Source:"solid",Value:"face-grin-tongue-wink"},{Source:"solid",Value:"face-grin-tongue"},{Source:"solid",Value:"face-grin-wide"},{Source:"solid",Value:"face-grin-wink"},{Source:"solid",Value:"face-grin"},{Source:"solid",Value:"face-kiss-beam"},{Source:"solid",Value:"face-kiss-wink-heart"},{Source:"solid",Value:"face-kiss"},{Source:"solid",Value:"face-laugh-beam"},{Source:"solid",Value:"face-laugh-squint"},{Source:"solid",Value:"face-laugh-wink"},{Source:"solid",Value:"face-laugh"},{Source:"solid",Value:"face-meh-blank"},{Source:"solid",Value:"face-meh"},{Source:"solid",Value:"face-rolling-eyes"},{Source:"solid",Value:"face-sad-cry"},{Source:"solid",Value:"face-sad-tear"},{Source:"solid",Value:"face-smile-beam"},{Source:"solid",Value:"face-smile-wink"},{Source:"solid",Value:"face-smile"},{Source:"solid",Value:"face-surprise"},{Source:"solid",Value:"face-tired"},{Source:"solid",Value:"fan"},{Source:"solid",Value:"faucet-drip"},{Source:"solid",Value:"faucet"},{Source:"solid",Value:"fax"},{Source:"solid",Value:"feather-pointed"},{Source:"solid",Value:"feather"},{Source:"solid",Value:"ferry"},{Source:"solid",Value:"file-arrow-down"},{Source:"solid",Value:"file-arrow-up"},{Source:"solid",Value:"file-audio"},{Source:"solid",Value:"file-circle-check"},{Source:"solid",Value:"file-circle-exclamation"},{Source:"solid",Value:"file-circle-minus"},{Source:"solid",Value:"file-circle-plus"},{Source:"solid",Value:"file-circle-question"},{Source:"solid",Value:"file-circle-xmark"},{Source:"solid",Value:"file-code"},{Source:"solid",Value:"file-contract"},{Source:"solid",Value:"file-csv"},{Source:"solid",Value:"file-excel"},{Source:"solid",Value:"file-export"},{Source:"solid",Value:"file-image"},{Source:"solid",Value:"file-import"},{Source:"solid",Value:"file-invoice-dollar"},{Source:"solid",Value:"file-invoice"},{Source:"solid",Value:"file-lines"},{Source:"solid",Value:"file-medical"},{Source:"solid",Value:"file-pdf"},{Source:"solid",Value:"file-pen"},{Source:"solid",Value:"file-powerpoint"},{Source:"solid",Value:"file-prescription"},{Source:"solid",Value:"file-shield"},{Source:"solid",Value:"file-signature"},{Source:"solid",Value:"file-video"},{Source:"solid",Value:"file-waveform"},{Source:"solid",Value:"file-word"},{Source:"solid",Value:"file-zipper"},{Source:"solid",Value:"file"},{Source:"solid",Value:"fill-drip"},{Source:"solid",Value:"fill"},{Source:"solid",Value:"film"},{Source:"solid",Value:"filter-circle-dollar"},{Source:"solid",Value:"filter-circle-xmark"},{Source:"solid",Value:"filter"},{Source:"solid",Value:"fingerprint"},{Source:"solid",Value:"fire-burner"},{Source:"solid",Value:"fire-extinguisher"},{Source:"solid",Value:"fire-flame-curved"},{Source:"solid",Value:"fire-flame-simple"},{Source:"solid",Value:"fire"},{Source:"solid",Value:"fish-fins"},{Source:"solid",Value:"fish"},{Source:"solid",Value:"flag-checkered"},{Source:"solid",Value:"flag-usa"},{Source:"solid",Value:"flag"},{Source:"solid",Value:"flask-vial"},{Source:"solid",Value:"flask"},{Source:"solid",Value:"floppy-disk"},{Source:"solid",Value:"florin-sign"},{Source:"solid",Value:"folder-closed"},{Source:"solid",Value:"folder-minus"},{Source:"solid",Value:"folder-open"},{Source:"solid",Value:"folder-plus"},{Source:"solid",Value:"folder-tree"},{Source:"solid",Value:"folder"},{Source:"solid",Value:"font-awesome"},{Source:"solid",Value:"font"},{Source:"solid",Value:"football"},{Source:"solid",Value:"forward-fast"},{Source:"solid",Value:"forward-step"},{Source:"solid",Value:"forward"},{Source:"solid",Value:"franc-sign"},{Source:"solid",Value:"frog"},{Source:"solid",Value:"futbol"},{Source:"solid",Value:"g"},{Source:"solid",Value:"gamepad"},{Source:"solid",Value:"gas-pump"},{Source:"solid",Value:"gauge-high"},{Source:"solid",Value:"gauge-simple-high"},{Source:"solid",Value:"gauge-simple"},{Source:"solid",Value:"gauge"},{Source:"solid",Value:"gavel"},{Source:"solid",Value:"gear"},{Source:"solid",Value:"gears"},{Source:"solid",Value:"gem"},{Source:"solid",Value:"genderless"},{Source:"solid",Value:"ghost"},{Source:"solid",Value:"gift"},{Source:"solid",Value:"gifts"},{Source:"solid",Value:"glass-water-droplet"},{Source:"solid",Value:"glass-water"},{Source:"solid",Value:"glasses"},{Source:"solid",Value:"globe"},{Source:"solid",Value:"golf-ball-tee"},{Source:"solid",Value:"gopuram"},{Source:"solid",Value:"graduation-cap"},{Source:"solid",Value:"greater-than-equal"},{Source:"solid",Value:"greater-than"},{Source:"solid",Value:"grip-lines-vertical"},{Source:"solid",Value:"grip-lines"},{Source:"solid",Value:"grip-vertical"},{Source:"solid",Value:"grip"},{Source:"solid",Value:"group-arrows-rotate"},{Source:"solid",Value:"guarani-sign"},{Source:"solid",Value:"guitar"},{Source:"solid",Value:"gun"},{Source:"solid",Value:"h"},{Source:"solid",Value:"hammer"},{Source:"solid",Value:"hamsa"},{Source:"solid",Value:"hand-back-fist"},{Source:"solid",Value:"hand-dots"},{Source:"solid",Value:"hand-fist"},{Source:"solid",Value:"hand-holding-dollar"},{Source:"solid",Value:"hand-holding-droplet"},{Source:"solid",Value:"hand-holding-hand"},{Source:"solid",Value:"hand-holding-heart"},{Source:"solid",Value:"hand-holding-medical"},{Source:"solid",Value:"hand-holding"},{Source:"solid",Value:"hand-lizard"},{Source:"solid",Value:"hand-middle-finger"},{Source:"solid",Value:"hand-peace"},{Source:"solid",Value:"hand-point-down"},{Source:"solid",Value:"hand-point-left"},{Source:"solid",Value:"hand-point-right"},{Source:"solid",Value:"hand-point-up"},{Source:"solid",Value:"hand-pointer"},{Source:"solid",Value:"hand-scissors"},{Source:"solid",Value:"hand-sparkles"},{Source:"solid",Value:"hand-spock"},{Source:"solid",Value:"hand"},{Source:"solid",Value:"handcuffs"},{Source:"solid",Value:"hands-asl-interpreting"},{Source:"solid",Value:"hands-bound"},{Source:"solid",Value:"hands-bubbles"},{Source:"solid",Value:"hands-clapping"},{Source:"solid",Value:"hands-holding-child"},{Source:"solid",Value:"hands-holding-circle"},{Source:"solid",Value:"hands-holding"},{Source:"solid",Value:"hands-praying"},{Source:"solid",Value:"hands"},{Source:"solid",Value:"handshake-angle"},{Source:"solid",Value:"handshake-simple-slash"},{Source:"solid",Value:"handshake-simple"},{Source:"solid",Value:"handshake-slash"},{Source:"solid",Value:"handshake"},{Source:"solid",Value:"hanukiah"},{Source:"solid",Value:"hard-drive"},{Source:"solid",Value:"hashtag"},{Source:"solid",Value:"hat-cowboy-side"},{Source:"solid",Value:"hat-cowboy"},{Source:"solid",Value:"hat-wizard"},{Source:"solid",Value:"head-side-cough-slash"},{Source:"solid",Value:"head-side-cough"},{Source:"solid",Value:"head-side-mask"},{Source:"solid",Value:"head-side-virus"},{Source:"solid",Value:"heading"},{Source:"solid",Value:"headphones-simple"},{Source:"solid",Value:"headphones"},{Source:"solid",Value:"headset"},{Source:"solid",Value:"heart-circle-bolt"},{Source:"solid",Value:"heart-circle-check"},{Source:"solid",Value:"heart-circle-exclamation"},{Source:"solid",Value:"heart-circle-minus"},{Source:"solid",Value:"heart-circle-plus"},{Source:"solid",Value:"heart-circle-xmark"},{Source:"solid",Value:"heart-crack"},{Source:"solid",Value:"heart-pulse"},{Source:"solid",Value:"heart"},{Source:"solid",Value:"helicopter-symbol"},{Source:"solid",Value:"helicopter"},{Source:"solid",Value:"helmet-safety"},{Source:"solid",Value:"helmet-un"},{Source:"solid",Value:"highlighter"},{Source:"solid",Value:"hill-avalanche"},{Source:"solid",Value:"hill-rockslide"},{Source:"solid",Value:"hippo"},{Source:"solid",Value:"hockey-puck"},{Source:"solid",Value:"holly-berry"},{Source:"solid",Value:"horse-head"},{Source:"solid",Value:"horse"},{Source:"solid",Value:"hospital-user"},{Source:"solid",Value:"hospital"},{Source:"solid",Value:"hot-tub-person"},{Source:"solid",Value:"hotdog"},{Source:"solid",Value:"hotel"},{Source:"solid",Value:"hourglass-end"},{Source:"solid",Value:"hourglass-half"},{Source:"solid",Value:"hourglass-start"},{Source:"solid",Value:"hourglass"},{Source:"solid",Value:"house-chimney-crack"},{Source:"solid",Value:"house-chimney-medical"},{Source:"solid",Value:"house-chimney-user"},{Source:"solid",Value:"house-chimney-window"},{Source:"solid",Value:"house-chimney"},{Source:"solid",Value:"house-circle-check"},{Source:"solid",Value:"house-circle-exclamation"},{Source:"solid",Value:"house-circle-xmark"},{Source:"solid",Value:"house-crack"},{Source:"solid",Value:"house-fire"},{Source:"solid",Value:"house-flag"},{Source:"solid",Value:"house-flood-water-circle-arrow-right"},{Source:"solid",Value:"house-flood-water"},{Source:"solid",Value:"house-laptop"},{Source:"solid",Value:"house-lock"},{Source:"solid",Value:"house-medical-circle-check"},{Source:"solid",Value:"house-medical-circle-exclamation"},{Source:"solid",Value:"house-medical-circle-xmark"},{Source:"solid",Value:"house-medical-flag"},{Source:"solid",Value:"house-medical"},{Source:"solid",Value:"house-signal"},{Source:"solid",Value:"house-tsunami"},{Source:"solid",Value:"house-user"},{Source:"solid",Value:"house"},{Source:"solid",Value:"hryvnia-sign"},{Source:"solid",Value:"hurricane"},{Source:"solid",Value:"i-cursor"},{Source:"solid",Value:"i"},{Source:"solid",Value:"ice-cream"},{Source:"solid",Value:"icicles"},{Source:"solid",Value:"icons"},{Source:"solid",Value:"id-badge"},{Source:"solid",Value:"id-card-clip"},{Source:"solid",Value:"id-card"},{Source:"solid",Value:"igloo"},{Source:"solid",Value:"image-portrait"},{Source:"solid",Value:"image"},{Source:"solid",Value:"images"},{Source:"solid",Value:"inbox"},{Source:"solid",Value:"indent"},{Source:"solid",Value:"indian-rupee-sign"},{Source:"solid",Value:"industry"},{Source:"solid",Value:"infinity"},{Source:"solid",Value:"info"},{Source:"solid",Value:"italic"},{Source:"solid",Value:"j"},{Source:"solid",Value:"jar-wheat"},{Source:"solid",Value:"jar"},{Source:"solid",Value:"jedi"},{Source:"solid",Value:"jet-fighter-up"},{Source:"solid",Value:"jet-fighter"},{Source:"solid",Value:"joint"},{Source:"solid",Value:"jug-detergent"},{Source:"solid",Value:"k"},{Source:"solid",Value:"kaaba"},{Source:"solid",Value:"key"},{Source:"solid",Value:"keyboard"},{Source:"solid",Value:"khanda"},{Source:"solid",Value:"kip-sign"},{Source:"solid",Value:"kit-medical"},{Source:"solid",Value:"kitchen-set"},{Source:"solid",Value:"kiwi-bird"},{Source:"solid",Value:"l"},{Source:"solid",Value:"land-mine-on"},{Source:"solid",Value:"landmark-dome"},{Source:"solid",Value:"landmark-flag"},{Source:"solid",Value:"landmark"},{Source:"solid",Value:"language"},{Source:"solid",Value:"laptop-code"},{Source:"solid",Value:"laptop-file"},{Source:"solid",Value:"laptop-medical"},{Source:"solid",Value:"laptop"},{Source:"solid",Value:"lari-sign"},{Source:"solid",Value:"layer-group"},{Source:"solid",Value:"leaf"},{Source:"solid",Value:"left-long"},{Source:"solid",Value:"left-right"},{Source:"solid",Value:"lemon"},{Source:"solid",Value:"less-than-equal"},{Source:"solid",Value:"less-than"},{Source:"solid",Value:"life-ring"},{Source:"solid",Value:"lightbulb"},{Source:"solid",Value:"lines-leaning"},{Source:"solid",Value:"link-slash"},{Source:"solid",Value:"link"},{Source:"solid",Value:"lira-sign"},{Source:"solid",Value:"list-check"},{Source:"solid",Value:"list-ol"},{Source:"solid",Value:"list-ul"},{Source:"solid",Value:"list"},{Source:"solid",Value:"litecoin-sign"},{Source:"solid",Value:"location-arrow"},{Source:"solid",Value:"location-crosshairs"},{Source:"solid",Value:"location-dot"},{Source:"solid",Value:"location-pin-lock"},{Source:"solid",Value:"location-pin"},{Source:"solid",Value:"lock-open"},{Source:"solid",Value:"lock"},{Source:"solid",Value:"locust"},{Source:"solid",Value:"lungs-virus"},{Source:"solid",Value:"lungs"},{Source:"solid",Value:"m"},{Source:"solid",Value:"magnet"},{Source:"solid",Value:"magnifying-glass-arrow-right"},{Source:"solid",Value:"magnifying-glass-chart"},{Source:"solid",Value:"magnifying-glass-dollar"},{Source:"solid",Value:"magnifying-glass-location"},{Source:"solid",Value:"magnifying-glass-minus"},{Source:"solid",Value:"magnifying-glass-plus"},{Source:"solid",Value:"magnifying-glass"},{Source:"solid",Value:"manat-sign"},{Source:"solid",Value:"map-location-dot"},{Source:"solid",Value:"map-location"},{Source:"solid",Value:"map-pin"},{Source:"solid",Value:"map"},{Source:"solid",Value:"marker"},{Source:"solid",Value:"mars-and-venus-burst"},{Source:"solid",Value:"mars-and-venus"},{Source:"solid",Value:"mars-double"},{Source:"solid",Value:"mars-stroke-right"},{Source:"solid",Value:"mars-stroke-up"},{Source:"solid",Value:"mars-stroke"},{Source:"solid",Value:"mars"},{Source:"solid",Value:"martini-glass-citrus"},{Source:"solid",Value:"martini-glass-empty"},{Source:"solid",Value:"martini-glass"},{Source:"solid",Value:"mask-face"},{Source:"solid",Value:"mask-ventilator"},{Source:"solid",Value:"mask"},{Source:"solid",Value:"masks-theater"},{Source:"solid",Value:"mattress-pillow"},{Source:"solid",Value:"maximize"},{Source:"solid",Value:"medal"},{Source:"solid",Value:"memory"},{Source:"solid",Value:"menorah"},{Source:"solid",Value:"mercury"},{Source:"solid",Value:"message"},{Source:"solid",Value:"meteor"},{Source:"solid",Value:"microchip"},{Source:"solid",Value:"microphone-lines-slash"},{Source:"solid",Value:"microphone-lines"},{Source:"solid",Value:"microphone-slash"},{Source:"solid",Value:"microphone"},{Source:"solid",Value:"microscope"},{Source:"solid",Value:"mill-sign"},{Source:"solid",Value:"minimize"},{Source:"solid",Value:"minus"},{Source:"solid",Value:"mitten"},{Source:"solid",Value:"mobile-button"},{Source:"solid",Value:"mobile-retro"},{Source:"solid",Value:"mobile-screen-button"},{Source:"solid",Value:"mobile-screen"},{Source:"solid",Value:"mobile"},{Source:"solid",Value:"money-bill-1-wave"},{Source:"solid",Value:"money-bill-1"},{Source:"solid",Value:"money-bill-transfer"},{Source:"solid",Value:"money-bill-trend-up"},{Source:"solid",Value:"money-bill-wave"},{Source:"solid",Value:"money-bill-wheat"},{Source:"solid",Value:"money-bill"},{Source:"solid",Value:"money-bills"},{Source:"solid",Value:"money-check-dollar"},{Source:"solid",Value:"money-check"},{Source:"solid",Value:"monument"},{Source:"solid",Value:"moon"},{Source:"solid",Value:"mortar-pestle"},{Source:"solid",Value:"mosque"},{Source:"solid",Value:"mosquito-net"},{Source:"solid",Value:"mosquito"},{Source:"solid",Value:"motorcycle"},{Source:"solid",Value:"mound"},{Source:"solid",Value:"mountain-city"},{Source:"solid",Value:"mountain-sun"},{Source:"solid",Value:"mountain"},{Source:"solid",Value:"mug-hot"},{Source:"solid",Value:"mug-saucer"},{Source:"solid",Value:"music"},{Source:"solid",Value:"n"},{Source:"solid",Value:"naira-sign"},{Source:"solid",Value:"names"},{Source:"solid",Value:"network-wired"},{Source:"solid",Value:"neuter"},{Source:"solid",Value:"newspaper"},{Source:"solid",Value:"not-equal"},{Source:"solid",Value:"notdef"},{Source:"solid",Value:"note-sticky"},{Source:"solid",Value:"notes-medical"},{Source:"solid",Value:"o"},{Source:"solid",Value:"object-group"},{Source:"solid",Value:"object-ungroup"},{Source:"solid",Value:"oil-can"},{Source:"solid",Value:"oil-well"},{Source:"solid",Value:"om"},{Source:"solid",Value:"otter"},{Source:"solid",Value:"outdent"},{Source:"solid",Value:"p"},{Source:"solid",Value:"pager"},{Source:"solid",Value:"paint-roller"},{Source:"solid",Value:"paintbrush"},{Source:"solid",Value:"palette"},{Source:"solid",Value:"pallet"},{Source:"solid",Value:"panorama"},{Source:"solid",Value:"paper-plane"},{Source:"solid",Value:"paperclip"},{Source:"solid",Value:"parachute-box"},{Source:"solid",Value:"paragraph"},{Source:"solid",Value:"passport"},{Source:"solid",Value:"paste"},{Source:"solid",Value:"pause"},{Source:"solid",Value:"paw"},{Source:"solid",Value:"peace"},{Source:"solid",Value:"pen-clip"},{Source:"solid",Value:"pen-fancy"},{Source:"solid",Value:"pen-nib"},{Source:"solid",Value:"pen-ruler"},{Source:"solid",Value:"pen-to-square"},{Source:"solid",Value:"pen"},{Source:"solid",Value:"pencil"},{Source:"solid",Value:"people-arrows"},{Source:"solid",Value:"people-carry-box"},{Source:"solid",Value:"people-group"},{Source:"solid",Value:"people-line"},{Source:"solid",Value:"people-pulling"},{Source:"solid",Value:"people-robbery"},{Source:"solid",Value:"people-roof"},{Source:"solid",Value:"pepper-hot"},{Source:"solid",Value:"percent"},{Source:"solid",Value:"person-arrow-down-to-line"},{Source:"solid",Value:"person-arrow-up-from-line"},{Source:"solid",Value:"person-biking"},{Source:"solid",Value:"person-booth"},{Source:"solid",Value:"person-breastfeeding"},{Source:"solid",Value:"person-burst"},{Source:"solid",Value:"person-cane"},{Source:"solid",Value:"person-chalkboard"},{Source:"solid",Value:"person-circle-check"},{Source:"solid",Value:"person-circle-exclamation"},{Source:"solid",Value:"person-circle-minus"},{Source:"solid",Value:"person-circle-plus"},{Source:"solid",Value:"person-circle-question"},{Source:"solid",Value:"person-circle-xmark"},{Source:"solid",Value:"person-digging"},{Source:"solid",Value:"person-dots-from-line"},{Source:"solid",Value:"person-dress-burst"},{Source:"solid",Value:"person-dress"},{Source:"solid",Value:"person-drowning"},{Source:"solid",Value:"person-falling-burst"},{Source:"solid",Value:"person-falling"},{Source:"solid",Value:"person-half-dress"},{Source:"solid",Value:"person-harassing"},{Source:"solid",Value:"person-hiking"},{Source:"solid",Value:"person-military-pointing"},{Source:"solid",Value:"person-military-rifle"},{Source:"solid",Value:"person-military-to-person"},{Source:"solid",Value:"person-praying"},{Source:"solid",Value:"person-pregnant"},{Source:"solid",Value:"person-rays"},{Source:"solid",Value:"person-rifle"},{Source:"solid",Value:"person-running"},{Source:"solid",Value:"person-shelter"},{Source:"solid",Value:"person-skating"},{Source:"solid",Value:"person-skiing-nordic"},{Source:"solid",Value:"person-skiing"},{Source:"solid",Value:"person-snowboarding"},{Source:"solid",Value:"person-swimming"},{Source:"solid",Value:"person-through-window"},{Source:"solid",Value:"person-walking-arrow-loop-left"},{Source:"solid",Value:"person-walking-arrow-right"},{Source:"solid",Value:"person-walking-dashed-line-arrow-right"},{Source:"solid",Value:"person-walking-luggage"},{Source:"solid",Value:"person-walking-with-cane"},{Source:"solid",Value:"person-walking"},{Source:"solid",Value:"person"},{Source:"solid",Value:"peseta-sign"},{Source:"solid",Value:"peso-sign"},{Source:"solid",Value:"phone-flip"},{Source:"solid",Value:"phone-slash"},{Source:"solid",Value:"phone-volume"},{Source:"solid",Value:"phone"},{Source:"solid",Value:"photo-film"},{Source:"solid",Value:"piggy-bank"},{Source:"solid",Value:"pills"},{Source:"solid",Value:"pizza-slice"},{Source:"solid",Value:"place-of-worship"},{Source:"solid",Value:"plane-arrival"},{Source:"solid",Value:"plane-circle-check"},{Source:"solid",Value:"plane-circle-exclamation"},{Source:"solid",Value:"plane-circle-xmark"},{Source:"solid",Value:"plane-departure"},{Source:"solid",Value:"plane-lock"},{Source:"solid",Value:"plane-slash"},{Source:"solid",Value:"plane-up"},{Source:"solid",Value:"plane"},{Source:"solid",Value:"plant-wilt"},{Source:"solid",Value:"plate-wheat"},{Source:"solid",Value:"play"},{Source:"solid",Value:"plug-circle-bolt"},{Source:"solid",Value:"plug-circle-check"},{Source:"solid",Value:"plug-circle-exclamation"},{Source:"solid",Value:"plug-circle-minus"},{Source:"solid",Value:"plug-circle-plus"},{Source:"solid",Value:"plug-circle-xmark"},{Source:"solid",Value:"plug"},{Source:"solid",Value:"plus-minus"},{Source:"solid",Value:"plus"},{Source:"solid",Value:"podcast"},{Source:"solid",Value:"poo-storm"},{Source:"solid",Value:"poo"},{Source:"solid",Value:"poop"},{Source:"solid",Value:"power-off"},{Source:"solid",Value:"prescription-bottle-medical"},{Source:"solid",Value:"prescription-bottle"},{Source:"solid",Value:"prescription"},{Source:"solid",Value:"print"},{Source:"solid",Value:"pump-medical"},{Source:"solid",Value:"pump-soap"},{Source:"solid",Value:"puzzle-piece"},{Source:"solid",Value:"q"},{Source:"solid",Value:"qrcode"},{Source:"solid",Value:"question"},{Source:"solid",Value:"quote-left"},{Source:"solid",Value:"quote-right"},{Source:"solid",Value:"r"},{Source:"solid",Value:"radiation"},{Source:"solid",Value:"radio"},{Source:"solid",Value:"rainbow"},{Source:"solid",Value:"ranking-star"},{Source:"solid",Value:"receipt"},{Source:"solid",Value:"record-vinyl"},{Source:"solid",Value:"rectangle-ad"},{Source:"solid",Value:"rectangle-list"},{Source:"solid",Value:"rectangle-xmark"},{Source:"solid",Value:"recycle"},{Source:"solid",Value:"registered"},{Source:"solid",Value:"repeat"},{Source:"solid",Value:"reply-all"},{Source:"solid",Value:"reply"},{Source:"solid",Value:"republican"},{Source:"solid",Value:"restroom"},{Source:"solid",Value:"retweet"},{Source:"solid",Value:"ribbon"},{Source:"solid",Value:"right-from-bracket"},{Source:"solid",Value:"right-left"},{Source:"solid",Value:"right-long"},{Source:"solid",Value:"right-to-bracket"},{Source:"solid",Value:"ring"},{Source:"solid",Value:"road-barrier"},{Source:"solid",Value:"road-bridge"},{Source:"solid",Value:"road-circle-check"},{Source:"solid",Value:"road-circle-exclamation"},{Source:"solid",Value:"road-circle-xmark"},{Source:"solid",Value:"road-lock"},{Source:"solid",Value:"road-spikes"},{Source:"solid",Value:"road"},{Source:"solid",Value:"robot"},{Source:"solid",Value:"rocket"},{Source:"solid",Value:"rotate-left"},{Source:"solid",Value:"rotate-right"},{Source:"solid",Value:"rotate"},{Source:"solid",Value:"route"},{Source:"solid",Value:"rss"},{Source:"solid",Value:"ruble-sign"},{Source:"solid",Value:"rug"},{Source:"solid",Value:"ruler-combined"},{Source:"solid",Value:"ruler-horizontal"},{Source:"solid",Value:"ruler-vertical"},{Source:"solid",Value:"ruler"},{Source:"solid",Value:"rupee-sign"},{Source:"solid",Value:"rupiah-sign"},{Source:"solid",Value:"s"},{Source:"solid",Value:"sack-dollar"},{Source:"solid",Value:"sack-xmark"},{Source:"solid",Value:"sailboat"},{Source:"solid",Value:"satellite-dish"},{Source:"solid",Value:"satellite"},{Source:"solid",Value:"scale-balanced"},{Source:"solid",Value:"scale-unbalanced-flip"},{Source:"solid",Value:"scale-unbalanced"},{Source:"solid",Value:"school-circle-check"},{Source:"solid",Value:"school-circle-exclamation"},{Source:"solid",Value:"school-circle-xmark"},{Source:"solid",Value:"school-flag"},{Source:"solid",Value:"school-lock"},{Source:"solid",Value:"school"},{Source:"solid",Value:"scissors"},{Source:"solid",Value:"screwdriver-wrench"},{Source:"solid",Value:"screwdriver"},{Source:"solid",Value:"scroll-torah"},{Source:"solid",Value:"scroll"},{Source:"solid",Value:"sd-card"},{Source:"solid",Value:"section"},{Source:"solid",Value:"seedling"},{Source:"solid",Value:"server"},{Source:"solid",Value:"shapes"},{Source:"solid",Value:"share-from-square"},{Source:"solid",Value:"share-nodes"},{Source:"solid",Value:"share"},{Source:"solid",Value:"sheet-plastic"},{Source:"solid",Value:"shekel-sign"},{Source:"solid",Value:"shield-cat"},{Source:"solid",Value:"shield-dog"},{Source:"solid",Value:"shield-halved"},{Source:"solid",Value:"shield-heart"},{Source:"solid",Value:"shield-virus"},{Source:"solid",Value:"shield"},{Source:"solid",Value:"ship"},{Source:"solid",Value:"shirt"},{Source:"solid",Value:"shoe-prints"},{Source:"solid",Value:"shop-lock"},{Source:"solid",Value:"shop-slash"},{Source:"solid",Value:"shop"},{Source:"solid",Value:"shower"},{Source:"solid",Value:"shrimp"},{Source:"solid",Value:"shuffle"},{Source:"solid",Value:"shuttle-space"},{Source:"solid",Value:"sign-hanging"},{Source:"solid",Value:"signal"},{Source:"solid",Value:"signature"},{Source:"solid",Value:"signs-post"},{Source:"solid",Value:"sim-card"},{Source:"solid",Value:"sink"},{Source:"solid",Value:"sitemap"},{Source:"solid",Value:"skull-crossbones"},{Source:"solid",Value:"skull"},{Source:"solid",Value:"slash"},{Source:"solid",Value:"sleigh"},{Source:"solid",Value:"sliders"},{Source:"solid",Value:"smog"},{Source:"solid",Value:"smoking"},{Source:"solid",Value:"snowflake"},{Source:"solid",Value:"snowman"},{Source:"solid",Value:"snowplow"},{Source:"solid",Value:"soap"},{Source:"solid",Value:"socks"},{Source:"solid",Value:"solar-panel"},{Source:"solid",Value:"sort-down"},{Source:"solid",Value:"sort-up"},{Source:"solid",Value:"sort"},{Source:"solid",Value:"spa"},{Source:"solid",Value:"spaghetti-monster-flying"},{Source:"solid",Value:"spell-check"},{Source:"solid",Value:"spider"},{Source:"solid",Value:"spinner"},{Source:"solid",Value:"splotch"},{Source:"solid",Value:"spoon"},{Source:"solid",Value:"spray-can-sparkles"},{Source:"solid",Value:"spray-can"},{Source:"solid",Value:"square-arrow-up-right"},{Source:"solid",Value:"square-caret-down"},{Source:"solid",Value:"square-caret-left"},{Source:"solid",Value:"square-caret-right"},{Source:"solid",Value:"square-caret-up"},{Source:"solid",Value:"square-check"},{Source:"solid",Value:"square-envelope"},{Source:"solid",Value:"square-full"},{Source:"solid",Value:"square-h"},{Source:"solid",Value:"square-minus"},{Source:"solid",Value:"square-nfi"},{Source:"solid",Value:"square-parking"},{Source:"solid",Value:"square-pen"},{Source:"solid",Value:"square-person-confined"},{Source:"solid",Value:"square-phone-flip"},{Source:"solid",Value:"square-phone"},{Source:"solid",Value:"square-plus"},{Source:"solid",Value:"square-poll-horizontal"},{Source:"solid",Value:"square-poll-vertical"},{Source:"solid",Value:"square-root-variable"},{Source:"solid",Value:"square-rss"},{Source:"solid",Value:"square-share-nodes"},{Source:"solid",Value:"square-up-right"},{Source:"solid",Value:"square-virus"},{Source:"solid",Value:"square-xmark"},{Source:"solid",Value:"square"},{Source:"solid",Value:"staff-snake"},{Source:"solid",Value:"stairs"},{Source:"solid",Value:"stamp"},{Source:"solid",Value:"stapler"},{Source:"solid",Value:"star-and-crescent"},{Source:"solid",Value:"star-half-stroke"},{Source:"solid",Value:"star-half"},{Source:"solid",Value:"star-of-david"},{Source:"solid",Value:"star-of-life"},{Source:"solid",Value:"star"},{Source:"solid",Value:"sterling-sign"},{Source:"solid",Value:"stethoscope"},{Source:"solid",Value:"stop"},{Source:"solid",Value:"stopwatch-20"},{Source:"solid",Value:"stopwatch"},{Source:"solid",Value:"store-slash"},{Source:"solid",Value:"store"},{Source:"solid",Value:"street-view"},{Source:"solid",Value:"strikethrough"},{Source:"solid",Value:"stroopwafel"},{Source:"solid",Value:"subscript"},{Source:"solid",Value:"suitcase-medical"},{Source:"solid",Value:"suitcase-rolling"},{Source:"solid",Value:"suitcase"},{Source:"solid",Value:"sun-plant-wilt"},{Source:"solid",Value:"sun"},{Source:"solid",Value:"superscript"},{Source:"solid",Value:"swatchbook"},{Source:"solid",Value:"synagogue"},{Source:"solid",Value:"syringe"},{Source:"solid",Value:"t"},{Source:"solid",Value:"table-cells-large"},{Source:"solid",Value:"table-cells"},{Source:"solid",Value:"table-columns"},{Source:"solid",Value:"table-list"},{Source:"solid",Value:"table-tennis-paddle-ball"},{Source:"solid",Value:"table"},{Source:"solid",Value:"tablet-button"},{Source:"solid",Value:"tablet-screen-button"},{Source:"solid",Value:"tablet"},{Source:"solid",Value:"tablets"},{Source:"solid",Value:"tachograph-digital"},{Source:"solid",Value:"tag"},{Source:"solid",Value:"tags"},{Source:"solid",Value:"tape"},{Source:"solid",Value:"tarp-droplet"},{Source:"solid",Value:"tarp"},{Source:"solid",Value:"taxi"},{Source:"solid",Value:"teeth-open"},{Source:"solid",Value:"teeth"},{Source:"solid",Value:"temperature-arrow-down"},{Source:"solid",Value:"temperature-arrow-up"},{Source:"solid",Value:"temperature-empty"},{Source:"solid",Value:"temperature-full"},{Source:"solid",Value:"temperature-half"},{Source:"solid",Value:"temperature-high"},{Source:"solid",Value:"temperature-low"},{Source:"solid",Value:"temperature-quarter"},{Source:"solid",Value:"temperature-three-quarters"},{Source:"solid",Value:"tenge-sign"},{Source:"solid",Value:"tent-arrow-down-to-line"},{Source:"solid",Value:"tent-arrow-left-right"},{Source:"solid",Value:"tent-arrow-turn-left"},{Source:"solid",Value:"tent-arrows-down"},{Source:"solid",Value:"tent"},{Source:"solid",Value:"tents"},{Source:"solid",Value:"terminal"},{Source:"solid",Value:"text-height"},{Source:"solid",Value:"text-slash"},{Source:"solid",Value:"text-width"},{Source:"solid",Value:"thermometer"},{Source:"solid",Value:"thumbs-down"},{Source:"solid",Value:"thumbs-up"},{Source:"solid",Value:"thumbtack"},{Source:"solid",Value:"ticket-simple"},{Source:"solid",Value:"ticket"},{Source:"solid",Value:"timeline"},{Source:"solid",Value:"toggle-off"},{Source:"solid",Value:"toggle-on"},{Source:"solid",Value:"toilet-paper-slash"},{Source:"solid",Value:"toilet-paper"},{Source:"solid",Value:"toilet-portable"},{Source:"solid",Value:"toilet"},{Source:"solid",Value:"toilets-portable"},{Source:"solid",Value:"toolbox"},{Source:"solid",Value:"tooth"},{Source:"solid",Value:"torii-gate"},{Source:"solid",Value:"tornado"},{Source:"solid",Value:"tower-broadcast"},{Source:"solid",Value:"tower-cell"},{Source:"solid",Value:"tower-observation"},{Source:"solid",Value:"tractor"},{Source:"solid",Value:"trademark"},{Source:"solid",Value:"traffic-light"},{Source:"solid",Value:"trailer"},{Source:"solid",Value:"train-subway"},{Source:"solid",Value:"train-tram"},{Source:"solid",Value:"train"},{Source:"solid",Value:"transgender"},{Source:"solid",Value:"trash-arrow-up"},{Source:"solid",Value:"trash-can-arrow-up"},{Source:"solid",Value:"trash-can"},{Source:"solid",Value:"trash"},{Source:"solid",Value:"tree-city"},{Source:"solid",Value:"tree"},{Source:"solid",Value:"triangle-exclamation"},{Source:"solid",Value:"trophy"},{Source:"solid",Value:"trowel-bricks"},{Source:"solid",Value:"trowel"},{Source:"solid",Value:"truck-arrow-right"},{Source:"solid",Value:"truck-droplet"},{Source:"solid",Value:"truck-fast"},{Source:"solid",Value:"truck-field-un"},{Source:"solid",Value:"truck-field"},{Source:"solid",Value:"truck-front"},{Source:"solid",Value:"truck-medical"},{Source:"solid",Value:"truck-monster"},{Source:"solid",Value:"truck-moving"},{Source:"solid",Value:"truck-pickup"},{Source:"solid",Value:"truck-plane"},{Source:"solid",Value:"truck-ramp-box"},{Source:"solid",Value:"truck"},{Source:"solid",Value:"tty"},{Source:"solid",Value:"turkish-lira-sign"},{Source:"solid",Value:"turn-down"},{Source:"solid",Value:"turn-up"},{Source:"solid",Value:"tv"},{Source:"solid",Value:"u"},{Source:"solid",Value:"umbrella-beach"},{Source:"solid",Value:"umbrella"},{Source:"solid",Value:"underline"},{Source:"solid",Value:"universal-access"},{Source:"solid",Value:"unlock-keyhole"},{Source:"solid",Value:"unlock"},{Source:"solid",Value:"up-down-left-right"},{Source:"solid",Value:"up-down"},{Source:"solid",Value:"up-long"},{Source:"solid",Value:"up-right-and-down-left-from-center"},{Source:"solid",Value:"up-right-from-square"},{Source:"solid",Value:"upload"},{Source:"solid",Value:"user-astronaut"},{Source:"solid",Value:"user-check"},{Source:"solid",Value:"user-clock"},{Source:"solid",Value:"user-doctor"},{Source:"solid",Value:"user-gear"},{Source:"solid",Value:"user-graduate"},{Source:"solid",Value:"user-group"},{Source:"solid",Value:"user-injured"},{Source:"solid",Value:"user-large-slash"},{Source:"solid",Value:"user-large"},{Source:"solid",Value:"user-lock"},{Source:"solid",Value:"user-minus"},{Source:"solid",Value:"user-ninja"},{Source:"solid",Value:"user-nurse"},{Source:"solid",Value:"user-pen"},{Source:"solid",Value:"user-plus"},{Source:"solid",Value:"user-secret"},{Source:"solid",Value:"user-shield"},{Source:"solid",Value:"user-slash"},{Source:"solid",Value:"user-tag"},{Source:"solid",Value:"user-tie"},{Source:"solid",Value:"user-xmark"},{Source:"solid",Value:"user"},{Source:"solid",Value:"users-between-lines"},{Source:"solid",Value:"users-gear"},{Source:"solid",Value:"users-line"},{Source:"solid",Value:"users-rays"},{Source:"solid",Value:"users-rectangle"},{Source:"solid",Value:"users-slash"},{Source:"solid",Value:"users-viewfinder"},{Source:"solid",Value:"users"},{Source:"solid",Value:"utensils"},{Source:"solid",Value:"v"},{Source:"solid",Value:"van-shuttle"},{Source:"solid",Value:"vault"},{Source:"solid",Value:"vector-square"},{Source:"solid",Value:"venus-double"},{Source:"solid",Value:"venus-mars"},{Source:"solid",Value:"venus"},{Source:"solid",Value:"vest-patches"},{Source:"solid",Value:"vest"},{Source:"solid",Value:"vial-circle-check"},{Source:"solid",Value:"vial-virus"},{Source:"solid",Value:"vial"},{Source:"solid",Value:"vials"},{Source:"solid",Value:"video-slash"},{Source:"solid",Value:"video"},{Source:"solid",Value:"vihara"},{Source:"solid",Value:"virus-covid-slash"},{Source:"solid",Value:"virus-covid"},{Source:"solid",Value:"virus-slash"},{Source:"solid",Value:"virus"},{Source:"solid",Value:"viruses"},{Source:"solid",Value:"voicemail"},{Source:"solid",Value:"volcano"},{Source:"solid",Value:"volleyball"},{Source:"solid",Value:"volume-high"},{Source:"solid",Value:"volume-low"},{Source:"solid",Value:"volume-off"},{Source:"solid",Value:"volume-xmark"},{Source:"solid",Value:"vr-cardboard"},{Source:"solid",Value:"w"},{Source:"solid",Value:"walkie-talkie"},{Source:"solid",Value:"wallet"},{Source:"solid",Value:"wand-magic-sparkles"},{Source:"solid",Value:"wand-magic"},{Source:"solid",Value:"wand-sparkles"},{Source:"solid",Value:"warehouse"},{Source:"solid",Value:"water-ladder"},{Source:"solid",Value:"water"},{Source:"solid",Value:"wave-square"},{Source:"solid",Value:"weight-hanging"},{Source:"solid",Value:"weight-scale"},{Source:"solid",Value:"wheat-awn-circle-exclamation"},{Source:"solid",Value:"wheat-awn"},{Source:"solid",Value:"wheelchair-move"},{Source:"solid",Value:"wheelchair"},{Source:"solid",Value:"whiskey-glass"},{Source:"solid",Value:"wifi"},{Source:"solid",Value:"wind"},{Source:"solid",Value:"window-maximize"},{Source:"solid",Value:"window-minimize"},{Source:"solid",Value:"window-restore"},{Source:"solid",Value:"wine-bottle"},{Source:"solid",Value:"wine-glass-empty"},{Source:"solid",Value:"wine-glass"},{Source:"solid",Value:"won-sign"},{Source:"solid",Value:"worm"},{Source:"solid",Value:"wrench"},{Source:"solid",Value:"x-ray"},{Source:"solid",Value:"x"},{Source:"solid",Value:"xmark"},{Source:"solid",Value:"xmarks-lines"},{Source:"solid",Value:"y"},{Source:"solid",Value:"yen-sign"},{Source:"solid",Value:"yin-yang"},{Source:"solid",Value:"z"},{Source:"regular",Value:"address-book"},{Source:"regular",Value:"address-card"},{Source:"regular",Value:"bell-slash"},{Source:"regular",Value:"bell"},{Source:"regular",Value:"bookmark"},{Source:"regular",Value:"building"},{Source:"regular",Value:"calendar-check"},{Source:"regular",Value:"calendar-days"},{Source:"regular",Value:"calendar-minus"},{Source:"regular",Value:"calendar-plus"},{Source:"regular",Value:"calendar-xmark"},{Source:"regular",Value:"calendar"},{Source:"regular",Value:"chart-bar"},{Source:"regular",Value:"chess-bishop"},{Source:"regular",Value:"chess-king"},{Source:"regular",Value:"chess-knight"},{Source:"regular",Value:"chess-pawn"},{Source:"regular",Value:"chess-queen"},{Source:"regular",Value:"chess-rook"},{Source:"regular",Value:"circle-check"},{Source:"regular",Value:"circle-dot"},{Source:"regular",Value:"circle-down"},{Source:"regular",Value:"circle-left"},{Source:"regular",Value:"circle-pause"},{Source:"regular",Value:"circle-play"},{Source:"regular",Value:"circle-question"},{Source:"regular",Value:"circle-right"},{Source:"regular",Value:"circle-stop"},{Source:"regular",Value:"circle-up"},{Source:"regular",Value:"circle-user"},{Source:"regular",Value:"circle-xmark"},{Source:"regular",Value:"circle"},{Source:"regular",Value:"clipboard"},{Source:"regular",Value:"clock"},{Source:"regular",Value:"clone"},{Source:"regular",Value:"closed-captioning"},{Source:"regular",Value:"comment-dots"},{Source:"regular",Value:"comment"},{Source:"regular",Value:"comments"},{Source:"regular",Value:"compass"},{Source:"regular",Value:"copy"},{Source:"regular",Value:"copyright"},{Source:"regular",Value:"credit-card"},{Source:"regular",Value:"envelope-open"},{Source:"regular",Value:"envelope"},{Source:"regular",Value:"eye-slash"},{Source:"regular",Value:"eye"},{Source:"regular",Value:"face-angry"},{Source:"regular",Value:"face-dizzy"},{Source:"regular",Value:"face-flushed"},{Source:"regular",Value:"face-frown-open"},{Source:"regular",Value:"face-frown"},{Source:"regular",Value:"face-grimace"},{Source:"regular",Value:"face-grin-beam-sweat"},{Source:"regular",Value:"face-grin-beam"},{Source:"regular",Value:"face-grin-hearts"},{Source:"regular",Value:"face-grin-squint-tears"},{Source:"regular",Value:"face-grin-squint"},{Source:"regular",Value:"face-grin-stars"},{Source:"regular",Value:"face-grin-tears"},{Source:"regular",Value:"face-grin-tongue-squint"},{Source:"regular",Value:"face-grin-tongue-wink"},{Source:"regular",Value:"face-grin-tongue"},{Source:"regular",Value:"face-grin-wide"},{Source:"regular",Value:"face-grin-wink"},{Source:"regular",Value:"face-grin"},{Source:"regular",Value:"face-kiss-beam"},{Source:"regular",Value:"face-kiss-wink-heart"},{Source:"regular",Value:"face-kiss"},{Source:"regular",Value:"face-laugh-beam"},{Source:"regular",Value:"face-laugh-squint"},{Source:"regular",Value:"face-laugh-wink"},{Source:"regular",Value:"face-laugh"},{Source:"regular",Value:"face-meh-blank"},{Source:"regular",Value:"face-meh"},{Source:"regular",Value:"face-rolling-eyes"},{Source:"regular",Value:"face-sad-cry"},{Source:"regular",Value:"face-sad-tear"},{Source:"regular",Value:"face-smile-beam"},{Source:"regular",Value:"face-smile-wink"},{Source:"regular",Value:"face-smile"},{Source:"regular",Value:"face-surprise"},{Source:"regular",Value:"face-tired"},{Source:"regular",Value:"file-audio"},{Source:"regular",Value:"file-code"},{Source:"regular",Value:"file-excel"},{Source:"regular",Value:"file-image"},{Source:"regular",Value:"file-lines"},{Source:"regular",Value:"file-pdf"},{Source:"regular",Value:"file-powerpoint"},{Source:"regular",Value:"file-video"},{Source:"regular",Value:"file-word"},{Source:"regular",Value:"file-zipper"},{Source:"regular",Value:"file"},{Source:"regular",Value:"flag"},{Source:"regular",Value:"floppy-disk"},{Source:"regular",Value:"folder-closed"},{Source:"regular",Value:"folder-open"},{Source:"regular",Value:"folder"},{Source:"regular",Value:"font-awesome"},{Source:"regular",Value:"futbol"},{Source:"regular",Value:"gem"},{Source:"regular",Value:"hand-back-fist"},{Source:"regular",Value:"hand-lizard"},{Source:"regular",Value:"hand-peace"},{Source:"regular",Value:"hand-point-down"},{Source:"regular",Value:"hand-point-left"},{Source:"regular",Value:"hand-point-right"},{Source:"regular",Value:"hand-point-up"},{Source:"regular",Value:"hand-pointer"},{Source:"regular",Value:"hand-scissors"},{Source:"regular",Value:"hand-spock"},{Source:"regular",Value:"hand"},{Source:"regular",Value:"handshake"},{Source:"regular",Value:"hard-drive"},{Source:"regular",Value:"heart"},{Source:"regular",Value:"hospital"},{Source:"regular",Value:"hourglass-half"},{Source:"regular",Value:"hourglass"},{Source:"regular",Value:"id-badge"},{Source:"regular",Value:"id-card"},{Source:"regular",Value:"image"},{Source:"regular",Value:"images"},{Source:"regular",Value:"keyboard"},{Source:"regular",Value:"lemon"},{Source:"regular",Value:"life-ring"},{Source:"regular",Value:"lightbulb"},{Source:"regular",Value:"map"},{Source:"regular",Value:"message"},{Source:"regular",Value:"money-bill-1"},{Source:"regular",Value:"moon"},{Source:"regular",Value:"names"},{Source:"regular",Value:"newspaper"},{Source:"regular",Value:"notdef"},{Source:"regular",Value:"note-sticky"},{Source:"regular",Value:"object-group"},{Source:"regular",Value:"object-ungroup"},{Source:"regular",Value:"paper-plane"},{Source:"regular",Value:"paste"},{Source:"regular",Value:"pen-to-square"},{Source:"regular",Value:"rectangle-list"},{Source:"regular",Value:"rectangle-xmark"},{Source:"regular",Value:"registered"},{Source:"regular",Value:"share-from-square"},{Source:"regular",Value:"snowflake"},{Source:"regular",Value:"square-caret-down"},{Source:"regular",Value:"square-caret-left"},{Source:"regular",Value:"square-caret-right"},{Source:"regular",Value:"square-caret-up"},{Source:"regular",Value:"square-check"},{Source:"regular",Value:"square-full"},{Source:"regular",Value:"square-minus"},{Source:"regular",Value:"square-plus"},{Source:"regular",Value:"square"},{Source:"regular",Value:"star-half-stroke"},{Source:"regular",Value:"star-half"},{Source:"regular",Value:"star"},{Source:"regular",Value:"sun"},{Source:"regular",Value:"thumbs-down"},{Source:"regular",Value:"thumbs-up"},{Source:"regular",Value:"trash-can"},{Source:"regular",Value:"user"},{Source:"regular",Value:"window-maximize"},{Source:"regular",Value:"window-minimize"},{Source:"regular",Value:"window-restore"}];i.customElement("rn-icon-dialog")(class extends p.DialogBase{constructor(...e){super(...e),this.CurrentPage=0,this.NumberOfPages=0,this.SearchCriteria="",this.IconToUse=null}InternalGetOptions(){return{Styles:{width:"800px",maxWidth:"80%"},Title:"Select an icon"}}SubRender(){null==this.IconToUse&&this.Filter();let e=this.IconToUse.slice(35*this.CurrentPage,35*this.CurrentPage+35);return t.html` <div> <input .value="${g.live(this.SearchCriteria)}" type="text" placeholder="Search for an icon" style="width: 100%;margin-bottom: 10px" @input="${e=>{this.CurrentPage=0,this.SearchCriteria=e.target.value.toLowerCase(),this.Filter(),this.forceUpdate()}}"/> <div style="display: flex;flex-wrap: wrap;justify-content: center;"> <div @click="${()=>this.Selected(null)}" class="iconItem" style="width: 100px;height: 100px;display: flex;flex-direction: column;text-align: center"> <span style="max-height: 40px;overflow: hidden">None</span> </div> ${e.map((e=>t.html` <div @click="${()=>this.Selected(e)}" class="iconItem" style="width: 100px;height: 100px;display: flex;flex-direction: column;text-align: center"> <img style="max-width: 30px;max-height: 30px" src="${rnBuilderVar.PluginURL}pr/icons/fontawesome/${e.Source}/${e.Value}.svg"/> <span style="max-height: 40px;overflow: hidden">${e.Value}</span> </div> `))} </div> <div style="display: flex;flex-wrap: wrap;align-items: center;justify-content: center;"> ${c.rnIf(0==this.CurrentPage?t.html`<span style="padding: 5px">${"<"}</span>`:t.html`<a style="padding: 5px" href="#" @click="${e=>{e.preventDefault(),this.CurrentPage=Math.max(0,this.CurrentPage-1),this.forceUpdate()}}">${"<"}</a>`)} ${new Array(this.NumberOfPages).fill(0).map(((e,i)=>i==this.CurrentPage?t.html`<span>${i+1}</span>`:t.html` <a style="padding: 5px" href="#" @click="${()=>{this.CurrentPage=i,this.forceUpdate()}}">${i+1}</a> `))} ${c.rnIf(this.CurrentPage+1==this.NumberOfPages?t.html`<span style="padding: 5px">${">"}</span>`:t.html`<a style="padding: 5px" href="#" @click="${e=>{e.preventDefault(),this.CurrentPage=Math.min(this.NumberOfPages,this.CurrentPage+1),this.forceUpdate()}}">${">"}</a>`)} </div> </div> `}Filter(){""==this.SearchCriteria.trim()?this.IconToUse=Vy:this.IconToUse=Vy.filter((e=>e.Value.indexOf(this.SearchCriteria)>=0)),this.NumberOfPages=0==this.IconToUse.length?0:Math.ceil(this.IconToUse.length/35)}Selected(e){null!=e?this.SendResult((new A).Merge({Type:"Icon",Source:e.Source,Value:e.Value})):this.SendResult(null)}}),i.customElement("rnwppages-icon-property")(class extends ue{SubRender(){return t.html` <div style="width: 100px;height: 100px;display: flex;align-items: center;justify-content: center;text-align: center;border: 1px solid #ccc;cursor: pointer" @click="${()=>this.OpenDialog()}"> ${this.GetContent()} </div> `}GetContent(){let e=this.model.GetValue(),i=`${rnBuilderVar.PluginURL}pr/icons/fontawesome/${e.Source}/${e.Value}.svg`;return""==e.Value?t.html`<div style="font-size: 20px;line-height: 25px">Please select an icon</div>`:t.html` <div style="width: 90%;height: 90%;background-color: black;-webkit-mask-position: center ;-webkit-mask-repeat: no-repeat ;mask-position: center;mask-repeat: no-repeat;width20px;height20px;display: inline-flex;mask-image: url(${i});-webkit-mask-image: url(${i})"></div>`}async OpenDialog(){if(""==rnBuilderVar.IsPR)return void h.Dialog.Show(t.html`<rnwppages-license-required .message=${"Sorry only the full version has access to the icons"}></rnwppages-license-required>`);this.model.GetValue();let e=await h.Dialog.Show(t.html`<rn-icon-dialog></rn-icon-dialog>`);null==e&&(e=(new A).Merge()),this.model.SetValue(e)}});class Cy extends ce{constructor(e,t,i){super(e,t,i),this.ActivateChangeWhenBlur=!1}Render(){return t.html` <rnwppages-icon-property .model="${this}"></rnwppages-icon-property> `}}class Ty extends gO{constructor(e,t){super(e,t),this.Text=null}InitializeStartingValues(){}GetLabel(){return"Link"}GetProperties(){let e=super.GetProperties(),t=new Bt(this,"LinkType","Link type").AddItem("Custom Url",ay.URL).AddItem("View entry",ay.ViewEntry).AddItem("Edit entry (Full version only)",ay.EditEntry).AddItem("Delete entry (Full version only)",ay.DeleteEntry).AddItem("Approve entry (Full version only)",ay.ApproveEntry).AddItem("Disapprove entry (Full version only)",ay.DisapproveEntry).AddItem("Main page",ay.MainPage).SetOnChange((e=>{switch(this.Options.LinkType=e,e){case ay.URL:this.Options.Text=null;break;case ay.EditEntry:""==rnBuilderVar.IsPR&&(this.Options.LinkType=ay.URL),this.Options.Text=k.SingleLineGenerator.CreateText("Edit Entry");break;case ay.DeleteEntry:""==rnBuilderVar.IsPR&&(this.Options.LinkType=ay.URL),this.Options.Text=k.SingleLineGenerator.CreateText("Delete Entry");break;case ay.ApproveEntry:""==rnBuilderVar.IsPR&&(this.Options.LinkType=ay.URL),this.Options.Text=k.SingleLineGenerator.CreateText("Approve Entry");break;case ay.DisapproveEntry:""==rnBuilderVar.IsPR&&(this.Options.LinkType=ay.URL),this.Options.Text=k.SingleLineGenerator.CreateText("Disapprove Entry");break;case ay.ViewEntry:this.Options.Text=k.SingleLineGenerator.CreateText("View Entry");break;case"PDFBuilder":case"PDFImporter":this.Options.Text=k.SingleLineGenerator.CreateText("Download")}this.Text=null,this.Refresh()})).SetRefreshPropertiesPanel(),i=window.rnPageBuilder.DataSource.GetPDFTemplates(),r=window.rnPageBuilder.DataSource.GetPDFImporterTemplates();null==this.Options.Text&&(this.Options.Text=k.SingleLineGenerator.CreateText("Click here"));let n=e.GetOrCreateGroup("General",1);if(n.AddProperties([new Bt(this,"Style","Style").AddItem("Link","Link").AddItem("Button","Button"),new Sy(this,"Text","Text").SetAddFieldsGroup().SetOnChange((e=>(this.Options.Text=e,this.Text=null,!0))),t]),i.length>0&&t.AddItem("PDF Builder","PDFBuilder"),r.length>0&&t.AddItem("PDF Importer","PDFImporter"),"PDFBuilder"==this.Options.LinkType){let e=new Bt(this,"Value","PDF Template");n.AddProperty(e);for(let t of i)e.AddItem(t.TemplateName,t.Id)}if("PDFImporter"==this.Options.LinkType){let e=new Bt(this,"Value","PDF Template");n.AddProperty(e);for(let t of r)e.AddItem(t.TemplateName,t.Id)}return this.Options.LinkType==ay.URL&&n.AddProperty(new Sy(this,"Value","Link URL").SetAddFieldsGroup()),e.GetOrCreateGroup("Appearance").AddProperty(new Cy(this,"Icon","Icon")),e}GetStyles(e=""){let t=new ie(this),i=super.GetStyles(e),r=i.GetOrCreateGroup("Link Styles");return r.AddProperties(ai.GetProperties(this,"","TextAlign")),r.AddProperties(ai.GetProperties(this,"a","FontSize|Width|Color")),r.AddProperty(new Wt(this,"background-color","Background Color").SetOptionsOverwrite(new ie(this).CreateStyleClassManager("a")).SetOnChange((e=>(t.AddStyleRule("a","background-color",e),t.AddStyleRule("a","border-color",e),ie.PageBuilderModel.Refresh(),n.EventManager.Publish("RefreshFieldProperties"),!1)))),i}render(){return t.html`<rnwppages-link-block .model="${this}"></rnwppages-link-block>`}}let $y=(yy=r.StoreDataType(Object),vy=r.StoreDataType(Object),wy=class extends D{constructor(...e){super(...e),babelHelpers.initializerDefineProperty(this,"Content",xy,this),babelHelpers.initializerDefineProperty(this,"Value",ky,this)}LoadDefaultValues(){super.LoadDefaultValues(),this.Type=E.QRCode,this.Content=null}},xy=babelHelpers.applyDecoratedDescriptor(wy.prototype,"Content",[yy],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ky=babelHelpers.applyDecoratedDescriptor(wy.prototype,"Value",[vy],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wy);var Py,Qy,Ry;i.customElement("rnwppages-qrcode-block")(class extends J{SubRender(){return t.html`<img src="${rnBuilderVar.PluginURL}images/FieldIcons/qrcode128.png"/>`}});class Iy extends gO{constructor(e,t){super(e,t),this.Text=null}InitializeStartingValues(){}GetLabel(){return"Link"}GetProperties(){let e=super.GetProperties();return this.Options.Text=k.SingleLineGenerator.CreateText("Click here"),e.GetOrCreateGroup("General",1).AddProperty(new Sy(this,"Content","Content").SetAddFieldsGroup()),e}render(){return t.html`<rnwppages-qrcode-block .model="${this}"></rnwppages-qrcode-block>`}}let Ey=(Py=r.StoreDataType(Object),Qy=class extends D{constructor(...e){super(...e),babelHelpers.initializerDefineProperty(this,"MediaData",Ry,this)}LoadDefaultValues(){super.LoadDefaultValues(),this.Type=E.Image,this.MediaData=null}},Ry=babelHelpers.applyDecoratedDescriptor(Qy.prototype,"MediaData",[Py],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qy);var Dy,Ay,_y;let My=(Dy=r.StoreDataType(Object),Ay=class extends D{constructor(...e){super(...e),babelHelpers.initializerDefineProperty(this,"MediaData",_y,this)}LoadDefaultValues(){super.LoadDefaultValues(),this.Type=E.Video,this.MediaData=null,this.ShowControls=!1,this.AutoPlay=!0,this.Loop=!1,this.Muted=!0}},_y=babelHelpers.applyDecoratedDescriptor(Ay.prototype,"MediaData",[Dy],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ay);var Ly,Gy,Ny;i.customElement("rnwppages-image-block")(class extends J{SubRender(){return null==this.model.Options.MediaData?t.html`<div class="imageContainer" style="text-align: center;overflow: hidden;"> <div style="width: 150px;height: 150px;display: inline-flex;align-items: center;justify-content: center;text-align: center;border: 1px #ccc dashed;font-size: 20px;line-height: 1.5em"> Please select an image first </div> </div>`:t.html`<div class="imageContainer"> <img src="${this.model.Options.MediaData.URL}"/> </div>`}}),i.customElement("rnwppages-image-property")(class extends ue{constructor(...e){super(...e),this.media=null}SubRender(){return t.html` <div> <img @click=${()=>this.ImageClicked()} src=${null==this.model.GetValue()?rnBuilderVar.PluginURL+"images/temporalImage.png":this.model.GetValue().URL} style="max-width: 200;max-height: 200;border: 1px solid #ccc;cursor: pointer"/> </div> `}ImageClicked(){null==this.media&&(this.media=window.wp.media({title:"Which image do you want to use in your pdf?",multiple:!1,button:{text:"Select an image"},library:{type:this.model.AllowedFiles}}),this.media.on("select",(()=>{let e=this.media.state().get("selection");null!=e&&e.each((e=>{this.model.SetValue({URL:e.attributes.url,Id:e.attributes.id})}))}))),this.media.open()}});class Wy extends ce{constructor(...e){super(...e),this.AllowedFiles=["image"]}Render(){return t.html`<rnwppages-image-property .model="${this}"></rnwppages-image-property>`}SetAllowedFiles(e){return this.AllowedFiles=e,this}}class By extends gO{constructor(e,t){super(e,t)}GetProperties(){let e=super.GetProperties();return e.GetOrCreateGroup("General").AddProperty(new Wy(this,"MediaData","Image")),e}GetLabel(){return"Image"}GetStyles(e=""){let t=super.GetStyles(e),i=t.GetOrCreateGroup("Image",99);return i.AddProperties(ai.GetProperties(this,"img","Width|Height|MaxWidth|MaxHeight")),i.AddProperties(ai.GetProperties(this,".imageContainer","TextAlign")),t}render(){return t.html`<rnwppages-image-block .model="${this}"></rnwppages-image-block>`}}i.customElement("rnwppages-video-block")(class extends J{SubRender(){return null==this.model.Options.MediaData?t.html`<div class="videoContainer" style="text-align: center;overflow: hidden;"> <div style="width: 150px;height: 150px;display: inline-flex;align-items: center;justify-content: center;text-align: center;border: 1px #ccc dashed;font-size: 20px;line-height: 1.5em"> Please select a video first </div> </div>`:t.html`<div class="videoContainer"> <video> <source src="${this.model.Options.MediaData.URL}"/> </video> </div>`}}),i.customElement("rnwppages-video-property")(class extends ue{constructor(...e){super(...e),this.media=null,this.InternalId=0}SubRender(){return t.html` <div style="display: flex;flex-direction: column;align-items: flex-start"> ${d.repeat([this.InternalId],(e=>e),(e=>{var i;return t.html` <video style="max-width: 200px;max-height: 200px;border: 1px solid #ccc;" controls> <source src="${null===(i=this.model.GetValue())||void 0===i?void 0:i.URL}"/> </video> `}))} <button style="margin-top: 5px" class="rnbtn rnbtn-primary" @click="${()=>this.ImageClicked()}">Change Video</button> </div> `}ImageClicked(){null==this.media&&(this.media=window.wp.media({title:"Which image do you want to use in your pdf?",multiple:!1,button:{text:"Select an image"},library:{type:this.model.AllowedFiles}}),this.media.on("select",(()=>{let e=this.media.state().get("selection");null!=e&&e.each((e=>{this.InternalId++,this.model.SetValue({URL:e.attributes.url,Id:e.attributes.id})}))}))),this.media.open()}});class zy extends ce{constructor(...e){super(...e),this.AllowedFiles=["video"]}Render(){return t.html`<rnwppages-video-property .model="${this}"></rnwppages-video-property>`}SetAllowedFiles(e){return this.AllowedFiles=e,this}}class Fy extends gO{constructor(e,t){super(e,t)}GetProperties(){let e=super.GetProperties(),t=e.GetOrCreateGroup("Image",1);return t.AddProperty(new zy(this,"MediaData","Video")),t.AddProperty(new qS(this,"ShowControls","Show Controls")),t.AddProperty(new qS(this,"Loop","Loop")),t.AddProperty(new qS(this,"AutoPlay","Autoplay")),t.AddProperty(new qS(this,"Muted","Muted")),e}GetLabel(){return"Video"}GetStyles(e=""){let t=super.GetStyles(e),i=t.GetOrCreateGroup("Image",99);return i.AddProperties(ai.GetProperties(this,"video","Width|Height|MaxWidth|MaxHeight")),i.AddProperties(ai.GetProperties(this,".videoContainer","TextAlign")),t}render(){return t.html`<rnwppages-video-block .model="${this}"></rnwppages-video-block>`}}let Uy=(Ly=r.StoreDataType(Object),Gy=class extends D{constructor(...e){super(...e),babelHelpers.initializerDefineProperty(this,"Code",Ny,this)}LoadDefaultValues(){super.LoadDefaultValues(),this.Type=E.HTML,this.Label="HTML",this.Code=""}},Ny=babelHelpers.applyDecoratedDescriptor(Gy.prototype,"Code",[Ly],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gy);i.customElement("rnwppages-html-block")(class extends J{SubRender(){return null==this.model.HTML&&(this.model.HTML=document.createElement("div"),this.model.HTML.innerHTML=this.ProcessCode(this.model.Options.Code)),0==this.model.HTML.childNodes.length||""==this.model.Options.Code.trim()?t.html`<div style="font-style: italic"> The html field is empty </div>`:t.html`<div>${c.rnIf(""!=this.model.Options.Label.trim()&&t.html`<label class="fieldLabel">${this.model.Options.Label}</label>`)}${this.model.HTML}</div>`}ProcessCode(e){let t=/\[\$([^\:]*)(?:\:([A-Za-z0-9_-]*))?\$\]/g,i=null;for(;i=t.exec(e);){var r;let n=i[1],o=i[2],s=null===(r=this.model.PageBuilder.DataSource)||void 0===r?void 0:r.GetFriendlyName(n,o,!0,!0);e=e.replace(i[0],s),t.lastIndex=0}return e}});const qy={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},Xy={dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},jy={dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}};function Hy(e){return 9==e||10==e||13==e||32==e}let Zy=null,Yy=null,Jy=0;function Ky(e,t){let i=e.pos+t;if(Jy==i&&Yy==e)return Zy;let r=e.peek(t);for(;Hy(r);)r=e.peek(++t);let n="";for(;45==(o=r)||46==o||58==o||o>=65&&o<=90||95==o||o>=97&&o<=122||o>=161;)n+=String.fromCharCode(r),r=e.peek(++t);var o;return Yy=e,Jy=i,Zy=n?n.toLowerCase():r==ev||r==tv?void 0:null}const ev=63,tv=33;function iv(e,t){this.name=e,this.parent=t,this.hash=t?t.hash:0;for(let t=0;t<e.length;t++)this.hash+=(this.hash<<4)+e.charCodeAt(t)+(e.charCodeAt(t)<<8)}const rv=[4,8,5,6,7],nv=new Gg({start:null,shift:(e,t,i,r)=>rv.indexOf(t)>-1?new iv(Ky(r,1)||"",e):e,reduce:(e,t)=>18==t&&e?e.parent:e,reuse(e,t,i,r){let n=t.type.id;return 4==n||35==n?new iv(Ky(r,1)||"",e):e},hash:e=>e?e.hash:0,strict:!1}),ov=new Cg(((e,t)=>{if(60!=e.next)return void(e.next<0&&t.context&&e.acceptToken(56));e.advance();let i=47==e.next;i&&e.advance();let r=Ky(e,0);if(void 0===r)return;if(!r)return e.acceptToken(i?12:4);let n=t.context?t.context.name:null;if(i){if(r==n)return e.acceptToken(9);if(n&&Xy[n])return e.acceptToken(56,-2);if(t.dialectEnabled(0))return e.acceptToken(10);for(let e=t.context;e;e=e.parent)if(e.name==r)return;e.acceptToken(11)}else{if("script"==r)return e.acceptToken(5);if("style"==r)return e.acceptToken(6);if("textarea"==r)return e.acceptToken(7);if(qy.hasOwnProperty(r))return e.acceptToken(8);n&&jy[n]&&jy[n][r]?e.acceptToken(56,-1):e.acceptToken(4)}}),{contextual:!0}),sv=new Cg((e=>{for(let t=0,i=0;;i++){if(e.next<0){i&&e.acceptToken(57);break}if(45==e.next)t++;else{if(62==e.next&&t>=2){i>3&&e.acceptToken(57,-2);break}t=0}e.advance()}}));function av(e,t,i){let r=2+e.length;return new Cg((n=>{for(let o=0,s=0,a=0;;a++){if(n.next<0){a&&n.acceptToken(t);break}if(0==o&&60==n.next||1==o&&47==n.next||o>=2&&o<r&&n.next==e.charCodeAt(o-2))o++,s++;else if(2!=o&&o!=r||!Hy(n.next)){if(o==r&&62==n.next){a>s?n.acceptToken(t,-s):n.acceptToken(i,-(s-2));break}if((10==n.next||13==n.next)&&a){n.acceptToken(t,1);break}o=s=0}else s++;n.advance()}}))}const lv=av("script",53,1),uv=av("style",54,2),cv=av("textarea",55,3),dv=lc({"Text RawText":Qc.content,"StartTag StartCloseTag SelfCloserEndTag EndTag SelfCloseEndTag":Qc.angleBracket,TagName:Qc.tagName,"MismatchedCloseTag/TagName":[Qc.tagName,Qc.invalid],AttributeName:Qc.attributeName,"AttributeValue UnquotedAttributeValue":Qc.attributeValue,Is:Qc.definitionOperator,"EntityReference CharacterReference":Qc.character,Comment:Qc.blockComment,ProcessingInst:Qc.processingInstruction,DoctypeDecl:Qc.documentMeta}),hv=Ng.deserialize({version:14,states:",xOVOxOOO!WQ!bO'#CoO!]Q!bO'#CyO!bQ!bO'#C|O!gQ!bO'#DPO!lQ!bO'#DRO!qOXO'#CnO!|OYO'#CnO#XO[O'#CnO$eOxO'#CnOOOW'#Cn'#CnO$lO!rO'#DSO$tQ!bO'#DUO$yQ!bO'#DVOOOW'#Dj'#DjOOOW'#DX'#DXQVOxOOO%OQ#tO,59ZO%WQ#tO,59eO%`Q#tO,59hO%hQ#tO,59kO%pQ#tO,59mOOOX'#D]'#D]O%xOXO'#CwO&TOXO,59YOOOY'#D^'#D^O&]OYO'#CzO&hOYO,59YOOO['#D_'#D_O&pO[O'#C}O&{O[O,59YOOOW'#D`'#D`O'TOxO,59YO'[Q!bO'#DQOOOW,59Y,59YOOO`'#Da'#DaO'aO!rO,59nOOOW,59n,59nO'iQ!bO,59pO'nQ!bO,59qOOOW-E7V-E7VO'sQ#tO'#CqOOQO'#DY'#DYO(OQ#tO1G.uOOOX1G.u1G.uO(WQ#tO1G/POOOY1G/P1G/PO(`Q#tO1G/SOOO[1G/S1G/SO(hQ#tO1G/VOOOW1G/V1G/VO(pQ#tO1G/XOOOW1G/X1G/XOOOX-E7Z-E7ZO(xQ!bO'#CxOOOW1G.t1G.tOOOY-E7[-E7[O(}Q!bO'#C{OOO[-E7]-E7]O)SQ!bO'#DOOOOW-E7^-E7^O)XQ!bO,59lOOO`-E7_-E7_OOOW1G/Y1G/YOOOW1G/[1G/[OOOW1G/]1G/]O)^Q&jO,59]OOQO-E7W-E7WOOOX7+$a7+$aOOOY7+$k7+$kOOO[7+$n7+$nOOOW7+$q7+$qOOOW7+$s7+$sO)iQ!bO,59dO)nQ!bO,59gO)sQ!bO,59jOOOW1G/W1G/WO)xO,UO'#CtO*WO7[O'#CtOOQO1G.w1G.wOOOW1G/O1G/OOOOW1G/R1G/ROOOW1G/U1G/UOOOO'#DZ'#DZO*fO,UO,59`OOQO,59`,59`OOOO'#D['#D[O*tO7[O,59`OOOO-E7X-E7XOOQO1G.z1G.zOOOO-E7Y-E7Y",stateData:"+[~O!]OS~OSSOTPOUQOVROWTOY]OZ[O[^O^^O_^O`^Oa^Ow^Oz_O!cZO~OdaO~OdbO~OdcO~OddO~OdeO~O!VfOPkP!YkP~O!WiOQnP!YnP~O!XlORqP!YqP~OSSOTPOUQOVROWTOXqOY]OZ[O[^O^^O_^O`^Oa^Ow^O!cZO~O!YrO~P#dO!ZsO!duO~OdvO~OdwO~OfyOj|O~OfyOj!OO~OfyOj!QO~OfyOj!SO~OfyOj!UO~O!VfOPkX!YkX~OP!WO!Y!XO~O!WiOQnX!YnX~OQ!ZO!Y!XO~O!XlORqX!YqX~OR!]O!Y!XO~O!Y!XO~P#dOd!_O~O!ZsO!d!aO~Oj!bO~Oj!cO~Og!dOfeXjeX~OfyOj!fO~OfyOj!gO~OfyOj!hO~OfyOj!iO~OfyOj!jO~Od!kO~Od!lO~Od!mO~Oj!nO~Oi!qO!_!oO!a!pO~Oj!rO~Oj!sO~Oj!tO~O_!uO`!uO!_!wO!`!uO~O_!xO`!xO!a!wO!b!xO~O_!uO`!uO!_!{O!`!uO~O_!xO`!xO!a!{O!b!xO~O`_a!cwz!c~",goto:"%o!_PPPPPPPPPPPPPPPPPP!`!fP!lPP!xPP!{#O#R#X#[#_#e#h#k#q#w!`P!`!`P#}$T$k$q$w$}%T%Z%aPPPPPPPP%gX^OX`pXUOX`pezabcde{}!P!R!TR!q!dRhUR!XhXVOX`pRkVR!XkXWOX`pRnWR!XnXXOX`pQrXR!XpXYOX`pQ`ORx`Q{aQ}bQ!PcQ!RdQ!TeZ!e{}!P!R!TQ!v!oR!z!vQ!y!pR!|!yQgUR!VgQjVR!YjQmWR![mQpXR!^pQtZR!`tS_O`ToXp",nodeNames:"⚠ StartCloseTag StartCloseTag StartCloseTag StartTag StartTag StartTag StartTag StartTag StartCloseTag StartCloseTag StartCloseTag IncompleteCloseTag Document Text EntityReference CharacterReference InvalidEntity Element OpenTag TagName Attribute AttributeName Is AttributeValue UnquotedAttributeValue EndTag ScriptText CloseTag OpenTag StyleText CloseTag OpenTag TextareaText CloseTag OpenTag CloseTag SelfClosingTag Comment ProcessingInst MismatchedCloseTag CloseTag DoctypeDecl",maxTerm:66,context:nv,nodeProps:[["closedBy",-11,1,2,3,4,5,6,7,8,9,10,11,"EndTag",-4,19,29,32,35,"CloseTag"],["group",-9,12,15,16,17,18,38,39,40,41,"Entity",14,"Entity TextContent",-3,27,30,33,"TextContent Entity"],["openedBy",26,"StartTag StartCloseTag",-4,28,31,34,36,"OpenTag"]],propSources:[dv],skippedNodes:[0],repeatNodeCount:9,tokenData:"!#b!aR!WOX$kXY)sYZ)sZ]$k]^)s^p$kpq)sqr$krs*zsv$kvw+dwx2yx}$k}!O3f!O!P$k!P!Q7_!Q![$k![!]8u!]!^$k!^!_>b!_!`!!p!`!a8T!a!c$k!c!}8u!}#R$k#R#S8u#S#T$k#T#o8u#o$f$k$f$g&R$g%W$k%W%o8u%o%p$k%p&a8u&a&b$k&b1p8u1p4U$k4U4d8u4d4e$k4e$IS8u$IS$I`$k$I`$Ib8u$Ib$Kh$k$Kh%#t8u%#t&/x$k&/x&Et8u&Et&FV$k&FV;'S8u;'S;:j<t;:j?&r$k?&r?Ah8u?Ah?BY$k?BY?Mn8u?Mn~$k!Z$vc^PiW!``!bpOX$kXZ&RZ]$k]^&R^p$kpq&Rqr$krs&qsv$kvw)Rwx'rx!P$k!P!Q&R!Q!^$k!^!_(k!_!a&R!a$f$k$f$g&R$g~$k!R&[V^P!``!bpOr&Rrs&qsv&Rwx'rx!^&R!^!_(k!_~&Rq&xT^P!bpOv&qwx'Xx!^&q!^!_'g!_~&qP'^R^POv'Xw!^'X!_~'Xp'lQ!bpOv'gx~'ga'yU^P!``Or'rrs'Xsv'rw!^'r!^!_(]!_~'r`(bR!``Or(]sv(]w~(]!Q(rT!``!bpOr(krs'gsv(kwx(]x~(kW)WXiWOX)RZ])R^p)Rqr)Rsw)Rx!P)R!Q!^)R!a$f)R$g~)R!a*O^^P!``!bp!]^OX&RXY)sYZ)sZ]&R]^)s^p&Rpq)sqr&Rrs&qsv&Rwx'rx!^&R!^!_(k!_~&R!Z+TT!_h^P!bpOv&qwx'Xx!^&q!^!_'g!_~&q!Z+kbiWaPOX,sXZ.QZ],s]^.Q^p,sqr,srs.Qst/]tw,swx.Qx!P,s!P!Q.Q!Q!],s!]!^)R!^!a.Q!a$f,s$f$g.Q$g~,s!Z,xbiWOX,sXZ.QZ],s]^.Q^p,sqr,srs.Qst)Rtw,swx.Qx!P,s!P!Q.Q!Q!],s!]!^.i!^!a.Q!a$f,s$f$g.Q$g~,s!R.TTOp.Qqs.Qt!].Q!]!^.d!^~.Q!R.iO_!R!Z.pXiW_!ROX)RZ])R^p)Rqr)Rsw)Rx!P)R!Q!^)R!a$f)R$g~)R!Z/baiWOX0gXZ1qZ]0g]^1q^p0gqr0grs1qsw0gwx1qx!P0g!P!Q1q!Q!]0g!]!^)R!^!a1q!a$f0g$f$g1q$g~0g!Z0laiWOX0gXZ1qZ]0g]^1q^p0gqr0grs1qsw0gwx1qx!P0g!P!Q1q!Q!]0g!]!^2V!^!a1q!a$f0g$f$g1q$g~0g!R1tSOp1qq!]1q!]!^2Q!^~1q!R2VO`!R!Z2^XiW`!ROX)RZ])R^p)Rqr)Rsw)Rx!P)R!Q!^)R!a$f)R$g~)R!Z3SU!ax^P!``Or'rrs'Xsv'rw!^'r!^!_(]!_~'r!]3qe^PiW!``!bpOX$kXZ&RZ]$k]^&R^p$kpq&Rqr$krs&qsv$kvw)Rwx'rx}$k}!O5S!O!P$k!P!Q&R!Q!^$k!^!_(k!_!a&R!a$f$k$f$g&R$g~$k!]5_d^PiW!``!bpOX$kXZ&RZ]$k]^&R^p$kpq&Rqr$krs&qsv$kvw)Rwx'rx!P$k!P!Q&R!Q!^$k!^!_(k!_!`&R!`!a6m!a$f$k$f$g&R$g~$k!T6xV^P!``!bp!dQOr&Rrs&qsv&Rwx'rx!^&R!^!_(k!_~&R!X7hX^P!``!bpOr&Rrs&qsv&Rwx'rx!^&R!^!_(k!_!`&R!`!a8T!a~&R!X8`VjU^P!``!bpOr&Rrs&qsv&Rwx'rx!^&R!^!_(k!_~&R!a9U!YfSdQ^PiW!``!bpOX$kXZ&RZ]$k]^&R^p$kpq&Rqr$krs&qsv$kvw)Rwx'rx}$k}!O8u!O!P8u!P!Q&R!Q![8u![!]8u!]!^$k!^!_(k!_!a&R!a!c$k!c!}8u!}#R$k#R#S8u#S#T$k#T#o8u#o$f$k$f$g&R$g$}$k$}%O8u%O%W$k%W%o8u%o%p$k%p&a8u&a&b$k&b1p8u1p4U8u4U4d8u4d4e$k4e$IS8u$IS$I`$k$I`$Ib8u$Ib$Je$k$Je$Jg8u$Jg$Kh$k$Kh%#t8u%#t&/x$k&/x&Et8u&Et&FV$k&FV;'S8u;'S;:j<t;:j?&r$k?&r?Ah8u?Ah?BY$k?BY?Mn8u?Mn~$k!a=Pe^PiW!``!bpOX$kXZ&RZ]$k]^&R^p$kpq&Rqr$krs&qsv$kvw)Rwx'rx!P$k!P!Q&R!Q!^$k!^!_(k!_!a&R!a$f$k$f$g&R$g;=`$k;=`<%l8u<%l~$k!R>iW!``!bpOq(kqr?Rrs'gsv(kwx(]x!a(k!a!bKj!b~(k!R?YZ!``!bpOr(krs'gsv(kwx(]x}(k}!O?{!O!f(k!f!gAR!g#W(k#W#XGz#X~(k!R@SV!``!bpOr(krs'gsv(kwx(]x}(k}!O@i!O~(k!R@rT!``!bp!cPOr(krs'gsv(kwx(]x~(k!RAYV!``!bpOr(krs'gsv(kwx(]x!q(k!q!rAo!r~(k!RAvV!``!bpOr(krs'gsv(kwx(]x!e(k!e!fB]!f~(k!RBdV!``!bpOr(krs'gsv(kwx(]x!v(k!v!wBy!w~(k!RCQV!``!bpOr(krs'gsv(kwx(]x!{(k!{!|Cg!|~(k!RCnV!``!bpOr(krs'gsv(kwx(]x!r(k!r!sDT!s~(k!RD[V!``!bpOr(krs'gsv(kwx(]x!g(k!g!hDq!h~(k!RDxW!``!bpOrDqrsEbsvDqvwEvwxFfx!`Dq!`!aGb!a~DqqEgT!bpOvEbvxEvx!`Eb!`!aFX!a~EbPEyRO!`Ev!`!aFS!a~EvPFXOzPqF`Q!bpzPOv'gx~'gaFkV!``OrFfrsEvsvFfvwEvw!`Ff!`!aGQ!a~FfaGXR!``zPOr(]sv(]w~(]!RGkT!``!bpzPOr(krs'gsv(kwx(]x~(k!RHRV!``!bpOr(krs'gsv(kwx(]x#c(k#c#dHh#d~(k!RHoV!``!bpOr(krs'gsv(kwx(]x#V(k#V#WIU#W~(k!RI]V!``!bpOr(krs'gsv(kwx(]x#h(k#h#iIr#i~(k!RIyV!``!bpOr(krs'gsv(kwx(]x#m(k#m#nJ`#n~(k!RJgV!``!bpOr(krs'gsv(kwx(]x#d(k#d#eJ|#e~(k!RKTV!``!bpOr(krs'gsv(kwx(]x#X(k#X#YDq#Y~(k!RKqW!``!bpOrKjrsLZsvKjvwLowxNPx!aKj!a!b! g!b~KjqL`T!bpOvLZvxLox!aLZ!a!bM^!b~LZPLrRO!aLo!a!bL{!b~LoPMORO!`Lo!`!aMX!a~LoPM^OwPqMcT!bpOvLZvxLox!`LZ!`!aMr!a~LZqMyQ!bpwPOv'gx~'gaNUV!``OrNPrsLosvNPvwLow!aNP!a!bNk!b~NPaNpV!``OrNPrsLosvNPvwLow!`NP!`!a! V!a~NPa! ^R!``wPOr(]sv(]w~(]!R! nW!``!bpOrKjrsLZsvKjvwLowxNPx!`Kj!`!a!!W!a~Kj!R!!aT!``!bpwPOr(krs'gsv(kwx(]x~(k!V!!{VgS^P!``!bpOr&Rrs&qsv&Rwx'rx!^&R!^!_(k!_~&R",tokenizers:[lv,uv,cv,ov,sv,0,1,2,3,4,5],topRules:{Document:[0,13]},dialects:{noMatch:0},tokenPrec:464});function pv(e,t){let i=Object.create(null);for(let r of e.firstChild.getChildren("Attribute")){let e=r.getChild("AttributeName"),n=r.getChild("AttributeValue")||r.getChild("UnquotedAttributeValue");e&&(i[t.read(e.from,e.to)]=n?"AttributeValue"==n.name?t.read(n.from+1,n.to-1):t.read(n.from,n.to):"")}return i}function fv(e,t,i){let r;for(let n of i)if(!n.attrs||n.attrs(r||(r=pv(e.node.parent,t))))return{parser:n.parser};return null}const mv=282,gv=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],Ov=new Gg({start:!1,shift:(e,t)=>5==t||6==t||286==t?e:287==t,strict:!1}),bv=new Cg(((e,t)=>{let{next:i}=e;(125==i||-1==i||t.context)&&t.canShift(284)&&e.acceptToken(284)}),{contextual:!0,fallback:!0}),Sv=new Cg(((e,t)=>{let i,{next:r}=e;gv.indexOf(r)>-1||(47!=r||47!=(i=e.peek(1))&&42!=i)&&125!=r&&59!=r&&-1!=r&&!t.context&&t.canShift(281)&&e.acceptToken(281)}),{contextual:!0}),yv=new Cg(((e,t)=>{let{next:i}=e;if((43==i||45==i)&&(e.advance(),i==e.next)){e.advance();let i=!t.context&&t.canShift(1);e.acceptToken(i?1:2)}}),{contextual:!0}),vv=new Cg((e=>{for(let t=!1,i=0;;i++){let{next:r}=e;if(r<0){i&&e.acceptToken(mv);break}if(96==r){i?e.acceptToken(mv):e.acceptToken(283,1);break}if(123==r&&t){1==i?e.acceptToken(3,1):e.acceptToken(mv,-1);break}if(10==r&&i){e.advance(),e.acceptToken(mv);break}92==r&&e.advance(),t=36==r,e.advance()}}));const wv=lc({"get set async static":Qc.modifier,"for while do if else switch try catch finally return throw break continue default case":Qc.controlKeyword,"in of await yield void typeof delete instanceof":Qc.operatorKeyword,"let var const function class extends":Qc.definitionKeyword,"import export from":Qc.moduleKeyword,"with debugger as new":Qc.keyword,TemplateString:Qc.special(Qc.string),Super:Qc.atom,BooleanLiteral:Qc.bool,this:Qc.self,null:Qc.null,Star:Qc.modifier,VariableName:Qc.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":Qc.function(Qc.variableName),VariableDefinition:Qc.definition(Qc.variableName),Label:Qc.labelName,PropertyName:Qc.propertyName,PrivatePropertyName:Qc.special(Qc.propertyName),"CallExpression/MemberExpression/PropertyName":Qc.function(Qc.propertyName),"FunctionDeclaration/VariableDefinition":Qc.function(Qc.definition(Qc.variableName)),"ClassDeclaration/VariableDefinition":Qc.definition(Qc.className),PropertyDefinition:Qc.definition(Qc.propertyName),PrivatePropertyDefinition:Qc.definition(Qc.special(Qc.propertyName)),UpdateOp:Qc.updateOperator,LineComment:Qc.lineComment,BlockComment:Qc.blockComment,Number:Qc.number,String:Qc.string,ArithOp:Qc.arithmeticOperator,LogicOp:Qc.logicOperator,BitOp:Qc.bitwiseOperator,CompareOp:Qc.compareOperator,RegExp:Qc.regexp,Equals:Qc.definitionOperator,"Arrow : Spread":Qc.punctuation,"( )":Qc.paren,"[ ]":Qc.squareBracket,"{ }":Qc.brace,"InterpolationStart InterpolationEnd":Qc.special(Qc.brace),".":Qc.derefOperator,", ;":Qc.separator,TypeName:Qc.typeName,TypeDefinition:Qc.definition(Qc.typeName),"type enum interface implements namespace module declare":Qc.definitionKeyword,"abstract global Privacy readonly override":Qc.modifier,"is keyof unique infer":Qc.operatorKeyword,JSXAttributeValue:Qc.attributeValue,JSXText:Qc.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":Qc.angleBracket,"JSXIdentifier JSXNameSpacedName":Qc.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":Qc.attributeName}),xv={__proto__:null,export:18,as:23,from:29,default:32,async:37,function:38,this:48,true:56,false:56,void:66,typeof:70,null:86,super:88,new:122,await:139,yield:141,delete:142,class:152,extends:154,public:197,private:197,protected:197,readonly:199,instanceof:220,in:222,const:224,import:256,keyof:307,unique:311,infer:317,is:351,abstract:371,implements:373,type:375,let:378,var:380,interface:387,enum:391,namespace:397,module:399,declare:403,global:407,for:428,of:437,while:440,with:444,do:448,if:452,else:454,switch:458,case:464,try:470,catch:474,finally:478,return:482,throw:486,break:490,continue:494,debugger:498},kv={__proto__:null,async:109,get:111,set:113,public:161,private:161,protected:161,static:163,abstract:165,override:167,readonly:173,new:355},Vv={__proto__:null,"<":129},Cv=Ng.deserialize({version:14,states:"$4|O`QYOOO'QQ$IfO'#ChO'XOSO'#DVO)dQYO'#D]O)tQYO'#DhO){QYO'#DrO-xQYO'#DxOOQO'#E]'#E]O.]QWO'#E[O.bQWO'#E[OOQ$IU'#Ef'#EfO0aQ$IfO'#ItO2wQ$IfO'#IuO3eQWO'#EzO3jQpO'#FaOOQ$IU'#FS'#FSO3rO!bO'#FSO4QQWO'#FhO5_QWO'#FgOOQ$IU'#Iu'#IuOOQ$IS'#It'#ItOOQQ'#J^'#J^O5dQWO'#HpO5iQ$I[O'#HqOOQQ'#Ih'#IhOOQQ'#Hr'#HrQ`QYOOO){QYO'#DjO5qQWO'#G[O5vQ#tO'#CmO6UQWO'#EZO6aQWO'#EgO6fQ#tO'#FRO7QQWO'#G[O7VQWO'#G`O7bQWO'#G`O7pQWO'#GcO7pQWO'#GdO7pQWO'#GfO5qQWO'#GiO8aQWO'#GlO9oQWO'#CdO:PQWO'#GyO:XQWO'#HPO:XQWO'#HRO`QYO'#HTO:XQWO'#HVO:XQWO'#HYO:^QWO'#H`O:cQ$I]O'#HfO){QYO'#HhO:nQ$I]O'#HjO:yQ$I]O'#HlO5iQ$I[O'#HnO){QYO'#DWOOOS'#Ht'#HtO;UOSO,59qOOQ$IU,59q,59qO=gQbO'#ChO=qQYO'#HuO>UQWO'#IvO@TQbO'#IvO'dQYO'#IvO@[QWO,59wO@rQ&jO'#DbOAkQWO'#E]OAxQWO'#JROBTQWO'#JQOBTQWO'#JQOB]QWO,5:yOBbQWO'#JPOBiQWO'#DyO5vQ#tO'#EZOBwQWO'#EZOCSQ`O'#FROOQ$IU,5:S,5:SOC[QYO,5:SOEYQ$IfO,5:^OEvQWO,5:dOFaQ$I[O'#JOO7VQWO'#I}OFhQWO'#I}OFpQWO,5:xOFuQWO'#I}OGTQYO,5:vOITQWO'#EWOJ_QWO,5:vOKnQWO'#DlOKuQYO'#DqOLPQ&jO,5;PO){QYO,5;POOQQ'#Er'#ErOOQQ'#Et'#EtO){QYO,5;RO){QYO,5;RO){QYO,5;RO){QYO,5;RO){QYO,5;RO){QYO,5;RO){QYO,5;RO){QYO,5;RO){QYO,5;RO){QYO,5;RO){QYO,5;ROOQQ'#Ex'#ExOLXQYO,5;cOOQ$IU,5;h,5;hOOQ$IU,5;i,5;iONXQWO,5;iOOQ$IU,5;j,5;jO){QYO'#IPON^Q$I[O,5<TONxQWO,5;RO){QYO,5;fO! bQpO'#JVO! PQpO'#JVO! iQpO'#JVO! zQpO,5;qOOOO,5;{,5;{O!!YQYO'#FcOOOO'#IO'#IOO3rO!bO,5;nO!!aQpO'#FeOOQ$IU,5;n,5;nO!!}Q,UO'#CrOOQ$IU'#Cu'#CuO!#bQWO'#CuO!#gOSO'#CyO!$TQ#tO,5<QO!$[QWO,5<SO!%hQWO'#FrO!%uQWO'#FsO!%zQWO'#FwO!&yQ&jO'#F{O!'lQ,UO'#IqOOQ$IU'#Iq'#IqO!'vQWO'#IpO!(UQWO'#IoOOQ$IU'#Cs'#CsOOQ$IU'#C|'#C|O!(^QWO'#DOOJdQWO'#FjOJdQWO'#FlO!(cQWO'#FnO!(hQWO'#FoO!(mQWO'#FuOJdQWO'#FzO!(rQWO'#E^O!)ZQWO,5<RO`QYO,5>[OOQQ'#Ik'#IkOOQQ,5>],5>]OOQQ-E;p-E;pO!+VQ$IfO,5:UOOQ$IS'#Cp'#CpO!+vQ#tO,5<vOOQO'#Cf'#CfO!,XQWO'#CqO!,aQ$I[O'#IlO5_QWO'#IlO:^QWO,59XO!,rQpO,59XO!,zQ#tO,59XO5vQ#tO,59XO!-VQWO,5:vO!-_QWO'#GxO!-mQWO'#JbO){QYO,5;kO!-uQ&jO,5;mO!-zQWO,5=cO!.PQWO,5=cO!.UQWO,5=cO5iQ$I[O,5=cO5qQWO,5<vO!.dQWO'#E_O!.xQ&jO'#E`OOQ$IS'#JP'#JPO!/ZQ$I[O'#J_O5iQ$I[O,5<zO7pQWO,5=QOOQO'#Cr'#CrO!/fQpO,5<}O!/nQ#tO,5=OO!/yQWO,5=QO!0OQ`O,5=TO:^QWO'#GnO5qQWO'#GpO!0WQWO'#GpO5vQ#tO'#GsO!0]QWO'#GsOOQQ,5=W,5=WO!0bQWO'#GtO!0jQWO'#CmO!0oQWO,59OO!0yQWO,59OO!2{QYO,59OOOQQ,59O,59OO!3YQ$I[O,59OO){QYO,59OO!3eQYO'#G{OOQQ'#G|'#G|OOQQ'#G}'#G}O`QYO,5=eO!3uQWO,5=eO){QYO'#DxO`QYO,5=kO`QYO,5=mO!3zQWO,5=oO`QYO,5=qO!4PQWO,5=tO!4UQYO,5=zOOQQ,5>Q,5>QO){QYO,5>QO5iQ$I[O,5>SOOQQ,5>U,5>UO!8VQWO,5>UOOQQ,5>W,5>WO!8VQWO,5>WOOQQ,5>Y,5>YO!8[Q`O,59rOOOS-E;r-E;rOOQ$IU1G/]1G/]O!8aQbO,5>aO'dQYO,5>aOOQO,5>f,5>fO!8kQYO'#HuOOQO-E;s-E;sO!8xQWO,5?bO!9QQbO,5?bO!9XQWO,5?lOOQ$IU1G/c1G/cO!9aQpO'#DTOOQO'#Ix'#IxO){QYO'#IxO!:OQpO'#IxO!:mQpO'#DcO!;OQ&jO'#DcO!=ZQYO'#DcO!=bQWO'#IwO!=jQWO,59|O!=oQWO'#EaO!=}QWO'#JSO!>VQWO,5:zO!>mQ&jO'#DcO){QYO,5?mO!>wQWO'#HzOOQO-E;x-E;xO!9XQWO,5?lOOQ$IS1G0e1G0eO!@TQ&jO'#D|OOQ$IU,5:e,5:eO){QYO,5:eOITQWO,5:eO!@[QWO,5:eO:^QWO,5:uO!,rQpO,5:uO!,zQ#tO,5:uO5vQ#tO,5:uOOQ$IU1G/n1G/nOOQ$IU1G0O1G0OOOQ$IS'#EV'#EVO){QYO,5?jO!@gQ$I[O,5?jO!@xQ$I[O,5?jO!APQWO,5?iO!AXQWO'#H|O!APQWO,5?iOOQ$IS1G0d1G0dO7VQWO,5?iOOQ$IU1G0b1G0bO!AsQ$IfO1G0bO!BdQ$IdO,5:rOOQ$IU'#Fq'#FqO!CQQ$IfO'#IqOGTQYO1G0bO!EPQ#tO'#IyO!EZQWO,5:WO!E`QbO'#IzO){QYO'#IzO!EjQWO,5:]OOQ$IU'#DT'#DTOOQ$IU1G0k1G0kO!EoQWO1G0kO!HQQ$IfO1G0mO!HXQ$IfO1G0mO!JlQ$IfO1G0mO!JsQ$IfO1G0mO!LzQ$IfO1G0mO!M_Q$IfO1G0mO#!OQ$IfO1G0mO#!VQ$IfO1G0mO#$jQ$IfO1G0mO#$qQ$IfO1G0mO#&fQ$IfO1G0mO#)`Q7^O'#ChO#+ZQ7^O1G0}O#-UQ7^O'#IuOOQ$IU1G1T1G1TO#-iQ$IfO,5>kOOQ$IS-E;}-E;}O#.YQ$IfO1G0mOOQ$IU1G0m1G0mO#0[Q$IfO1G1QO#0{QpO,5;sO#1QQpO,5;tO#1VQpO'#F[O#1kQWO'#FZOOQO'#JW'#JWOOQO'#H}'#H}O#1pQpO1G1]OOQ$IU1G1]1G1]OOOO1G1f1G1fO#2OQ7^O'#ItO#2YQWO,5;}OLXQYO,5;}OOOO-E;|-E;|OOQ$IU1G1Y1G1YOOQ$IU,5<P,5<PO#2_QpO,5<POOQ$IU,59a,59aOITQWO'#C{OOOS'#Hs'#HsO#2dOSO,59eOOQ$IU,59e,59eO){QYO1G1lO!(hQWO'#IRO#2oQWO,5<eOOQ$IU,5<b,5<bOOQO'#GV'#GVOJdQWO,5<pOOQO'#GX'#GXOJdQWO,5<rOJdQWO,5<tOOQO1G1n1G1nO#2zQ`O'#CpO#3_Q`O,5<^O#3fQWO'#JZO5qQWO'#JZO#3tQWO,5<`OJdQWO,5<_O#3yQ`O'#FqO#4WQ`O'#J[O#4bQWO'#J[OITQWO'#J[O#4gQWO,5<cOOQ$IS'#Dg'#DgO#4lQWO'#FtO#4wQpO'#F|O!&tQ&jO'#F|O!&tQ&jO'#GOO#5YQWO'#GPO!(mQWO'#GSO#5_Q$I[O'#ITO#5jQ&jO,5<gOOQ$IU,5<g,5<gO#5qQ&jO'#F|O#6PQ&jO'#F}O#6XQ&jO'#F}OOQ$IU,5<u,5<uOJdQWO,5?[OJdQWO,5?[O#6^QWO'#IUO#6iQWO,5?ZOOQ$IU'#Ch'#ChO#7]Q#tO,59jOOQ$IU,59j,59jO#8OQ#tO,5<UO#8qQ#tO,5<WO#8{QWO,5<YOOQ$IU,5<Z,5<ZO#9QQWO,5<aO#9VQ#tO,5<fOGTQYO1G1mO#9gQWO1G1mOOQQ1G3v1G3vOOQ$IU1G/p1G/pONXQWO1G/pOOQQ1G2b1G2bOITQWO1G2bO){QYO1G2bOITQWO1G2bO#9lQWO1G2bO#9zQWO,59]O#;TQWO'#EWOOQ$IS,5?W,5?WO#;_Q$I[O,5?WOOQQ1G.s1G.sO:^QWO1G.sO!,rQpO1G.sO!,zQ#tO1G.sO#;pQWO1G0bO#;uQWO'#ChO#<QQWO'#JcO#<YQWO,5=dO#<_QWO'#JcO#<dQWO'#JcO#<lQWO'#I^O#<zQWO,5?|O#=SQbO1G1VOOQ$IU1G1X1G1XO5qQWO1G2}O#=ZQWO1G2}O#=`QWO1G2}O#=eQWO1G2}OOQQ1G2}1G2}O#=jQ#tO1G2bO7VQWO'#JQO7VQWO'#EaO7VQWO'#IWO#={Q$I[O,5?yOOQQ1G2f1G2fO!/yQWO1G2lOITQWO1G2iO#>WQWO1G2iOOQQ1G2j1G2jOITQWO1G2jO#>]QWO1G2jO#>eQ&jO'#GhOOQQ1G2l1G2lO!&tQ&jO'#IYO!0OQ`O1G2oOOQQ1G2o1G2oOOQQ,5=Y,5=YO#>mQ#tO,5=[O5qQWO,5=[O#5YQWO,5=_O5_QWO,5=_O!,rQpO,5=_O!,zQ#tO,5=_O5vQ#tO,5=_O#?OQWO'#JaO#?ZQWO,5=`OOQQ1G.j1G.jO#?`Q$I[O1G.jO#?kQWO1G.jO#?pQWO1G.jO5iQ$I[O1G.jO#?xQbO,5@OO#@SQWO,5@OO#@_QYO,5=gO#@fQWO,5=gO7VQWO,5@OOOQQ1G3P1G3PO`QYO1G3POOQQ1G3V1G3VOOQQ1G3X1G3XO:XQWO1G3ZO#@kQYO1G3]O#DfQYO'#H[OOQQ1G3`1G3`O#DsQWO'#HbO:^QWO'#HdOOQQ1G3f1G3fO#D{QYO1G3fO5iQ$I[O1G3lOOQQ1G3n1G3nOOQ$IS'#Fx'#FxO5iQ$I[O1G3pO5iQ$I[O1G3rOOOS1G/^1G/^O#HyQ`O,5<TO#IRQbO1G3{OOQO1G4Q1G4QO){QYO,5>aO#I]QWO1G4|O#IeQWO1G5WO#ImQWO,5?dOLXQYO,5:{O7VQWO,5:{O:^QWO,59}OLXQYO,59}O!,rQpO,59}O#IrQ7^O,59}OOQO,5:{,5:{O#I|Q&jO'#HvO#JdQWO,5?cOOQ$IU1G/h1G/hO#JlQ&jO'#H{O#KQQWO,5?nOOQ$IS1G0f1G0fO!;OQ&jO,59}O#KYQbO1G5XO7VQWO,5>fOOQ$IS'#ES'#ESO#KdQ$ItO'#ETO!?{Q&jO'#D}OOQO'#Hy'#HyO#LOQ&jO,5:hOOQ$IU,5:h,5:hO#LVQ&jO'#D}O#LhQ&jO'#D}O#LoQ&jO'#EYO#LrQ&jO'#ETO#MPQ&jO'#ETO!?{Q&jO'#ETO#MdQWO1G0PO#MiQ`O1G0POOQ$IU1G0P1G0PO){QYO1G0POITQWO1G0POOQ$IU1G0a1G0aO:^QWO1G0aO!,rQpO1G0aO!,zQ#tO1G0aO#MpQ$IfO1G5UO){QYO1G5UO#NQQ$I[O1G5UO#NcQWO1G5TO7VQWO,5>hOOQO,5>h,5>hO#NkQWO,5>hOOQO-E;z-E;zO#NcQWO1G5TO#NyQ$IfO,59jO$!xQ$IfO,5<UO$$zQ$IfO,5<WO$&|Q$IfO,5<fOOQ$IU7+%|7+%|O$)UQ$IfO7+%|O$)uQWO'#HwO$*PQWO,5?eOOQ$IU1G/r1G/rO$*XQYO'#HxO$*fQWO,5?fO$*nQbO,5?fOOQ$IU1G/w1G/wOOQ$IU7+&V7+&VO$*xQ7^O,5:^O){QYO7+&iO$+SQ7^O,5:UOOQO1G1_1G1_OOQO1G1`1G1`O$+aQMhO,5;vOLXQYO,5;uOOQO-E;{-E;{OOQ$IU7+&w7+&wOOOO7+'Q7+'QOOOO1G1i1G1iO$+lQWO1G1iOOQ$IU1G1k1G1kO$+qQ`O,59gOOOS-E;q-E;qOOQ$IU1G/P1G/PO$+xQ$IfO7+'WOOQ$IU,5>m,5>mO$,iQWO,5>mOOQ$IU1G2P1G2PP$,nQWO'#IRPOQ$IU-E<P-E<PO$-_Q#tO1G2[O$.QQ#tO1G2^O$.[Q#tO1G2`OOQ$IU1G1x1G1xO$.cQWO'#IQO$.qQWO,5?uO$.qQWO,5?uO$.yQWO,5?uO$/UQWO,5?uOOQO1G1z1G1zO$/dQ#tO1G1yO$/tQWO'#ISO$0UQWO,5?vOITQWO,5?vO$0^Q`O,5?vOOQ$IU1G1}1G1}OOQ$IS,5<h,5<hOOQ$IS,5<i,5<iO$0hQWO,5<iO#5TQWO,5<iO!,rQpO,5<hO$0mQWO,5<jOOQ$IS,5<k,5<kO$0hQWO,5<nOOQO,5>o,5>oOOQO-E<R-E<ROOQ$IU1G2R1G2RO!&tQ&jO,5<hO$0uQWO,5<iO!&tQ&jO,5<jO!&tQ&jO,5<iO$1QQ#tO1G4vO$1[Q#tO1G4vOOQO,5>p,5>pOOQO-E<S-E<SO!-uQ&jO,59lO){QYO,59lO$1iQWO1G1tOJdQWO1G1{O$1nQ$IfO7+'XOOQ$IU7+'X7+'XOGTQYO7+'XOOQ$IU7+%[7+%[O$2_Q`O'#J]O#MdQWO7+'|O$2iQWO7+'|O$2qQ`O7+'|OOQQ7+'|7+'|OITQWO7+'|O){QYO7+'|OITQWO7+'|OOQO1G.w1G.wO$2{Q$IdO'#ChO$3`Q$IdO,5<lO$4QQWO,5<lOOQ$IS1G4r1G4rOOQQ7+$_7+$_O:^QWO7+$_O!,rQpO7+$_OGTQYO7+%|O$4VQWO'#I]O$4hQWO,5?}OOQO1G3O1G3OO5qQWO,5?}O$4hQWO,5?}O$4pQWO,5?}OOQO,5>x,5>xOOQO-E<[-E<[OOQ$IU7+&q7+&qO$4uQWO7+(iO5iQ$I[O7+(iO5qQWO7+(iO$4zQWO7+(iO$5PQWO7+'|OOQ$IS,5>r,5>rOOQ$IS-E<U-E<UOOQQ7+(W7+(WO$5_Q$IdO7+(TOITQWO7+(TO$5iQ`O7+(UOOQQ7+(U7+(UOITQWO7+(UO$5pQWO'#J`O$5{QWO,5=SOOQO,5>t,5>tOOQO-E<W-E<WOOQQ7+(Z7+(ZO$6uQ&jO'#GqOOQQ1G2v1G2vOITQWO1G2vO){QYO1G2vOITQWO1G2vO$6|QWO1G2vO$7[Q#tO1G2vO5iQ$I[O1G2yO#5YQWO1G2yO5_QWO1G2yO!,rQpO1G2yO!,zQ#tO1G2yO$7mQWO'#I[O$7xQWO,5?{O$8QQ&jO,5?{OOQ$IS1G2z1G2zOOQQ7+$U7+$UO$8YQWO7+$UO5iQ$I[O7+$UO$8_QWO7+$UO){QYO1G5jO){QYO1G5kO$8dQYO1G3RO$8kQWO1G3RO$8pQYO1G3RO$8wQ$I[O1G5jOOQQ7+(k7+(kO5iQ$I[O7+(uO`QYO7+(wOOQQ'#Jf'#JfOOQQ'#I_'#I_O$9RQYO,5=vOOQQ,5=v,5=vO){QYO'#H]O$9`QWO'#H_OOQQ,5=|,5=|O7VQWO,5=|OOQQ,5>O,5>OOOQQ7+)Q7+)QOOQQ7+)W7+)WOOQQ7+)[7+)[OOQQ7+)^7+)^OOQO1G5O1G5OO$9eQ7^O1G0gO$9oQWO1G0gOOQO1G/i1G/iO$9zQ7^O1G/iO:^QWO1G/iOLXQYO'#DcOOQO,5>b,5>bOOQO-E;t-E;tOOQO,5>g,5>gOOQO-E;y-E;yO!,rQpO1G/iO:^QWO,5:iOOQO,5:o,5:oO){QYO,5:oO$:UQ$I[O,5:oO$:aQ$I[O,5:oO!,rQpO,5:iOOQO-E;w-E;wOOQ$IU1G0S1G0SO!?{Q&jO,5:iO$:oQ&jO,5:iO$;QQ$ItO,5:oO$;lQ&jO,5:iO!?{Q&jO,5:oOOQO,5:t,5:tO$;sQ&jO,5:oO$<QQ$I[O,5:oOOQ$IU7+%k7+%kO#MdQWO7+%kO#MiQ`O7+%kOOQ$IU7+%{7+%{O:^QWO7+%{O!,rQpO7+%{O$<fQ$IfO7+*pO){QYO7+*pOOQO1G4S1G4SO7VQWO1G4SO$<vQWO7+*oO$=OQ$IfO1G2[O$?QQ$IfO1G2^O$ASQ$IfO1G1yO$C[Q#tO,5>cOOQO-E;u-E;uO$CfQbO,5>dO){QYO,5>dOOQO-E;v-E;vO$CpQWO1G5QO$CxQ7^O1G0bO$FPQ7^O1G0mO$FWQ7^O1G0mO$HXQ7^O1G0mO$H`Q7^O1G0mO$JTQ7^O1G0mO$JhQ7^O1G0mO$LuQ7^O1G0mO$L|Q7^O1G0mO$N}Q7^O1G0mO% UQ7^O1G0mO%!yQ7^O1G0mO%#^Q$IfO<<JTO%#}Q7^O1G0mO%&UQ7^O'#IqO%'nQ7^O1G1QOLXQYO'#F^OOQO'#JX'#JXOOQO1G1b1G1bO%'{QWO1G1aO%(QQ7^O,5>kOOOO7+'T7+'TOOOS1G/R1G/ROOQ$IU1G4X1G4XOJdQWO7+'zO%([QWO,5>lO5qQWO,5>lOOQO-E<O-E<OO%(jQWO1G5aO%(jQWO1G5aO%(rQWO1G5aO%(}Q`O,5>nO%)XQWO,5>nOITQWO,5>nOOQO-E<Q-E<QO%)^Q`O1G5bO%)hQWO1G5bOOQ$IS1G2T1G2TO$0hQWO1G2TOOQ$IS1G2S1G2SO%)pQWO1G2UOITQWO1G2UOOQ$IS1G2Y1G2YO!,rQpO1G2SO#5TQWO1G2TO%)uQWO1G2UO%)}QWO1G2TOJdQWO7+*bOOQ$IU1G/W1G/WO%*YQWO1G/WOOQ$IU7+'`7+'`O%*_Q#tO7+'gO%*oQ$IfO<<JsOOQ$IU<<Js<<JsOITQWO'#IVO%+`QWO,5?wOOQQ<<Kh<<KhOITQWO<<KhO#MdQWO<<KhO%+hQWO<<KhO%+pQ`O<<KhOITQWO1G2WOOQQ<<Gy<<GyO:^QWO<<GyO%+zQ$IfO<<IhOOQ$IU<<Ih<<IhOOQO,5>w,5>wO%,kQWO,5>wO%,pQWO,5>wOOQO-E<Z-E<ZO%,xQWO1G5iO%,xQWO1G5iO5qQWO1G5iO%-QQWO<<LTOOQQ<<LT<<LTO%-VQWO<<LTO5iQ$I[O<<LTO){QYO<<KhOITQWO<<KhOOQQ<<Ko<<KoO$5_Q$IdO<<KoOOQQ<<Kp<<KpO$5iQ`O<<KpO%-[Q&jO'#IXO%-gQWO,5?zOLXQYO,5?zOOQQ1G2n1G2nO#KdQ$ItO'#ETO!?{Q&jO'#GrOOQO'#IZ'#IZO%-oQ&jO,5=]OOQQ,5=],5=]O%-vQ&jO'#ETO%.RQ&jO'#ETO%.jQ&jO'#ETO%.tQ&jO'#GrO%/VQWO7+(bO%/[QWO7+(bO%/dQ`O7+(bOOQQ7+(b7+(bOITQWO7+(bO){QYO7+(bOITQWO7+(bO%/nQWO7+(bOOQQ7+(e7+(eO5iQ$I[O7+(eO#5YQWO7+(eO5_QWO7+(eO!,rQpO7+(eO%/|QWO,5>vOOQO-E<Y-E<YOOQO'#Gu'#GuO%0XQWO1G5gO5iQ$I[O<<GpOOQQ<<Gp<<GpO%0aQWO<<GpO%0fQWO7++UO%0kQWO7++VOOQQ7+(m7+(mO%0pQWO7+(mO%0uQYO7+(mO%0|QWO7+(mO){QYO7++UO){QYO7++VOOQQ<<La<<LaOOQQ<<Lc<<LcOOQQ-E<]-E<]OOQQ1G3b1G3bO%1RQWO,5=wOOQQ,5=y,5=yO%1WQWO1G3hOLXQYO7+&ROOQO7+%T7+%TO%1]Q7^O1G5XO:^QWO7+%TOOQO1G0T1G0TO%1gQ$IfO1G0ZOOQO1G0Z1G0ZO){QYO1G0ZO%1qQ$I[O1G0ZO:^QWO1G0TO!,rQpO1G0TO!?{Q&jO1G0TO%1|Q$I[O1G0ZO%2[Q&jO1G0TO%2mQ$I[O1G0ZO%3RQ$ItO1G0ZO%3]Q&jO1G0TO!?{Q&jO1G0ZOOQ$IU<<IV<<IVOOQ$IU<<Ig<<IgO:^QWO<<IgO%3dQ$IfO<<N[OOQO7+)n7+)nO%3tQ$IfO7+'gO%5|QbO1G4OO%6WQ7^O7+%|O%6|Q7^O,59jO%8zQ7^O,5<UO%:{Q7^O,5<WO%<hQ7^O,5<fO%>WQ7^O7+'WO%>eQ7^O7+'XO%>rQWO,5;xOOQO7+&{7+&{O%>wQ#tO<<KfOOQO1G4W1G4WO%?XQWO1G4WO%?dQWO1G4WO%?rQWO7+*{O%?rQWO7+*{OITQWO1G4YO%?zQ`O1G4YO%@UQWO7+*|OOQ$IS7+'o7+'oO$0hQWO7+'pO%@^Q`O7+'pOOQ$IS7+'n7+'nO$0hQWO7+'oO%@eQWO7+'pOITQWO7+'pO#5TQWO7+'oO%@jQ#tO<<M|OOQ$IU7+$r7+$rO%@tQ`O,5>qOOQO-E<T-E<TO#MdQWOANASOOQQANASANASOITQWOANASO%AOQ$IdO7+'rOOQQAN=eAN=eO5qQWO1G4cOOQO1G4c1G4cO%A`QWO1G4cO%AeQWO7++TO%AeQWO7++TO5iQ$I[OANAoO%AmQWOANAoOOQQANAoANAoO%ArQWOANASO%AzQ`OANASOOQQANAZANAZOOQQANA[ANA[O%BUQWO,5>sOOQO-E<V-E<VO%BaQ7^O1G5fO#5YQWO,5=^O5_QWO,5=^O!,rQpO,5=^OOQO-E<X-E<XOOQQ1G2w1G2wO$;QQ$ItO,5:oO!?{Q&jO,5=^O%BkQ&jO,5=^O%B|Q&jO,5:oOOQQ<<K|<<K|OITQWO<<K|O%/VQWO<<K|O%CWQWO<<K|O%C`Q`O<<K|O){QYO<<K|OITQWO<<K|OOQQ<<LP<<LPO5iQ$I[O<<LPO#5YQWO<<LPO5_QWO<<LPO%CjQ&jO1G4bO%CrQWO7++ROOQQAN=[AN=[O5iQ$I[OAN=[OOQQ<<Np<<NpOOQQ<<Nq<<NqOOQQ<<LX<<LXO%CzQWO<<LXO%DPQYO<<LXO%DWQWO<<NpO%D]QWO<<NqOOQQ1G3c1G3cO:^QWO7+)SO%DbQ7^O<<ImOOQO<<Ho<<HoOOQO7+%u7+%uO%1gQ$IfO7+%uO){QYO7+%uOOQO7+%o7+%oO:^QWO7+%oO!,rQpO7+%oO%DlQ$I[O7+%uO!?{Q&jO7+%oO%DwQ$I[O7+%uO%EVQ&jO7+%oO%EhQ$I[O7+%uOOQ$IUAN?RAN?RO%E|Q$IfO<<KfO%HUQ7^O<<JTO%HcQ7^O1G1yO%JgQ7^O1G2[O%LhQ7^O1G2^O%NTQ7^O<<JsO%NbQ7^O<<IhOOQO1G1d1G1dOOQO7+)r7+)rO%NoQWO7+)rO%NzQWO<<NgO& SQ`O7+)tOOQ$IS<<K[<<K[O$0hQWO<<K[OOQ$IS<<KZ<<KZO& ^Q`O<<K[O$0hQWO<<KZOOQQG26nG26nO#MdQWOG26nOOQO7+)}7+)}O5qQWO7+)}O& eQWO<<NoOOQQG27ZG27ZO5iQ$I[OG27ZOITQWOG26nOLXQYO1G4_O& mQWO7++QO5iQ$I[O1G2xO#5YQWO1G2xO5_QWO1G2xO!,rQpO1G2xO!?{Q&jO1G2xO%3RQ$ItO1G0ZO& uQ&jO1G2xO%/VQWOANAhOOQQANAhANAhOITQWOANAhO&!WQWOANAhO&!`Q`OANAhOOQQANAkANAkO5iQ$I[OANAkO#5YQWOANAkOOQO'#Gv'#GvOOQO7+)|7+)|OOQQG22vG22vOOQQANAsANAsO&!jQWOANAsOOQQAND[AND[OOQQAND]AND]OOQQ<<Ln<<LnOOQO<<Ia<<IaO%1gQ$IfO<<IaOOQO<<IZ<<IZO:^QWO<<IZO){QYO<<IaO!,rQpO<<IZO&!oQ$I[O<<IaO!?{Q&jO<<IZO&!zQ$I[O<<IaO&#YQ7^O7+'gOOQO<<M^<<M^OOQ$ISAN@vAN@vO$0hQWOAN@vOOQ$ISAN@uAN@uOOQQLD,YLD,YOOQO<<Mi<<MiOOQQLD,uLD,uO#MdQWOLD,YO&$xQ7^O7+)yOOQO7+(d7+(dO5iQ$I[O7+(dO#5YQWO7+(dO5_QWO7+(dO!,rQpO7+(dO!?{Q&jO7+(dOOQQG27SG27SO%/VQWOG27SOITQWOG27SOOQQG27VG27VO5iQ$I[OG27VOOQQG27_G27_OOQOAN>{AN>{OOQOAN>uAN>uO%1gQ$IfOAN>{O:^QWOAN>uO){QYOAN>{O!,rQpOAN>uO&%SQ$I[OAN>{O&%_Q7^O<<KfOOQ$ISG26bG26bOOQQ!$( t!$( tOOQO<<LO<<LOO5iQ$I[O<<LOO#5YQWO<<LOO5_QWO<<LOO!,rQpO<<LOOOQQLD,nLD,nO%/VQWOLD,nOOQQLD,qLD,qOOQOG24gG24gOOQOG24aG24aO%1gQ$IfOG24gO:^QWOG24aO){QYOG24gO&&}QMhO,5:rO&'tQ!LQO'#IqOOQOANAjANAjO5iQ$I[OANAjO#5YQWOANAjO5_QWOANAjOOQQ!$(!Y!$(!YOOQOLD*RLD*ROOQOLD){LD){O%1gQ$IfOLD*RO&(hQMhO,59jO&)[QMhO,5<UO&*OQMhO,5<WO&*rQMhO,5<fOOQOG27UG27UO5iQ$I[OG27UO#5YQWOG27UOOQO!$'Mm!$'MmO&+iQMhO1G2[O&,]QMhO1G2^O&-PQMhO1G1yOOQOLD,pLD,pO5iQ$I[OLD,pO&-vQMhO7+'gOOQO!$(![!$(![O&.mQMhO<<KfOLXQYO'#DrO&/dQbO'#ItOLXQYO'#DjO&/kQ$IfO'#ChO&0UQbO'#ChO&0fQYO,5:vO&2fQWO'#EWOLXQYO,5;ROLXQYO,5;ROLXQYO,5;ROLXQYO,5;ROLXQYO,5;ROLXQYO,5;ROLXQYO,5;ROLXQYO,5;ROLXQYO,5;ROLXQYO,5;ROLXQYO,5;ROLXQYO'#IPO&3pQWO,5<TO&5SQWO,5;ROLXQYO,5;fO!(^QWO'#DOO!(^QWO'#DOO!(^QWO'#DOOITQWO'#FjO&2fQWO'#FjO&3xQWO'#FjOITQWO'#FlO&2fQWO'#FlO&3xQWO'#FlOITQWO'#FzO&2fQWO'#FzO&3xQWO'#FzOLXQYO,5?mO&0fQYO1G0bO&5ZQ7^O'#ChOLXQYO1G1lOITQWO,5<pO&2fQWO,5<pO&3xQWO,5<pOITQWO,5<rO&2fQWO,5<rO&3xQWO,5<rOITQWO,5<_O&2fQWO,5<_O&3xQWO,5<_O&0fQYO1G1mOLXQYO7+&iOITQWO1G1{O&2fQWO1G1{O&3xQWO1G1{O&0fQYO7+'XO&0fQYO7+%|OITQWO7+'zO&2fQWO7+'zO&3xQWO7+'zO&5eQWO7+'pO&5eQWO<<K[O&5eQWOAN@vO&5jQWO'#E[O&5oQWO'#E[O&5wQWO'#EzO&5|QWO'#EgO&6RQWO'#JRO&6^QWO'#JPO&6iQWO,5:vO&6nQ#tO,5<QO&6uQWO'#FsO&6zQWO'#FsO&7PQWO'#FsO&7UQWO,5<RO&7^QWO,5:vO&7fQ7^O1G0}O&7mQWO,5<aO&7rQWO,5<aO&7wQWO,5<aO&7|QWO1G1mO&8RQWO1G0bO&8WQ#tO1G2`O&8_Q#tO1G2`O&8fQ#tO1G2`O&8mQWO1G2UO&8rQ`O7+'pO&8yQWO7+'pO&9OQ`O<<K[O4QQWO'#FhO5_QWO'#FgOBwQWO'#EZOLXQYO,5;cO!(mQWO'#FuO!(mQWO'#FuO!(mQWO'#FuOJdQWO,5<tOJdQWO,5<tOJdQWO,5<tO&9VQWO,5<jOITQWO1G2UO&9_QWO1G2UOITQWO7+'pO!&tQ&jO'#GOO!&tQ&jO,5<j",stateData:"&:]~O'YOS'ZOSTOSUOS~OPTOQTOXyO]cO_hObnOcmOhcOjTOkcOlcOqTOsTOxRO{cO|cO}cO!TSO!_kO!dUO!gTO!hTO!iTO!jTO!kTO!nlO#dsO#tpO#x^O%PqO%RtO%TrO%UrO%XuO%ZvO%^wO%_wO%axO%nzO%t{O%v|O%x}O%z!OO%}!PO&T!QO&Z!RO&]!SO&_!TO&a!UO&c!VO']PO'fQO'oYO'|aO~OP[XZ[X_[Xj[Xu[Xv[Xx[X!R[X!a[X!b[X!d[X!j[X!{[X#WdX#[[X#][X#^[X#_[X#`[X#a[X#b[X#c[X#e[X#g[X#i[X#j[X#o[X'W[X'f[X'p[X'w[X'x[X~O!]$lX~P$zOR!WO'U!XO'V!ZO~OPTOQTO]cOb!kOc!jOhcOjTOkcOlcOqTOsTOxRO{cO|cO}cO!T!bO!_kO!dUO!gTO!hTO!iTO!jTO!kTO!n!iO#t!lO#x^O']![O'fQO'oYO'|aO~O!Q!`O!R!]O!O'jP!O'tP~P'dO!S!mO~P`OPTOQTO]cOb!kOc!jOhcOjTOkcOlcOqTOsTOxRO{cO|cO}cO!T!bO!_kO!dUO!gTO!hTO!iTO!jTO!kTO!n!iO#t!lO#x^O']9WO'fQO'oYO'|aO~OPTOQTO]cOb!kOc!jOhcOjTOkcOlcOqTOsTOxRO{cO|cO}cO!T!bO!_kO!dUO!gTO!hTO!iTO!jTO!kTO!n!iO#t!lO#x^O'fQO'oYO'|aO~O!Q!rO#U!uO#V!rO']9XO!c'qP~P+{O#W!vO~O!]!wO#W!vO~OP#^OZ#dOj#ROu!{Ov!{Ox!|O!R#bO!a#TO!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO#`#SO#a#TO#b#TO#c#TO#e#UO#g#WO#i#YO#j#ZO'fQO'p#[O'w!}O'x#OO~O_'hX'W'hX!c'hX!O'hX!T'hX%Q'hX!]'hX~P.jO!{#eO#o#eOP'iXZ'iX_'iXj'iXu'iXv'iXx'iX!R'iX!a'iX!b'iX!d'iX!j'iX#['iX#]'iX#^'iX#_'iX#`'iX#a'iX#b'iX#e'iX#g'iX#i'iX#j'iX'f'iX'p'iX'w'iX'x'iX~O#c'iX'W'iX!O'iX!c'iXn'iX!T'iX%Q'iX!]'iX~P0zO!{#eO~O#z#fO$R#jO~O!T#kO#x^O$U#lO$W#nO~O]#qOh$OOj#rOk#qOl#qOq$POs$QOx#xO!T#yO!_$VO!d#vO#V$WO#t$TO$_$RO$a$SO$d$UO']#pO'f#sO'a'cP~O!d$XO~O!]$ZO~O_$[O'W$[O~O']$`O~O!d$XO']$`O'^$bO'b$cO~Oc$iO!d$XO']$`O~O#c#TO~O]$rOu$nO!T$kO!d$mO%R$qO']$`O'^$bO^(UP~O!n$sO~Ox$tO!T$uO']$`O~Ox$tO!T$uO%Z$yO']$`O~O']$zO~O#dsO%RtO%TrO%UrO%XuO%ZvO%^wO%_wO~Ob%TOc%SO!n%QO%P%RO%c%PO~P7uOb%WOcmO!T%VO!nlO#dsO%PqO%TrO%UrO%XuO%ZvO%^wO%_wO%axO~O`%ZO!{%^O%R%XO'^$bO~P8tO!d%_O!g%cO~O!d%dO~O!TSO~O_$[O'T%lO'W$[O~O_$[O'T%oO'W$[O~O_$[O'T%qO'W$[O~OR!WO'U!XO'V%uO~OP[XZ[Xj[Xu[Xv[Xx[X!R[X!RdX!a[X!b[X!d[X!j[X!{[X!{dX#WdX#[[X#][X#^[X#_[X#`[X#a[X#b[X#c[X#e[X#g[X#i[X#j[X#o[X'f[X'p[X'w[X'x[X~O!O[X!OdX~P;aO!Q%wO!O&iX!O&nX!R&iX!R&nX~P'dO!R%yO!O'jX~OP#^OZ#dOj#ROu!{Ov!{Ox!|O!R%yO!a#TO!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO#`#SO#a#TO#b#TO#c#TO#e#UO#g#WO#i#YO#j#ZO'fQO'p#[O'w!}O'x#OO~O!O'jX~P>^O!O&OO~Ox&RO!W&]O!X&UO!Y&UO'^$bO~O]&SOk&SO!Q&VO'g&PO!S'kP!S'vP~P@aO!O'sX!R'sX!]'sX!c'sX'p'sX~O!{'sX#W#PX!S'sX~PAYO!{&^O!O'uX!R'uX~O!R&_O!O'tX~O!O&bO~O!{#eO~PAYOS&fO!T&cO!o&eO']$`O~Oc&kO!d$XO']$`O~Ou$nO!d$mO~O!S&lO~P`Ou!{Ov!{Ox!|O!b!yO!d!zO'fQOP!faZ!faj!fa!R!fa!a!fa!j!fa#[!fa#]!fa#^!fa#_!fa#`!fa#a!fa#b!fa#c!fa#e!fa#g!fa#i!fa#j!fa'p!fa'w!fa'x!fa~O_!fa'W!fa!O!fa!c!fan!fa!T!fa%Q!fa!]!fa~PCcO!c&mO~O!]!wO!{&oO'p&nO!R'rX_'rX'W'rX~O!c'rX~PE{O!R&sO!c'qX~O!c&uO~Ox$tO!T$uO#V&vO']$`O~OPTOQTO]cOb!kOc!jOhcOjTOkcOlcOqTOsTOxRO{cO|cO}cO!TSO!_kO!dUO!gTO!hTO!iTO!jTO!kTO!n!iO#t!lO#x^O']9WO'fQO'oYO'|aO~O]#qOh$OOj#rOk#qOl#qOq$POs9kOx#xO!T#yO!_;RO!d#vO#V9tO#t$TO$_9nO$a9qO$d$UO']&zO'f#sO~O#W&|O~O]#qOh$OOj#rOk#qOl#qOq$POs$QOx#xO!T#yO!_$VO!d#vO#V$WO#t$TO$_$RO$a$SO$d$UO']&zO'f#sO~O'a'mP~PJdO!Q'QO!c'nP~P){O'g'SO'oYO~OP9TOQ9TO]cOb;POc!jOhcOj9TOkcOlcOq9TOs9TOxRO{cO|cO}cO!T!bO!_9VO!dUO!g9TO!h9TO!i9TO!j9TO!k9TO!n!iO#t!lO#x^O']'bO'fQO'oYO'|:}O~O!d!zO~O!R#bO_$]a'W$]a!c$]a!O$]a!T$]a%Q$]a!]$]a~O#d'iO~PITO!]'kO!T'yX#w'yX#z'yX$R'yX~Ou'lO~P! POu'lO!T'yX#w'yX#z'yX$R'yX~O!T'nO#w'rO#z'mO$R'sO~O!Q'vO~PLXO#z#fO$R'yO~Ou$eXx$eX!b$eX'p$eX'w$eX'x$eX~OSfX!RfX!{fX'afX'a$eX~P!!iOk'{O~OR'|O'U'}O'V(PO~Ou(ROx(SO'p#[O'w(UO'x(WO~O'a(QO~P!#rO'a(ZO~O]#qOh$OOj#rOk#qOl#qOq$POs9kOx#xO!T#yO!_;RO!d#vO#V9tO#t$TO$_9nO$a9qO$d$UO'f#sO~O!Q(_O']([O!c'}P~P!$aO#W(aO~O!Q(eO'](bO!O(OP~P!$aOj(sOx(kO!W(qO!X(jO!Y(jO!d(hO!x(rO$w(mO'^$bO'g(gO~O!S(pO~P!&XO!b!yOu'eXx'eX'p'eX'w'eX'x'eX!R'eX!{'eX~O'a'eX#m'eX~P!'QOS(vO!{(uO!R'dX'a'dX~O!R(wO'a'cX~O'](yO~O!d)OO~O']&zO~O!d(hO~Ox$tO!Q!rO!T$uO#U!uO#V!rO']$`O!c'qP~O!]!wO#W)SO~OP#^OZ#dOj#ROu!{Ov!{Ox!|O!a#TO!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO#`#SO#a#TO#b#TO#c#TO#e#UO#g#WO#i#YO#j#ZO'fQO'p#[O'w!}O'x#OO~O_!^a!R!^a'W!^a!O!^a!c!^an!^a!T!^a%Q!^a!]!^a~P!)cOS)[O!T&cO!o)ZO%Q)YO'b$cO~O']$zO'a'cP~O!])_O!T'`X_'`X!R'`X'W'`X~O!d$XO'b$cO~O!d$XO']$`O'b$cO~O!]!wO#W&|O~O])jO%R)kO'])gO!S(VP~O!R)lO^(UX~O'g'SO~OZ)pO~O^)qO~O!T$kO']$`O'^$bO^(UP~Ox$tO!Q)vO!R&_O!T$uO']$`O!O'tP~O]&YOk&YO!Q)wO'g'SO!S'vP~O!R)xO_(RX'W(RX~O!{)|O'b$cO~OS*PO!T#yO'b$cO~O!T*RO~Ou*TO!TSO~O!n*YO~Oc*_O~O'](yO!S(TP~Oc$iO~O%RtO']$zO~P8tOZ*eO^*dO~OPTOQTO]cObnOcmOhcOjTOkcOlcOqTOsTOxRO{cO|cO}cO!_kO!dUO!gTO!hTO!iTO!jTO!kTO!nlO#x^O%PqO'fQO'oYO'|aO~O!T!bO#t!lO']9WO~P!1RO^*dO_$[O'W$[O~O_*iO#d*kO%T*kO%U*kO~P){O!d%_O~O%t*pO~O!T*rO~O&V*tO&X*uOP&SaQ&SaX&Sa]&Sa_&Sab&Sac&Sah&Saj&Sak&Sal&Saq&Sas&Sax&Sa{&Sa|&Sa}&Sa!T&Sa!_&Sa!d&Sa!g&Sa!h&Sa!i&Sa!j&Sa!k&Sa!n&Sa#d&Sa#t&Sa#x&Sa%P&Sa%R&Sa%T&Sa%U&Sa%X&Sa%Z&Sa%^&Sa%_&Sa%a&Sa%n&Sa%t&Sa%v&Sa%x&Sa%z&Sa%}&Sa&T&Sa&Z&Sa&]&Sa&_&Sa&a&Sa&c&Sa'S&Sa']&Sa'f&Sa'o&Sa'|&Sa!S&Sa%{&Sa`&Sa&Q&Sa~O']*zO~On*}O~O!O&ia!R&ia~P!)cO!Q+RO!O&iX!R&iX~P){O!R%yO!O'ja~O!O'ja~P>^O!R&_O!O'ta~O!RwX!R!ZX!SwX!S!ZX!]wX!]!ZX!d!ZX!{wX'b!ZX~O!]+WO!{+VO!R#TX!R'lX!S#TX!S'lX!]'lX!d'lX'b'lX~O!]+YO!d$XO'b$cO!R!VX!S!VX~O]&QOk&QOx&RO'g(gO~OP9TOQ9TO]cOb;POc!jOhcOj9TOkcOlcOq9TOs9TOxRO{cO|cO}cO!T!bO!_9VO!dUO!g9TO!h9TO!i9TO!j9TO!k9TO!n!iO#t!lO#x^O'fQO'oYO'|:}O~O']9yO~P!;^O!R+^O!S'kX~O!S+`O~O!]+WO!{+VO!R#TX!S#TX~O!R+aO!S'vX~O!S+cO~O]&QOk&QOx&RO'^$bO'g(gO~O!X+dO!Y+dO~P!>[Ox$tO!Q+fO!T$uO']$`O!O&nX!R&nX~O_+jO!W+mO!X+iO!Y+iO!r+qO!s+oO!t+pO!u+nO!x+rO'^$bO'g(gO'o+gO~O!S+lO~P!?]OS+wO!T&cO!o+vO~O!{+}O!R'ra!c'ra_'ra'W'ra~O!]!wO~P!@gO!R&sO!c'qa~Ox$tO!Q,QO!T$uO#U,SO#V,QO']$`O!R&pX!c&pX~O_#Oi!R#Oi'W#Oi!O#Oi!c#Oin#Oi!T#Oi%Q#Oi!]#Oi~P!)cO#W!za!R!za!c!za!{!za!T!za_!za'W!za!O!za~P!#rO#W'eXP'eXZ'eX_'eXj'eXv'eX!a'eX!d'eX!j'eX#['eX#]'eX#^'eX#_'eX#`'eX#a'eX#b'eX#c'eX#e'eX#g'eX#i'eX#j'eX'W'eX'f'eX!c'eX!O'eX!T'eXn'eX%Q'eX!]'eX~P!'QO!R,]O'a'mX~P!#rO'a,_O~O!R,`O!c'nX~P!)cO!c,cO~O!O,dO~OP#^Ou!{Ov!{Ox!|O!b!yO!d!zO!j#^O'fQOZ#Zi_#Zij#Zi!R#Zi!a#Zi#]#Zi#^#Zi#_#Zi#`#Zi#a#Zi#b#Zi#c#Zi#e#Zi#g#Zi#i#Zi#j#Zi'W#Zi'p#Zi'w#Zi'x#Zi!O#Zi!c#Zin#Zi!T#Zi%Q#Zi!]#Zi~O#[#Zi~P!EtO#[#PO~P!EtOP#^Ou!{Ov!{Ox!|O!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO'fQOZ#Zi_#Zi!R#Zi!a#Zi#`#Zi#a#Zi#b#Zi#c#Zi#e#Zi#g#Zi#i#Zi#j#Zi'W#Zi'p#Zi'w#Zi'x#Zi!O#Zi!c#Zin#Zi!T#Zi%Q#Zi!]#Zi~Oj#Zi~P!H`Oj#RO~P!H`OP#^Oj#ROu!{Ov!{Ox!|O!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO#`#SO'fQO_#Zi!R#Zi#e#Zi#g#Zi#i#Zi#j#Zi'W#Zi'p#Zi'w#Zi'x#Zi!O#Zi!c#Zin#Zi!T#Zi%Q#Zi!]#Zi~OZ#Zi!a#Zi#a#Zi#b#Zi#c#Zi~P!JzOZ#dO!a#TO#a#TO#b#TO#c#TO~P!JzOP#^OZ#dOj#ROu!{Ov!{Ox!|O!a#TO!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO#`#SO#a#TO#b#TO#c#TO#e#UO'fQO_#Zi!R#Zi#g#Zi#i#Zi#j#Zi'W#Zi'p#Zi'x#Zi!O#Zi!c#Zin#Zi!T#Zi%Q#Zi!]#Zi~O'w#Zi~P!MrO'w!}O~P!MrOP#^OZ#dOj#ROu!{Ov!{Ox!|O!a#TO!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO#`#SO#a#TO#b#TO#c#TO#e#UO#g#WO'fQO'w!}O_#Zi!R#Zi#i#Zi#j#Zi'W#Zi'p#Zi!O#Zi!c#Zin#Zi!T#Zi%Q#Zi!]#Zi~O'x#Zi~P#!^O'x#OO~P#!^OP#^OZ#dOj#ROu!{Ov!{Ox!|O!a#TO!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO#`#SO#a#TO#b#TO#c#TO#e#UO#g#WO#i#YO'fQO'w!}O'x#OO~O_#Zi!R#Zi#j#Zi'W#Zi'p#Zi!O#Zi!c#Zin#Zi!T#Zi%Q#Zi!]#Zi~P#$xOP[XZ[Xj[Xu[Xv[Xx[X!a[X!b[X!d[X!j[X!{[X#WdX#[[X#][X#^[X#_[X#`[X#a[X#b[X#c[X#e[X#g[X#i[X#j[X#o[X'f[X'p[X'w[X'x[X!R[X!S[X~O#m[X~P#']OP#^OZ9iOj9^Ou!{Ov!{Ox!|O!a9`O!b!yO!d!zO!j#^O#[9[O#]9]O#^9]O#_9]O#`9_O#a9`O#b9`O#c9`O#e9aO#g9cO#i9eO#j9fO'fQO'p#[O'w!}O'x#OO~O#m,fO~P#)gOP'iXZ'iXj'iXu'iXv'iXx'iX!a'iX!b'iX!d'iX!j'iX#['iX#]'iX#^'iX#_'iX#`'iX#a'iX#b'iX#e'iX#g'iX#i'iX#j'iX'f'iX'p'iX'w'iX'x'iX!R'iX~O!{9jO#o9jO#c'iX#m'iX!S'iX~P#+bO_&sa!R&sa'W&sa!c&san&sa!O&sa!T&sa%Q&sa!]&sa~P!)cOP#ZiZ#Zi_#Zij#Ziv#Zi!R#Zi!a#Zi!b#Zi!d#Zi!j#Zi#[#Zi#]#Zi#^#Zi#_#Zi#`#Zi#a#Zi#b#Zi#c#Zi#e#Zi#g#Zi#i#Zi#j#Zi'W#Zi'f#Zi!O#Zi!c#Zin#Zi!T#Zi%Q#Zi!]#Zi~P!#rO_#ni!R#ni'W#ni!O#ni!c#nin#ni!T#ni%Q#ni!]#ni~P!)cO#z,hO~O#z,iO~O!]'kO!{,jO!T$OX#w$OX#z$OX$R$OX~O!Q,kO~O!T'nO#w,mO#z'mO$R,nO~O!R9gO!S'hX~P#)gO!S,oO~O$R,qO~OR'|O'U'}O'V,tO~O],wOk,wO!O,xO~O!RdX!]dX!cdX!c$eX'pdX~P!!iO!c-OO~P!#rO!R-PO!]!wO'p&nO!c'}X~O!c-UO~O!O$eX!R$eX!]$lX~P!!iO!R-WO!O(OX~P!#rO!]-YO~O!O-[O~O!Q(_O']$`O!c'}P~Oj-`O!]!wO!d$XO'b$cO'p&nO~O!])_O~O_$[O!R-eO'W$[O~O!S-gO~P!&XO!X-hO!Y-hO'^$bO'g(gO~Ox-jO'g(gO~O!x-kO~O']$zO!R&xX'a&xX~O!R(wO'a'ca~Ou-pOv-pOx-qO'pra'wra'xra!Rra!{ra~O'ara#mra~P#6qOu(ROx(SO'p$^a'w$^a'x$^a!R$^a!{$^a~O'a$^a#m$^a~P#7gOu(ROx(SO'p$`a'w$`a'x$`a!R$`a!{$`a~O'a$`a#m$`a~P#8YO]-rO~O#W-sO~O'a$na!R$na#m$na!{$na~P!#rO#W-vO~OS.PO!T&cO!o.OO%Q-}O~O'a.QO~O]#qOj#rOk#qOl#qOq$POs9kOx#xO!T#yO!_;RO!d#vO#V9tO#t$TO$_9nO$a9qO$d$UO'f#sO~Oh.SO'].RO~P#:PO!])_O!T'`a_'`a!R'`a'W'`a~O#W.YO~OZ[X!RdX!SdX~O!R.ZO!S(VX~O!S.]O~OZ.^O~O].`O'])gO~O!T$kO']$`O^'QX!R'QX~O!R)lO^(Ua~O!c.cO~P!)cO].eO~OZ.fO~O^.gO~OS.PO!T&cO!o.OO%Q-}O'b$cO~O!R)xO_(Ra'W(Ra~O!{.mO~OS.pO!T#yO~O'g'SO!S(SP~OS.zO!T.vO!o.yO%Q.xO'b$cO~OZ/UO!R/SO!S(TX~O!S/VO~O^/XO_$[O'W$[O~O]/YO~O]/ZO'](yO~O#c/[O%r/]O~P0zO!{#eO#c/[O%r/]O~O_/^O~P){O_/`O~O%{/dOP%yiQ%yiX%yi]%yi_%yib%yic%yih%yij%yik%yil%yiq%yis%yix%yi{%yi|%yi}%yi!T%yi!_%yi!d%yi!g%yi!h%yi!i%yi!j%yi!k%yi!n%yi#d%yi#t%yi#x%yi%P%yi%R%yi%T%yi%U%yi%X%yi%Z%yi%^%yi%_%yi%a%yi%n%yi%t%yi%v%yi%x%yi%z%yi%}%yi&T%yi&Z%yi&]%yi&_%yi&a%yi&c%yi'S%yi']%yi'f%yi'o%yi'|%yi!S%yi`%yi&Q%yi~O`/jO!S/hO&Q/iO~P`O!TSO!d/lO~O&X*uOP&SiQ&SiX&Si]&Si_&Sib&Sic&Sih&Sij&Sik&Sil&Siq&Sis&Six&Si{&Si|&Si}&Si!T&Si!_&Si!d&Si!g&Si!h&Si!i&Si!j&Si!k&Si!n&Si#d&Si#t&Si#x&Si%P&Si%R&Si%T&Si%U&Si%X&Si%Z&Si%^&Si%_&Si%a&Si%n&Si%t&Si%v&Si%x&Si%z&Si%}&Si&T&Si&Z&Si&]&Si&_&Si&a&Si&c&Si'S&Si']&Si'f&Si'o&Si'|&Si!S&Si%{&Si`&Si&Q&Si~O!R#bOn$]a~O!O&ii!R&ii~P!)cO!R%yO!O'ji~O!R&_O!O'ti~O!O/rO~O!R!Va!S!Va~P#)gO]&QOk&QO!Q/xO'g(gO!R&jX!S&jX~P@aO!R+^O!S'ka~O]&YOk&YO!Q)wO'g'SO!R&oX!S&oX~O!R+aO!S'va~O!O'ui!R'ui~P!)cO_$[O!]!wO!d$XO!j0SO!{0QO'W$[O'b$cO'p&nO~O!S0VO~P!?]O!X0WO!Y0WO'^$bO'g(gO'o+gO~O!W0XO~P#LVO!TSO!W0XO!u0ZO!x0[O~P#LVO!W0XO!s0^O!t0^O!u0ZO!x0[O~P#LVO!T&cO~O!T&cO~P!#rO!R'ri!c'ri_'ri'W'ri~P!)cO!{0gO!R'ri!c'ri_'ri'W'ri~O!R&sO!c'qi~Ox$tO!T$uO#V0iO']$`O~O#WraPraZra_rajra!ara!bra!dra!jra#[ra#]ra#^ra#_ra#`ra#ara#bra#cra#era#gra#ira#jra'Wra'fra!cra!Ora!Tranra%Qra!]ra~P#6qO#W$^aP$^aZ$^a_$^aj$^av$^a!a$^a!b$^a!d$^a!j$^a#[$^a#]$^a#^$^a#_$^a#`$^a#a$^a#b$^a#c$^a#e$^a#g$^a#i$^a#j$^a'W$^a'f$^a!c$^a!O$^a!T$^an$^a%Q$^a!]$^a~P#7gO#W$`aP$`aZ$`a_$`aj$`av$`a!a$`a!b$`a!d$`a!j$`a#[$`a#]$`a#^$`a#_$`a#`$`a#a$`a#b$`a#c$`a#e$`a#g$`a#i$`a#j$`a'W$`a'f$`a!c$`a!O$`a!T$`an$`a%Q$`a!]$`a~P#8YO#W$naP$naZ$na_$naj$nav$na!R$na!a$na!b$na!d$na!j$na#[$na#]$na#^$na#_$na#`$na#a$na#b$na#c$na#e$na#g$na#i$na#j$na'W$na'f$na!c$na!O$na!T$na!{$nan$na%Q$na!]$na~P!#rO_#Oq!R#Oq'W#Oq!O#Oq!c#Oqn#Oq!T#Oq%Q#Oq!]#Oq~P!)cO!R&kX'a&kX~PJdO!R,]O'a'ma~O!Q0qO!R&lX!c&lX~P){O!R,`O!c'na~O!R,`O!c'na~P!)cO#m!fa!S!fa~PCcO#m!^a!R!^a!S!^a~P#)gO!T1UO#x^O$P1VO~O!S1ZO~On1[O~P!#rO_$Yq!R$Yq'W$Yq!O$Yq!c$Yqn$Yq!T$Yq%Q$Yq!]$Yq~P!)cO!O1]O~O],wOk,wO~Ou(ROx(SO'x(WO'p$xi'w$xi!R$xi!{$xi~O'a$xi#m$xi~P$,vOu(ROx(SO'p$zi'w$zi'x$zi!R$zi!{$zi~O'a$zi#m$zi~P$-iO#m1^O~P!#rO!Q1`O']$`O!R&tX!c&tX~O!R-PO!c'}a~O!R-PO!]!wO!c'}a~O!R-PO!]!wO'p&nO!c'}a~O'a$gi!R$gi#m$gi!{$gi~P!#rO!Q1gO'](bO!O&vX!R&vX~P!$aO!R-WO!O(Oa~O!R-WO!O(Oa~P!#rO!]!wO~O!]!wO#c1oO~Oj1rO!]!wO'p&nO~O!R'di'a'di~P!#rO!{1uO!R'di'a'di~P!#rO!c1xO~O_$Zq!R$Zq'W$Zq!O$Zq!c$Zqn$Zq!T$Zq%Q$Zq!]$Zq~P!)cO!R1|O!T(PX~P!#rO!T&cO%Q2PO~O!T&cO%Q2PO~P!#rO!T$eX$u[X_$eX!R$eX'W$eX~P!!iO$u2TOugXxgX!TgX'pgX'wgX'xgX_gX!RgX'WgX~O$u2TO~O]2ZO%R2[O'])gO!R'PX!S'PX~O!R.ZO!S(Va~OZ2`O~O^2aO~O]2dO~OS2fO!T&cO!o2eO%Q2PO~O_$[O'W$[O~P!#rO!T#yO~P!#rO!R2kO!{2mO!S(SX~O!S2nO~Ox;]O!W2wO!X2pO!Y2pO!r2vO!s2uO!t2uO!x2tO'^$bO'g(gO'o+gO~O!S2sO~P$6QOS3OO!T.vO!o2}O%Q2|O~OS3OO!T.vO!o2}O%Q2|O'b$cO~O'](yO!R'OX!S'OX~O!R/SO!S(Ta~O]3YO'g3XO~O]3ZO~O^3]O~O!c3`O~P){O_3bO~O_3bO~P){O#c3dO%r3eO~PE{O`/jO!S3iO&Q/iO~P`O!]3kO~O!R#Ti!S#Ti~P#)gO!{3mO!R#Ti!S#Ti~O!R!Vi!S!Vi~P#)gO_$[O!{3tO'W$[O~O_$[O!]!wO!{3tO'W$[O~O!X3xO!Y3xO'^$bO'g(gO'o+gO~O_$[O!]!wO!d$XO!j3yO!{3tO'W$[O'b$cO'p&nO~O!W3zO~P$:oO!W3zO!u3}O!x4OO~P$:oO_$[O!]!wO!j3yO!{3tO'W$[O'p&nO~O!R'rq!c'rq_'rq'W'rq~P!)cO!R&sO!c'qq~O#W$xiP$xiZ$xi_$xij$xiv$xi!a$xi!b$xi!d$xi!j$xi#[$xi#]$xi#^$xi#_$xi#`$xi#a$xi#b$xi#c$xi#e$xi#g$xi#i$xi#j$xi'W$xi'f$xi!c$xi!O$xi!T$xin$xi%Q$xi!]$xi~P$,vO#W$ziP$ziZ$zi_$zij$ziv$zi!a$zi!b$zi!d$zi!j$zi#[$zi#]$zi#^$zi#_$zi#`$zi#a$zi#b$zi#c$zi#e$zi#g$zi#i$zi#j$zi'W$zi'f$zi!c$zi!O$zi!T$zin$zi%Q$zi!]$zi~P$-iO#W$giP$giZ$gi_$gij$giv$gi!R$gi!a$gi!b$gi!d$gi!j$gi#[$gi#]$gi#^$gi#_$gi#`$gi#a$gi#b$gi#c$gi#e$gi#g$gi#i$gi#j$gi'W$gi'f$gi!c$gi!O$gi!T$gi!{$gin$gi%Q$gi!]$gi~P!#rO!R&ka'a&ka~P!#rO!R&la!c&la~P!)cO!R,`O!c'ni~O#m#Oi!R#Oi!S#Oi~P#)gOP#^Ou!{Ov!{Ox!|O!b!yO!d!zO!j#^O'fQOZ#Zij#Zi!a#Zi#]#Zi#^#Zi#_#Zi#`#Zi#a#Zi#b#Zi#c#Zi#e#Zi#g#Zi#i#Zi#j#Zi#m#Zi'p#Zi'w#Zi'x#Zi!R#Zi!S#Zi~O#[#Zi~P$DVO#[9[O~P$DVOP#^Ou!{Ov!{Ox!|O!b!yO!d!zO!j#^O#[9[O#]9]O#^9]O#_9]O'fQOZ#Zi!a#Zi#`#Zi#a#Zi#b#Zi#c#Zi#e#Zi#g#Zi#i#Zi#j#Zi#m#Zi'p#Zi'w#Zi'x#Zi!R#Zi!S#Zi~Oj#Zi~P$F_Oj9^O~P$F_OP#^Oj9^Ou!{Ov!{Ox!|O!b!yO!d!zO!j#^O#[9[O#]9]O#^9]O#_9]O#`9_O'fQO#e#Zi#g#Zi#i#Zi#j#Zi#m#Zi'p#Zi'w#Zi'x#Zi!R#Zi!S#Zi~OZ#Zi!a#Zi#a#Zi#b#Zi#c#Zi~P$HgOZ9iO!a9`O#a9`O#b9`O#c9`O~P$HgOP#^OZ9iOj9^Ou!{Ov!{Ox!|O!a9`O!b!yO!d!zO!j#^O#[9[O#]9]O#^9]O#_9]O#`9_O#a9`O#b9`O#c9`O#e9aO'fQO#g#Zi#i#Zi#j#Zi#m#Zi'p#Zi'x#Zi!R#Zi!S#Zi~O'w#Zi~P$J{O'w!}O~P$J{OP#^OZ9iOj9^Ou!{Ov!{Ox!|O!a9`O!b!yO!d!zO!j#^O#[9[O#]9]O#^9]O#_9]O#`9_O#a9`O#b9`O#c9`O#e9aO#g9cO'fQO'w!}O#i#Zi#j#Zi#m#Zi'p#Zi!R#Zi!S#Zi~O'x#Zi~P$MTO'x#OO~P$MTOP#^OZ9iOj9^Ou!{Ov!{Ox!|O!a9`O!b!yO!d!zO!j#^O#[9[O#]9]O#^9]O#_9]O#`9_O#a9`O#b9`O#c9`O#e9aO#g9cO#i9eO'fQO'w!}O'x#OO~O#j#Zi#m#Zi'p#Zi!R#Zi!S#Zi~P% ]O_#ky!R#ky'W#ky!O#ky!c#kyn#ky!T#ky%Q#ky!]#ky~P!)cOP#ZiZ#Zij#Ziv#Zi!a#Zi!b#Zi!d#Zi!j#Zi#[#Zi#]#Zi#^#Zi#_#Zi#`#Zi#a#Zi#b#Zi#c#Zi#e#Zi#g#Zi#i#Zi#j#Zi#m#Zi'f#Zi!R#Zi!S#Zi~P!#rO!b!yOu'eXx'eX'p'eX'w'eX'x'eX!S'eX~OP'eXZ'eXj'eXv'eX!a'eX!d'eX!j'eX#['eX#]'eX#^'eX#_'eX#`'eX#a'eX#b'eX#c'eX#e'eX#g'eX#i'eX#j'eX#m'eX'f'eX!R'eX~P%%mO#m#ni!R#ni!S#ni~P#)gO!S4`O~O!R&sa!S&sa~P#)gO!]!wO'p&nO!R&ta!c&ta~O!R-PO!c'}i~O!R-PO!]!wO!c'}i~O!O&va!R&va~P!#rO!]4gO~O!R-WO!O(Oi~P!#rO!R-WO!O(Oi~O!O4kO~O!]!wO#c4pO~Oj4qO!]!wO'p&nO~O!O4sO~O'a$iq!R$iq#m$iq!{$iq~P!#rO_$Zy!R$Zy'W$Zy!O$Zy!c$Zyn$Zy!T$Zy%Q$Zy!]$Zy~P!)cO!R1|O!T(Pa~O!T&cO%Q4xO~O!T&cO%Q4xO~P!#rO_#Oy!R#Oy'W#Oy!O#Oy!c#Oyn#Oy!T#Oy%Q#Oy!]#Oy~P!)cOZ4{O~O]4}O'])gO~O!R.ZO!S(Vi~O]5QO~O^5RO~O'g'SO!R&{X!S&{X~O!R2kO!S(Sa~O!S5`O~P$6QOx;^O'g(gO'o+gO~O!W5cO!X5bO!Y5bO!x0[O'^$bO'g(gO'o+gO~O!s5dO!t5dO~P%.RO!X5bO!Y5bO'^$bO'g(gO'o+gO~O!T.vO~O!T.vO%Q5fO~O!T.vO%Q5fO~P!#rOS5kO!T.vO!o5jO%Q5fO~OZ5pO!R'Oa!S'Oa~O!R/SO!S(Ti~O]5sO~O!c5tO~O!c5uO~O!c5vO~O!c5vO~P){O_5xO~O!]5{O~O!c5|O~O!R'ui!S'ui~P#)gO_$[O'W$[O~P!)cO_$[O!{6RO'W$[O~O_$[O!]!wO!{6RO'W$[O~O!X6WO!Y6WO'^$bO'g(gO'o+gO~O_$[O!]!wO!j6XO!{6RO'W$[O'p&nO~O!d$XO'b$cO~P%2mO!W6YO~P%2[O!R'ry!c'ry_'ry'W'ry~P!)cO#W$iqP$iqZ$iq_$iqj$iqv$iq!R$iq!a$iq!b$iq!d$iq!j$iq#[$iq#]$iq#^$iq#_$iq#`$iq#a$iq#b$iq#c$iq#e$iq#g$iq#i$iq#j$iq'W$iq'f$iq!c$iq!O$iq!T$iq!{$iqn$iq%Q$iq!]$iq~P!#rO!R&li!c&li~P!)cO#m#Oq!R#Oq!S#Oq~P#)gOu-pOv-pOx-qO'pra'wra'xra!Sra~OPraZrajra!ara!bra!dra!jra#[ra#]ra#^ra#_ra#`ra#ara#bra#cra#era#gra#ira#jra#mra'fra!Rra~P%6eOu(ROx(SO'p$^a'w$^a'x$^a!S$^a~OP$^aZ$^aj$^av$^a!a$^a!b$^a!d$^a!j$^a#[$^a#]$^a#^$^a#_$^a#`$^a#a$^a#b$^a#c$^a#e$^a#g$^a#i$^a#j$^a#m$^a'f$^a!R$^a~P%8fOu(ROx(SO'p$`a'w$`a'x$`a!S$`a~OP$`aZ$`aj$`av$`a!a$`a!b$`a!d$`a!j$`a#[$`a#]$`a#^$`a#_$`a#`$`a#a$`a#b$`a#c$`a#e$`a#g$`a#i$`a#j$`a#m$`a'f$`a!R$`a~P%:gOP$naZ$naj$nav$na!a$na!b$na!d$na!j$na#[$na#]$na#^$na#_$na#`$na#a$na#b$na#c$na#e$na#g$na#i$na#j$na#m$na'f$na!R$na!S$na~P!#rO#m$Yq!R$Yq!S$Yq~P#)gO#m$Zq!R$Zq!S$Zq~P#)gO!S6dO~O'a$|y!R$|y#m$|y!{$|y~P!#rO!]!wO!R&ti!c&ti~O!]!wO'p&nO!R&ti!c&ti~O!R-PO!c'}q~O!O&vi!R&vi~P!#rO!R-WO!O(Oq~O!O6jO~P!#rO!O6jO~O!R'dy'a'dy~P!#rO!R&ya!T&ya~P!#rO!T$tq_$tq!R$tq'W$tq~P!#rOZ6qO~O!R.ZO!S(Vq~O]6tO~O!T&cO%Q6uO~O!T&cO%Q6uO~P!#rO!{6vO!R&{a!S&{a~O!R2kO!S(Si~P#)gO!X6|O!Y6|O'^$bO'g(gO'o+gO~O!W7OO!x4OO~P%BkO!T.vO%Q7RO~O!T.vO%Q7RO~P!#rO]7YO'g7XO~O!R/SO!S(Tq~O!c7[O~O!c7[O~P){O!c7^O~O!c7_O~O!R#Ty!S#Ty~P#)gO_$[O!{7eO'W$[O~O_$[O!]!wO!{7eO'W$[O~O!X7hO!Y7hO'^$bO'g(gO'o+gO~O_$[O!]!wO!j7iO!{7eO'W$[O'p&nO~O#W$|yP$|yZ$|y_$|yj$|yv$|y!R$|y!a$|y!b$|y!d$|y!j$|y#[$|y#]$|y#^$|y#_$|y#`$|y#a$|y#b$|y#c$|y#e$|y#g$|y#i$|y#j$|y'W$|y'f$|y!c$|y!O$|y!T$|y!{$|yn$|y%Q$|y!]$|y~P!#rO#m#ky!R#ky!S#ky~P#)gOP$giZ$gij$giv$gi!a$gi!b$gi!d$gi!j$gi#[$gi#]$gi#^$gi#_$gi#`$gi#a$gi#b$gi#c$gi#e$gi#g$gi#i$gi#j$gi#m$gi'f$gi!R$gi!S$gi~P!#rOu(ROx(SO'x(WO'p$xi'w$xi!S$xi~OP$xiZ$xij$xiv$xi!a$xi!b$xi!d$xi!j$xi#[$xi#]$xi#^$xi#_$xi#`$xi#a$xi#b$xi#c$xi#e$xi#g$xi#i$xi#j$xi#m$xi'f$xi!R$xi~P%JROu(ROx(SO'p$zi'w$zi'x$zi!S$zi~OP$ziZ$zij$ziv$zi!a$zi!b$zi!d$zi!j$zi#[$zi#]$zi#^$zi#_$zi#`$zi#a$zi#b$zi#c$zi#e$zi#g$zi#i$zi#j$zi#m$zi'f$zi!R$zi~P%LSO#m$Zy!R$Zy!S$Zy~P#)gO#m#Oy!R#Oy!S#Oy~P#)gO!]!wO!R&tq!c&tq~O!R-PO!c'}y~O!O&vq!R&vq~P!#rO!O7mO~P!#rO!R.ZO!S(Vy~O!R2kO!S(Sq~O!X7yO!Y7yO'^$bO'g(gO'o+gO~O!T.vO%Q7|O~O!T.vO%Q7|O~P!#rO!c8PO~O_$[O!{8UO'W$[O~O_$[O!]!wO!{8UO'W$[O~OP$iqZ$iqj$iqv$iq!a$iq!b$iq!d$iq!j$iq#[$iq#]$iq#^$iq#_$iq#`$iq#a$iq#b$iq#c$iq#e$iq#g$iq#i$iq#j$iq#m$iq'f$iq!R$iq!S$iq~P!#rO!R&{q!S&{q~P#)gO_$[O!{8hO'W$[O~OP$|yZ$|yj$|yv$|y!a$|y!b$|y!d$|y!j$|y#[$|y#]$|y#^$|y#_$|y#`$|y#a$|y#b$|y#c$|y#e$|y#g$|y#i$|y#j$|y#m$|y'f$|y!R$|y!S$|y~P!#rO!S!za!W!za!X!za!Y!za!r!za!s!za!t!za!x!za'^!za'g!za'o!za~P!#rO!W'eX!X'eX!Y'eX!r'eX!s'eX!t'eX!x'eX'^'eX'g'eX'o'eX~P%%mO!Wra!Xra!Yra!rra!sra!tra!xra'^ra'gra'ora~P%6eO!W$^a!X$^a!Y$^a!r$^a!s$^a!t$^a!x$^a'^$^a'g$^a'o$^a~P%8fO!W$`a!X$`a!Y$`a!r$`a!s$`a!t$`a!x$`a'^$`a'g$`a'o$`a~P%:gO!S$na!W$na!X$na!Y$na!r$na!s$na!t$na!x$na'^$na'g$na'o$na~P!#rO!W$xi!X$xi!Y$xi!r$xi!s$xi!t$xi!x$xi'^$xi'g$xi'o$xi~P%JRO!W$zi!X$zi!Y$zi!r$zi!s$zi!t$zi!x$zi'^$zi'g$zi'o$zi~P%LSO!S$gi!W$gi!X$gi!Y$gi!r$gi!s$gi!t$gi!x$gi'^$gi'g$gi'o$gi~P!#rO!S$iq!W$iq!X$iq!Y$iq!r$iq!s$iq!t$iq!x$iq'^$iq'g$iq'o$iq~P!#rO!S$|y!W$|y!X$|y!Y$|y!r$|y!s$|y!t$|y!x$|y'^$|y'g$|y'o$|y~P!#rOn'hX~P.jOn[X!O[X!c[X%r[X!T[X%Q[X!][X~P$zO!]dX!c[X!cdX'pdX~P;aOP9TOQ9TO]cOb;POc!jOhcOj9TOkcOlcOq9TOs9TOxRO{cO|cO}cO!TSO!_9VO!dUO!g9TO!h9TO!i9TO!j9TO!k9TO!n!iO#t!lO#x^O']'bO'fQO'oYO'|:}O~O]#qOh$OOj#rOk#qOl#qOq$POs9lOx#xO!T#yO!_;SO!d#vO#V9uO#t$TO$_9oO$a9rO$d$UO']&zO'f#sO~O!R9gO!S$]a~O]#qOh$OOj#rOk#qOl#qOq$POs9mOx#xO!T#yO!_;TO!d#vO#V9vO#t$TO$_9pO$a9sO$d$UO']&zO'f#sO~O#d'iO~P&3xO!S[X!SdX~P;aO!]9ZO~O#W9YO~O!]!wO#W9YO~O!{9jO~O#c9`O~O!{9wO!R'uX!S'uX~O!{9jO!R'sX!S'sX~O#W9xO~O'a9zO~P!#rO#W:RO~O#W:SO~O#W:TO~O!]!wO#W:UO~O!]!wO#W9xO~O#m:VO~P#)gO#W:WO~O#W:XO~O#W:YO~O#W:ZO~O#W:[O~O#m:]O~P!#rO#m:^O~P!#rO#m:_O~P!#rO!O:`O~O!O:aO~P!#rO!O:aO~O!O:bO~P!#rO!]!wO#c;YO~O!]!wO#c;[O~O#x~!b!r!t!u#U#V'|$_$a$d$u%P%Q%R%X%Z%^%_%a%c~UT#x'|#]}'Y'Z#z'Y']'g~",goto:"#Hc(ZPPPPPPPP([P(lP*`PPPP-zPP.a3s5g5zP5zPPP5zP7t5zP5zP7xPP8OP8d<uPPPP<yPPPP<y?kPPP?qBSP<yPDgPPPPF`<yPPPPPHX<yPPKYLVPPPPLZMsPM{N|PLV<y<y!$^!'X!+z!+z!/ZPPP!/b!2W<yPPPPPPPPPP!4}P!6`PP<y!7mP<yP<y<y<y<yP<y!:[PP!=TP!?x!@Q!@U!@UP!=QP!@Y!@YP!B}P!CR<y<y!CX!E{5zP5zP5z5zP!GO5z5z!IU5z!Ki5z!Mi5z5z!NV#!]#!]#!a#!]#!iP#!]P5z##e5z#$y5z5z-zPPP#&cPP#&{#&{P#&{P#'b#&{PP#'hP#'_P#'_#'zMw#'_#(i#(o#(r([#(u([P#(|#(|#(|P([P([P([P([PP([P#)S#)VP#)V([P#)ZP#)^P([P([P([P([P([P([([#)d#)n#)t#)z#*Y#*`#*f#*p#*v#+V#+]#+k#+q#+w#,V#,l#.[#.j#.p#.v#.|#/S#/^#/d#/j#/t#0W#0^PPPPPPPP#0dPP#1W#4`PP#5v#5}#6VPP#;X#=l#Ch#Ck#Cn#Cy#C|PP#DP#DT#Dr#Ei#Em#FRPP#FV#F]#FaP#Fd#Fh#Fk#GZ#Gq#Gv#Gy#G|#HS#HV#HZ#H_mhOSj}!n$Z%b%e%f%h*m*r/d/gQ$hmQ$opQ%YyS&U!b+^Q&j!jS(j#y(oQ)e$iQ)r$qQ*^%SQ+d&]S+i&c+kQ+{&kQ-h(qQ/R*_Y0W+m+n+o+p+qS2p.v2rU3x0X0Z0^U5b2u2v2wS6W3z3}S6|5c5dQ7h6YR7y7O$p[ORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#b#e$Z$m%Z%^%b%d%e%f%h%l%w%y&R&^&e&o&|'Q(Q)S)Z*i*m*r+R+v+},`,f-q-v.O.Y.y/[/]/^/`/d/g/i0Q0g0q2e2}3b3d3e3t5j5x6R7e8U8h!j'd#]#k&V'v+V+Y,k/x1U2m3m6v9T9V9Y9[9]9^9_9`9a9b9c9d9e9f9g9j9w9x9z:U:V:Z:[;QQ(z$QQ)j$kQ*`%VQ*g%_Q,V9kQ.T)_Q.`)kQ/Z*eQ2Z.ZQ3V/SQ4X9mQ4}2[R8s9lpeOSjy}!n$Z%X%b%e%f%h*m*r/d/gR*b%Z&WVOSTjkn}!S!W!k!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#]#b#e#k$Z$m%Z%^%_%b%d%e%f%h%l%y&R&^&e&o&|'Q'v(Q)S)Z*i*m*r+R+V+Y+v+},`,f,k-q-v.O.Y.y/[/]/^/`/d/g/i/x0Q0g0q1U2e2m2}3b3d3e3m3t5j5x6R6v7e8U8h9T9V9Y9[9]9^9_9`9a9b9c9d9e9f9g9j9w9x9z:U:V:Z:[;P;Q[!cRU!]!`%w&VQ$alQ$gmS$lp$qv$vrs!r!u$X$t&_&s&v)v)w)x*k+W+f,Q,S/l0iQ%OwQ&g!iQ&i!jS(^#v(hS)d$h$iQ)h$kQ)u$sQ*X%QQ*]%SS+z&j&kQ-T(_Q.X)eQ._)kQ.a)lQ.d)pQ.|*YS/Q*^*_Q0e+{Q1_-PQ2Y.ZQ2^.^Q2c.fQ3U/RQ4d1`Q4|2[Q5P2`Q6p4{R7p6q!Y$em!j$g$h$i&T&i&j&k(i)d)e+Z+h+z+{-a.X/}0T0Y0e1q3w3|6U7f8VQ)]$aQ)}${Q*Q$|Q*[%SQ.h)uQ.{*XU/P*]*^*_Q3P.|S3T/Q/RQ5]2oQ5o3US6z5^5aS7w6{6}Q8_7xR8n8`W#|a$c(w:}S${t%XQ$|uQ$}vR){$y$o#{a!w!y#d#v#x$R$S$W&f'|(V(X(Y(a(e(u(v)Y)[)_)|*P+w,]-W-Y-s-}.P.m.p.x.z1^1g1o1u1|2P2T2f2|3O4g4p4x5f5k6u7R7|9Z9i9n9o9p9q9r9s9t9u9v9{9|9}:O:P:Q:R:S:T:W:X:Y:]:^:_:};U;V;W;Y;[T'}#s(OX({$Q9k9l9mU&Y!b$u+aQ'T!{Q)o$nQ.q*RQ1v-pR5X2k&^cORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#]#b#e#k$Z$m%Z%^%_%b%d%e%f%h%l%w%y&R&V&^&e&o&|'Q'v(Q)S)Z*i*m*r+R+V+Y+v+},`,f,k-q-v.O.Y.y/[/]/^/`/d/g/i/x0Q0g0q1U2e2m2}3b3d3e3m3t5j5x6R6v7e8U8h9T9V9Y9[9]9^9_9`9a9b9c9d9e9f9g9j9w9x9z:U:V:Z:[;Q$]#aZ!_!o$_%v%|&x'P'V'W'X'Y'Z'[']'^'_'`'a'c'f'j't)n+P+[+e+|,[,b,e,g,u-t/s/v0f0p0t0u0v0w0x0y0z0{0|0}1O1P1Q1T1Y1z2W3o3r4S4V4W4]4^5Z5}6Q6^6b6c7b7s8S8f8r9U:pT!XQ!Y&_cORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#]#b#e#k$Z$m%Z%^%_%b%d%e%f%h%l%w%y&R&V&^&e&o&|'Q'v(Q)S)Z*i*m*r+R+V+Y+v+},`,f,k-q-v.O.Y.y/[/]/^/`/d/g/i/x0Q0g0q1U2e2m2}3b3d3e3m3t5j5x6R6v7e8U8h9T9V9Y9[9]9^9_9`9a9b9c9d9e9f9g9j9w9x9z:U:V:Z:[;QQ&W!bR/y+^Y&Q!b&U&]+^+dS(i#y(oS+h&c+kS-a(j(qQ-b(kQ-i(rQ.s*TU0T+i+m+nU0Y+o+p+qS0_+r2tQ1q-hQ1s-jQ1t-kS2o.v2rU3w0W0X0ZQ3{0[Q3|0^S5^2p2wS5a2u2vU6U3x3z3}Q6Z4OS6{5b5cQ6}5dS7f6W6YS7x6|7OQ8V7hQ8`7yQ;X;]R;Z;^lhOSj}!n$Z%b%e%f%h*m*r/d/gQ%j!QS&w!v9YQ)b$fQ*V%OQ*W%PQ+x&hS,Z&|9xS-u)S:UQ.V)cQ.u*UQ/k*tQ/m*uQ/u+XQ0]+oQ0c+yS1{-v:ZQ2U.WS2X.Y:[Q3n/wQ3q0OQ4Q0dQ4z2VQ6O3pQ6S3vQ6[4RQ7`5|Q7c6TQ8R7dQ8e8TR8q8g$W#`Z!_!o%v%|&x'P'V'W'X'Y'Z'[']'^'_'`'a'c'f'j't)n+P+[+e+|,[,b,e,u-t/s/v0f0p0t0u0v0w0x0y0z0{0|0}1O1P1Q1T1Y1z2W3o3r4S4V4W4]4^5Z5}6Q6^6b6c7b7s8S8f8r9U:pW(t#z&{1S8jT)W$_,g$W#_Z!_!o%v%|&x'P'V'W'X'Y'Z'[']'^'_'`'a'c'f'j't)n+P+[+e+|,[,b,e,u-t/s/v0f0p0t0u0v0w0x0y0z0{0|0}1O1P1Q1T1Y1z2W3o3r4S4V4W4]4^5Z5}6Q6^6b6c7b7s8S8f8r9U:pQ'e#`S)V$_,gR-w)W&^cORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#]#b#e#k$Z$m%Z%^%_%b%d%e%f%h%l%w%y&R&V&^&e&o&|'Q'v(Q)S)Z*i*m*r+R+V+Y+v+},`,f,k-q-v.O.Y.y/[/]/^/`/d/g/i/x0Q0g0q1U2e2m2}3b3d3e3m3t5j5x6R6v7e8U8h9T9V9Y9[9]9^9_9`9a9b9c9d9e9f9g9j9w9x9z:U:V:Z:[;QQ%e{Q%f|Q%h!OQ%i!PR/c*pQ&d!iQ)X$aQ+u&gS-|)])uS0`+s+tW2O-y-z-{.hS4P0a0bU4w2Q2R2SU6n4v5T5UQ7o6oR8Z7rT+j&c+kS+h&c+kU0T+i+m+nU0Y+o+p+qS0_+r2tS2o.v2rU3w0W0X0ZQ3{0[Q3|0^S5^2p2wS5a2u2vU6U3x3z3}Q6Z4OS6{5b5cQ6}5dS7f6W6YS7x6|7OQ8V7hR8`7yS+j&c+kT2q.v2rS&q!q/aQ-S(^Q-_(iS0S+h2oQ1d-TS1l-`-iU3y0Y0_5aQ4c1_S4n1r1tU6X3{3|6}Q6f4dQ6m4qR7i6ZQ!xXS&p!q/aQ)T$YQ)`$dQ)f$jQ,O&qQ-R(^Q-^(iQ-c(lQ.U)aQ.}*ZS0R+h2oS1c-S-TS1k-_-iQ1n-bQ1p-dQ3R/OW3u0S0Y0_5aQ4b1_Q4f1dS4j1l1tQ4o1sQ5m3SW6V3y3{3|6}S6e4c4dS6i4k:`Q6k4nQ6x5[Q7V5nS7g6X6ZQ7k6fS7l6j:aQ7n6mQ7u6yQ8O7WQ8W7iS8Y7m:bQ8]7vQ8l8^Q8x8mQ9P8yQ:i:dQ:t:nQ:u:oQ:y;XR:{;Z$rWORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#b#e$Z$m%Z%^%_%b%d%e%f%h%l%w%y&R&^&e&o&|'Q(Q)S)Z*i*m*r+R+v+},`,f-q-v.O.Y.y/[/]/^/`/d/g/i0Q0g0q2e2}3b3d3e3t5j5x6R7e8U8hS!xn!k!j:c#]#k&V'v+V+Y,k/x1U2m3m6v9T9V9Y9[9]9^9_9`9a9b9c9d9e9f9g9j9w9x9z:U:V:Z:[;QR:i;P$rXORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#b#e$Z$m%Z%^%_%b%d%e%f%h%l%w%y&R&^&e&o&|'Q(Q)S)Z*i*m*r+R+v+},`,f-q-v.O.Y.y/[/]/^/`/d/g/i0Q0g0q2e2}3b3d3e3t5j5x6R7e8U8hQ$Yb!Y$dm!j$g$h$i&T&i&j&k(i)d)e+Z+h+z+{-a.X/}0T0Y0e1q3w3|6U7f8VS$jn!kQ)a$eQ*Z%SW/O*[*]*^*_U3S/P/Q/RQ5[2oS5n3T3UU6y5]5^5aQ7W5oU7v6z6{6}S8^7w7xS8m8_8`Q8y8n!j:d#]#k&V'v+V+Y,k/x1U2m3m6v9T9V9Y9[9]9^9_9`9a9b9c9d9e9f9g9j9w9x9z:U:V:Z:[;QQ:n;OR:o;P$f]OSTjk}!S!W!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#b#e$Z$m%Z%^%b%d%e%f%h%l%y&R&^&e&o&|'Q(Q)S)Z*i*m*r+R+v+},`,f-q-v.O.Y.y/[/]/^/`/d/g/i0Q0g0q2e2}3b3d3e3t5j5x6R7e8U8hY!hRU!]!`%wv$vrs!r!u$X$t&_&s&v)v)w)x*k+W+f,Q,S/l0iQ*h%_!h:e#]#k'v+V+Y,k/x1U2m3m6v9T9V9Y9[9]9^9_9`9a9b9c9d9e9f9g9j9w9x9z:U:V:Z:[;QR:h&VS&Z!b$uR/{+a$p[ORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#b#e$Z$m%Z%^%b%d%e%f%h%l%w%y&R&^&e&o&|'Q(Q)S)Z*i*m*r+R+v+},`,f-q-v.O.Y.y/[/]/^/`/d/g/i0Q0g0q2e2}3b3d3e3t5j5x6R7e8U8h!j'd#]#k&V'v+V+Y,k/x1U2m3m6v9T9V9Y9[9]9^9_9`9a9b9c9d9e9f9g9j9w9x9z:U:V:Z:[;QR*g%_$roORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#b#e$Z$m%Z%^%_%b%d%e%f%h%l%w%y&R&^&e&o&|'Q(Q)S)Z*i*m*r+R+v+},`,f-q-v.O.Y.y/[/]/^/`/d/g/i0Q0g0q2e2}3b3d3e3t5j5x6R7e8U8hQ'T!{!k:f#]#k&V'v+V+Y,k/x1U2m3m6v9T9V9Y9[9]9^9_9`9a9b9c9d9e9f9g9j9w9x9z:U:V:Z:[;Q!h#VZ!_$_%v%|&x'P'^'_'`'a'f'j)n+P+e+|,[,b,u-t0f0p1Q1z2W3r4S4V6Q7b8S8f8r9U!R9b'c't+[,g/s/v0t0|0}1O1P1T1Y3o4W4]4^5Z5}6^6b6c7s:p!d#XZ!_$_%v%|&x'P'`'a'f'j)n+P+e+|,[,b,u-t0f0p1Q1z2W3r4S4V6Q7b8S8f8r9U}9d'c't+[,g/s/v0t1O1P1T1Y3o4W4]4^5Z5}6^6b6c7s:p!`#]Z!_$_%v%|&x'P'f'j)n+P+e+|,[,b,u-t0f0p1Q1z2W3r4S4V6Q7b8S8f8r9Un(Y#t&})R,}-V-l-m0n1y4a4r:j:v:w:xx;Q'c't+[,g/s/v0t1T1Y3o4W4]4^5Z5}6^6b6c7s:p!d;U&y'h(](c+t,Y,r-Z-x-{.l.n0b0m1e1i2S2h2j2z4U4h4l4t4y5U5i6]6h6l7T:z:|Y;V8i8v8}9Q9SZ;W1R4[6_7j8X&^cORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#]#b#e#k$Z$m%Z%^%_%b%d%e%f%h%l%w%y&R&V&^&e&o&|'Q'v(Q)S)Z*i*m*r+R+V+Y+v+},`,f,k-q-v.O.Y.y/[/]/^/`/d/g/i/x0Q0g0q1U2e2m2}3b3d3e3m3t5j5x6R6v7e8U8h9T9V9Y9[9]9^9_9`9a9b9c9d9e9f9g9j9w9x9z:U:V:Z:[;QS#l`#mR1V,j&e_ORSTU`jk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#]#b#e#k#m$Z$m%Z%^%_%b%d%e%f%h%l%w%y&R&V&^&e&o&|'Q'v(Q)S)Z*i*m*r+R+V+Y+v+},`,f,j,k-q-v.O.Y.y/[/]/^/`/d/g/i/x0Q0g0q1U2e2m2}3b3d3e3m3t5j5x6R6v7e8U8h9T9V9Y9[9]9^9_9`9a9b9c9d9e9f9g9j9w9x9z:U:V:Z:[;QS#g^#nT'm#i'qT#h^#nT'o#i'q&e`ORSTU`jk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#]#b#e#k#m$Z$m%Z%^%_%b%d%e%f%h%l%w%y&R&V&^&e&o&|'Q'v(Q)S)Z*i*m*r+R+V+Y+v+},`,f,j,k-q-v.O.Y.y/[/]/^/`/d/g/i/x0Q0g0q1U2e2m2}3b3d3e3m3t5j5x6R6v7e8U8h9T9V9Y9[9]9^9_9`9a9b9c9d9e9f9g9j9w9x9z:U:V:Z:[;QT#l`#mQ#o`R'x#m$rbORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#b#e$Z$m%Z%^%_%b%d%e%f%h%l%w%y&R&^&e&o&|'Q(Q)S)Z*i*m*r+R+v+},`,f-q-v.O.Y.y/[/]/^/`/d/g/i0Q0g0q2e2}3b3d3e3t5j5x6R7e8U8h!k;O#]#k&V'v+V+Y,k/x1U2m3m6v9T9V9Y9[9]9^9_9`9a9b9c9d9e9f9g9j9w9x9z:U:V:Z:[;Q#RdOSUj}!S!W!n!|#k$Z%Z%^%_%b%d%e%f%h%l&R&e'v)Z*i*m*r+v,k-q.O.y/[/]/^/`/d/g/i1U2e2}3b3d3e5j5xv#za!y$R$S$W(V(X(Y(a(u(v,]-s1^1u:};U;V;W#Q&{!w#d#v#x&f'|(e)Y)[)_)|*P+w-W-Y-}.P.m.p.x.z1g1o1|2P2T2f2|3O4g4p4x5f5k6u7R7|9n9q9t9{:O:R:W:];Y;[Q)P$UQ,v(Rb1S9i9p9s9v9}:Q:T:Y:_c8j9Z9o9r9u9|:P:S:X:^v#wa!y$R$S$W(V(X(Y(a(u(v,]-s1^1u:};U;V;WS(l#y(oQ)Q$VQ-d(m#Q:k!w#d#v#x&f'|(e)Y)[)_)|*P+w-W-Y-}.P.m.p.x.z1g1o1|2P2T2f2|3O4g4p4x5f5k6u7R7|9n9q9t9{:O:R:W:];Y;[b:l9Z9o9r9u9|:P:S:X:^b:m9i9p9s9v9}:Q:T:Y:_Q:q;RQ:r;SR:s;Tv#za!y$R$S$W(V(X(Y(a(u(v,]-s1^1u:};U;V;W#Q&{!w#d#v#x&f'|(e)Y)[)_)|*P+w-W-Y-}.P.m.p.x.z1g1o1|2P2T2f2|3O4g4p4x5f5k6u7R7|9n9q9t9{:O:R:W:];Y;[b1S9i9p9s9v9}:Q:T:Y:_c8j9Z9o9r9u9|:P:S:X:^lfOSj}!n$Z%b%e%f%h*m*r/d/gQ(d#xQ*{%oQ*|%qR1f-W$n#{a!w!y#d#v#x$R$S$W&f'|(V(X(Y(a(e(u(v)Y)[)_)|*P+w,]-W-Y-s-}.P.m.p.x.z1^1g1o1u1|2P2T2f2|3O4g4p4x5f5k6u7R7|9Z9i9n9o9p9q9r9s9t9u9v9{9|9}:O:P:Q:R:S:T:W:X:Y:]:^:_:};U;V;W;Y;[Q*O$|Q.o*QQ2i.nR5W2jT(n#y(oS(n#y(oT2q.v2rQ)`$dQ-c(lQ.U)aQ.}*ZQ3R/OQ5m3SQ6x5[Q7V5nQ7u6yQ8O7WQ8]7vQ8l8^Q8x8mR9P8yn(V#t&})R,}-V-l-m0n1y4a4r:j:v:w:x!d9{&y'h(](c+t,Y,r-Z-x-{.l.n0b0m1e1i2S2h2j2z4U4h4l4t4y5U5i6]6h6l7T:z:|Y9|8i8v8}9Q9SZ9}1R4[6_7j8Xp(X#t&})R,{,}-V-l-m0n1y4a4r:j:v:w:x!f:O&y'h(](c+t,Y,r-Z-x-{.l.n0b0k0m1e1i2S2h2j2z4U4h4l4t4y5U5i6]6h6l7T:z:|[:P8i8v8{8}9Q9S]:Q1R4[6_6`7j8XpeOSjy}!n$Z%X%b%e%f%h*m*r/d/gQ%UxR*i%_peOSjy}!n$Z%X%b%e%f%h*m*r/d/gR%UxQ*S$}R.k){qeOSjy}!n$Z%X%b%e%f%h*m*r/d/gQ.w*XS2{.{.|W5e2x2y2z3PU7Q5g5h5iU7z7P7S7TQ8a7{R8o8bQ%]yR*c%XR3Y/UR7Y5pS$lp$qR.a)lQ%bzR*m%cR*s%iT/e*r/gR*w%jQ*v%jR/n*wQjOQ!nST$^j!nQ(O#sR,s(OQ!YQR%t!YQ!^RU%z!^%{+SQ%{!_R+S%|Q+_&WR/z+_Q,^&}R0o,^Q,a'PS0r,a0sR0s,bQ+k&cR0U+kS!eR$tU&`!e&a+TQ&a!fR+T%}Q+b&ZR/|+bQ&t!sQ,P&rU,T&t,P0jR0j,UQ'q#iR,l'qQ#m`R'w#mQ#cZU'g#c+O9hQ+O9UR9h'tQ-Q(^W1a-Q1b4e6gU1b-R-S-TS4e1c1dR6g4f$Z(T#t&y&}'h(](c(|(})R+t,W,X,Y,r,{,|,}-V-Z-l-m-x-{.l.n0b0k0l0m0n1R1e1i1y2S2h2j2z4U4Y4Z4[4a4h4l4r4t4y5U5i6]6_6`6a6h6l7T7j8X8i8t8u8v8{8|8}9Q9S:j:v:w:x:z:|Q-X(cU1h-X1j4iQ1j-ZR4i1iQ(o#yR-f(oQ(x#}R-o(xQ1}-xR4u1}Q)y$wR.j)yQ2l.qS5Y2l6wR6w5ZQ*U%OR.t*UQ2r.vR5_2rQ/T*`S3W/T5qR5q3YQ.[)hW2].[2_5O6rQ2_._Q5O2^R6r5PQ)m$lR.b)mQ/g*rR3h/gWiOSj!nQ%g}Q)U$ZQ*l%bQ*n%eQ*o%fQ*q%hQ/b*mS/e*r/gR3g/dQ$]gQ%k!RQ%n!TQ%p!UQ%r!VQ)t$rQ)z$xQ*b%]Q*y%mQ-e(nS/W*c*fQ/o*xQ/p*{Q/q*|S0P+h2oQ2b.eQ2g.lQ3Q.}Q3[/YQ3f/cY3s0R0S0Y0_5aQ5S2dQ5V2hQ5l3RQ5r3Z[6P3r3u3y3{3|6}Q6s5QQ7U5mQ7Z5sW7a6Q6V6X6ZQ7q6tQ7t6xQ7}7VU8Q7b7g7iQ8[7uQ8c8OS8d8S8WQ8k8]Q8p8fQ8w8lQ8z8rQ9O8xR9R9PQ$fmQ&h!jU)c$g$h$iQ+X&TU+y&i&j&kQ-](iS.W)d)eQ/w+ZQ0O+hS0d+z+{Q1m-aQ2V.XQ3p/}S3v0T0YQ4R0eQ4m1qS6T3w3|Q7d6UQ8T7fR8g8VS#ua:}R)^$cU#}a$c:}R-n(wQ#taS&y!w)_Q&}!yQ'h#dQ(]#vQ(c#xQ(|$RQ(}$SQ)R$WQ+t&fQ,W9nQ,X9qQ,Y9tQ,r'|Q,{(VQ,|(XQ,}(YQ-V(aQ-Z(eQ-l(uQ-m(vd-x)Y-}.x2P2|4x5f6u7R7|Q-{)[Q.l)|Q.n*PQ0b+wQ0k9{Q0l:OQ0m:RQ0n,]Q1R9iQ1e-WQ1i-YQ1y-sQ2S.PQ2h.mQ2j.pQ2z.zQ4U:WQ4Y9pQ4Z9sQ4[9vQ4a1^Q4h1gQ4l1oQ4r1uQ4t1|Q4y2TQ5U2fQ5i3OQ6]:]Q6_:TQ6`9}Q6a:QQ6h4gQ6l4pQ7T5kQ7j:YQ8X:_Q8i9ZQ8t9oQ8u9rQ8v9uQ8{9|Q8|:PQ8}:SQ9Q:XQ9S:^Q:j:}Q:v;UQ:w;VQ:x;WQ:z;YR:|;[lgOSj}!n$Z%b%e%f%h*m*r/d/gS!pU%dQ%m!SQ%s!WQ'U!|Q'u#kS*f%Z%^Q*j%_Q*x%lQ+U&RQ+s&eQ,p'vQ-z)ZQ/_*iQ0a+vQ1X,kQ1w-qQ2R.OQ2y.yQ3^/[Q3_/]Q3a/^Q3c/`Q3j/iQ4_1UQ5T2eQ5h2}Q5w3bQ5y3dQ5z3eQ7S5jR7]5x!vZOSUj}!S!n!|$Z%Z%^%_%b%d%e%f%h%l&R&e)Z*i*m*r+v-q.O.y/[/]/^/`/d/g/i2e2}3b3d3e5j5xQ!_RQ!oTQ$_kS%v!]%yQ%|!`Q&x!vQ'P!zQ'V#PQ'W#QQ'X#RQ'Y#SQ'Z#TQ'[#UQ']#VQ'^#WQ'_#XQ'`#YQ'a#ZQ'c#]Q'f#bQ'j#eW't#k'v,k1UQ)n$mS+P%w+RS+[&V/xQ+e&^Q+|&oQ,[&|Q,b'QQ,e9TQ,g9VQ,u(QQ-t)SQ/s+VQ/v+YQ0f+}Q0p,`Q0t9YQ0u9[Q0v9]Q0w9^Q0x9_Q0y9`Q0z9aQ0{9bQ0|9cQ0}9dQ1O9eQ1P9fQ1Q,fQ1T9jQ1Y9gQ1z-vQ2W.YQ3o9wQ3r0QQ4S0gQ4V0qQ4W9xQ4]9zQ4^:UQ5Z2mQ5}3mQ6Q3tQ6^:VQ6b:ZQ6c:[Q7b6RQ7s6vQ8S7eQ8f8UQ8r8hQ9U!WR:p;QR!aRR&X!bS&T!b+^S+Z&U&]R/}+dR'O!yR'R!zT!tU$XS!sU$XU$wrs*kS&r!r!uQ,R&sQ,U&vQ.i)xS0h,Q,SR4T0i`!dR!]!`$t%w&_)v+fh!qUrs!r!u$X&s&v)x,Q,S0iQ/a*kQ/t+WQ3l/lT:g&V)wT!gR$tS!fR$tS%x!]&_S%}!`)vS+Q%w+fT+]&V)wT&[!b$uQ#i^R'z#nT'p#i'qR1W,jT(`#v(hR(f#xQ-y)YQ2Q-}Q2x.xQ4v2PQ5g2|Q6o4xQ7P5fQ7r6uQ7{7RR8b7|lhOSj}!n$Z%b%e%f%h*m*r/d/gQ%[yR*b%XV$xrs*kR.r*RR*a%VQ$ppR)s$qR)i$kT%`z%cT%az%cT/f*r/g",nodeNames:"⚠ ArithOp ArithOp InterpolationStart extends LineComment BlockComment Script ExportDeclaration export Star as VariableName String from ; default FunctionDeclaration async function VariableDefinition TypeParamList TypeDefinition ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation VoidType void TypeofType typeof MemberExpression . ?. PropertyName [ TemplateString Interpolation null super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewExpression new TypeArgList CompareOp < ) ( ArgList UnaryExpression await yield delete LogicOp BitOp ParenthesizedExpression ClassExpression class extends ClassBody MethodDeclaration Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression PrivatePropertyName BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof in const CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXStartTag JSXSelfClosingTag JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast ArrowFunction TypeParamList SequenceExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature CallSignature TypePredicate is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody MethodDeclaration AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement",maxTerm:332,context:Ov,nodeProps:[["closedBy",3,"InterpolationEnd",40,"]",51,"}",66,")",132,"JSXSelfCloseEndTag JSXEndTag",146,"JSXEndTag"],["group",-26,8,15,17,58,184,188,191,192,194,197,200,211,213,219,221,223,225,228,234,240,242,244,246,248,250,251,"Statement",-30,12,13,24,27,28,41,43,44,45,47,52,60,68,74,75,91,92,101,103,119,122,124,125,126,127,129,130,148,149,151,"Expression",-22,23,25,29,32,34,152,154,156,157,159,160,161,163,164,165,167,168,169,178,180,182,183,"Type",-3,79,85,90,"ClassItem"],["openedBy",30,"InterpolationStart",46,"[",50,"{",65,"(",131,"JSXStartTag",141,"JSXStartTag JSXStartCloseTag"]],propSources:[wv],skippedNodes:[0,5,6],repeatNodeCount:28,tokenData:"!C}~R!`OX%TXY%cYZ'RZ[%c[]%T]^'R^p%Tpq%cqr'crs(kst0htu2`uv4pvw5ewx6cxy<yyz=Zz{=k{|>k|}?O}!O>k!O!P?`!P!QCl!Q!R!0[!R![!1q![!]!7s!]!^!8V!^!_!8g!_!`!9d!`!a!:[!a!b!<R!b!c%T!c!}2`!}#O!=d#O#P%T#P#Q!=t#Q#R!>U#R#S2`#S#T!>i#T#o2`#o#p!>y#p#q!?O#q#r!?f#r#s!?x#s$f%T$f$g%c$g#BY2`#BY#BZ!@Y#BZ$IS2`$IS$I_!@Y$I_$I|2`$I|$I}!Bq$I}$JO!Bq$JO$JT2`$JT$JU!@Y$JU$KV2`$KV$KW!@Y$KW&FU2`&FU&FV!@Y&FV?HT2`?HT?HU!@Y?HU~2`W%YR$UWO!^%T!_#o%T#p~%T7Z%jg$UW'Y7ROX%TXY%cYZ%TZ[%c[p%Tpq%cq!^%T!_#o%T#p$f%T$f$g%c$g#BY%T#BY#BZ%c#BZ$IS%T$IS$I_%c$I_$JT%T$JT$JU%c$JU$KV%T$KV$KW%c$KW&FU%T&FU&FV%c&FV?HT%T?HT?HU%c?HU~%T7Z'YR$UW'Z7RO!^%T!_#o%T#p~%T$T'jS$UW!j#{O!^%T!_!`'v!`#o%T#p~%T$O'}S#e#v$UWO!^%T!_!`(Z!`#o%T#p~%T$O(bR#e#v$UWO!^%T!_#o%T#p~%T'u(rZ$UW]!ROY(kYZ)eZr(krs*rs!^(k!^!_+U!_#O(k#O#P-b#P#o(k#o#p+U#p~(k&r)jV$UWOr)ers*Ps!^)e!^!_*a!_#o)e#o#p*a#p~)e&r*WR$P&j$UWO!^%T!_#o%T#p~%T&j*dROr*ars*ms~*a&j*rO$P&j'u*{R$P&j$UW]!RO!^%T!_#o%T#p~%T'm+ZV]!ROY+UYZ*aZr+Urs+ps#O+U#O#P+w#P~+U'm+wO$P&j]!R'm+zROr+Urs,Ts~+U'm,[U$P&j]!ROY,nZr,nrs-Vs#O,n#O#P-[#P~,n!R,sU]!ROY,nZr,nrs-Vs#O,n#O#P-[#P~,n!R-[O]!R!R-_PO~,n'u-gV$UWOr(krs-|s!^(k!^!_+U!_#o(k#o#p+U#p~(k'u.VZ$P&j$UW]!ROY.xYZ%TZr.xrs/rs!^.x!^!_,n!_#O.x#O#P0S#P#o.x#o#p,n#p~.x!Z/PZ$UW]!ROY.xYZ%TZr.xrs/rs!^.x!^!_,n!_#O.x#O#P0S#P#o.x#o#p,n#p~.x!Z/yR$UW]!RO!^%T!_#o%T#p~%T!Z0XT$UWO!^.x!^!_,n!_#o.x#o#p,n#p~.x2k0mZ$UWOt%Ttu1`u!^%T!_!c%T!c!}1`!}#R%T#R#S1`#S#T%T#T#o1`#p$g%T$g~1`2k1g]$UW'o2cOt%Ttu1`u!Q%T!Q![1`![!^%T!_!c%T!c!}1`!}#R%T#R#S1`#S#T%T#T#o1`#p$g%T$g~1`7Z2k_$UW#zS']%k'g2bOt%Ttu2`u}%T}!O3j!O!Q%T!Q![2`![!^%T!_!c%T!c!}2`!}#R%T#R#S2`#S#T%T#T#o2`#p$g%T$g~2`[3q_$UW#zSOt%Ttu3ju}%T}!O3j!O!Q%T!Q![3j![!^%T!_!c%T!c!}3j!}#R%T#R#S3j#S#T%T#T#o3j#p$g%T$g~3j$O4wS#^#v$UWO!^%T!_!`5T!`#o%T#p~%T$O5[R$UW#o#vO!^%T!_#o%T#p~%T6d5lU'x6[$UWOv%Tvw6Ow!^%T!_!`5T!`#o%T#p~%T$O6VS$UW#i#vO!^%T!_!`5T!`#o%T#p~%T'u6jZ$UW]!ROY6cYZ7]Zw6cwx*rx!^6c!^!_8T!_#O6c#O#P:T#P#o6c#o#p8T#p~6c&r7bV$UWOw7]wx*Px!^7]!^!_7w!_#o7]#o#p7w#p~7]&j7zROw7wwx*mx~7w'm8YV]!ROY8TYZ7wZw8Twx+px#O8T#O#P8o#P~8T'm8rROw8Twx8{x~8T'm9SU$P&j]!ROY9fZw9fwx-Vx#O9f#O#P9}#P~9f!R9kU]!ROY9fZw9fwx-Vx#O9f#O#P9}#P~9f!R:QPO~9f'u:YV$UWOw6cwx:ox!^6c!^!_8T!_#o6c#o#p8T#p~6c'u:xZ$P&j$UW]!ROY;kYZ%TZw;kwx/rx!^;k!^!_9f!_#O;k#O#P<e#P#o;k#o#p9f#p~;k!Z;rZ$UW]!ROY;kYZ%TZw;kwx/rx!^;k!^!_9f!_#O;k#O#P<e#P#o;k#o#p9f#p~;k!Z<jT$UWO!^;k!^!_9f!_#o;k#o#p9f#p~;k%V=QR!d$}$UWO!^%T!_#o%T#p~%TZ=bR!cR$UWO!^%T!_#o%T#p~%T5s=tU'^2s#_#v$UWOz%Tz{>W{!^%T!_!`5T!`#o%T#p~%T$O>_S#[#v$UWO!^%T!_!`5T!`#o%T#p~%T$u>rSj$m$UWO!^%T!_!`5T!`#o%T#p~%T&i?VR!R&a$UWO!^%T!_#o%T#p~%T7Z?gVu6`$UWO!O%T!O!P?|!P!Q%T!Q![@r![!^%T!_#o%T#p~%Ty@RT$UWO!O%T!O!P@b!P!^%T!_#o%T#p~%Ty@iR!Qq$UWO!^%T!_#o%T#p~%Ty@yZ$UWkqO!Q%T!Q![@r![!^%T!_!g%T!g!hAl!h#R%T#R#S@r#S#X%T#X#YAl#Y#o%T#p~%TyAqZ$UWO{%T{|Bd|}%T}!OBd!O!Q%T!Q![CO![!^%T!_#R%T#R#SCO#S#o%T#p~%TyBiV$UWO!Q%T!Q![CO![!^%T!_#R%T#R#SCO#S#o%T#p~%TyCVV$UWkqO!Q%T!Q![CO![!^%T!_#R%T#R#SCO#S#o%T#p~%T7ZCs`$UW#]#vOYDuYZ%TZzDuz{Jl{!PDu!P!Q!-e!Q!^Du!^!_Fx!_!`!.^!`!a!/]!a!}Du!}#OHq#O#PJQ#P#oDu#o#pFx#p~DuXD|[$UW}POYDuYZ%TZ!PDu!P!QEr!Q!^Du!^!_Fx!_!}Du!}#OHq#O#PJQ#P#oDu#o#pFx#p~DuXEy_$UW}PO!^%T!_#Z%T#Z#[Er#[#]%T#]#^Er#^#a%T#a#bEr#b#g%T#g#hEr#h#i%T#i#jEr#j#m%T#m#nEr#n#o%T#p~%TPF}V}POYFxZ!PFx!P!QGd!Q!}Fx!}#OG{#O#PHh#P~FxPGiU}P#Z#[Gd#]#^Gd#a#bGd#g#hGd#i#jGd#m#nGdPHOTOYG{Z#OG{#O#PH_#P#QFx#Q~G{PHbQOYG{Z~G{PHkQOYFxZ~FxXHvY$UWOYHqYZ%TZ!^Hq!^!_G{!_#OHq#O#PIf#P#QDu#Q#oHq#o#pG{#p~HqXIkV$UWOYHqYZ%TZ!^Hq!^!_G{!_#oHq#o#pG{#p~HqXJVV$UWOYDuYZ%TZ!^Du!^!_Fx!_#oDu#o#pFx#p~Du7ZJs^$UW}POYJlYZKoZzJlz{NQ{!PJl!P!Q!,R!Q!^Jl!^!_!!]!_!}Jl!}#O!'|#O#P!+a#P#oJl#o#p!!]#p~Jl7ZKtV$UWOzKoz{LZ{!^Ko!^!_M]!_#oKo#o#pM]#p~Ko7ZL`X$UWOzKoz{LZ{!PKo!P!QL{!Q!^Ko!^!_M]!_#oKo#o#pM]#p~Ko7ZMSR$UWU7RO!^%T!_#o%T#p~%T7RM`ROzM]z{Mi{~M]7RMlTOzM]z{Mi{!PM]!P!QM{!Q~M]7RNQOU7R7ZNX^$UW}POYJlYZKoZzJlz{NQ{!PJl!P!Q! T!Q!^Jl!^!_!!]!_!}Jl!}#O!'|#O#P!+a#P#oJl#o#p!!]#p~Jl7Z! ^_$UWU7R}PO!^%T!_#Z%T#Z#[Er#[#]%T#]#^Er#^#a%T#a#bEr#b#g%T#g#hEr#h#i%T#i#jEr#j#m%T#m#nEr#n#o%T#p~%T7R!!bY}POY!!]YZM]Zz!!]z{!#Q{!P!!]!P!Q!&x!Q!}!!]!}#O!$`#O#P!&f#P~!!]7R!#VY}POY!!]YZM]Zz!!]z{!#Q{!P!!]!P!Q!#u!Q!}!!]!}#O!$`#O#P!&f#P~!!]7R!#|UU7R}P#Z#[Gd#]#^Gd#a#bGd#g#hGd#i#jGd#m#nGd7R!$cWOY!$`YZM]Zz!$`z{!${{#O!$`#O#P!&S#P#Q!!]#Q~!$`7R!%OYOY!$`YZM]Zz!$`z{!${{!P!$`!P!Q!%n!Q#O!$`#O#P!&S#P#Q!!]#Q~!$`7R!%sTU7ROYG{Z#OG{#O#PH_#P#QFx#Q~G{7R!&VTOY!$`YZM]Zz!$`z{!${{~!$`7R!&iTOY!!]YZM]Zz!!]z{!#Q{~!!]7R!&}_}POzM]z{Mi{#ZM]#Z#[!&x#[#]M]#]#^!&x#^#aM]#a#b!&x#b#gM]#g#h!&x#h#iM]#i#j!&x#j#mM]#m#n!&x#n~M]7Z!(R[$UWOY!'|YZKoZz!'|z{!(w{!^!'|!^!_!$`!_#O!'|#O#P!*o#P#QJl#Q#o!'|#o#p!$`#p~!'|7Z!(|^$UWOY!'|YZKoZz!'|z{!(w{!P!'|!P!Q!)x!Q!^!'|!^!_!$`!_#O!'|#O#P!*o#P#QJl#Q#o!'|#o#p!$`#p~!'|7Z!*PY$UWU7ROYHqYZ%TZ!^Hq!^!_G{!_#OHq#O#PIf#P#QDu#Q#oHq#o#pG{#p~Hq7Z!*tX$UWOY!'|YZKoZz!'|z{!(w{!^!'|!^!_!$`!_#o!'|#o#p!$`#p~!'|7Z!+fX$UWOYJlYZKoZzJlz{NQ{!^Jl!^!_!!]!_#oJl#o#p!!]#p~Jl7Z!,Yc$UW}POzKoz{LZ{!^Ko!^!_M]!_#ZKo#Z#[!,R#[#]Ko#]#^!,R#^#aKo#a#b!,R#b#gKo#g#h!,R#h#iKo#i#j!,R#j#mKo#m#n!,R#n#oKo#o#pM]#p~Ko7Z!-lV$UWT7ROY!-eYZ%TZ!^!-e!^!_!.R!_#o!-e#o#p!.R#p~!-e7R!.WQT7ROY!.RZ~!.R$P!.g[$UW#o#v}POYDuYZ%TZ!PDu!P!QEr!Q!^Du!^!_Fx!_!}Du!}#OHq#O#PJQ#P#oDu#o#pFx#p~Du]!/f[#wS$UW}POYDuYZ%TZ!PDu!P!QEr!Q!^Du!^!_Fx!_!}Du!}#OHq#O#PJQ#P#oDu#o#pFx#p~Duy!0cd$UWkqO!O%T!O!P@r!P!Q%T!Q![!1q![!^%T!_!g%T!g!hAl!h#R%T#R#S!1q#S#U%T#U#V!3X#V#X%T#X#YAl#Y#b%T#b#c!2w#c#d!4m#d#l%T#l#m!5{#m#o%T#p~%Ty!1x_$UWkqO!O%T!O!P@r!P!Q%T!Q![!1q![!^%T!_!g%T!g!hAl!h#R%T#R#S!1q#S#X%T#X#YAl#Y#b%T#b#c!2w#c#o%T#p~%Ty!3OR$UWkqO!^%T!_#o%T#p~%Ty!3^W$UWO!Q%T!Q!R!3v!R!S!3v!S!^%T!_#R%T#R#S!3v#S#o%T#p~%Ty!3}Y$UWkqO!Q%T!Q!R!3v!R!S!3v!S!^%T!_#R%T#R#S!3v#S#b%T#b#c!2w#c#o%T#p~%Ty!4rV$UWO!Q%T!Q!Y!5X!Y!^%T!_#R%T#R#S!5X#S#o%T#p~%Ty!5`X$UWkqO!Q%T!Q!Y!5X!Y!^%T!_#R%T#R#S!5X#S#b%T#b#c!2w#c#o%T#p~%Ty!6QZ$UWO!Q%T!Q![!6s![!^%T!_!c%T!c!i!6s!i#R%T#R#S!6s#S#T%T#T#Z!6s#Z#o%T#p~%Ty!6z]$UWkqO!Q%T!Q![!6s![!^%T!_!c%T!c!i!6s!i#R%T#R#S!6s#S#T%T#T#Z!6s#Z#b%T#b#c!2w#c#o%T#p~%T%w!7|R!]V$UW#m%hO!^%T!_#o%T#p~%T!P!8^R_w$UWO!^%T!_#o%T#p~%T6i!8rR'bd!a0`#x&s'|P!P!Q!8{!^!_!9Q!_!`!9_W!9QO$WW#v!9VP#`#v!_!`!9Y#v!9_O#o#v#v!9dO#a#v%w!9kT!{%o$UWO!^%T!_!`'v!`!a!9z!a#o%T#p~%T$P!:RR#W#w$UWO!^%T!_#o%T#p~%T%w!:gT'a!s#a#v$RS$UWO!^%T!_!`!:v!`!a!;W!a#o%T#p~%T$O!:}R#a#v$UWO!^%T!_#o%T#p~%T$O!;_T#`#v$UWO!^%T!_!`5T!`!a!;n!a#o%T#p~%T$O!;uS#`#v$UWO!^%T!_!`5T!`#o%T#p~%T6i!<YV'p6a$UWO!O%T!O!P!<o!P!^%T!_!a%T!a!b!=P!b#o%T#p~%T)z!<vRv)r$UWO!^%T!_#o%T#p~%T$O!=WS$UW#j#vO!^%T!_!`5T!`#o%T#p~%T7V!=kRx6}$UWO!^%T!_#o%T#p~%TZ!={R!OR$UWO!^%T!_#o%T#p~%T$O!>]S#g#v$UWO!^%T!_!`5T!`#o%T#p~%T$P!>pR$UW'f#wO!^%T!_#o%T#p~%T~!?OO!T~6d!?VT'w6[$UWO!^%T!_!`5T!`#o%T#p#q!=P#q~%T5g!?oR!S5]nQ$UWO!^%T!_#o%T#p~%TX!@PR!kP$UWO!^%T!_#o%T#p~%T7Z!@gr$UW'Y7R#zS']%k'g2bOX%TXY%cYZ%TZ[%c[p%Tpq%cqt%Ttu2`u}%T}!O3j!O!Q%T!Q![2`![!^%T!_!c%T!c!}2`!}#R%T#R#S2`#S#T%T#T#o2`#p$f%T$f$g%c$g#BY2`#BY#BZ!@Y#BZ$IS2`$IS$I_!@Y$I_$JT2`$JT$JU!@Y$JU$KV2`$KV$KW!@Y$KW&FU2`&FU&FV!@Y&FV?HT2`?HT?HU!@Y?HU~2`7Z!CO_$UW'Z7R#zS']%k'g2bOt%Ttu2`u}%T}!O3j!O!Q%T!Q![2`![!^%T!_!c%T!c!}2`!}#R%T#R#S2`#S#T%T#T#o2`#p$g%T$g~2`",tokenizers:[Sv,yv,vv,0,1,2,3,4,5,6,7,8,9,bv],topRules:{Script:[0,7]},dialects:{jsx:11707,ts:11709},dynamicPrecedences:{149:1,176:1},specialized:[{term:289,get:(e,t)=>function(e,t){return"extends"==e&&t.dialectEnabled(1)?4:-1}(e,t)<<1},{term:289,get:e=>xv[e]||-1},{term:299,get:e=>kv[e]||-1},{term:63,get:e=>Vv[e]||-1}],tokenPrec:11730}),Tv=[Sm("function ${name}(${params}) {\n\t${}\n}",{label:"function",detail:"definition",type:"keyword"}),Sm("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n\t${}\n}",{label:"for",detail:"loop",type:"keyword"}),Sm("for (let ${name} of ${collection}) {\n\t${}\n}",{label:"for",detail:"of loop",type:"keyword"}),Sm("try {\n\t${}\n} catch (${error}) {\n\t${}\n}",{label:"try",detail:"block",type:"keyword"}),Sm("class ${name} {\n\tconstructor(${params}) {\n\t\t${}\n\t}\n}",{label:"class",detail:"definition",type:"keyword"}),Sm('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),Sm('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],$v=new class{constructor(){this.map=new WeakMap}setBuffer(e,t,i){let r=this.map.get(e);r||this.map.set(e,r=new Map),r.set(t,i)}getBuffer(e,t){let i=this.map.get(e);return i&&i.get(t)}set(e,t){e instanceof _u?this.setBuffer(e.context.buffer,e.index,t):e instanceof Iu&&this.map.set(e.tree,t)}get(e){return e instanceof _u?this.getBuffer(e.context.buffer,e.index):e instanceof Iu?this.map.get(e.tree):void 0}cursorSet(e,t){e.buffer?this.setBuffer(e.buffer.buffer,e.index,t):this.map.set(e.tree,t)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}},Pv=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function Qv(e){return(t,i)=>{let r=t.node.getChild("VariableDefinition");return r&&i(r,e),!0}}const Rv=["FunctionDeclaration"],Iv={FunctionDeclaration:Qv("function"),ClassDeclaration:Qv("class"),ClassExpression:()=>!0,EnumDeclaration:Qv("constant"),TypeAliasDeclaration:Qv("type"),NamespaceDeclaration:Qv("namespace"),VariableDefinition(e,t){e.matchContext(Rv)||t(e,"variable")},TypeDefinition(e,t){t(e,"type")},__proto__:null};function Ev(e,t){let i=$v.get(t);if(i)return i;let r=[],n=!0;function o(t,i){let n=e.sliceString(t.from,t.to);r.push({label:n,type:i})}return t.cursor(Vu.IncludeAnonymous).iterate((t=>{if(n)n=!1;else if(t.name){let e=Iv[t.name];if(e&&e(t,o)||Pv.has(t.name))return!1}else if(t.to-t.from>8192){for(let i of Ev(e,t.node))r.push(i);return!1}})),$v.set(t,r),r}const Dv=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/;function Av(e){let t=_c(e.state).resolve(e.pos,-1);if("TemplateString"==t.name||"String"==t.name||"LineComment"==t.name||"BlockComment"==t.name)return null;let i=t.to-t.from<20&&Dv.test(e.state.sliceDoc(t.from,t.to));if(!i&&!e.explicit)return null;let r=[];for(let i=t;i;i=i.parent)Pv.has(i.name)&&(r=r.concat(Ev(e.state.doc,i)));return{options:r,from:i?t.from:e.pos,validFor:Dv}}const _v=Ac.define({parser:Cv.configure({props:[Kc.add({IfStatement:sd({except:/^\s*({|else\b)/}),TryStatement:sd({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:e=>e.baseIndent,SwitchBody:e=>{let t=e.textAfter,i=/^\s*\}/.test(t),r=/^\s*(case|default)\b/.test(t);return e.baseIndent+(i?0:r?1:2)*e.unit},Block:function({closing:e,align:t=!0,units:i=1}){return r=>od(r,t,i,e)}({closing:"}"}),ArrowFunction:e=>e.baseIndent+e.unit,"TemplateString BlockComment":()=>-1,"Statement Property":sd({except:/^{/}),JSXElement(e){let t=/^\s*<\//.test(e.textAfter);return e.lineIndent(e.node.from)+(t?0:e.unit)},JSXEscape(e){let t=/\s*\}/.test(e.textAfter);return e.lineIndent(e.node.from)+(t?0:e.unit)},"JSXOpenTag JSXSelfClosingTag":e=>e.column(e.node.from)+e.unit}),ld.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression":ud,BlockComment:e=>({from:e.from+2,to:e.to-2})})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),Mv=_v.configure({dialect:"ts"}),Lv=_v.configure({dialect:"jsx"}),Gv=_v.configure({dialect:"jsx ts"});function Nv(e={}){let t=e.jsx?e.typescript?Gv:Lv:e.typescript?Mv:_v;return new qc(t,[_v.data.of({autocomplete:(i=["LineComment","BlockComment","String"],r=$f(Tv),e=>{for(let t=_c(e.state).resolveInner(e.pos,-1);t;t=t.parent)if(i.indexOf(t.name)>-1)return null;return r(e)})}),_v.data.of({autocomplete:Av}),e.jsx?zv:[]]);var i,r}function Wv(e,t,i=e.length){if(!t)return"";let r=t.getChild("JSXIdentifier");return r?e.sliceString(r.from,Math.min(r.to,i)):""}const Bv="object"==typeof navigator&&/Android\b/.test(navigator.userAgent),zv=Ga.inputHandler.of(((e,t,i,r)=>{if((Bv?e.composing:e.compositionStarted)||e.state.readOnly||t!=i||">"!=r&&"/"!=r||!_v.isActiveAt(e.state,t,-1))return!1;let{state:n}=e,o=n.changeByRange((e=>{var t,i,o;let s,{head:a}=e,l=_c(n).resolveInner(a,-1);if("JSXStartTag"==l.name&&(l=l.parent),">"==r&&"JSXFragmentTag"==l.name)return{range:Ni.cursor(a+1),changes:{from:a,insert:"><>"}};if(">"==r&&"JSXIdentifier"==l.name){if("JSXEndTag"!=(null===(i=null===(t=l.parent)||void 0===t?void 0:t.lastChild)||void 0===i?void 0:i.name)&&(s=Wv(n.doc,l.parent,a)))return{range:Ni.cursor(a+1),changes:{from:a,insert:`></${s}>`}}}else if("/"==r&&"JSXFragmentTag"==l.name){let e=l.parent,t=null==e?void 0:e.parent;if(e.from==a-1&&"JSXEndTag"!=(null===(o=t.lastChild)||void 0===o?void 0:o.name)&&(s=Wv(n.doc,null==t?void 0:t.firstChild,a))){let e=`/${s}>`;return{range:Ni.cursor(a+e.length),changes:{from:a,insert:e}}}}return{range:e}}));return!o.changes.empty&&(e.dispatch(o,{userEvent:"input.type",scrollIntoView:!0}),!0)})),Fv=["_blank","_self","_top","_parent"],Uv=["ascii","utf-8","utf-16","latin1","latin1"],qv=["get","post","put","delete"],Xv=["application/x-www-form-urlencoded","multipart/form-data","text/plain"],jv=["true","false"],Hv={},Zv={a:{attrs:{href:null,ping:null,type:null,media:null,target:Fv,hreflang:null}},abbr:Hv,acronym:Hv,address:Hv,applet:Hv,area:{attrs:{alt:null,coords:null,href:null,target:null,ping:null,media:null,hreflang:null,type:null,shape:["default","rect","circle","poly"]}},article:Hv,aside:Hv,audio:{attrs:{src:null,mediagroup:null,crossorigin:["anonymous","use-credentials"],preload:["none","metadata","auto"],autoplay:["autoplay"],loop:["loop"],controls:["controls"]}},b:Hv,base:{attrs:{href:null,target:Fv}},basefont:Hv,bdi:Hv,bdo:Hv,big:Hv,blockquote:{attrs:{cite:null}},body:Hv,br:Hv,button:{attrs:{form:null,formaction:null,name:null,value:null,autofocus:["autofocus"],disabled:["autofocus"],formenctype:Xv,formmethod:qv,formnovalidate:["novalidate"],formtarget:Fv,type:["submit","reset","button"]}},canvas:{attrs:{width:null,height:null}},caption:Hv,center:Hv,cite:Hv,code:Hv,col:{attrs:{span:null}},colgroup:{attrs:{span:null}},command:{attrs:{type:["command","checkbox","radio"],label:null,icon:null,radiogroup:null,command:null,title:null,disabled:["disabled"],checked:["checked"]}},data:{attrs:{value:null}},datagrid:{attrs:{disabled:["disabled"],multiple:["multiple"]}},datalist:{attrs:{data:null}},dd:Hv,del:{attrs:{cite:null,datetime:null}},details:{attrs:{open:["open"]}},dfn:Hv,dir:Hv,div:Hv,dl:Hv,dt:Hv,em:Hv,embed:{attrs:{src:null,type:null,width:null,height:null}},eventsource:{attrs:{src:null}},fieldset:{attrs:{disabled:["disabled"],form:null,name:null}},figcaption:Hv,figure:Hv,font:Hv,footer:Hv,form:{attrs:{action:null,name:null,"accept-charset":Uv,autocomplete:["on","off"],enctype:Xv,method:qv,novalidate:["novalidate"],target:Fv}},frame:Hv,frameset:Hv,h1:Hv,h2:Hv,h3:Hv,h4:Hv,h5:Hv,h6:Hv,head:{children:["title","base","link","style","meta","script","noscript","command"]},header:Hv,hgroup:Hv,hr:Hv,html:{attrs:{manifest:null}},i:Hv,iframe:{attrs:{src:null,srcdoc:null,name:null,width:null,height:null,sandbox:["allow-top-navigation","allow-same-origin","allow-forms","allow-scripts"],seamless:["seamless"]}},img:{attrs:{alt:null,src:null,ismap:null,usemap:null,width:null,height:null,crossorigin:["anonymous","use-credentials"]}},input:{attrs:{alt:null,dirname:null,form:null,formaction:null,height:null,list:null,max:null,maxlength:null,min:null,name:null,pattern:null,placeholder:null,size:null,src:null,step:null,value:null,width:null,accept:["audio/*","video/*","image/*"],autocomplete:["on","off"],autofocus:["autofocus"],checked:["checked"],disabled:["disabled"],formenctype:Xv,formmethod:qv,formnovalidate:["novalidate"],formtarget:Fv,multiple:["multiple"],readonly:["readonly"],required:["required"],type:["hidden","text","search","tel","url","email","password","datetime","date","month","week","time","datetime-local","number","range","color","checkbox","radio","file","submit","image","reset","button"]}},ins:{attrs:{cite:null,datetime:null}},kbd:Hv,keygen:{attrs:{challenge:null,form:null,name:null,autofocus:["autofocus"],disabled:["disabled"],keytype:["RSA"]}},label:{attrs:{for:null,form:null}},legend:Hv,li:{attrs:{value:null}},link:{attrs:{href:null,type:null,hreflang:null,media:null,sizes:["all","16x16","16x16 32x32","16x16 32x32 64x64"]}},map:{attrs:{name:null}},mark:Hv,menu:{attrs:{label:null,type:["list","context","toolbar"]}},meta:{attrs:{content:null,charset:Uv,name:["viewport","application-name","author","description","generator","keywords"],"http-equiv":["content-language","content-type","default-style","refresh"]}},meter:{attrs:{value:null,min:null,low:null,high:null,max:null,optimum:null}},nav:Hv,noframes:Hv,noscript:Hv,object:{attrs:{data:null,type:null,name:null,usemap:null,form:null,width:null,height:null,typemustmatch:["typemustmatch"]}},ol:{attrs:{reversed:["reversed"],start:null,type:["1","a","A","i","I"]},children:["li","script","template","ul","ol"]},optgroup:{attrs:{disabled:["disabled"],label:null}},option:{attrs:{disabled:["disabled"],label:null,selected:["selected"],value:null}},output:{attrs:{for:null,form:null,name:null}},p:Hv,param:{attrs:{name:null,value:null}},pre:Hv,progress:{attrs:{value:null,max:null}},q:{attrs:{cite:null}},rp:Hv,rt:Hv,ruby:Hv,s:Hv,samp:Hv,script:{attrs:{type:["text/javascript"],src:null,async:["async"],defer:["defer"],charset:Uv}},section:Hv,select:{attrs:{form:null,name:null,size:null,autofocus:["autofocus"],disabled:["disabled"],multiple:["multiple"]}},slot:{attrs:{name:null}},small:Hv,source:{attrs:{src:null,type:null,media:null}},span:Hv,strike:Hv,strong:Hv,style:{attrs:{type:["text/css"],media:null,scoped:null}},sub:Hv,summary:Hv,sup:Hv,table:Hv,tbody:Hv,td:{attrs:{colspan:null,rowspan:null,headers:null}},template:Hv,textarea:{attrs:{dirname:null,form:null,maxlength:null,name:null,placeholder:null,rows:null,cols:null,autofocus:["autofocus"],disabled:["disabled"],readonly:["readonly"],required:["required"],wrap:["soft","hard"]}},tfoot:Hv,th:{attrs:{colspan:null,rowspan:null,headers:null,scope:["row","col","rowgroup","colgroup"]}},thead:Hv,time:{attrs:{datetime:null}},title:Hv,tr:Hv,track:{attrs:{src:null,label:null,default:null,kind:["subtitles","captions","descriptions","chapters","metadata"],srclang:null}},tt:Hv,u:Hv,ul:{children:["li","script","template","ul","ol"]},var:Hv,video:{attrs:{src:null,poster:null,width:null,height:null,crossorigin:["anonymous","use-credentials"],preload:["auto","metadata","none"],autoplay:["autoplay"],mediagroup:["movie"],muted:["muted"],controls:["controls"]}},wbr:Hv},Yv={accesskey:null,class:null,contenteditable:jv,contextmenu:null,dir:["ltr","rtl","auto"],draggable:["true","false","auto"],dropzone:["copy","move","link","string:","file:"],hidden:["hidden"],id:null,inert:["inert"],itemid:null,itemprop:null,itemref:null,itemscope:["itemscope"],itemtype:null,lang:["ar","bn","de","en-GB","en-US","es","fr","hi","id","ja","pa","pt","ru","tr","zh"],spellcheck:jv,autocorrect:jv,autocapitalize:jv,style:null,tabindex:null,title:null,translate:["yes","no"],onclick:null,rel:["stylesheet","alternate","author","bookmark","help","license","next","nofollow","noreferrer","prefetch","prev","search","tag"],role:"alert application article banner button cell checkbox complementary contentinfo dialog document feed figure form grid gridcell heading img list listbox listitem main navigation region row rowgroup search switch tab table tabpanel textbox timer".split(" "),"aria-activedescendant":null,"aria-atomic":jv,"aria-autocomplete":["inline","list","both","none"],"aria-busy":jv,"aria-checked":["true","false","mixed","undefined"],"aria-controls":null,"aria-describedby":null,"aria-disabled":jv,"aria-dropeffect":null,"aria-expanded":["true","false","undefined"],"aria-flowto":null,"aria-grabbed":["true","false","undefined"],"aria-haspopup":jv,"aria-hidden":jv,"aria-invalid":["true","false","grammar","spelling"],"aria-label":null,"aria-labelledby":null,"aria-level":null,"aria-live":["off","polite","assertive"],"aria-multiline":jv,"aria-multiselectable":jv,"aria-owns":null,"aria-posinset":null,"aria-pressed":["true","false","mixed","undefined"],"aria-readonly":jv,"aria-relevant":null,"aria-required":jv,"aria-selected":["true","false","undefined"],"aria-setsize":null,"aria-sort":["ascending","descending","none","other"],"aria-valuemax":null,"aria-valuemin":null,"aria-valuenow":null,"aria-valuetext":null},Jv=Object.keys(Zv),Kv=Object.keys(Yv);function ew(e,t,i=e.length){if(!t)return"";let r=t.firstChild,n=r&&r.getChild("TagName");return n?e.sliceString(n.from,Math.min(n.to,i)):""}function tw(e,t=!1){for(let i=e.parent;i;i=i.parent)if("Element"==i.name){if(!t)return i;t=!1}return null}function iw(e,t){let i=Zv[ew(e,tw(t,!0))];return(null==i?void 0:i.children)||Jv}function rw(e,t){let i=[];for(let r=t;r=tw(r);){let n=ew(e,r);if(n&&"CloseTag"==r.lastChild.name)break;n&&i.indexOf(n)<0&&("EndTag"==t.name||t.from>=r.firstChild.to)&&i.push(n)}return i}const nw=/^[:\-\.\w\u00b7-\uffff]*$/;function ow(e,t,i,r){let n=/\s*>/.test(e.sliceDoc(r,r+5))?"":">";return{from:i,to:r,options:iw(e.doc,t).map((e=>({label:e,type:"type"}))).concat(rw(e.doc,t).map(((e,t)=>({label:"/"+e,apply:"/"+e+n,type:"type",boost:99-t})))),validFor:/^\/?[:\-\.\w\u00b7-\uffff]*$/}}function sw(e,t,i,r){let n=/\s*>/.test(e.sliceDoc(r,r+5))?"":">";return{from:i,to:r,options:rw(e.doc,t).map(((e,t)=>({label:e,apply:e+n,type:"type",boost:99-t}))),validFor:nw}}function aw(e){let{state:t,pos:i}=e,r=_c(t).resolveInner(i),n=r.resolve(i,-1);for(let e,t=i;r==n&&(e=n.childBefore(t));){let i=e.lastChild;if(!i||!i.type.isError||i.from<i.to)break;r=n=e,t=i.from}return"TagName"==n.name?n.parent&&/CloseTag$/.test(n.parent.name)?sw(t,n,n.from,i):ow(t,n,n.from,i):"StartTag"==n.name?ow(t,n,i,i):"StartCloseTag"==n.name||"IncompleteCloseTag"==n.name?sw(t,n,i,i):e.explicit&&("OpenTag"==n.name||"SelfClosingTag"==n.name)||"AttributeName"==n.name?function(e,t,i,r){let n=tw(t),o=n?Zv[ew(e.doc,n)]:null;return{from:i,to:r,options:(o&&o.attrs?Object.keys(o.attrs).concat(Kv):Kv).map((e=>({label:e,type:"property"}))),validFor:nw}}(t,n,"AttributeName"==n.name?n.from:i,i):"Is"==n.name||"AttributeValue"==n.name||"UnquotedAttributeValue"==n.name?function(e,t,i,r){var n;let o,s=null===(n=t.parent)||void 0===n?void 0:n.getChild("AttributeName"),a=[];if(s){let n=e.sliceDoc(s.from,s.to),l=Yv[n];if(!l){let i=tw(t),r=i?Zv[ew(e.doc,i)]:null;l=(null==r?void 0:r.attrs)&&r.attrs[n]}if(l){let t=e.sliceDoc(i,r).toLowerCase(),n='"',s='"';/^['"]/.test(t)?(o='"'==t[0]?/^[^"]*$/:/^[^']*$/,n="",s=e.sliceDoc(r,r+1)==t[0]?"":t[0],t=t.slice(1),i++):o=/^[^\s<>='"]*$/;for(let e of l)a.push({label:e,apply:n+e+s,type:"constant"})}}return{from:i,to:r,options:a,validFor:o}}(t,n,"Is"==n.name?i:n.from,i):!e.explicit||"Element"!=r.name&&"Text"!=r.name&&"Document"!=r.name?null:function(e,t,i){let r=[],n=0;for(let i of iw(e.doc,t))r.push({label:"<"+i,type:"type"});for(let i of rw(e.doc,t))r.push({label:"</"+i+">",type:"type",boost:99-n++});return{from:i,to:i,options:r,validFor:/^<\/?[:\-\.\w\u00b7-\uffff]*$/}}(t,n,i)}const lw=Ac.define({parser:hv.configure({props:[Kc.add({Element(e){let t=/^(\s*)(<\/)?/.exec(e.textAfter);return e.node.to<=e.pos+t[0].length?e.continue():e.lineIndent(e.node.from)+(t[2]?0:e.unit)},"OpenTag CloseTag SelfClosingTag":e=>e.column(e.node.from)+e.unit,Document(e){if(e.pos+/\s*/.exec(e.textAfter)[0].length<e.node.to)return e.continue();let t,i=null;for(let t=e.node;;){let e=t.lastChild;if(!e||"Element"!=e.name||e.to!=t.to)break;i=t=e}return i&&(!(t=i.lastChild)||"CloseTag"!=t.name&&"SelfClosingTag"!=t.name)?e.lineIndent(i.from)+e.unit:null}}),ld.add({Element(e){let t=e.firstChild,i=e.lastChild;return t&&"OpenTag"==t.name?{from:t.to,to:"CloseTag"==i.name?i.from:e.to}:null}})],wrap:function(e){let t=[],i=[],r=[];for(let n of e){let e="script"==n.tag?t:"style"==n.tag?i:"textarea"==n.tag?r:null;if(!e)throw new RangeError("Only script, style, and textarea tags can host nested parsers");e.push(n)}return n=(e,n)=>{let o=e.type.id;return 27==o?fv(e,n,t):30==o?fv(e,n,i):33==o?fv(e,n,r):null},(e,t,i,r)=>new ju(e,n,t,i,r);var n}([{tag:"script",attrs:e=>!e.type||/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i.test(e.type),parser:_v.parser},{tag:"style",attrs:e=>(!e.lang||"css"==e.lang)&&(!e.type||/^(text\/)?(x-)?(stylesheet|css)$/i.test(e.type)),parser:sO.parser}])}),languageData:{commentTokens:{block:{open:"\x3c!--",close:"--\x3e"}},indentOnInput:/^\s*<\/\w+\W$/,wordChars:"-._"}});function uw(e={}){let t=lw;return!1===e.matchClosingTags&&(t=t.configure({dialect:"noMatch"})),new qc(t,[lw.data.of({autocomplete:aw}),!1!==e.autoCloseTags?cw:[],Nv().support,aO().support])}const cw=Ga.inputHandler.of(((e,t,i,r)=>{if(e.composing||e.state.readOnly||t!=i||">"!=r&&"/"!=r||!lw.isActiveAt(e.state,t,-1))return!1;let{state:n}=e,o=n.changeByRange((e=>{var t,i,o;let s,{head:a}=e,l=_c(n).resolveInner(a,-1);if("TagName"!=l.name&&"StartTag"!=l.name||(l=l.parent),">"==r&&"OpenTag"==l.name){if("CloseTag"!=(null===(i=null===(t=l.parent)||void 0===t?void 0:t.lastChild)||void 0===i?void 0:i.name)&&(s=ew(n.doc,l.parent,a)))return{range:Ni.cursor(a+1),changes:{from:a,insert:`></${s}>`}}}else if("/"==r&&"OpenTag"==l.name){let e=l.parent,t=null==e?void 0:e.parent;if(e.from==a-1&&"CloseTag"!=(null===(o=t.lastChild)||void 0===o?void 0:o.name)&&(s=ew(n.doc,t,a))){let e=`/${s}>`;return{range:Ni.cursor(a+e.length),changes:{from:a,insert:e}}}}return{range:e}}));return!o.changes.empty&&(e.dispatch(o,{userEvent:"input.type",scrollIntoView:!0}),!0)}));var dw,hw,pw,fw,mw,gw,Ow;dw=i.customElement("rnwppages-html-property"),hw=i.query(".textarea"),dw((pw=class extends ue{constructor(...e){super(...e),babelHelpers.initializerDefineProperty(this,"TextArea",fw,this)}static get properties(){return{}}SubRender(){return t.html` <div> <div> <div class="textarea" @change=${e=>{this.model.GetStringValue()}} style="width: 100%;height:250px;margin-top: 10px;border: 1px solid #ccc;"/> </div> <div style="margin-top: 5px"> <button class="rnbtn rnbtn-primary" @click="${()=>this.AddTag()}">Add tag</button> </div> </div> `}firstUpdated(e){super.firstUpdated(e),this.EditorView=new Ga({state:Rr.create({doc:this.model.GetStringValue(),extensions:[gg,uw(),Xa.of([Cp]),lw.data.of({autocomplete:aw}),Ga.updateListener.of((e=>{e.docChanged&&this.model.SetValue(this.EditorView.state.doc.toString())}))]}),parent:this.TextArea})}Clear(){this.EditorView.dispatch({changes:{from:0,to:this.EditorView.state.doc.length,insert:""}})}async AddTag(){let e=await h.Dialog.Show(t.html`<rn-field-dialog .PageBuilder="${this.model.Element.PageBuilder}"></rn-field-dialog>`);if(console.log(e),null==e)return;if("field"!=e.Type)return;let i=this.EditorView.state.selection.ranges[0];this.EditorView.dispatch({changes:{from:i.from,to:i.to,insert:"[$"+e.Value.Id+":"+e.Value.Path+"$]"}})}},fw=babelHelpers.applyDecoratedDescriptor(pw.prototype,"TextArea",[hw],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pw));class bw extends ce{constructor(e,t,i){super(e,t,i)}Render(){return t.html`<rnwppages-html-property .model="${this}"></rnwppages-html-property>`}}class Sw extends gO{constructor(e,t){super(e,t),this.HTML=null}GetProperties(){let e=super.GetProperties(),t=e.GetOrCreateGroup("General",1);return t.AddProperty(new de(this,"Label","Label")),t.AddProperty(new bw(this,"Code","HTML").SetOnChange((e=>{this.Options.Code=e,this.HTML=null,this.Refresh()}))),e}GetLabel(){return"HTML"}GetStyles(e=""){return super.GetStyles(e)}render(){return t.html`<rnwppages-html-block .model="${this}"></rnwppages-html-block>`}}let yw,vw;!function(e){e.Bar="bar",e.Pie="pie",e.Bubble="bubble",e.Doughnut="doughnut",e.Line="line",e.Polar="polarArea",e.Radar="radar"}(yw||(yw={})),function(e){e.Sum="sum",e.Count="count"}(vw||(vw={}));let ww=(mw=r.StoreDataType(Object),gw=class extends D{constructor(...e){super(...e),babelHelpers.initializerDefineProperty(this,"SubValue",Ow,this)}LoadDefaultValues(){super.LoadDefaultValues(),this.ChartType=yw.Bar,this.Type=E.Chart,this.Condition=(new gk).Merge(),this.FieldId="",this.PathId="",this.OperationType=vw.Count,this.OperationField="",this.RemoveLegend=!1,this.Title="",this.SubValue=null}},Ow=babelHelpers.applyDecoratedDescriptor(gw.prototype,"SubValue",[mw],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gw);var xw,kw,Vw,Cw,Tw;i.customElement("rnwppages-chart-block")(class extends J{SubRender(){return t.html`<canvas style="margin:auto;max-width: 500px;max-height: 500px" class="ChartContainer" ${S.ref((e=>this.model.ChartContainer=e))}> </canvas>`}firstUpdated(e){super.firstUpdated(e),this.model.GenerateChart()}}),i.customElement("rnwppages-condition-property")(class extends ue{static get properties(){return{}}SubRender(){return t.html` <div> <button @click="${()=>this.OpenDialog()}" class="rnbtn rnbtn-primary">Add/Edit Filter</button> </div> `}OpenDialog(){h.Dialog.Show(t.html`<rn-condition-dialog .AllowFieldMapping="${!0}" .ConditionProperty="${this.model}" .PageBuilder="${this.model.Element.PageBuilder}"></rn-condition-dialog>`)}});class $w extends ce{constructor(e,t,i){super(e,t,i),this.ActivateChangeWhenBlur=!1}Render(){return t.html`<rnwppages-condition-property .model="${this}"></rnwppages-condition-property>`}}class Pw extends gO{constructor(e,t){super(e,t)}GetProperties(){let e=super.GetProperties(),t=e.GetOrCreateGroup("General",1);if(t.AddProperty(new Bt(this,"ChartType","Chart Type").AddItem("Bar","bar").AddItem("Pie","pie").AddItem("Doughnut","doughnut").AddItem("Line","line").AddItem("Polar","polarArea").AddItem("Radar","radar").SetOnChange((e=>{this.Options.ChartType=e,this.Chart.destroy(),this.GenerateChart()})).SetRefreshPropertiesPanel()),t.AddProperty(new US(this,"FieldId","PathId","Field to use").SetAfterValueChanged((()=>{this.Options.SubValue=null,this.Options.OperationType="count"})).SetRefreshPropertiesPanel().SetFilter(["Text","Composed","Multiple","Currency","Number","CurrencyMultiple","Rating","LikertScale"])),""!=this.Options.FieldId){var i;let e=null===(i=this.PageBuilder.DataSource)||void 0===i?void 0:i.GetFieldById(this.Options.FieldId);if(e.Type==sk.LikertScale){let i=new Bt(this,"SubValue","Select a dimension").SetRefreshPropertiesPanel();for(let t in e.Rows)i.AddItem(e.Rows[t],e.Rows[t]);t.AddProperty(i)}else t.AddProperty(new Bt(this,"OperationType","Operation Type").AddItem("Count",vw.Count).AddItem("Sum",vw.Sum).SetRefreshPropertiesPanel())}this.Options.OperationType==vw.Sum&&t.AddProperty(new US(this,"OperationField","","Operation Field").SetFilter(["Currency","CurrencyMultiple"])),t.AddProperty(new $w(this,"Condition",""));let r=e.GetOrCreateGroup("Appearance");return r.AddProperty(new de(this,"Title","Title").SetOnChange((e=>{this.Options.Title=e,this.Chart.destroy(),this.GenerateChart(),this.Refresh()}))),r.AddProperty(new qS(this,"RemoveLegend","Remove Legend").SetOnChange((e=>{this.Options.RemoveLegend=e,this.Chart.destroy(),this.GenerateChart(),this.Refresh()}))),e}GetLabel(){return"Chart"}render(){return t.html`<rnwppages-chart-block .model="${this}"></rnwppages-chart-block>`}GenerateChart(){let e=this.ChartContainer.getContext("2d");this.Chart=new Chart(e,{type:this.Options.ChartType,data:{labels:["Test 1","Test 2","Test 3","Test 4","Test 5","Test 6"],datasets:[{label:"Test data",data:[12,19,3,5,2,3],backgroundColor:palette("tol",6).map((function(e){return"#"+e}))}]},options:{scales:{y:{beginAtZero:!0}},plugins:{colorschemes:{scheme:"brewer.Paired12"},legend:{display:!this.Options.RemoveLegend},title:{display:""!=this.Options.Title,text:this.Options.Title}}}})}}class Qw{static GetBlockOptions(e){if(Array.isArray(e)){let t=[];for(let i of e)t.push(Qw.GetBlockOptions(i));return t}let t,i=e,r=null;switch(null!=i.Type?(i=i.Type,r=e):e=null,i){case E.Text:return(new F).Merge(r);case E.TextWithFields:return(new wO).Merge(r);case E.Navigation:return(new SO).Merge(r);case E.SearchBar:return(new TO).Merge(r);case E.Field:return(new HS).Merge(r);case E.FieldSummary:return(new ZS).Merge(r);case E.Link:return(new Oy).Merge(r);case E.QRCode:return(new $y).Merge(r);case E.Image:return(new Ey).Merge(r);case E.Video:return(new My).Merge(r);case E.HTML:return(new Uy).Merge(r);case E.Chart:return(new ww).Merge(r)}if(t=n.EventManager.Publish("GetBlockOptions",i),null==t)throw new Error("Undefined type "+i);return t.Merge(e),t}static GetBlockModel(e,t){switch(e.Type){case E.Text:return new bO(e,t);case E.Navigation:return new yO(e,t);case E.TextWithFields:return new vO(e,t);case E.SearchBar:return new FS(e,t);case E.Field:return new jS(e,t);case E.FieldSummary:return new iy(e,t);case E.Link:return new Ty(e,t);case E.QRCode:return new Iy(e,t);case E.Image:return new By(e,t);case E.Video:return new Fy(e,t);case E.HTML:return new Sw(e,t);case E.Chart:return new Pw(e,t)}return n.EventManager.Publish("GetBlockModel",{Options:e,Parent:t})}}let Rw=(xw=r.StoreAutoIncrement("ElementId"),kw=r.StoreDataType(D),Vw=class extends r.StoreBase{constructor(...e){super(...e),babelHelpers.initializerDefineProperty(this,"Id",Cw,this),babelHelpers.initializerDefineProperty(this,"Blocks",Tw,this)}LoadDefaultValues(){this.Id=0,this.Blocks=[],this.WidthPercentage=100,this.Class=""}GetValueFromLoader(e,t){switch(e){case"Blocks":return Qw.GetBlockOptions(t);default:return null}}},Cw=babelHelpers.applyDecoratedDescriptor(Vw.prototype,"Id",[xw],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Tw=babelHelpers.applyDecoratedDescriptor(Vw.prototype,"Blocks",[kw],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vw);var Iw,Ew,Dw,Aw,_w;let Mw=(Iw=r.StoreAutoIncrement("ElementId"),Ew=r.StoreDataType(Rw),Dw=class extends r.StoreBase{constructor(...e){super(...e),babelHelpers.initializerDefineProperty(this,"Id",Aw,this),babelHelpers.initializerDefineProperty(this,"Columns",_w,this)}LoadDefaultValues(){this.Columns=[],this.Id=0,this.Class="",this.Styles=""}},Aw=babelHelpers.applyDecoratedDescriptor(Dw.prototype,"Id",[Iw],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_w=babelHelpers.applyDecoratedDescriptor(Dw.prototype,"Columns",[Ew],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dw);var Lw,Gw,Nw;let Ww=(Lw=r.StoreDataType(Mw),Gw=class extends r.StoreBase{constructor(...e){super(...e),babelHelpers.initializerDefineProperty(this,"Rows",Nw,this)}LoadDefaultValues(){this.Rows=[],this.Id="",this.Type=""}},Nw=babelHelpers.applyDecoratedDescriptor(Gw.prototype,"Rows",[Lw],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gw);class Bw{static GetOptions(e){return null==e.Type&&(e={Type:e}),n.EventManager.Publish("GetTextCellTemplateOptions",e.Type).Merge(e)}static GetModel(e){return n.EventManager.Publish("GetTextCellTemplateModel",e)}static GetOptionsFromArray(e){if(null==e)return[];let t=[];for(let i of e)t.push(Bw.GetOptions(i));return t}}var zw,Fw,Uw;let qw=(zw=r.StoreDataType(ry),Fw=class extends Ww{constructor(...e){super(...e),babelHelpers.initializerDefineProperty(this,"Columns",Uw,this)}LoadDefaultValues(){super.LoadDefaultValues(),this.Columns=[],this.Type="Grid",this.GridStyle="",this.Stripped=!1}GetValueFromLoader(e,t){switch(e){case"Columns":return Bw.GetOptionsFromArray(t)}}},Uw=babelHelpers.applyDecoratedDescriptor(Fw.prototype,"Columns",[zw],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fw);class Xw extends Ww{LoadDefaultValues(){super.LoadDefaultValues(),this.Type="Standard",this.Styles=""}}class jw{static GetSectionOptions(e){switch(e.Type){case"Grid":return(new qw).Merge(e);default:return(new Xw).Merge(e)}}static GetSectionFromArray(e){if(null==e)return[];let t=[];for(let i of e)t.push(jw.GetSectionOptions(i));return t}}var Hw,Zw,Yw;let Jw=(Hw=r.StoreDataType(Ww),Zw=class extends r.StoreBase{constructor(...e){super(...e),babelHelpers.initializerDefineProperty(this,"Sections",Yw,this)}LoadDefaultValues(){this.Sections=[],this.Id="",this.Style="",this.StyleMobile=""}GetValueFromLoader(e,t){switch(e){case"Sections":return jw.GetSectionFromArray(t)}}},Yw=babelHelpers.applyDecoratedDescriptor(Zw.prototype,"Sections",[Hw],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zw);var Kw,ex,tx;let ix=(Kw=r.StoreDataType(Object),ex=class extends Jw{constructor(...e){super(...e),babelHelpers.initializerDefineProperty(this,"EmptyMessage",tx,this)}LoadDefaultValues(){super.LoadDefaultValues(),this.EmptyMessage=null,this.MaximumNumberOfRecordsPerPage=20,this.ItemWidth=""}},tx=babelHelpers.applyDecoratedDescriptor(ex.prototype,"EmptyMessage",[Kw],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ex);var rx,nx,ox,sx,ax;let lx=(rx=r.StoreDataType(String),nx=r.StoreDataType(Object),ox=class extends Jw{constructor(...e){super(...e),babelHelpers.initializerDefineProperty(this,"AllowedRoles",sx,this),babelHelpers.initializerDefineProperty(this,"NotAllowedMessage",ax,this)}LoadDefaultValues(){super.LoadDefaultValues(),this.AllowedRoles=[],this.NotAllowedMessage=null}},sx=babelHelpers.applyDecoratedDescriptor(ox.prototype,"AllowedRoles",[rx],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ax=babelHelpers.applyDecoratedDescriptor(ox.prototype,"NotAllowedMessage",[nx],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ox);var ux,cx,dx;let hx=(ux=r.StoreAutoIncrement("FormulaId"),cx=class extends r.StoreBase{constructor(...e){super(...e),babelHelpers.initializerDefineProperty(this,"Id",dx,this)}LoadDefaultValues(){this.Id=0,this.FormulaType="",this.FormToUse="",this.FieldToUse="",this.Condition=(new mk).Merge()}},dx=babelHelpers.applyDecoratedDescriptor(cx.prototype,"Id",[ux],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),cx);var px,fx,mx;let gx=(px=r.StoreDataType(Object),fx=class extends Jw{constructor(...e){super(...e),babelHelpers.initializerDefineProperty(this,"EmptyMessage",mx,this)}LoadDefaultValues(){super.LoadDefaultValues(),this.EmptyMessage=null,this.EntryVisibility="private"}},mx=babelHelpers.applyDecoratedDescriptor(fx.prototype,"EmptyMessage",[px],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fx);var Ox,bx,Sx;let yx=(Ox=r.StoreDataType(Object),bx=class extends Jw{constructor(...e){super(...e),babelHelpers.initializerDefineProperty(this,"EmptyMessage",Sx,this)}LoadDefaultValues(){super.LoadDefaultValues(),this.EmptyMessage=null,this.MaximumNumberOfRecordsPerPage=20,this.ItemWidth="",this.ItemHeight="",this.AddSliderPagination=!1,this.AutoPlay=!1,this.AutoPlayDelay=2e3}},Sx=babelHelpers.applyDecoratedDescriptor(bx.prototype,"EmptyMessage",[Ox],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bx);var vx,wx,xx,kx,Vx,Cx,Tx,$x,Px,Qx,Rx,Ix,Ex,Dx,Ax,_x,Mx,Lx,Gx,Nx,Wx,Bx,zx,Fx,Ux,qx,Xx,jx,Hx,Zx,Yx,Jx,Kx,ek,tk;let ik=(vx=r.StoreAutoIncrement("SortItem"),wx=class extends r.StoreBase{constructor(...e){super(...e),babelHelpers.initializerDefineProperty(this,"Id",xx,this)}LoadDefaultValues(){this.Id=0,this.FieldId="",this.Orientation="desc",this.PathId=""}},xx=babelHelpers.applyDecoratedDescriptor(wx.prototype,"Id",[vx],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wx);class rk extends r.StoreBase{LoadDefaultValues(){this.MaxWidth="900",this.Type="Basic"}}let nk,ok,sk,ak,lk,uk=(kx=r.StoreDataType(Jw),Vx=r.StoreDataType(hx),Cx=r.StoreDataType(ik),Tx=class extends r.StoreBase{constructor(...e){super(...e),babelHelpers.initializerDefineProperty(this,"Areas",$x,this),babelHelpers.initializerDefineProperty(this,"Formulas",Px,this),babelHelpers.initializerDefineProperty(this,"Sort",Qx,this)}LoadDefaultValues(){this.Formulas=[],this.Id=0,this.Name="",this.FormId="",this.Areas=[],this.Type="",this.Filter=(new gk).Merge(),this.GeneralSettings=(new rk).Merge(),this.Sort=[]}GetValueFromLoader(e,t){switch(e){case"Areas":return ck.GetOptionsFromList(t)}}},$x=babelHelpers.applyDecoratedDescriptor(Tx.prototype,"Areas",[kx],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Px=babelHelpers.applyDecoratedDescriptor(Tx.prototype,"Formulas",[Vx],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qx=babelHelpers.applyDecoratedDescriptor(Tx.prototype,"Sort",[Cx],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Tx);class ck{static GetOption(e){let t=e.Id;switch(null==t&&(t=e,e={Id:t}),t){case"Multiple":return(new ix).Merge(e);case"Edit":return(new lx).Merge(e);case"SingleView":return(new gx).Merge(e);case"Carousel":return(new yx).Merge(e);default:return(new Jw).Merge(e)}}static GetOptionsFromList(e){Array.isArray(e)||(e=[e]);let t=[];return e.forEach((e=>t.push(ck.GetOption(e)))),e}}!function(e){e.OpenURL="OpenURL",e.GoToPage="GoToPage"}(nk||(nk={})),function(e){e.Standard="Standard",e.None="None"}(ok||(ok={})),function(e){e.List="List",e.DateTime="DateTime",e.Date="Date",e.FileUpload="FileUpload",e.Multiple="Multiple",e.Number="Number",e.Rating="Rating",e.Text="Text",e.Time="Time",e.Toggle="Toggle",e.User="User",e.EntryId="EntryId",e.Composed="Composed",e.Signature="Signature",e.None="None",e.HTML="HTML",e.Currency="Currency",e.CurrencyMultiple="CurrencyMultiple",e.LikertScale="LikertScale"}(sk||(sk={})),function(e){e.Filter="Filter"}(ak||(ak={})),function(e){e.Field="Field"}(lk||(lk={}));let dk=(Rx=r.StoreDataType(Object),Ix=r.StoreDataType(Object),Ex=r.StoreAutoIncrement("ConditionLineOptions"),Dx=class extends r.StoreBase{constructor(...e){super(...e),babelHelpers.initializerDefineProperty(this,"Value",Ax,this),babelHelpers.initializerDefineProperty(this,"AdditionalOptions",_x,this),babelHelpers.initializerDefineProperty(this,"Id",Mx,this)}LoadDefaultValues(){this.Id=0,this.HasMapping=!1,this.FieldId="",this.Comparison=fk.None,this.Value="",this.Type=ok.None,this.SubType=sk.None,this.PathId="",this.Column="",this.AdditionalOptions=null}GetValueFromLoader(e,t){switch(e){case"Value":return class{static GetValue(e,t){return e.SubType!=sk.Multiple||""!=t&&Array.isArray(t)?t:[]}}.GetValue(this,t);default:return t}}},Ax=babelHelpers.applyDecoratedDescriptor(Dx.prototype,"Value",[Rx],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_x=babelHelpers.applyDecoratedDescriptor(Dx.prototype,"AdditionalOptions",[Ix],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mx=babelHelpers.applyDecoratedDescriptor(Dx.prototype,"Id",[Ex],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dx),hk=(Lx=r.StoreAutoIncrement("ConditionGroupOptions"),Gx=r.StoreDataType(dk),Nx=class extends r.StoreBase{constructor(...e){super(...e),babelHelpers.initializerDefineProperty(this,"Id",Wx,this),babelHelpers.initializerDefineProperty(this,"ConditionLines",Bx,this)}LoadDefaultValues(){this.ConditionLines=[],this.Id=0}},Wx=babelHelpers.applyDecoratedDescriptor(Nx.prototype,"Id",[Lx],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bx=babelHelpers.applyDecoratedDescriptor(Nx.prototype,"ConditionLines",[Gx],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Nx);class pk extends r.StoreBase{LoadDefaultValues(){this.Type=lk.Field,this.Id=""}}let fk,mk=(zx=r.StoreAutoIncrement("ConditionOptionsBase"),Fx=r.StoreDataType(hk),Ux=r.StoreDataType(pk),qx=class extends r.StoreBase{constructor(...e){super(...e),babelHelpers.initializerDefineProperty(this,"Id",Xx,this),babelHelpers.initializerDefineProperty(this,"ConditionGroups",jx,this),babelHelpers.initializerDefineProperty(this,"ElementsUsed",Hx,this)}LoadDefaultValues(){this.Id=0,this.Type=ak.Filter,this.ElementsUsed=[],this.ConditionGroups=[]}},Xx=babelHelpers.applyDecoratedDescriptor(qx.prototype,"Id",[zx],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jx=babelHelpers.applyDecoratedDescriptor(qx.prototype,"ConditionGroups",[Fx],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Hx=babelHelpers.applyDecoratedDescriptor(qx.prototype,"ElementsUsed",[Ux],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qx);!function(e){e.Equal="Equal",e.NotEqual="NotEqual",e.IsEmpty="IsEmpty",e.IsNotEmpty="IsNotEmpty",e.None="None",e.UserViewingThePage="UserViewingThePage",e.LastXEntries="LastXEntries",e.LastXEntriesByUser="LastXEntriesByUser",e.Contains="Contains",e.UserIs="UserIs",e.UserIsNot="UserIsNot",e.HasRole="HasRole",e.HasNotRole="HasNotRole",e.NotContains="NotContains",e.GreaterThan="GreaterThan",e.GreaterOrEqualThan="GreaterOrEqualThan",e.LessThan="LessThan",e.LessOrEqualThan="LessOrEqualThan",e.IsChecked="IsChecked",e.IsNotChecked="IsNotChecked",e.IsViewed="IsViewed",e.IsNotViewed="IsNotViewed",e.IsStarred="IsStarred",e.IsNotStared="IsNotStared"}(fk||(fk={}));class gk extends mk{}let Ok=(Zx=r.StoreDataType(class extends dk{LoadDefaultValues(){super.LoadDefaultValues(),this.IsRequired=!1,this.ParameterName=""}}),Yx=class extends hk{constructor(...e){super(...e),babelHelpers.initializerDefineProperty(this,"ConditionLines",Jx,this)}LoadDefaultValues(){super.LoadDefaultValues()}},Jx=babelHelpers.applyDecoratedDescriptor(Yx.prototype,"ConditionLines",[Zx],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yx);Kx=r.StoreDataType(Ok),ek=class extends mk{constructor(...e){super(...e),babelHelpers.initializerDefineProperty(this,"ConditionGroups",tk,this)}LoadDefaultValues(){super.LoadDefaultValues()}},tk=babelHelpers.applyDecoratedDescriptor(ek.prototype,"ConditionGroups",[Kx],{configurable:!0,enumerable:!0,writable:!0,initializer:null});class bk{Initialize(e){return this.Condition=e,this.Condition.Options.Comparison==fk.None&&(this.Condition.Options.Column="",this.InitializeValues()),this}get ConditionField(){return this.Condition.Parent.Parent.GetFieldById(this.Condition.Options.FieldId)}Render(){var e;let i=null===(e=this.Condition.Parent.Parent.GetFields())||void 0===e?void 0:e.filter((e=>e.UseInConditions));if(null==i)return t.html` <p>Please select a form first</p> `;let r=this.Condition.Options.FieldId+"_"+this.Condition.Options.PathId;""==this.Condition.Options.PathId&&(r="");let n=this.GetValueInput();return t.html` <div> <div class='conditionLine' style="display: flex;align-items: flex-start;margin-bottom: 5px;padding: 5px"> <div style="width:30%;" class='conditionColumn'> <select .value=${g.live(r)} style="height: auto;padding: 0;width: 100%" class=${""==r&&this.ShouldShowErrors()?"rnInvalidCondition":""} @change=${e=>this.FieldChanged(e.target.value,e.target[e.target.selectedIndex].getAttribute("data-linetype").toString(),e.target[e.target.selectedIndex])}> <option ?selected="${""==r}" value="" data-linetype=${ok.None.toString()}>${RNTranslate("Select a field")}</option> <optgroup .label=${RNTranslate("Fields")}> ${i.map((e=>e.GetDataSections("Filter").map(((i,n)=>t.html` <option ?selected="${r==e.Id+"_"+i.PathId}" data-path-id=${i.PathId} data-field-id=${e.Id} data-linetype=${ok.Standard.toString()} .value=${e.Id+"_"+i.PathId}>${(n>0?"    ":"")+i.Label}</option> `))))} </optgroup> </select> </div> <div style="width: ${null!=n?"20%":"calc(70% - 80px)"}" class=${"conditionColumn"}> ${this.GetComparator(!1)} </div> ${this.GetValueSection(n)} <div style="width:80px" class='conditionColumn'> <button @click=${e=>{e.preventDefault(),this.Condition.Instance.FireEvent("addLine",this.Condition,!0)}} class='rnbtn rnbtn-light' style="padding: 1px 5px;">${RNTranslate("AND")}</button> <span class='ConditionRemove' style="line-height: 25px;vertical-align: middle;cursor: pointer;" @click=${e=>{e.preventDefault(),this.Condition.Instance.FireEvent("removeLine",this.Condition,!0)}}> <rn-fontawesome .icon=${H.faTimes} style="margin-left: 5px"/></span> </div> </div> </div> `}GetValueSection(e){if(null==e)return null;let i=null;if(this.Condition.Parent.Parent.AllowFieldMapping())if(this.Condition.Options.HasMapping){i=t.html` <div @click="${()=>{this.Condition.Options.Value=null,this.Condition.Options.HasMapping=!1,this.Condition.Refresh()}}" class="removeMapping" title="Remove mapping" style="height: 30px;width: 30px;display: flex;align-items: center;justify-content: center;"> <rn-fontawesome .icon="${BS.faTrash}"></rn-fontawesome> </div>`;let r="Unknown";if("SearchField"==this.Condition.Options.Value.Type){let e=this.Condition.Parent.Parent.GetPageBuilder().GetBlockByType(E.SearchBar);if(e.length>0){let t=e[0].Options.Fields.find((e=>e.Id==this.Condition.Options.Value.Id));null!=t&&(r=t.Label)}r="[Search Field:"+r+"]"}else null!=this.Condition.Options.Value.Id&&null!=this.Condition.Options.Value.Path&&(r=this.Condition.Parent.Parent.GetPageBuilder().DataSource.GetFriendlyName(this.Condition.Options.Value.Id,this.Condition.Options.Value.Path,!0,!0));e=t.html`<input .value="${r}" type="text" style="height: 30px;width: 100%;" readonly/>`}else i=t.html`<div @click="${()=>this.MapField()}" class="mapToField" title="Map to field" style="height: 30px;width: 30px;display: flex;align-items: center;justify-content: center;"><rn-fontawesome .icon="${me.faLink}"></rn-fontawesome></div>`;return t.html` <div style="display: flex; width: calc(50% - 80px)" class=${"conditionColumn"}> <div style="flex-grow: 1"> ${e} </div> ${i} </div> `}ShouldShowErrors(){return!1}FieldChanged(e,t,i){let r;if(this.Condition.Options.PathId="",ok[t]==ok.Standard){let e=i.getAttribute("data-field-id"),t=this.Condition.Parent.Parent.GetFieldById(e);r=null==t?sk.None:t.Type,this.Condition.Options.FieldId=e,this.Condition.Options.PathId=i.getAttribute("data-path-id"),t.Type==sk.Multiple?this.Condition.Options.Value=o.Sanitizer.SanitizeStringArray(this.Condition.Options.Value):this.Condition.Options.Value=o.Sanitizer.SanitizeString(this.Condition.Options.Value)}ok[t]==ok.None&&(this.Condition.Options.FieldId=""),this.Condition.Options.Comparison=fk.None,this.Condition.Options.Type=ok[t],this.Condition.Options.SubType=r,this.Condition.Instance.FireEvent("fieldChanged"),this.Condition.Refresh()}SanitizeValue(){this.Condition.Options.Value=o.Sanitizer.SanitizeString(this.Condition.Options.Value)}ValueIsValid(){return this.Condition.Options.Comparison==fk.IsEmpty||this.Condition.Options.Comparison==fk.IsNotEmpty||""!=o.Sanitizer.SanitizeString(this.Condition.Options.Value)}ComparisonIsValid(){return this.Condition.Options.Comparison!=fk.None}GetValueClass(){return!this.ValueIsValid()&&this.Condition.ShowValidations?"rnInvalidCondition":""}GetComparisonClass(){return!this.ComparisonIsValid()&&this.Condition.Options?"rnInvalidCondition":""}Validate(){return""==this.Condition.Options.FieldId?(s.ToastService.SendErrorMessage("Please select a field"),this.Condition.ShowValidations=!0,!1):this.ComparisonIsValid()?this.ValueIsValid()?(this.Condition.ShowValidations=!1,!0):(s.ToastService.SendErrorMessage("Invalid Value"),this.Condition.ShowValidations=!0,!1):(s.ToastService.SendErrorMessage("Invalid Comparison"),this.Condition.ShowValidations=!0,!1)}async MapField(){if(""==this.Condition.Options.FieldId)return void s.ToastService.SendErrorMessage("Please select a field first");let e=this.Condition.Parent.Parent.GetFieldById(this.Condition.Options.FieldId);if(null==e)return void s.ToastService.SendErrorMessage("Selected field not found, please pick another field");let i=await h.Dialog.Show(t.html`<rn-field-dialog .allowedFieldSubType="${e.SubType}" .allowedFieldPath="${this.Condition.Options.PathId}" .PageBuilder="${this.Condition.Parent.Parent.GetPageBuilder()}"></rn-field-dialog>`);null!=i&&(this.Condition.Options.HasMapping=!0,this.Condition.Options.Value=i.Value,this.Condition.Refresh())}}class Sk extends bk{GetComparator(){return t.html`<select style="width: 100%;height: auto;padding: 0" .disabled=${!0}/>`}GetValueInput(){return t.html`<input .value=${""} style="width:100%;height:25px" type=${"text"} ?disabled=${!0}/>`}InitializeValues(){}}class yk extends bk{GetComparator(){return t.html` <select value=${this.Condition.Options.Comparison} @change=${e=>this.ComparisonChanged(e.target.value.toString())} style="height: 28px;padding: 0;width: 100%"> <option ?selected="${this.Condition.Options.Comparison==fk.Equal}" .value=${fk.Equal}>${RNTranslate("Equal to")}</option> <option ?selected="${this.Condition.Options.Comparison==fk.NotEqual}" .value=${fk.NotEqual}>${RNTranslate("Not Equal to")}</option> <option ?selected="${this.Condition.Options.Comparison==fk.IsEmpty}" .value=${fk.IsEmpty}>${RNTranslate("Is Empty")}</option> <option ?selected="${this.Condition.Options.Comparison==fk.IsNotEmpty}" .value=${fk.IsNotEmpty}>${RNTranslate("Is Not Empty")}</option> <option ?selected="${this.Condition.Options.Comparison==fk.Contains}" .value=${fk.Contains}>${RNTranslate("Contains")}</option> <option ?selected="${this.Condition.Options.Comparison==fk.NotContains}" .value=${fk.NotContains}>${RNTranslate("Not Contains")}</option> </select> `}InitializeValues(){this.Condition.Options.Comparison=fk.Equal,this.Condition.Options.AdditionalOptions=null}GetValueInput(){let e=this.Condition.Options.Comparison;return t.html`<input value=${g.live(this.Condition.Options.Value)} @change=${e=>this.ValueChanged(e.target.value)} style="min-width: 100%;max-width: 200px;height: 30px;width: 100%;" type='text' ?disabled=${e==fk.IsEmpty||e==fk.IsNotEmpty}/>`}ComparisonChanged(e){this.Condition.Options.Comparison=fk[e],this.Condition.Refresh()}ValueChanged(e){this.Condition.Options.Value=e,this.Condition.Refresh()}}class vk extends bk{GetComparator(e=!1){return this.ConditionField,t.html` <select class=${this.GetComparisonClass()} .value=${this.Condition.Options.Comparison} @change=${e=>this.ComparisonChanged(e.target.value.toString())} style="height: auto;padding: 0;width: 100%"> <option ?selected="${this.Condition.Options.Comparison==fk.Equal}" .value=${fk.Equal}>${RNTranslate("Equal to")}</option> <option ?selected="${this.Condition.Options.Comparison==fk.NotEqual}" .value=${fk.NotEqual}>${RNTranslate("Not Equal to")}</option> ${c.rnIf(!e&&t.html`<option ?selected="${this.Condition.Options.Comparison==fk.IsEmpty}" .value=${fk.IsEmpty}>${RNTranslate("Is Empty")}</option>`)} ${c.rnIf(!e&&t.html`<option ?selected="${this.Condition.Options.Comparison==fk.IsNotEmpty}" .value=${fk.IsNotEmpty}>${RNTranslate("Is Not Empty")}</option>`)} <option ?selected="${this.Condition.Options.Comparison==fk.Contains}" .value=${fk.Contains}>${RNTranslate("Contains")}</option> </select> `}InitializeValues(){this.Condition.Options.Comparison=fk.Equal,this.Condition.Options.AdditionalOptions=null}GetValueInput(){let e=this.Condition.Options.Comparison;return t.html`<input class=${this.GetValueClass()} .value=${this.Condition.Options.Value} @change=${e=>this.ValueChanged(e.target.value)} style="min-width: 100%;max-width: 200px;height: 25px;width: 100%" type='text' ?disabled=${e==fk.IsEmpty||e==fk.IsNotEmpty}/>`}ComparisonChanged(e){this.Condition.Options.Comparison=fk[e],this.Condition.Refresh()}ValueChanged(e){this.Condition.Options.Value=e,this.Condition.Refresh()}}class wk{static UnixToDate(e,t=0){if(e>0){let i=new Date(1e3*(o.Sanitizer.SanitizeNumber(e)+t));return i=new Date(i.setMinutes(i.getMinutes()+i.getTimezoneOffset())),i}return null}static DateToUnix(e,t=0){return(e.getTime()-t)/1e3+-1*e.getTimezoneOffset()*60}}class xk extends bk{GetComparator(e=!1){return t.html` <select class=${this.GetComparisonClass()} .value=${g.live(this.Condition.Options.Comparison)} @change=${e=>this.ComparisonChanged(e.target.value.toString())} style="height: auto;padding: 0;width: 100%"> <option ?select="${this.Condition.Options.Comparison==fk.Equal}" .value=${fk.Equal}>${RNTranslate("Equal to")}</option> <option ?select="${this.Condition.Options.Comparison==fk.NotEqual}" .value=${fk.NotEqual}>${RNTranslate("Not Equal to")}</option> ${c.rnIf(!e&&t.html`<option ?select="${this.Condition.Options.Comparison==fk.IsEmpty}" .value=${fk.IsEmpty}>${RNTranslate("Is Empty")}</option>`)} ${c.rnIf(!e&&t.html`<option ?select="${this.Condition.Options.Comparison==fk.IsNotEmpty}" .value=${fk.IsNotEmpty}>${RNTranslate("Is Not Empty")}</option>`)} <option ?select="${this.Condition.Options.Comparison==fk.GreaterThan}" .value=${fk.GreaterThan}>${RNTranslate("Greater Than")}</option> <option ?select="${this.Condition.Options.Comparison==fk.GreaterOrEqualThan}" .value=${fk.GreaterOrEqualThan}>${RNTranslate("Greater or Equal Than")}</option> <option ?select="${this.Condition.Options.Comparison==fk.LessThan}" .value=${fk.LessThan}>${RNTranslate("Less Than")}</option> <option ?select="${this.Condition.Options.Comparison==fk.LessOrEqualThan}" .value=${fk.LessOrEqualThan}>${RNTranslate("Less or Equal Than")}</option> </select> `}InitializeValues(){this.Condition.Options.Value="",this.Condition.Options.Comparison=fk.Equal,this.Condition.Options.AdditionalOptions=null}IsPrefixedDate(){return["today","startofweek","endofweek","startofmonth","endofmonth","xDaysFromNow","xWeeksFromNow","xMonthsFromNow"].indexOf(this.Condition.Options.Value)>=0}GetValueInput(){let e="custom";return this.IsPrefixedDate()&&(e=this.Condition.Options.Value),this.Condition.Options.Comparison,t.html`<div style="display: flex"> <select .value="${e}" style="height: auto;width:100%;" @change="${e=>{this.Condition.Options.Value=e.target.value,this.Condition.Refresh()}}"> <option ?selected="${"custom"==e}" value="custom">Custom date</option> <option ?selected="${"today"==e}" value="today">Today</option> <option ?selected="${"startofweek"==e}" value="startofweek">Start of week</option> <option ?selected="${"endofweek"==e}" value="endofweek">End of week</option> <option ?selected="${"startofmonth"==e}" value="startofmonth">Start of month</option> <option ?selected="${"endofmonth"==e}" value="endofmonth">End of month</option> <option ?selected="${"xDaysFromNow"==e}" value="xDaysFromNow">X days from now</option> <option ?selected="${"xWeeksFromNow"==e}" value="xWeeksFromNow">X weeks from now</option> <option ?selected="${"xMonthsFromNow"==e}" value="xMonthsFromNow">X months from now</option> </select> ${this.GetDateSectionInput(e)}`}GetDateSectionInput(e){return["xDaysFromNow","xWeeksFromNow","xMonthsFromNow"].indexOf(e)>=0?t.html`<input type="number" style="width: 100%;height: auto;padding: 0 7px" placeholder="yyyy/mm/dd" @change="${e=>{this.Condition.Options.AdditionalOptions=e.target.value,this.Condition.Refresh()}}"/>`:t.html` <rn-inputs-datepicker ?disabled="${"custom"!=e}" className=${"condition-datepicker "+this.GetValueClass()} .enableTime=${!0} .value="${wk.UnixToDate(this.Condition.Options.Value)}" @change=${e=>this.ValueChanged(e)} .format="dd/MMM/yyyy h:mm aa" style="min-width: 150px;width:100%;height: 30px;margin:0;" type='text' ></rn-inputs-datepicker> `}ComparisonChanged(e){this.Condition.Options.Comparison=fk[e],this.Condition.Refresh()}ValueChanged(e){this.Condition.Options.Value=e.detail,this.Condition.Refresh()}}class kk extends bk{GetComparator(e=!1){return t.html` <select class=${this.GetComparisonClass()} .value=${this.Condition.Options.Comparison} @change=${e=>this.ComparisonChanged(e.target.value.toString())} style="height: auto;padding: 0;width: 100%"> <option ?selected="${this.Condition.Options.Comparison==fk.Equal}" .value=${fk.Equal}>${RNTranslate("Equal to")}</option> <option ?selected="${this.Condition.Options.Comparison==fk.NotEqual}" .value=${fk.NotEqual}>${RNTranslate("Not Equal to")}</option> {!skipValueLessConditions&&<option ?selected="${this.Condition.Options.Comparison==fk.IsEmpty}" .value=${fk.IsEmpty}>${RNTranslate("Is Empty")}</option>} {!skipValueLessConditions&&<option ?selected="${this.Condition.Options.Comparison==fk.IsNotEmpty}" .value=${fk.IsNotEmpty}>${RNTranslate("Is Not Empty")}</option>} <option ?selected="${this.Condition.Options.Comparison==fk.GreaterThan}" .value=${fk.GreaterThan}>${RNTranslate("Greater Than")}</option> <option ?selected="${this.Condition.Options.Comparison==fk.GreaterOrEqualThan}" .value=${fk.GreaterOrEqualThan}>${RNTranslate("Greater or Equal Than")}</option> <option ?selected="${this.Condition.Options.Comparison==fk.LessThan}" .value=${fk.LessThan}>${RNTranslate("Less Than")}</option> <option ?selected="${this.Condition.Options.Comparison==fk.LessOrEqualThan}" .value=${fk.LessOrEqualThan}>${RNTranslate("Less or Equal Than")}</option> </select> `}InitializeValues(){this.Condition.Options.Value="",this.Condition.Options.AdditionalOptions=null,this.Condition.Options.Comparison=fk.Equal}IsPrefixedDate(){return["today","startofweek","endofweek","startofmonth","xDaysFromNow","xWeeksFromNow","xMonthsFromNow"].indexOf(this.Condition.Options.Value)>=0}GetValueInput(){let e="custom";return this.IsPrefixedDate()&&(e=this.Condition.Options.Value),this.Condition.Options.Comparison,t.html`<div style="display: flex"> <select .value="${e}" style="height: auto;width: 100%" @change="${e=>{this.Condition.Options.Value=e.target.value,this.Condition.Refresh()}}"> <option ?selected="${"custom"==e}" value="custom">Custom date</option> <option ?selected="${"today"==e}" value="today">Today</option> <option ?selected="${"startofweek"==e}" value="startofweek">Start of week</option> <option ?selected="${"endofweek"==e}" value="endofweek">End of week</option> <option ?selected="${"startofmonth"==e}" value="startofmonth">Start of month</option> <option ?selected="${"xDaysFromNow"==e}" value="xDaysFromNow">X days from now</option> <option ?selected="${"xWeeksFromNow"==e}" value="xWeeksFromNow">X weeks from now</option> <option ?selected="${"xMonthsFromNow"==e}" value="xMonthsFromNow">X months from now</option> </select> ${this.GetDateSectionInput(e)}`}ComparisonChanged(e){this.Condition.Options.Comparison=fk[e],this.Condition.Refresh()}ValueChanged(e){this.Condition.Options.Value=wk.DateToUnix(e),this.Condition.Refresh()}GetContainer(e){}GetDateSectionInput(e){return["xDaysFromNow","xWeeksFromNow","xMonthsFromNow"].indexOf(e)?t.html`<input type="text" style="width: 100%;height: auto;padding: 0 7px" placeholder="yyyy/mm/dd" .value="${g.live(this.Condition.Options.AdditionalOptions)}" @change="${e=>{this.Condition.Options.AdditionalOptions=e.target.value,this.Condition.Refresh()}}"/>`:t.html` <rn-inputs-datepicker ?disabled="${"custom"!=e}" class=${"condition-datepicker "+this.GetValueClass()} .format=${"dd/MMM/yyyy"} .value="${wk.UnixToDate(this.Condition.Options.Value)}" @change=${e=>this.ValueChanged(e)} style="min-width: 150px;width: 100%;height: 30px;margin:0;" /></div> `}}class Vk extends bk{GetComparator(e=!1){return t.html` <select class=${this.GetComparisonClass()} .value=${this.Condition.Options.Comparison} @change=${e=>this.ComparisonChanged(e.target.value.toString())} style="height: auto;padding: 0;width: 100%"> <option ?selected="${this.Condition.Options.Comparison==fk.Equal}" .value=${fk.Equal}>${RNTranslate("Equal to")}</option> <option ?selected="${this.Condition.Options.Comparison==fk.NotEqual}" .value=${fk.NotEqual}>${RNTranslate("Not Equal to")}</option> {!skipValueLessConditions&&<option ?selected="${this.Condition.Options.Comparison==fk.IsEmpty}" .value=${fk.IsEmpty}>${RNTranslate("Is Empty")}</option>} {!skipValueLessConditions&&<option ?selected="${this.Condition.Options.Comparison==fk.IsNotEmpty}" .value=${fk.IsNotEmpty}>${RNTranslate("Is Not Empty")}</option>} <option ?selected="${this.Condition.Options.Comparison==fk.GreaterThan}" .value=${fk.GreaterThan}>${RNTranslate("Greater Than")}</option> <option ?selected="${this.Condition.Options.Comparison==fk.GreaterOrEqualThan}" .value=${fk.GreaterOrEqualThan}>${RNTranslate("Greater or Equal Than")}</option> <option ?selected="${this.Condition.Options.Comparison==fk.LessThan}" .value=${fk.LessThan}>${RNTranslate("Less Than")}</option> <option ?selected="${this.Condition.Options.Comparison==fk.LessOrEqualThan}" .value=${fk.LessOrEqualThan}>${RNTranslate("Less or Equal Than")}</option> </select> `}InitializeValues(){this.Condition.Options.Comparison=fk.Equal,this.Condition.Options.AdditionalOptions=null}GetValueInput(){return this.Condition.Options.Comparison,t.html`<rn-inputs-datepicker class=${"condition-datepicker "+this.GetValueClass()} .format=${"dd/MMM/yyyy"} .value="${wk.UnixToDate(this.Condition.Options.Value)}" @change=${e=>this.ValueChanged(e)} style="min-width: 150px;width: 100%;height: 30px;margin:0;" />`}ComparisonChanged(e){this.Condition.Options.Comparison=fk[e],this.Condition.Refresh()}ValueChanged(e){this.Condition.Options.Value=wk.DateToUnix(e),this.Condition.Refresh()}}class Ck extends r.StoreBase{constructor(...e){super(...e),this.IsPR=!1}get UseInConditions(){return!0}GetDataSections(e){return[{Id:this.Id,Label:this.Label+" (Id:"+this.Id+")",PathId:"Value",Path:["Value"]}]}get SupportArithmeticAggregation(){return[sk.Number,sk.CurrencyMultiple,sk.Currency].indexOf(this.Type)>=0}LoadDefaultValues(){this.Id="",this.Label="",this.Type=sk.None,this.SubType="",this.IsPR=!1}}var Tk,$k,Pk;class Qk extends r.StoreBase{LoadDefaultValues(){this.Label="",this.Value="",this.Price=""}}let Rk=(Tk=r.StoreDataType(Qk),$k=class extends Ck{constructor(...e){super(...e),babelHelpers.initializerDefineProperty(this,"Items",Pk,this)}LoadDefaultValues(){super.LoadDefaultValues(),this.Items=[]}},Pk=babelHelpers.applyDecoratedDescriptor($k.prototype,"Items",[Tk],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$k);class Ik extends bk{GetComparator(){return t.html` <select .value=${this.Condition.Options.Comparison} @change=${e=>this.ComparisonChanged(e.target.value.toString())} style="height: 28px;padding: 0;width: 100%"> <option ?selected="${this.Condition.Options.Comparison==fk.Contains}" value=${fk.Contains}>${RNTranslate("Contains")}</option> <option ?selected="${this.Condition.Options.Comparison==fk.NotContains}" value=${fk.NotContains}>${RNTranslate("Not Contains")}</option> <option ?selected="${this.Condition.Options.Comparison==fk.IsEmpty}" value=${fk.IsEmpty}>${RNTranslate("Is Empty")}</option> <option ?selected="${this.Condition.Options.Comparison==fk.IsNotEmpty}" value=${fk.IsNotEmpty}>${RNTranslate("Is Not Empty")}</option> </select> `}InitializeValues(){this.Condition.Options.Comparison=fk.Contains,this.Condition.Options.AdditionalOptions=null}GetValueInput(){if(this.Condition.Options.Comparison==fk.IsEmpty||this.Condition.Options.Comparison==fk.IsNotEmpty)return null;let e=this.GetAvailableOptions(),i=[];return Array.isArray(this.Condition.Options.Value)&&(i=e.filter((e=>this.Condition.Options.Value.indexOf(e.Value)>=0)).map((e=>e.Value))),t.html` <rn-inputs-select style="min-height: 30px;width: 100%" multiple .value="${i}" @change="${e=>this.OnChange(e.detail)}" .propertyName="${"Value"}" .options="${e}" ></rn-inputs-select> `}GetAvailableOptions(){let e=[];if(this.Condition.Options.Type==ok.Standard){let t=this.ConditionField;if(null==t||!(t instanceof Rk))return e;for(let i of t.Items)e.push({Label:i.Label,Value:i.Value})}return e}SanitizeValue(){this.Condition.Options.Value=o.Sanitizer.SanitizeStringArray(this.Condition.Options.Value)}ComparisonChanged(e){this.Condition.Options.Comparison=fk[e],this.Condition.Refresh()}OnChange(e){this.Condition.Options.Value=e,this.Condition.Refresh()}}class Ek extends bk{GetComparator(){return t.html` <select value=${this.Condition.Options.Comparison} @change=${e=>this.ComparisonChanged(e.target.value.toString())} style="height: 28px;padding: 0;width: 100%"> <option ?selected="${this.Condition.Options.Comparison==fk.Equal}" value=${fk.Equal}>${RNTranslate("Equal to")}</option> <option ?selected="${this.Condition.Options.Comparison==fk.NotEqual}" value=${fk.NotEqual}>${RNTranslate("Not Equal to")}</option> <option ?selected="${this.Condition.Options.Comparison==fk.GreaterThan}" value=${fk.GreaterThan}>${RNTranslate("Greater than")}</option> <option ?selected="${this.Condition.Options.Comparison==fk.GreaterOrEqualThan}" value=${fk.GreaterOrEqualThan}>${RNTranslate("Greater or equal than")}</option> <option ?selected="${this.Condition.Options.Comparison==fk.LessThan}" value=${fk.LessThan}>${RNTranslate("Less than")}</option> <option ?selected="${this.Condition.Options.Comparison==fk.LessOrEqualThan}" value=${fk.LessOrEqualThan}>${RNTranslate("Less or equal than")}</option> <option ?selected="${this.Condition.Options.Comparison==fk.IsEmpty}" value=${fk.IsEmpty}>${RNTranslate("Is Empty")}</option> <option ?selected="${this.Condition.Options.Comparison==fk.IsNotEmpty}" value=${fk.IsNotEmpty}>${RNTranslate("Is Not Empty")}</option> </select> `}InitializeValues(){this.Condition.Options.Comparison=fk.Equal,this.Condition.Options.AdditionalOptions=null,this.Condition.Options.Value=o.Sanitizer.SanitizeNumber(this.Condition.Options.Value,"")}GetValueInput(){let e=this.Condition.Options.Comparison;return t.html`<input type="number" value=${g.live(this.Condition.Options.Value)} @change=${e=>this.ValueChanged(e.target.value)} style="min-width: 100%;max-width: 200px;height: 30px;width: 100%;" type='text' ?disabled=${e==fk.IsEmpty||e==fk.IsNotEmpty}/>`}ComparisonChanged(e){this.Condition.Options.Comparison=fk[e],this.Condition.Refresh()}ValueChanged(e){this.Condition.Options.Value=e,this.Condition.Refresh()}}class Dk extends bk{GetComparator(e=!1){return t.html` <select class=${this.GetComparisonClass()} .value=${this.Condition.Options.Comparison} @change=${e=>this.ComparisonChanged(e.target.value.toString())} style="height: auto;padding: 0;width: 100%"> ${!e&&t.html`<option ?selected="${this.Condition.Options.Comparison==fk.IsChecked}" .value=${fk.IsChecked}>${RNTranslate("Is checked")}</option>`} ${!e&&t.html`<option ?selected="${this.Condition.Options.Comparison==fk.IsNotChecked}" .value=${fk.IsNotChecked}>${RNTranslate("Is not checked")}</option>`} </select> `}InitializeValues(){this.Condition.Options.Comparison=fk.Equal,this.Condition.Options.AdditionalOptions=null}GetValueInput(){let e=this.Condition.Options.Comparison;return t.html`<input class=${this.GetValueClass()} .value=${this.Condition.Options.Value} @change=${e=>this.ValueChanged(e.target.value)} style="min-width: 100%;max-width: 200px;height: 25px" type='text' ?disabled=${e==fk.IsEmpty||e==fk.IsNotEmpty}/>`}ComparisonChanged(e){this.Condition.Options.Comparison=fk[e],this.Condition.Refresh()}ValueChanged(e){this.Condition.Options.Value=e,this.Condition.Refresh()}}class Ak{constructor(){this._loadingUsers=null,this._loadingUsersQueue=[],this._cachedUsers=new Map}static GetInstance(){return null==Ak._Instance&&(Ak._Instance=new Ak),Ak._Instance}async GetUsersById(e){return this.MaybeLoadUsers(e)}GetUserList(){return Array.from(this._cachedUsers.values())}async MaybeLoadUsers(e){let t=[];for(let i of e)this._cachedUsers.has(i)||t.push(i);if(0==t.length)return!0;let i=await f.WpAjaxPost.Post("load_users_by_id",{Ids:t},"",null,{Prefix:rnBuilderVar._prefix,Nonce:rnBuilderVar._nonce});if(null==i)return!1;for(let e of i)this.AddUser(e.Value,e.Label);return e.forEach((e=>{this._cachedUsers.has(e)||this.AddUser(e,"Unknown")})),!0}HasAllUsers(e){for(let t of e)if(!this._cachedUsers.has(t))return!1;return!0}AddUser(e,t){this._cachedUsers.has(e)||this._cachedUsers.set(e,{Value:e,Label:t})}}class _k extends bk{constructor(){super(),this.LoadUsers=this.LoadUsers.bind(this)}GetComparator(e=!1){return t.html` <select class=${this.GetComparisonClass()} .value=${this.Condition.Options.Comparison} @change=${e=>this.ComparisonChanged(e.target.value.toString())} style="height: auto;padding: 0;width: 100%"> <option .value=${""}>Select an option</option> ${c.rnIf(!e&&t.html`<option ?selected="${this.Condition.Options.Comparison==fk.UserViewingThePage}" .value=${fk.UserViewingThePage}>${RNTranslate("User viewing the page")}</option>`)} <option ?selected="${this.Condition.Options.Comparison==fk.UserIs}" .value=${fk.UserIs}>${RNTranslate("Is")}</option> <option ?selected="${this.Condition.Options.Comparison==fk.UserIsNot}" .value=${fk.UserIsNot}>${RNTranslate("Is Not")}</option> <option ?selected="${this.Condition.Options.Comparison==fk.HasRole}" .value=${fk.HasRole}>${RNTranslate("Have role")}</option> <option ?selected="${this.Condition.Options.Comparison==fk.HasNotRole}" .value=${fk.HasNotRole}>${RNTranslate("Doesn't have role")}</option> </select> `}InitializeValues(){this.Condition.Options.Comparison=fk.None,this.Condition.Options.AdditionalOptions=null}GetValueInput(){switch(this.Condition.Options,o.Sanitizer.SanitizeStringArray(this.Condition.Options.Value),this.Condition.Options.Comparison){case fk.UserViewingThePage:return null;case fk.UserIs:case fk.UserIsNot:return this.GetUserControl();case fk.HasNotRole:case fk.HasRole:return t.html` <rn-inputs-select style="min-height: 30px" multiple .value="${this.Condition.Options.Value}" @change="${e=>this.OnChange(e.detail)}" .propertyName="${"Type"}" .options="${rnBuilderVar.Roles.map((e=>({Label:e.Label,Value:e.Id})))}"></rn-inputs-select> `}}GetUserControl(){let e=o.Sanitizer.SanitizeStringArray(this.Condition.Options.Value);return Ak.GetInstance().HasAllUsers(e)?t.html` <rn-inputs-select .load="${this.LoadUsers}" style="min-height: 30px" multiple .value="${this.Condition.Options.Value}" @change="${e=>this.OnChange(e.detail)}" .options="${Ak.GetInstance().GetUserList()}" .propertyName="${"Type"}"></rn-inputs-select> `:(Ak.GetInstance().GetUsersById(e).then((e=>this.Condition.Refresh())),t.html`<span>Loading users</span>`)}async LoadUsers(e,t){let i=await f.WpAjaxPost.Post("list_users",{query:e},"",null,{Nonce:rnBuilderVar._nonce,Prefix:rnBuilderVar._prefix});if(null!=i)for(let e of i)Ak.GetInstance().AddUser(e.Value,e.Label);t(i)}ComparisonChanged(e){this.Condition.Options.Comparison=fk[e],this.Condition.Options.Value=[],this.Condition.Refresh()}ValueChanged(e){this.Condition.Options.Value=e,this.Condition.Refresh()}GetAvailableOptions(){let e=[];if(this.Condition.Options.Type==ok.Standard){let t=this.ConditionField;if(null==t||!(t instanceof Rk))return e;for(let i of t.Items)e.push({label:i.Label,value:i.Value})}return e}ValueIsValid(){return this.Condition.Options.Comparison==fk.UserViewingThePage||o.Sanitizer.SanitizeStringArray(this.Condition.Options.Value).length>0}OnChange(e){void 0!==e&&(this.Condition.Options.Value=e.map((e=>e)),this.Condition.Refresh())}SanitizeValue(){this.Condition.Options.Value=o.Sanitizer.SanitizeStringArray(this.Condition.Options.Value)}}_k.CachedUsers=new Map;class Mk extends bk{constructor(){super()}GetComparator(){return t.html` <select ?className=${this.GetComparisonClass()} .value=${this.Condition.Options.Comparison} @change=${e=>this.ComparisonChanged(e.target.value.toString())} style="height: auto;padding: 0;width: 100%"> <option ?selected="${this.Condition.Options.Comparison==fk.IsStarred}" .value=${fk.IsStarred}>Is starred</option> <option ?selected="${this.Condition.Options.Comparison==fk.IsNotStared}" .value=${fk.IsNotStared}>${RNTranslate("Is not starred")}</option> <option ?selected="${this.Condition.Options.Comparison==fk.IsViewed}" .value=${fk.IsViewed}>${RNTranslate("Is viewed")}</option> <option ?selected="${this.Condition.Options.Comparison==fk.IsNotViewed}" .value=${fk.IsNotViewed}>${RNTranslate("Is not viewed")}</option> </select> `}InitializeValues(){this.Condition.Options.Comparison=fk.IsStarred,this.Condition.Options.AdditionalOptions=null}GetValueInput(){return null}ComparisonChanged(e){this.Condition.Options.Comparison=fk[e],this.Condition.Options.Value="",this.Condition.Refresh()}ValueChanged(e){this.Condition.Options.Value=e,this.Condition.Refresh()}SanitizeValue(){super.SanitizeValue()}}Mk.CachedUsers=new Map;class Lk extends bk{GetComparator(){return t.html` <select .value=${this.Condition.Options.Comparison} @change=${e=>this.ComparisonChanged(e.target.value.toString())} style="height: 28px;padding: 0;width: 100%"> <option ?selected="${this.Condition.Options.Comparison==fk.Contains}" value=${fk.Contains}>${RNTranslate("Contains")}</option> <option ?selected="${this.Condition.Options.Comparison==fk.NotContains}" value=${fk.NotContains}>${RNTranslate("Not Contains")}</option> <option ?selected="${this.Condition.Options.Comparison==fk.IsEmpty}" value=${fk.IsEmpty}>${RNTranslate("Is Empty")}</option> <option ?selected="${this.Condition.Options.Comparison==fk.IsNotEmpty}" value=${fk.IsNotEmpty}>${RNTranslate("Is Not Empty")}</option> <option ?selected="${this.Condition.Options.Comparison==fk.Equal}" value=${fk.Equal}>${RNTranslate("Amount is equal")}</option> <option ?selected="${this.Condition.Options.Comparison==fk.NotEqual}" value=${fk.NotEqual}>${RNTranslate("Amount is not equal")}</option> <option ?selected="${this.Condition.Options.Comparison==fk.GreaterThan}" value=${fk.GreaterThan}>${RNTranslate("Amount is greater than")}</option> <option ?selected="${this.Condition.Options.Comparison==fk.GreaterOrEqualThan}" value=${fk.GreaterOrEqualThan}>${RNTranslate("Amount is greater or equal than")}</option> <option ?selected="${this.Condition.Options.Comparison==fk.LessThan}" value=${fk.Equal}>${RNTranslate("Amount is less than")}</option> <option ?selected="${this.Condition.Options.Comparison==fk.LessOrEqualThan}" value=${fk.Equal}>${RNTranslate("Amount is less or equal than")}</option> </select> `}InitializeValues(){this.Condition.Options.Comparison=fk.Contains,this.Condition.Options.AdditionalOptions=null,this.Condition.Options.Value=[]}IsMultipleOptions(){return[fk.IsEmpty,fk.IsNotEmpty,fk.Contains,fk.NotContains].indexOf(this.Condition.Options.Comparison)>=0}GetValueInput(){if(this.IsMultipleOptions()){if(Array.isArray(this.Condition.Options.Value)||(this.Condition.Options.Value=[]),this.Condition.Options.Comparison==fk.IsEmpty||this.Condition.Options.Comparison==fk.IsNotEmpty)return null;let e=this.GetAvailableOptions(),i=e.filter((e=>this.Condition.Options.Value.indexOf(e.Value)>=0)).map((e=>e.Value));return t.html` <rn-inputs-select style="min-height: 30px" multiple .value="${i}" @change="${e=>this.OnChange(e.detail)}" .propertyName="${"Value"}" .options="${e}" ></rn-inputs-select> `}return Array.isArray(this.Condition.Options.Value)&&(this.Condition.Options.Value=""),t.html` <input type="number" style="width: 100%;height: auto;padding: 0 7px" placeholder="Quantity" .value="${this.Condition.Options.Value}" @change="${e=>{this.Condition.Options.Value=e.target.value}}"/> `}GetAvailableOptions(){let e=[];if(this.Condition.Options.Type==ok.Standard){let t=this.ConditionField;if(null==t||!(t instanceof Rk))return e;for(let i of t.Items)e.push({Label:i.Label,Value:i.Value})}return e}SanitizeValue(){this.IsMultipleOptions()?this.Condition.Options.Value=o.Sanitizer.SanitizeStringArray(this.Condition.Options.Value):this.Condition.Options.Value=o.Sanitizer.SanitizeNumber(this.Condition.Options.Value)}ComparisonChanged(e){this.Condition.Options.Comparison=fk[e],[fk.Equal,fk.NotEqual,fk.GreaterThan,fk.GreaterOrEqualThan,fk.LessThan,fk.LessOrEqualThan].indexOf(this.Condition.Options.Comparison)>=0?this.Condition.Options.Column="numericvalue":this.Condition.Options.Column="",this.Condition.Refresh()}OnChange(e){this.Condition.Options.Value=e,this.Condition.Refresh()}}var Gk,Nk,Wk,Bk;i.customElement("rnwppages-condition-line")(class extends l.LitModel{static get properties(){return{ShowValidations:{type:Boolean}}}GetFields(){return this.model.Parent.Parent.GetFields()}Refresh(){this.forceUpdate()}render(){if(null==this.GetFields())return t.html` <p>Please select a form first</p> `;let e=class{static GetComparator(e){switch(e.Options.Type){case ok.None:return(new Sk).Initialize(e);case ok.Standard:let t=null;switch(e.Options.SubType){case sk.List:case sk.Text:t=new yk;break;case sk.None:t=new Sk;break;case sk.Composed:t=new vk;break;case sk.DateTime:t=new xk;break;case sk.Date:t=new kk;break;case sk.Time:t=new Vk;break;case sk.Multiple:t=new Ik;break;case sk.Number:case sk.Currency:t=new Ek;break;case sk.Toggle:t=new Dk;break;case sk.User:t=new _k;break;case sk.EntryId:t=new Mk;break;case sk.CurrencyMultiple:t=new Lk}if(null==t)throw new Error("Comparator not found for "+e.Options.SubType);return t.Initialize(e),t}}}.GetComparator(this.model);return this.model.LastComparator=e,null==e?null:(this.model.Options.HasMapping||e.SanitizeValue(),e.Render())}get ConditionLineOptions(){return this.model.Options}get ConditionGroup(){return this.model.Parent}});class zk extends O.ModelWithParent{constructor(e,t){super(e,t)}render(){return t.html`<rnwppages-condition-line ${S.ref((e=>this.Instance=e))} .model="${this}"></rnwppages-condition-line>`}Validate(){var e;let t=null===(e=this.LastComparator)||void 0===e?void 0:e.Validate();return!1!==t&&t}}i.customElement("rnwppages-condition-group")(((Gk=class extends l.LitModel{render(){return t.html` <div class='rnConditionGroup' style="margin-bottom: 10px; table-layout: fixed;width: 100%;"> <div @addLine="${e=>this.AddLineBellow(e.detail)}" @removeLine="${e=>this.RemoveLine(e.detail)}"> ${this.model.Lines.map(((e,t)=>e.render()))} </div> </div> `}AddLineBellow(e){let t=this.model.Lines.indexOf(e);if(t<0)return;let i=(new dk).Merge();this.model.Lines.splice(t+1,0,new zk(i,this.model)),this.model.Options.ConditionLines.splice(t+1,0,i),this.FireEvent("fieldChanged",null,!0),this.forceUpdate()}RemoveLine(e){let t=this.model.Lines.indexOf(e);t<0||(this.model.Lines.splice(t,1),this.model.Options.ConditionLines.splice(t,1),0!=this.model.Lines.length?(this.FireEvent("fieldChanged",null,!0),this.forceUpdate()):this.FireEvent("removeGroup",this.model,!0))}get ConditionBuilder(){return this.model.Parent}}).defaultProps={},Gk));let Fk=(Nk=a.ModelSerialize("ConditionLines"),Wk=class extends O.ModelWithParent{constructor(e,t){super(e,t),babelHelpers.initializerDefineProperty(this,"Lines",Bk,this),this.Lines=[];for(let e of this.Options.ConditionLines)this.Lines.push(new zk(e,this))}render(e,i){return t.html`<rnwppages-condition-group @fieldChanged=${()=>e()} @removeGroup=${()=>i()} .model="${this}"></rnwppages-condition-group>`}Validate(){for(let e of this.Lines)if(!1===e.Validate())return!1;return!0}},Bk=babelHelpers.applyDecoratedDescriptor(Wk.prototype,"Lines",[Nk],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wk);c.customElementOnce("rnwppages-condition-builder")(class extends l.LitModel{NoFilterMessage(){return t.html` <div style="text-align: center"> <p style="margin:0">You haven't created any filter yet (which means the page will use all the records of this form if needed)</p> <button @click=${()=>this.model.CreateGroup()} class='rnbtn rnbtn-primary' style="margin-top: 5px;display: inline-flex;align-items: center;"> <rn-fontawesome .icon=${Y.faPlus} style="margin-right: 3px"></rn-fontawesome> Click here to add your first filter </button> </div> `}render(){return 0==this.model.Groups.length?this.NoFilterMessage():t.html` <div style="margin-top: 15px"> Show only records that met this condition ${this.model.Groups.map(((e,i)=>t.html` <div style="margin-bottom: 10px"> ${e.render((()=>this.RecalculateElementsUsed()),(()=>this.RemoveGroup(e)))} ${i<this.model.Groups.length-1?t.html`<span style="font-weight: bold">${RNTranslate("or")}</span>`:null} </div> `))} <div style="margin-top: 10px"> ${c.rnIf(this.model.Groups.length>0&&t.html` <label style="font-weight: bold">${RNTranslate("or")}</label> `)} <div style="margin-top: 10px"> <button @click=${e=>{e.preventDefault(),this.model.CreateGroup()}} class='rnbtn rnbtn-primary'>${RNTranslate("Add new group")}</button> </div> </div> </div> `}get Options(){return this.model.Options}RemoveGroup(e){let t=this.model.Groups.indexOf(e);t<0||(this.model.Options.ConditionGroups.splice(t,1),this.model.Groups.splice(t,1),this.RecalculateElementsUsed(),this.forceUpdate())}RecalculateElementsUsed(){this.Options.ElementsUsed=[];for(let e of this.Options.ConditionGroups)for(let t of e.ConditionLines)t.Type==ok.Standard&&this.Options.ElementsUsed.push((new pk).Merge({Type:lk.Field,Id:t.FieldId}))}});class Uk extends a.ModelBase{constructor(e,t){super(e),this.PageBuilder=t,this.Groups=[];for(let e of this.Options.ConditionGroups)this.Groups.push(new Fk(e,this))}GetFields(){var e;return null===(e=this.PageBuilder.DataSource)||void 0===e?void 0:e.GetFields()}GetFieldById(e){var t;return null===(t=this.PageBuilder.DataSource)||void 0===t?void 0:t.GetFieldById(e)}render(){return t.html`<rnwppages-condition-builder .model="${this}"></rnwppages-condition-builder>`}AllowFieldMapping(){return!1}CreateGroup(){let e=(new hk).Merge({ConditionLines:[{}]});this.Options.ConditionGroups.push(e),this.Groups.push(new Fk(e,this)),this.Refresh()}Validate(){for(const e of this.Groups)if(!e.Validate())return!1;return!0}GetPageBuilder(){return this.PageBuilder}}i.customElement("rnwppages-filter-condition")(class extends e.LitElementBase{connectedCallback(){super.connectedCallback(),n.EventManager.Subscribe("SelectedFormChanged",(()=>{0==this.pageBuilder.Options.Filter.ConditionGroups.length&&this.pageBuilder.Options.Filter.ConditionGroups.push((new hk).Merge({ConditionLines:[{}]})),this.forceUpdate()}),this)}disconnectedCallback(){super.disconnectedCallback(),n.EventManager.UnsubscribeEvent("SelectedFormChanged",this)}RenderConditionBuilder(e){this.ConditionBuilder=e}render(){return null==this.ConditionBuilder&&(this.ConditionBuilder=new Uk(this.pageBuilder.Options.Filter,this.pageBuilder)),t.html` <div> ${c.rnIf(""==rnBuilderVar.Indexed&&this.CreateIndex())} <rn-inputs-select class="cbSelectAForm" .placeholder="${"Select a form"}" .label="${"Select a form"}" .value="${this.pageBuilder.Options.FormId}" @change="${e=>this.OnChange(e.detail)}" .options="${e=>this.pageBuilder.DataSource.GetFormList().map((e=>({Value:e.Id,Label:e.Name})))}"></rn-inputs-select> ${this.GetFilterSection()} </div> `}OnChange(e){this.pageBuilder.SetFormId(o.Sanitizer.SanitizeNumber(e)),this.forceUpdate()}Validate(){var e;return null==this.pageBuilder.DataSource.GetForm()?(s.ToastService.SendErrorMessage("You need to select a form first"),!1):null===(e=this.ConditionBuilder)||void 0===e?void 0:e.Validate()}AddFilter(){this.pageBuilder.Options.Filter.ConditionGroups.push((new hk).Merge({ConditionLines:[{}]})),this.forceUpdate()}CreateIndex(){return t.html`<div style="border-width: 1px;border-style: solid;background-color: #fff3cd;border-color: #ffeeba;color: #856404;border-radius: .25rem;padding: 12px;margin-bottom: 10px;white-space: normal"> <rn-fontawesome .icon="${oi}"></rn-fontawesome> <strong>Important:</strong> You haven't indexed the records, this means that the plugin won't be able to fitter entries that were created before the plugin was activated. To index your records <a href="${rnBuilderVar.SettingsPage}" target="_blank">click here</a>. This process only needs to be executed once. </div>`}GetFilterSection(){return this.pageBuilder.CanUseFilters?t.html` <fieldset style="border: 1px solid #dfdfdf;padding: 10px;border-radius: 5px;"> <legend style="font-weight: bold;margin-left: 2px;"><rn-fontawesome .icon=${z.faFilter}></rn-fontawesome> Filters</legend> ${""==rnBuilderVar.IsPR?t.html`Sorry filters are only available in the full version <a href="https://formwiz.rednao.com/page-builder-2/" target="_blank">Get it here</a>`:t.html` ${null==this.pageBuilder.DataSource.GetForm()?t.html` <p style="margin:0">Please select a form first</p>`:this.ConditionBuilder.render()} `} </fieldset> `:null}}),i.customElement("rn-root-builder-container")(class extends e.LitElementBase{render(){return t.html` <div class="rednao" style="position: fixed;top:0;left:0;width: 100%;z-index: 99999;background-color: white;height: 100%;"> <div class="rnRuler" style="border: 1px dashed red;position: absolute;top:0;display: none;z-index: 100000000000;transition: top 200ms ease-in-out, left 200ms ease-in-out;pointer-events: none;"></div> <rnwppages-topbar .pageBuilder=${this.model}></rnwppages-topbar> <rnwppages-main-tab style="height:calc(100% - 70px)" .pageBuilderModel="${this.model}"></rnwppages-main-tab> <div style="position: absolute;"> <div style="position: absolute;z-index: 10000000000000000000"> ${_.map((e=>t.html` <div class="draggableItem draggable-${e.Id}"> <img src="${e.URL}"/> <label>${e.Label}</label> </div> `))} <div class="draggableItem draggable-column"> <rn-fontawesome .icon="${M.faColumns}" style="font-size: 30px"></rn-fontawesome> <label>Column</label> </div> <div class="draggableItem draggable-row"> <rn-fontawesome .icon="${G.faGripLines}" style="font-size: 30px"></rn-fontawesome> <label>Row</label> </div> </div> </div> </div> `}connectedCallback(){super.connectedCallback(),n.EventManager.Subscribe("DragEnded",(()=>{this.model.Ruler.style.display="none"}),this),n.EventManager.Subscribe("DragLeave",(()=>{this.model.Ruler.style.display="none"}),this)}firstUpdated(e){super.firstUpdated(e)}});var qk={},Xk={};!function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="floppy-disk",i=[128190,128426,"save"],r="f0c7",n="M64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V173.3c0-17-6.7-33.3-18.7-45.3L352 50.7C340 38.7 323.7 32 306.7 32H64zm0 96c0-17.7 14.3-32 32-32H288c17.7 0 32 14.3 32 32v64c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32V128zM224 416c-35.3 0-64-28.7-64-64s28.7-64 64-64s64 28.7 64 64s-28.7 64-64 64z";e.definition={prefix:"fas",iconName:t,icon:[448,512,i,r,n]},e.faFloppyDisk=e.definition,e.prefix="fas",e.iconName=t,e.width=448,e.height=512,e.ligatures=i,e.unicode=r,e.svgPathData=n,e.aliases=i}(Xk),function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=Xk;e.definition={prefix:t.prefix,iconName:t.iconName,icon:[t.width,t.height,t.aliases,t.unicode,t.svgPathData]},e.faSave=e.definition,e.prefix=t.prefix,e.iconName=t.iconName,e.width=t.width,e.height=t.height,e.ligatures=t.aliases,e.unicode=t.unicode,e.svgPathData=t.svgPathData,e.aliases=t.aliases}(qk),i.customElement("rnwppages-topbar")(class extends e.LitElementBase{constructor(...e){super(...e),this.IsBusy=!1}static get properties(){return{IsBusy:{type:Boolean}}}render(){return t.html` <div style="height:70px;padding: 10px;display: flex;background-color: #fefefe;"> <div style="display: flex;align-items: center"> <rn-spinner-button .icon="${qk.faSave}" .isBusy=${this.IsBusy} style="margin-right: 5px;" @click=${()=>this.Save()}></rn-spinner-button> <button @click=${e=>this.pageBuilder.Preview(e)} class='rnbtn rnbtn-info btnPreview' style="display: flex;align-items: center;"><rn-fontawesome style="margin-right: 3px;" .icon=${PO.faSearch}></rn-fontawesome> Preview</button> </div> <div style="display: inline-flex;flex-grow: 1;align-items: center;margin: 0 10px;"> <h4 style="font-size: 18px;font-weight: bold;">Editing:</h4> <input value=${this.pageBuilder.Options.Name} @change=${e=>{this.pageBuilder.Options.Name=e.target.value,this.forceUpdate()}} class='calculatedFormName' placeholder='Please define a name for your template' style="width: 400px;flex-grow: 1;background-color: transparent;cursor: pointer;font-size: 30px;font-weight: bold;"/> </div> <a href='' id='ExitButton' @click=${e=>{e.preventDefault(),window.location.href=rnBuilderVar.TemplateURL}} style="font-size: 30px;float: right;display: flex;align-items: center;"><rn-fontawesome .icon=${H.faTimes}/></a> </div> `}async Save(){this.IsBusy=!0,await this.pageBuilder.Save(),this.IsBusy=!1}OpenTemplateSettings(){h.Dialog.Show(t.html`<rnwppages-template-settings .pageBuilder="${this.pageBuilder}"></rnwppages-template-settings>`)}});var jk,Hk,Zk,Yk,Jk={};!function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="brush",i=[],r="f55d",n="M192 64L160 0H128L96 64 64 0H48C21.5 0 0 21.5 0 48V256H384V48c0-26.5-21.5-48-48-48H224L192 64zM0 288v32c0 35.3 28.7 64 64 64h64v64c0 35.3 28.7 64 64 64s64-28.7 64-64V384h64c35.3 0 64-28.7 64-64V288H0zM192 464c-8.8 0-16-7.2-16-16s7.2-16 16-16s16 7.2 16 16s-7.2 16-16 16z";e.definition={prefix:"fas",iconName:t,icon:[384,512,i,r,n]},e.faBrush=e.definition,e.prefix="fas",e.iconName=t,e.width=384,e.height=512,e.ligatures=i,e.unicode=r,e.svgPathData=n,e.aliases=i}(Jk),function(){var e,t=t||{},i=(e=function t(i,r,n){function o(a,l){if(!r[a]){if(!i[a]){var u="function"==typeof e&&e;if(!l&&u)return u(a,!0);if(s)return s(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var d=r[a]={exports:{}};i[a][0].call(d.exports,(function(e){var t=i[a][1][e];return o(t||e)}),d,d.exports,t,i,r,n)}return r[a].exports}for(var s="function"==typeof e&&e,a=0;a<n.length;a++)o(n[a]);return o}({1:[function(e,t,i){t.exports={__proto__:null,aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32",currentColor:"The value of the 'color' property.",activeBorder:"Active window border.",activecaption:"Active window caption.",appworkspace:"Background color of multiple document interface.",background:"Desktop background.",buttonface:"The face background color for 3-D elements that appear 3-D due to one layer of surrounding border.",buttonhighlight:"The color of the border facing the light source for 3-D elements that appear 3-D due to one layer of surrounding border.",buttonshadow:"The color of the border away from the light source for 3-D elements that appear 3-D due to one layer of surrounding border.",buttontext:"Text on push buttons.",captiontext:"Text in caption, size box, and scrollbar arrow box.",graytext:"Grayed (disabled) text. This color is set to #000 if the current display driver does not support a solid gray color.",greytext:"Greyed (disabled) text. This color is set to #000 if the current display driver does not support a solid grey color.",highlight:"Item(s) selected in a control.",highlighttext:"Text of item(s) selected in a control.",inactiveborder:"Inactive window border.",inactivecaption:"Inactive window caption.",inactivecaptiontext:"Color of text in an inactive caption.",infobackground:"Background color for tooltip controls.",infotext:"Text color for tooltip controls.",menu:"Menu background.",menutext:"Text in menus.",scrollbar:"Scroll bar gray area.",threeddarkshadow:"The color of the darker (generally outer) of the two borders away from the light source for 3-D elements that appear 3-D due to two concentric layers of surrounding border.",threedface:"The face background color for 3-D elements that appear 3-D due to two concentric layers of surrounding border.",threedhighlight:"The color of the lighter (generally outer) of the two borders facing the light source for 3-D elements that appear 3-D due to two concentric layers of surrounding border.",threedlightshadow:"The color of the darker (generally inner) of the two borders facing the light source for 3-D elements that appear 3-D due to two concentric layers of surrounding border.",threedshadow:"The color of the lighter (generally inner) of the two borders away from the light source for 3-D elements that appear 3-D due to two concentric layers of surrounding border.",window:"Window background.",windowframe:"Window frame.",windowtext:"Text in windows."}},{}],2:[function(e,t,i){t.exports=o;var r=e("../util/SyntaxUnit"),n=e("./Parser");function o(e,t,i){r.call(this,e,t,i,n.COMBINATOR_TYPE),this.type="unknown",/^\s+$/.test(e)?this.type="descendant":">"===e?this.type="child":"+"===e?this.type="adjacent-sibling":"~"===e&&(this.type="sibling")}o.prototype=new r,o.prototype.constructor=o},{"../util/SyntaxUnit":26,"./Parser":6}],3:[function(e,t,i){t.exports=o;var r=e("../util/StringReader"),n=e("../util/SyntaxError");function o(e,t){this.match=function(t){var i;return t.mark(),(i=e(t))?t.drop():t.restore(),i},this.toString="function"==typeof t?t:function(){return t}}o.prec={MOD:5,SEQ:4,ANDAND:3,OROR:2,ALT:1},o.parse=function(e){var t,i,s,a,l,u,c,d,h;if(t=new r(e),i=function(e){var i=t.readMatch(e);if(null===i)throw new n("Expected "+e,t.getLine(),t.getCol());return i},s=function(){for(var e=[a()];null!==t.readMatch(" | ");)e.push(a());return 1===e.length?e[0]:o.alt.apply(o,e)},a=function(){for(var e=[l()];null!==t.readMatch(" || ");)e.push(l());return 1===e.length?e[0]:o.oror.apply(o,e)},l=function(){for(var e=[u()];null!==t.readMatch(" && ");)e.push(u());return 1===e.length?e[0]:o.andand.apply(o,e)},u=function(){for(var e=[c()];null!==t.readMatch(/^ (?![&|\]])/);)e.push(c());return 1===e.length?e[0]:o.seq.apply(o,e)},c=function(){var e=d();if(null!==t.readMatch("?"))return e.question();if(null!==t.readMatch("*"))return e.star();if(null!==t.readMatch("+"))return e.plus();if(null!==t.readMatch("#"))return e.hash();if(null!==t.readMatch(/^\{\s*/)){var r=i(/^\d+/);i(/^\s*,\s*/);var n=i(/^\d+/);return i(/^\s*\}/),e.braces(+r,+n)}return e},d=function(){if(null!==t.readMatch("[ ")){var e=s();return i(" ]"),e}return o.fromType(i(/^[^ ?*+#{]+/))},h=s(),!t.eof())throw new n("Expected end of string",t.getLine(),t.getCol());return h},o.cast=function(e){return e instanceof o?e:o.parse(e)},o.fromType=function(t){var i=e("./ValidationTypes");return new o((function(e){return e.hasNext()&&i.isType(e,t)}),t)},o.seq=function(){var e=Array.prototype.slice.call(arguments).map(o.cast);return 1===e.length?e[0]:new o((function(t){var i,r=!0;for(i=0;r&&i<e.length;i++)r=e[i].match(t);return r}),(function(t){var i=o.prec.SEQ,r=e.map((function(e){return e.toString(i)})).join(" ");return t>i&&(r="[ "+r+" ]"),r}))},o.alt=function(){var e=Array.prototype.slice.call(arguments).map(o.cast);return 1===e.length?e[0]:new o((function(t){var i,r=!1;for(i=0;!r&&i<e.length;i++)r=e[i].match(t);return r}),(function(t){var i=o.prec.ALT,r=e.map((function(e){return e.toString(i)})).join(" | ");return t>i&&(r="[ "+r+" ]"),r}))},o.many=function(t){var i=Array.prototype.slice.call(arguments,1).reduce((function(t,i){if(i.expand){var r=e("./ValidationTypes");t.push.apply(t,r.complex[i.expand].options)}else t.push(o.cast(i));return t}),[]);!0===t&&(t=i.map((function(){return!0})));var r=new o((function(e){var r=[],n=0,o=0,s=function(a){for(var l=0;l<i.length;l++)if(!r[l])if(e.mark(),i[l].match(e)){if(r[l]=!0,s(a+(!1===t||t[l]?1:0)))return e.drop(),!0;e.restore(),r[l]=!1}else e.drop();return function(e){return 0===o?(n=Math.max(e,n),e===i.length):e===n}(a)};if(s(0)||(o++,s(0)),!1===t)return n>0;for(var a=0;a<i.length;a++)if(t[a]&&!r[a])return!1;return!0}),(function(e){var r=!1===t?o.prec.OROR:o.prec.ANDAND,n=i.map((function(e,i){return!1===t||t[i]?e.toString(r):e.toString(o.prec.MOD)+"?"})).join(!1===t?" || ":" && ");return e>r&&(n="[ "+n+" ]"),n}));return r.options=i,r},o.andand=function(){var e=Array.prototype.slice.call(arguments);return e.unshift(!0),o.many.apply(o,e)},o.oror=function(){var e=Array.prototype.slice.call(arguments);return e.unshift(!1),o.many.apply(o,e)},o.prototype={constructor:o,match:function(){throw new Error("unimplemented")},toString:function(){throw new Error("unimplemented")},func:function(){return this.match.bind(this)},then:function(e){return o.seq(this,e)},or:function(e){return o.alt(this,e)},andand:function(e){return o.many(!0,this,e)},oror:function(e){return o.many(!1,this,e)},star:function(){return this.braces(0,1/0,"*")},plus:function(){return this.braces(1,1/0,"+")},question:function(){return this.braces(0,1,"?")},hash:function(){return this.braces(1,1/0,"#",o.cast(","))},braces:function(e,t,i,r){var n=this,s=r?r.then(this):this;return i||(i="{"+e+","+t+"}"),new o((function(i){var o;for(o=0;o<t&&(o>0&&r?s.match(i):n.match(i));o++);return o>=e}),(function(){return n.toString(o.prec.MOD)+i}))}}},{"../util/StringReader":24,"../util/SyntaxError":25,"./ValidationTypes":21}],4:[function(e,t,i){t.exports=o;var r=e("../util/SyntaxUnit"),n=e("./Parser");function o(e,t){r.call(this,"("+e+(null!==t?":"+t:"")+")",e.startLine,e.startCol,n.MEDIA_FEATURE_TYPE),this.name=e,this.value=t}o.prototype=new r,o.prototype.constructor=o},{"../util/SyntaxUnit":26,"./Parser":6}],5:[function(e,t,i){t.exports=o;var r=e("../util/SyntaxUnit"),n=e("./Parser");function o(e,t,i,o,s){r.call(this,(e?e+" ":"")+(t||"")+(t&&i.length>0?" and ":"")+i.join(" and "),o,s,n.MEDIA_QUERY_TYPE),this.modifier=e,this.mediaType=t,this.features=i}o.prototype=new r,o.prototype.constructor=o},{"../util/SyntaxUnit":26,"./Parser":6}],6:[function(e,t,i){t.exports=b;var r=e("../util/EventTarget"),n=e("../util/SyntaxError"),o=e("../util/SyntaxUnit"),s=e("./Combinator"),a=e("./MediaFeature"),l=e("./MediaQuery"),u=e("./PropertyName"),c=e("./PropertyValue"),d=e("./PropertyValuePart"),h=e("./Selector"),p=e("./SelectorPart"),f=e("./SelectorSubPart"),m=e("./TokenStream"),g=e("./Tokens"),O=e("./Validation");function b(e){r.call(this),this.options=e||{},this._tokenStream=null}b.DEFAULT_TYPE=0,b.COMBINATOR_TYPE=1,b.MEDIA_FEATURE_TYPE=2,b.MEDIA_QUERY_TYPE=3,b.PROPERTY_NAME_TYPE=4,b.PROPERTY_VALUE_TYPE=5,b.PROPERTY_VALUE_PART_TYPE=6,b.SELECTOR_TYPE=7,b.SELECTOR_PART_TYPE=8,b.SELECTOR_SUB_PART_TYPE=9,b.prototype=function(){var e,t=new r,i={__proto__:null,constructor:b,DEFAULT_TYPE:0,COMBINATOR_TYPE:1,MEDIA_FEATURE_TYPE:2,MEDIA_QUERY_TYPE:3,PROPERTY_NAME_TYPE:4,PROPERTY_VALUE_TYPE:5,PROPERTY_VALUE_PART_TYPE:6,SELECTOR_TYPE:7,SELECTOR_PART_TYPE:8,SELECTOR_SUB_PART_TYPE:9,_stylesheet:function(){var e,t,i,r=this._tokenStream;for(this.fire("startstylesheet"),this._charset(),this._skipCruft();r.peek()===g.IMPORT_SYM;)this._import(),this._skipCruft();for(;r.peek()===g.NAMESPACE_SYM;)this._namespace(),this._skipCruft();for(i=r.peek();i>g.EOF;){try{switch(i){case g.MEDIA_SYM:this._media(),this._skipCruft();break;case g.PAGE_SYM:this._page(),this._skipCruft();break;case g.FONT_FACE_SYM:this._font_face(),this._skipCruft();break;case g.KEYFRAMES_SYM:this._keyframes(),this._skipCruft();break;case g.VIEWPORT_SYM:this._viewport(),this._skipCruft();break;case g.DOCUMENT_SYM:this._document(),this._skipCruft();break;case g.SUPPORTS_SYM:this._supports(),this._skipCruft();break;case g.UNKNOWN_SYM:if(r.get(),this.options.strict)throw new n("Unknown @ rule.",r.LT(0).startLine,r.LT(0).startCol);for(this.fire({type:"error",error:null,message:"Unknown @ rule: "+r.LT(0).value+".",line:r.LT(0).startLine,col:r.LT(0).startCol}),e=0;r.advance([g.LBRACE,g.RBRACE])===g.LBRACE;)e++;for(;e;)r.advance([g.RBRACE]),e--;break;case g.S:this._readWhitespace();break;default:if(!this._ruleset())switch(i){case g.CHARSET_SYM:throw t=r.LT(1),this._charset(!1),new n("@charset not allowed here.",t.startLine,t.startCol);case g.IMPORT_SYM:throw t=r.LT(1),this._import(!1),new n("@import not allowed here.",t.startLine,t.startCol);case g.NAMESPACE_SYM:throw t=r.LT(1),this._namespace(!1),new n("@namespace not allowed here.",t.startLine,t.startCol);default:r.get(),this._unexpectedToken(r.token())}}}catch(e){if(!(e instanceof n)||this.options.strict)throw e;this.fire({type:"error",error:e,message:e.message,line:e.line,col:e.col})}i=r.peek()}i!==g.EOF&&this._unexpectedToken(r.token()),this.fire("endstylesheet")},_charset:function(e){var t,i,r,n=this._tokenStream;n.match(g.CHARSET_SYM)&&(i=n.token().startLine,r=n.token().startCol,this._readWhitespace(),n.mustMatch(g.STRING),t=n.token().value,this._readWhitespace(),n.mustMatch(g.SEMICOLON),!1!==e&&this.fire({type:"charset",charset:t,line:i,col:r}))},_import:function(e){var t,i,r,n=this._tokenStream;n.mustMatch(g.IMPORT_SYM),i=n.token(),this._readWhitespace(),n.mustMatch([g.STRING,g.URI]),t=n.token().value.replace(/^(?:url\()?["']?([^"']+?)["']?\)?$/,"$1"),this._readWhitespace(),r=this._media_query_list(),n.mustMatch(g.SEMICOLON),this._readWhitespace(),!1!==e&&this.fire({type:"import",uri:t,media:r,line:i.startLine,col:i.startCol})},_namespace:function(e){var t,i,r,n,o=this._tokenStream;o.mustMatch(g.NAMESPACE_SYM),t=o.token().startLine,i=o.token().startCol,this._readWhitespace(),o.match(g.IDENT)&&(r=o.token().value,this._readWhitespace()),o.mustMatch([g.STRING,g.URI]),n=o.token().value.replace(/(?:url\()?["']([^"']+)["']\)?/,"$1"),this._readWhitespace(),o.mustMatch(g.SEMICOLON),this._readWhitespace(),!1!==e&&this.fire({type:"namespace",prefix:r,uri:n,line:t,col:i})},_supports:function(e){var t,i,r=this._tokenStream;if(r.match(g.SUPPORTS_SYM)){for(t=r.token().startLine,i=r.token().startCol,this._readWhitespace(),this._supports_condition(),this._readWhitespace(),r.mustMatch(g.LBRACE),this._readWhitespace(),!1!==e&&this.fire({type:"startsupports",line:t,col:i});this._ruleset(););r.mustMatch(g.RBRACE),this._readWhitespace(),this.fire({type:"endsupports",line:t,col:i})}},_supports_condition:function(){var e,t=this._tokenStream;if(t.match(g.IDENT))"not"===(e=t.token().value.toLowerCase())?(t.mustMatch(g.S),this._supports_condition_in_parens()):t.unget();else for(this._supports_condition_in_parens(),this._readWhitespace();t.peek()===g.IDENT;)"and"!==(e=t.LT(1).value.toLowerCase())&&"or"!==e||(t.mustMatch(g.IDENT),this._readWhitespace(),this._supports_condition_in_parens(),this._readWhitespace())},_supports_condition_in_parens:function(){var e=this._tokenStream;e.match(g.LPAREN)?(this._readWhitespace(),e.match(g.IDENT)?"not"===e.token().value.toLowerCase()?(this._readWhitespace(),this._supports_condition(),this._readWhitespace(),e.mustMatch(g.RPAREN)):(e.unget(),this._supports_declaration_condition(!1)):(this._supports_condition(),this._readWhitespace(),e.mustMatch(g.RPAREN))):this._supports_declaration_condition()},_supports_declaration_condition:function(e){var t=this._tokenStream;!1!==e&&t.mustMatch(g.LPAREN),this._readWhitespace(),this._declaration(),t.mustMatch(g.RPAREN)},_media:function(){var e,t,i,r=this._tokenStream;for(r.mustMatch(g.MEDIA_SYM),e=r.token().startLine,t=r.token().startCol,this._readWhitespace(),i=this._media_query_list(),r.mustMatch(g.LBRACE),this._readWhitespace(),this.fire({type:"startmedia",media:i,line:e,col:t});;)if(r.peek()===g.PAGE_SYM)this._page();else if(r.peek()===g.FONT_FACE_SYM)this._font_face();else if(r.peek()===g.VIEWPORT_SYM)this._viewport();else if(r.peek()===g.DOCUMENT_SYM)this._document();else if(r.peek()===g.SUPPORTS_SYM)this._supports();else if(r.peek()===g.MEDIA_SYM)this._media();else if(!this._ruleset())break;r.mustMatch(g.RBRACE),this._readWhitespace(),this.fire({type:"endmedia",media:i,line:e,col:t})},_media_query_list:function(){var e=this._tokenStream,t=[];for(this._readWhitespace(),e.peek()!==g.IDENT&&e.peek()!==g.LPAREN||t.push(this._media_query());e.match(g.COMMA);)this._readWhitespace(),t.push(this._media_query());return t},_media_query:function(){var e=this._tokenStream,t=null,i=null,r=null,n=[];if(e.match(g.IDENT)&&("only"!==(i=e.token().value.toLowerCase())&&"not"!==i?(e.unget(),i=null):r=e.token()),this._readWhitespace(),e.peek()===g.IDENT?(t=this._media_type(),null===r&&(r=e.token())):e.peek()===g.LPAREN&&(null===r&&(r=e.LT(1)),n.push(this._media_expression())),null===t&&0===n.length)return null;for(this._readWhitespace();e.match(g.IDENT);)"and"!==e.token().value.toLowerCase()&&this._unexpectedToken(e.token()),this._readWhitespace(),n.push(this._media_expression());return new l(i,t,n,r.startLine,r.startCol)},_media_type:function(){return this._media_feature()},_media_expression:function(){var e,t,i=this._tokenStream,r=null;return i.mustMatch(g.LPAREN),e=this._media_feature(),this._readWhitespace(),i.match(g.COLON)&&(this._readWhitespace(),t=i.LT(1),r=this._expression()),i.mustMatch(g.RPAREN),this._readWhitespace(),new a(e,r?new o(r,t.startLine,t.startCol):null)},_media_feature:function(){var e=this._tokenStream;return this._readWhitespace(),e.mustMatch(g.IDENT),o.fromToken(e.token())},_page:function(){var e,t,i=this._tokenStream,r=null,n=null;i.mustMatch(g.PAGE_SYM),e=i.token().startLine,t=i.token().startCol,this._readWhitespace(),i.match(g.IDENT)&&"auto"===(r=i.token().value).toLowerCase()&&this._unexpectedToken(i.token()),i.peek()===g.COLON&&(n=this._pseudo_page()),this._readWhitespace(),this.fire({type:"startpage",id:r,pseudo:n,line:e,col:t}),this._readDeclarations(!0,!0),this.fire({type:"endpage",id:r,pseudo:n,line:e,col:t})},_margin:function(){var e,t,i=this._tokenStream,r=this._margin_sym();return!!r&&(e=i.token().startLine,t=i.token().startCol,this.fire({type:"startpagemargin",margin:r,line:e,col:t}),this._readDeclarations(!0),this.fire({type:"endpagemargin",margin:r,line:e,col:t}),!0)},_margin_sym:function(){var e=this._tokenStream;return e.match([g.TOPLEFTCORNER_SYM,g.TOPLEFT_SYM,g.TOPCENTER_SYM,g.TOPRIGHT_SYM,g.TOPRIGHTCORNER_SYM,g.BOTTOMLEFTCORNER_SYM,g.BOTTOMLEFT_SYM,g.BOTTOMCENTER_SYM,g.BOTTOMRIGHT_SYM,g.BOTTOMRIGHTCORNER_SYM,g.LEFTTOP_SYM,g.LEFTMIDDLE_SYM,g.LEFTBOTTOM_SYM,g.RIGHTTOP_SYM,g.RIGHTMIDDLE_SYM,g.RIGHTBOTTOM_SYM])?o.fromToken(e.token()):null},_pseudo_page:function(){var e=this._tokenStream;return e.mustMatch(g.COLON),e.mustMatch(g.IDENT),e.token().value},_font_face:function(){var e,t,i=this._tokenStream;i.mustMatch(g.FONT_FACE_SYM),e=i.token().startLine,t=i.token().startCol,this._readWhitespace(),this.fire({type:"startfontface",line:e,col:t}),this._readDeclarations(!0),this.fire({type:"endfontface",line:e,col:t})},_viewport:function(){var e,t,i=this._tokenStream;i.mustMatch(g.VIEWPORT_SYM),e=i.token().startLine,t=i.token().startCol,this._readWhitespace(),this.fire({type:"startviewport",line:e,col:t}),this._readDeclarations(!0),this.fire({type:"endviewport",line:e,col:t})},_document:function(){var e,t=this._tokenStream,i=[],r="";for(t.mustMatch(g.DOCUMENT_SYM),e=t.token(),/^@\-([^\-]+)\-/.test(e.value)&&(r=RegExp.$1),this._readWhitespace(),i.push(this._document_function());t.match(g.COMMA);)this._readWhitespace(),i.push(this._document_function());t.mustMatch(g.LBRACE),this._readWhitespace(),this.fire({type:"startdocument",functions:i,prefix:r,line:e.startLine,col:e.startCol});for(var n=!0;n;)switch(t.peek()){case g.PAGE_SYM:this._page();break;case g.FONT_FACE_SYM:this._font_face();break;case g.VIEWPORT_SYM:this._viewport();break;case g.MEDIA_SYM:this._media();break;case g.KEYFRAMES_SYM:this._keyframes();break;case g.DOCUMENT_SYM:this._document();break;default:n=Boolean(this._ruleset())}t.mustMatch(g.RBRACE),e=t.token(),this._readWhitespace(),this.fire({type:"enddocument",functions:i,prefix:r,line:e.startLine,col:e.startCol})},_document_function:function(){var e,t=this._tokenStream;return t.match(g.URI)?(e=t.token().value,this._readWhitespace()):e=this._function(),e},_operator:function(e){var t=this._tokenStream,i=null;return(t.match([g.SLASH,g.COMMA])||e&&t.match([g.PLUS,g.STAR,g.MINUS]))&&(i=t.token(),this._readWhitespace()),i?d.fromToken(i):null},_combinator:function(){var e,t=this._tokenStream,i=null;return t.match([g.PLUS,g.GREATER,g.TILDE])&&(e=t.token(),i=new s(e.value,e.startLine,e.startCol),this._readWhitespace()),i},_unary_operator:function(){var e=this._tokenStream;return e.match([g.MINUS,g.PLUS])?e.token().value:null},_property:function(){var e,t,i,r,n=this._tokenStream,o=null,s=null;return n.peek()===g.STAR&&this.options.starHack&&(n.get(),s=(t=n.token()).value,i=t.startLine,r=t.startCol),n.match(g.IDENT)&&("_"===(e=(t=n.token()).value).charAt(0)&&this.options.underscoreHack&&(s="_",e=e.substring(1)),o=new u(e,s,i||t.startLine,r||t.startCol),this._readWhitespace()),o},_ruleset:function(){var e,t=this._tokenStream;try{e=this._selectors_group()}catch(e){if(!(e instanceof n)||this.options.strict)throw e;if(this.fire({type:"error",error:e,message:e.message,line:e.line,col:e.col}),t.advance([g.RBRACE])!==g.RBRACE)throw e;return!0}return e&&(this.fire({type:"startrule",selectors:e,line:e[0].line,col:e[0].col}),this._readDeclarations(!0),this.fire({type:"endrule",selectors:e,line:e[0].line,col:e[0].col})),e},_selectors_group:function(){var e,t=this._tokenStream,i=[];if(null!==(e=this._selector()))for(i.push(e);t.match(g.COMMA);)this._readWhitespace(),null!==(e=this._selector())?i.push(e):this._unexpectedToken(t.LT(1));return i.length?i:null},_selector:function(){var e=this._tokenStream,t=[],i=null,r=null,n=null;if(null===(i=this._simple_selector_sequence()))return null;for(t.push(i);;)if(null!==(r=this._combinator()))t.push(r),null===(i=this._simple_selector_sequence())?this._unexpectedToken(e.LT(1)):t.push(i);else{if(!this._readWhitespace())break;n=new s(e.token().value,e.token().startLine,e.token().startCol),r=this._combinator(),null===(i=this._simple_selector_sequence())?null!==r&&this._unexpectedToken(e.LT(1)):(null!==r?t.push(r):t.push(n),t.push(i))}return new h(t,t[0].line,t[0].col)},_simple_selector_sequence:function(){var e,t,i=this._tokenStream,r=null,n=[],o="",s=[function(){return i.match(g.HASH)?new f(i.token().value,"id",i.token().startLine,i.token().startCol):null},this._class,this._attrib,this._pseudo,this._negation],a=0,l=s.length,u=null;for(e=i.LT(1).startLine,t=i.LT(1).startCol,(r=this._type_selector())||(r=this._universal()),null!==r&&(o+=r);i.peek()!==g.S;){for(;a<l&&null===u;)u=s[a++].call(this);if(null===u){if(""===o)return null;break}a=0,n.push(u),o+=u.toString(),u=null}return""!==o?new p(r,n,o,e,t):null},_type_selector:function(){var e=this._tokenStream,t=this._namespace_prefix(),i=this._element_name();return i?(t&&(i.text=t+i.text,i.col-=t.length),i):(t&&(e.unget(),t.length>1&&e.unget()),null)},_class:function(){var e,t=this._tokenStream;return t.match(g.DOT)?(t.mustMatch(g.IDENT),e=t.token(),new f("."+e.value,"class",e.startLine,e.startCol-1)):null},_element_name:function(){var e,t=this._tokenStream;return t.match(g.IDENT)?(e=t.token(),new f(e.value,"elementName",e.startLine,e.startCol)):null},_namespace_prefix:function(){var e=this._tokenStream,t="";return e.LA(1)!==g.PIPE&&e.LA(2)!==g.PIPE||(e.match([g.IDENT,g.STAR])&&(t+=e.token().value),e.mustMatch(g.PIPE),t+="|"),t.length?t:null},_universal:function(){var e,t=this._tokenStream,i="";return(e=this._namespace_prefix())&&(i+=e),t.match(g.STAR)&&(i+="*"),i.length?i:null},_attrib:function(){var e,t,i=this._tokenStream,r=null;return i.match(g.LBRACKET)?(r=(t=i.token()).value,r+=this._readWhitespace(),(e=this._namespace_prefix())&&(r+=e),i.mustMatch(g.IDENT),r+=i.token().value,r+=this._readWhitespace(),i.match([g.PREFIXMATCH,g.SUFFIXMATCH,g.SUBSTRINGMATCH,g.EQUALS,g.INCLUDES,g.DASHMATCH])&&(r+=i.token().value,r+=this._readWhitespace(),i.mustMatch([g.IDENT,g.STRING]),r+=i.token().value,r+=this._readWhitespace()),i.mustMatch(g.RBRACKET),new f(r+"]","attribute",t.startLine,t.startCol)):null},_pseudo:function(){var e,t,i=this._tokenStream,r=null,o=":";if(i.match(g.COLON)){if(i.match(g.COLON)&&(o+=":"),i.match(g.IDENT)?(r=i.token().value,e=i.token().startLine,t=i.token().startCol-o.length):i.peek()===g.FUNCTION&&(e=i.LT(1).startLine,t=i.LT(1).startCol-o.length,r=this._functional_pseudo()),!r){var s=i.LT(1).startLine,a=i.LT(0).startCol;throw new n("Expected a `FUNCTION` or `IDENT` after colon at line "+s+", col "+a+".",s,a)}r=new f(o+r,"pseudo",e,t)}return r},_functional_pseudo:function(){var e=this._tokenStream,t=null;return e.match(g.FUNCTION)&&(t=e.token().value,t+=this._readWhitespace(),t+=this._expression(),e.mustMatch(g.RPAREN),t+=")"),t},_expression:function(){for(var e=this._tokenStream,t="";e.match([g.PLUS,g.MINUS,g.DIMENSION,g.NUMBER,g.STRING,g.IDENT,g.LENGTH,g.FREQ,g.ANGLE,g.TIME,g.RESOLUTION,g.SLASH]);)t+=e.token().value,t+=this._readWhitespace();return t.length?t:null},_negation:function(){var e,t,i,r=this._tokenStream,n="",o=null;return r.match(g.NOT)&&(n=r.token().value,e=r.token().startLine,t=r.token().startCol,n+=this._readWhitespace(),n+=i=this._negation_arg(),n+=this._readWhitespace(),r.match(g.RPAREN),n+=r.token().value,(o=new f(n,"not",e,t)).args.push(i)),o},_negation_arg:function(){var e,t,i=this._tokenStream,r=[this._type_selector,this._universal,function(){return i.match(g.HASH)?new f(i.token().value,"id",i.token().startLine,i.token().startCol):null},this._class,this._attrib,this._pseudo],n=null,o=0,s=r.length;for(e=i.LT(1).startLine,t=i.LT(1).startCol;o<s&&null===n;)n=r[o].call(this),o++;return null===n&&this._unexpectedToken(i.LT(1)),"elementName"===n.type?new p(n,[],n.toString(),e,t):new p(null,[n],n.toString(),e,t)},_declaration:function(){var e=this._tokenStream,t=null,i=null,r=null,n=null,o="";if(null!==(t=this._property())){e.mustMatch(g.COLON),this._readWhitespace(),(i=this._expr())&&0!==i.length||this._unexpectedToken(e.LT(1)),r=this._prio(),o=t.toString(),(this.options.starHack&&"*"===t.hack||this.options.underscoreHack&&"_"===t.hack)&&(o=t.text);try{this._validateProperty(o,i)}catch(e){n=e}return this.fire({type:"property",property:t,value:i,important:r,line:t.line,col:t.col,invalid:n}),!0}return!1},_prio:function(){var e=this._tokenStream.match(g.IMPORTANT_SYM);return this._readWhitespace(),e},_expr:function(e){var t=[],i=null,r=null;if(null!==(i=this._term(e)))for(t.push(i);(r=this._operator(e))&&t.push(r),null!==(i=this._term(e));)t.push(i);return t.length>0?new c(t,t[0].line,t[0].col):null},_term:function(e){var t,i,r,n,o=this._tokenStream,s=null,a=null,l=null;return null!==(t=this._unary_operator())&&(r=o.token().startLine,n=o.token().startCol),o.peek()===g.IE_FUNCTION&&this.options.ieFilters?(s=this._ie_function(),null===t&&(r=o.token().startLine,n=o.token().startCol)):e&&o.match([g.LPAREN,g.LBRACE,g.LBRACKET])?(a=(i=o.token()).endChar,s=i.value+this._expr(e).text,null===t&&(r=o.token().startLine,n=o.token().startCol),o.mustMatch(g.type(a)),s+=a,this._readWhitespace()):o.match([g.NUMBER,g.PERCENTAGE,g.LENGTH,g.ANGLE,g.TIME,g.FREQ,g.STRING,g.IDENT,g.URI,g.UNICODE_RANGE])?(s=o.token().value,null===t&&(r=o.token().startLine,n=o.token().startCol,l=d.fromToken(o.token())),this._readWhitespace()):null===(i=this._hexcolor())?(null===t&&(r=o.LT(1).startLine,n=o.LT(1).startCol),null===s&&(s=o.LA(3)===g.EQUALS&&this.options.ieFilters?this._ie_function():this._function())):(s=i.value,null===t&&(r=i.startLine,n=i.startCol)),null!==l?l:null!==s?new d(null!==t?t+s:s,r,n):null},_function:function(){var e,t=this._tokenStream,i=null;if(t.match(g.FUNCTION)){if(i=t.token().value,this._readWhitespace(),i+=this._expr(!0),this.options.ieFilters&&t.peek()===g.EQUALS)do{for(this._readWhitespace()&&(i+=t.token().value),t.LA(0)===g.COMMA&&(i+=t.token().value),t.match(g.IDENT),i+=t.token().value,t.match(g.EQUALS),i+=t.token().value,e=t.peek();e!==g.COMMA&&e!==g.S&&e!==g.RPAREN;)t.get(),i+=t.token().value,e=t.peek()}while(t.match([g.COMMA,g.S]));t.match(g.RPAREN),i+=")",this._readWhitespace()}return i},_ie_function:function(){var e,t=this._tokenStream,i=null;if(t.match([g.IE_FUNCTION,g.FUNCTION])){i=t.token().value;do{for(this._readWhitespace()&&(i+=t.token().value),t.LA(0)===g.COMMA&&(i+=t.token().value),t.match(g.IDENT),i+=t.token().value,t.match(g.EQUALS),i+=t.token().value,e=t.peek();e!==g.COMMA&&e!==g.S&&e!==g.RPAREN;)t.get(),i+=t.token().value,e=t.peek()}while(t.match([g.COMMA,g.S]));t.match(g.RPAREN),i+=")",this._readWhitespace()}return i},_hexcolor:function(){var e,t=this._tokenStream,i=null;if(t.match(g.HASH)){if(e=(i=t.token()).value,!/#[a-f0-9]{3,6}/i.test(e))throw new n("Expected a hex color but found '"+e+"' at line "+i.startLine+", col "+i.startCol+".",i.startLine,i.startCol);this._readWhitespace()}return i},_keyframes:function(){var e,t,i,r=this._tokenStream,n="";for(r.mustMatch(g.KEYFRAMES_SYM),e=r.token(),/^@\-([^\-]+)\-/.test(e.value)&&(n=RegExp.$1),this._readWhitespace(),i=this._keyframe_name(),this._readWhitespace(),r.mustMatch(g.LBRACE),this.fire({type:"startkeyframes",name:i,prefix:n,line:e.startLine,col:e.startCol}),this._readWhitespace(),t=r.peek();t===g.IDENT||t===g.PERCENTAGE;)this._keyframe_rule(),this._readWhitespace(),t=r.peek();this.fire({type:"endkeyframes",name:i,prefix:n,line:e.startLine,col:e.startCol}),this._readWhitespace(),r.mustMatch(g.RBRACE),this._readWhitespace()},_keyframe_name:function(){var e=this._tokenStream;return e.mustMatch([g.IDENT,g.STRING]),o.fromToken(e.token())},_keyframe_rule:function(){var e=this._key_list();this.fire({type:"startkeyframerule",keys:e,line:e[0].line,col:e[0].col}),this._readDeclarations(!0),this.fire({type:"endkeyframerule",keys:e,line:e[0].line,col:e[0].col})},_key_list:function(){var e=this._tokenStream,t=[];for(t.push(this._key()),this._readWhitespace();e.match(g.COMMA);)this._readWhitespace(),t.push(this._key()),this._readWhitespace();return t},_key:function(){var e,t=this._tokenStream;if(t.match(g.PERCENTAGE))return o.fromToken(t.token());if(t.match(g.IDENT)){if(e=t.token(),/from|to/i.test(e.value))return o.fromToken(e);t.unget()}this._unexpectedToken(t.LT(1))},_skipCruft:function(){for(;this._tokenStream.match([g.S,g.CDO,g.CDC]););},_readDeclarations:function(e,t){var i,r=this._tokenStream;this._readWhitespace(),e&&r.mustMatch(g.LBRACE),this._readWhitespace();try{for(;;){if(r.match(g.SEMICOLON)||t&&this._margin());else{if(!this._declaration())break;if(!r.match(g.SEMICOLON))break}this._readWhitespace()}r.mustMatch(g.RBRACE),this._readWhitespace()}catch(e){if(!(e instanceof n)||this.options.strict)throw e;if(this.fire({type:"error",error:e,message:e.message,line:e.line,col:e.col}),(i=r.advance([g.SEMICOLON,g.RBRACE]))===g.SEMICOLON)this._readDeclarations(!1,t);else if(i!==g.RBRACE)throw e}},_readWhitespace:function(){for(var e=this._tokenStream,t="";e.match(g.S);)t+=e.token().value;return t},_unexpectedToken:function(e){throw new n("Unexpected token '"+e.value+"' at line "+e.startLine+", col "+e.startCol+".",e.startLine,e.startCol)},_verifyEnd:function(){this._tokenStream.LA(1)!==g.EOF&&this._unexpectedToken(this._tokenStream.LT(1))},_validateProperty:function(e,t){O.validate(e,t)},parse:function(e){this._tokenStream=new m(e,g),this._stylesheet()},parseStyleSheet:function(e){return this.parse(e)},parseMediaQuery:function(e){this._tokenStream=new m(e,g);var t=this._media_query();return this._verifyEnd(),t},parsePropertyValue:function(e){this._tokenStream=new m(e,g),this._readWhitespace();var t=this._expr();return this._readWhitespace(),this._verifyEnd(),t},parseRule:function(e){this._tokenStream=new m(e,g),this._readWhitespace();var t=this._ruleset();return this._readWhitespace(),this._verifyEnd(),t},parseSelector:function(e){this._tokenStream=new m(e,g),this._readWhitespace();var t=this._selector();return this._readWhitespace(),this._verifyEnd(),t},parseStyleAttribute:function(e){e+="}",this._tokenStream=new m(e,g),this._readDeclarations()}};for(e in i)Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t}()},{"../util/EventTarget":23,"../util/SyntaxError":25,"../util/SyntaxUnit":26,"./Combinator":2,"./MediaFeature":4,"./MediaQuery":5,"./PropertyName":8,"./PropertyValue":9,"./PropertyValuePart":11,"./Selector":13,"./SelectorPart":14,"./SelectorSubPart":15,"./TokenStream":17,"./Tokens":18,"./Validation":19}],7:[function(e,t,i){t.exports={__proto__:null,"align-items":"flex-start | flex-end | center | baseline | stretch","align-content":"flex-start | flex-end | center | space-between | space-around | stretch","align-self":"auto | flex-start | flex-end | center | baseline | stretch",all:"initial | inherit | unset","-webkit-align-items":"flex-start | flex-end | center | baseline | stretch","-webkit-align-content":"flex-start | flex-end | center | space-between | space-around | stretch","-webkit-align-self":"auto | flex-start | flex-end | center | baseline | stretch","alignment-adjust":"auto | baseline | before-edge | text-before-edge | middle | central | after-edge | text-after-edge | ideographic | alphabetic | hanging | mathematical | <percentage> | <length>","alignment-baseline":"auto | baseline | use-script | before-edge | text-before-edge | after-edge | text-after-edge | central | middle | ideographic | alphabetic | hanging | mathematical",animation:1,"animation-delay":"<time>#","animation-direction":"<single-animation-direction>#","animation-duration":"<time>#","animation-fill-mode":"[ none | forwards | backwards | both ]#","animation-iteration-count":"[ <number> | infinite ]#","animation-name":"[ none | <single-animation-name> ]#","animation-play-state":"[ running | paused ]#","animation-timing-function":1,"-moz-animation-delay":"<time>#","-moz-animation-direction":"[ normal | alternate ]#","-moz-animation-duration":"<time>#","-moz-animation-iteration-count":"[ <number> | infinite ]#","-moz-animation-name":"[ none | <single-animation-name> ]#","-moz-animation-play-state":"[ running | paused ]#","-ms-animation-delay":"<time>#","-ms-animation-direction":"[ normal | alternate ]#","-ms-animation-duration":"<time>#","-ms-animation-iteration-count":"[ <number> | infinite ]#","-ms-animation-name":"[ none | <single-animation-name> ]#","-ms-animation-play-state":"[ running | paused ]#","-webkit-animation-delay":"<time>#","-webkit-animation-direction":"[ normal | alternate ]#","-webkit-animation-duration":"<time>#","-webkit-animation-fill-mode":"[ none | forwards | backwards | both ]#","-webkit-animation-iteration-count":"[ <number> | infinite ]#","-webkit-animation-name":"[ none | <single-animation-name> ]#","-webkit-animation-play-state":"[ running | paused ]#","-o-animation-delay":"<time>#","-o-animation-direction":"[ normal | alternate ]#","-o-animation-duration":"<time>#","-o-animation-iteration-count":"[ <number> | infinite ]#","-o-animation-name":"[ none | <single-animation-name> ]#","-o-animation-play-state":"[ running | paused ]#",appearance:"none | auto","-moz-appearance":"none | button | button-arrow-down | button-arrow-next | button-arrow-previous | button-arrow-up | button-bevel | button-focus | caret | checkbox | checkbox-container | checkbox-label | checkmenuitem | dualbutton | groupbox | listbox | listitem | menuarrow | menubar | menucheckbox | menuimage | menuitem | menuitemtext | menulist | menulist-button | menulist-text | menulist-textfield | menupopup | menuradio | menuseparator | meterbar | meterchunk | progressbar | progressbar-vertical | progresschunk | progresschunk-vertical | radio | radio-container | radio-label | radiomenuitem | range | range-thumb | resizer | resizerpanel | scale-horizontal | scalethumbend | scalethumb-horizontal | scalethumbstart | scalethumbtick | scalethumb-vertical | scale-vertical | scrollbarbutton-down | scrollbarbutton-left | scrollbarbutton-right | scrollbarbutton-up | scrollbarthumb-horizontal | scrollbarthumb-vertical | scrollbartrack-horizontal | scrollbartrack-vertical | searchfield | separator | sheet | spinner | spinner-downbutton | spinner-textfield | spinner-upbutton | splitter | statusbar | statusbarpanel | tab | tabpanel | tabpanels | tab-scroll-arrow-back | tab-scroll-arrow-forward | textfield | textfield-multiline | toolbar | toolbarbutton | toolbarbutton-dropdown | toolbargripper | toolbox | tooltip | treeheader | treeheadercell | treeheadersortarrow | treeitem | treeline | treetwisty | treetwistyopen | treeview | -moz-mac-unified-toolbar | -moz-win-borderless-glass | -moz-win-browsertabbar-toolbox | -moz-win-communicationstext | -moz-win-communications-toolbox | -moz-win-exclude-glass | -moz-win-glass | -moz-win-mediatext | -moz-win-media-toolbox | -moz-window-button-box | -moz-window-button-box-maximized | -moz-window-button-close | -moz-window-button-maximize | -moz-window-button-minimize | -moz-window-button-restore | -moz-window-frame-bottom | -moz-window-frame-left | -moz-window-frame-right | -moz-window-titlebar | -moz-window-titlebar-maximized","-ms-appearance":"none | icon | window | desktop | workspace | document | tooltip | dialog | button | push-button | hyperlink | radio | radio-button | checkbox | menu-item | tab | menu | menubar | pull-down-menu | pop-up-menu | list-menu | radio-group | checkbox-group | outline-tree | range | field | combo-box | signature | password | normal","-webkit-appearance":"none | button | button-bevel | caps-lock-indicator | caret | checkbox | default-button | listbox\t| listitem | media-fullscreen-button | media-mute-button | media-play-button | media-seek-back-button\t| media-seek-forward-button\t| media-slider | media-sliderthumb | menulist\t| menulist-button\t| menulist-text\t| menulist-textfield | push-button\t| radio\t| searchfield\t| searchfield-cancel-button\t| searchfield-decoration | searchfield-results-button | searchfield-results-decoration | slider-horizontal | slider-vertical | sliderthumb-horizontal | sliderthumb-vertical\t| square-button\t| textarea\t| textfield\t| scrollbarbutton-down | scrollbarbutton-left | scrollbarbutton-right | scrollbarbutton-up | scrollbargripper-horizontal | scrollbargripper-vertical | scrollbarthumb-horizontal | scrollbarthumb-vertical | scrollbartrack-horizontal | scrollbartrack-vertical","-o-appearance":"none | window | desktop | workspace | document | tooltip | dialog | button | push-button | hyperlink | radio | radio-button | checkbox | menu-item | tab | menu | menubar | pull-down-menu | pop-up-menu | list-menu | radio-group | checkbox-group | outline-tree | range | field | combo-box | signature | password | normal",azimuth:"<azimuth>","backface-visibility":"visible | hidden",background:1,"background-attachment":"<attachment>#","background-clip":"<box>#","background-color":"<color>","background-image":"<bg-image>#","background-origin":"<box>#","background-position":"<bg-position>","background-repeat":"<repeat-style>#","background-size":"<bg-size>#","baseline-shift":"baseline | sub | super | <percentage> | <length>",behavior:1,binding:1,bleed:"<length>","bookmark-label":"<content> | <attr> | <string>","bookmark-level":"none | <integer>","bookmark-state":"open | closed","bookmark-target":"none | <uri> | <attr>",border:"<border-width> || <border-style> || <color>","border-bottom":"<border-width> || <border-style> || <color>","border-bottom-color":"<color>","border-bottom-left-radius":"<x-one-radius>","border-bottom-right-radius":"<x-one-radius>","border-bottom-style":"<border-style>","border-bottom-width":"<border-width>","border-collapse":"collapse | separate","border-color":"<color>{1,4}","border-image":1,"border-image-outset":"[ <length> | <number> ]{1,4}","border-image-repeat":"[ stretch | repeat | round ]{1,2}","border-image-slice":"<border-image-slice>","border-image-source":"<image> | none","border-image-width":"[ <length> | <percentage> | <number> | auto ]{1,4}","border-left":"<border-width> || <border-style> || <color>","border-left-color":"<color>","border-left-style":"<border-style>","border-left-width":"<border-width>","border-radius":"<border-radius>","border-right":"<border-width> || <border-style> || <color>","border-right-color":"<color>","border-right-style":"<border-style>","border-right-width":"<border-width>","border-spacing":"<length>{1,2}","border-style":"<border-style>{1,4}","border-top":"<border-width> || <border-style> || <color>","border-top-color":"<color>","border-top-left-radius":"<x-one-radius>","border-top-right-radius":"<x-one-radius>","border-top-style":"<border-style>","border-top-width":"<border-width>","border-width":"<border-width>{1,4}",bottom:"<margin-width>","-moz-box-align":"start | end | center | baseline | stretch","-moz-box-decoration-break":"slice | clone","-moz-box-direction":"normal | reverse","-moz-box-flex":"<number>","-moz-box-flex-group":"<integer>","-moz-box-lines":"single | multiple","-moz-box-ordinal-group":"<integer>","-moz-box-orient":"horizontal | vertical | inline-axis | block-axis","-moz-box-pack":"start | end | center | justify","-o-box-decoration-break":"slice | clone","-webkit-box-align":"start | end | center | baseline | stretch","-webkit-box-decoration-break":"slice | clone","-webkit-box-direction":"normal | reverse","-webkit-box-flex":"<number>","-webkit-box-flex-group":"<integer>","-webkit-box-lines":"single | multiple","-webkit-box-ordinal-group":"<integer>","-webkit-box-orient":"horizontal | vertical | inline-axis | block-axis","-webkit-box-pack":"start | end | center | justify","box-decoration-break":"slice | clone","box-shadow":"<box-shadow>","box-sizing":"content-box | border-box","break-after":"auto | always | avoid | left | right | page | column | avoid-page | avoid-column","break-before":"auto | always | avoid | left | right | page | column | avoid-page | avoid-column","break-inside":"auto | avoid | avoid-page | avoid-column","caption-side":"top | bottom",clear:"none | right | left | both",clip:"<shape> | auto","-webkit-clip-path":"<clip-source> | <clip-path> | none","clip-path":"<clip-source> | <clip-path> | none","clip-rule":"nonzero | evenodd",color:"<color>","color-interpolation":"auto | sRGB | linearRGB","color-interpolation-filters":"auto | sRGB | linearRGB","color-profile":1,"color-rendering":"auto | optimizeSpeed | optimizeQuality","column-count":"<integer> | auto","column-fill":"auto | balance","column-gap":"<length> | normal","column-rule":"<border-width> || <border-style> || <color>","column-rule-color":"<color>","column-rule-style":"<border-style>","column-rule-width":"<border-width>","column-span":"none | all","column-width":"<length> | auto",columns:1,content:1,"counter-increment":1,"counter-reset":1,crop:"<shape> | auto",cue:"cue-after | cue-before","cue-after":1,"cue-before":1,cursor:1,direction:"ltr | rtl",display:"inline | block | list-item | inline-block | table | inline-table | table-row-group | table-header-group | table-footer-group | table-row | table-column-group | table-column | table-cell | table-caption | grid | inline-grid | run-in | ruby | ruby-base | ruby-text | ruby-base-container | ruby-text-container | contents | none | -moz-box | -moz-inline-block | -moz-inline-box | -moz-inline-grid | -moz-inline-stack | -moz-inline-table | -moz-grid | -moz-grid-group | -moz-grid-line | -moz-groupbox | -moz-deck | -moz-popup | -moz-stack | -moz-marker | -webkit-box | -webkit-inline-box | -ms-flexbox | -ms-inline-flexbox | flex | -webkit-flex | inline-flex | -webkit-inline-flex","dominant-baseline":"auto | use-script | no-change | reset-size | ideographic | alphabetic | hanging | mathematical | central | middle | text-after-edge | text-before-edge","drop-initial-after-adjust":"central | middle | after-edge | text-after-edge | ideographic | alphabetic | mathematical | <percentage> | <length>","drop-initial-after-align":"baseline | use-script | before-edge | text-before-edge | after-edge | text-after-edge | central | middle | ideographic | alphabetic | hanging | mathematical","drop-initial-before-adjust":"before-edge | text-before-edge | central | middle | hanging | mathematical | <percentage> | <length>","drop-initial-before-align":"caps-height | baseline | use-script | before-edge | text-before-edge | after-edge | text-after-edge | central | middle | ideographic | alphabetic | hanging | mathematical","drop-initial-size":"auto | line | <length> | <percentage>","drop-initial-value":"<integer>",elevation:"<angle> | below | level | above | higher | lower","empty-cells":"show | hide","enable-background":1,fill:"<paint>","fill-opacity":"<opacity-value>","fill-rule":"nonzero | evenodd",filter:"<filter-function-list> | none",fit:"fill | hidden | meet | slice","fit-position":1,flex:"<flex>","flex-basis":"<width>","flex-direction":"row | row-reverse | column | column-reverse","flex-flow":"<flex-direction> || <flex-wrap>","flex-grow":"<number>","flex-shrink":"<number>","flex-wrap":"nowrap | wrap | wrap-reverse","-webkit-flex":"<flex>","-webkit-flex-basis":"<width>","-webkit-flex-direction":"row | row-reverse | column | column-reverse","-webkit-flex-flow":"<flex-direction> || <flex-wrap>","-webkit-flex-grow":"<number>","-webkit-flex-shrink":"<number>","-webkit-flex-wrap":"nowrap | wrap | wrap-reverse","-ms-flex":"<flex>","-ms-flex-align":"start | end | center | stretch | baseline","-ms-flex-direction":"row | row-reverse | column | column-reverse","-ms-flex-order":"<number>","-ms-flex-pack":"start | end | center | justify","-ms-flex-wrap":"nowrap | wrap | wrap-reverse",float:"left | right | none","float-offset":1,"flood-color":1,"flood-opacity":"<opacity-value>",font:"<font-shorthand> | caption | icon | menu | message-box | small-caption | status-bar","font-family":"<font-family>","font-feature-settings":"<feature-tag-value> | normal","font-kerning":"auto | normal | none","font-size":"<font-size>","font-size-adjust":"<number> | none","font-stretch":"<font-stretch>","font-style":"<font-style>","font-variant":"<font-variant> | normal | none","font-variant-alternates":"<font-variant-alternates> | normal","font-variant-caps":"<font-variant-caps> | normal","font-variant-east-asian":"<font-variant-east-asian> | normal","font-variant-ligatures":"<font-variant-ligatures> | normal | none","font-variant-numeric":"<font-variant-numeric> | normal","font-variant-position":"normal | sub | super","font-weight":"<font-weight>","glyph-orientation-horizontal":"<glyph-angle>","glyph-orientation-vertical":"auto | <glyph-angle>",grid:1,"grid-area":1,"grid-auto-columns":1,"grid-auto-flow":1,"grid-auto-position":1,"grid-auto-rows":1,"grid-cell-stacking":"columns | rows | layer","grid-column":1,"grid-columns":1,"grid-column-align":"start | end | center | stretch","grid-column-sizing":1,"grid-column-start":1,"grid-column-end":1,"grid-column-span":"<integer>","grid-flow":"none | rows | columns","grid-layer":"<integer>","grid-row":1,"grid-rows":1,"grid-row-align":"start | end | center | stretch","grid-row-start":1,"grid-row-end":1,"grid-row-span":"<integer>","grid-row-sizing":1,"grid-template":1,"grid-template-areas":1,"grid-template-columns":1,"grid-template-rows":1,"hanging-punctuation":1,height:"<margin-width> | <content-sizing>","hyphenate-after":"<integer> | auto","hyphenate-before":"<integer> | auto","hyphenate-character":"<string> | auto","hyphenate-lines":"no-limit | <integer>","hyphenate-resource":1,hyphens:"none | manual | auto",icon:1,"image-orientation":"angle | auto","image-rendering":"auto | optimizeSpeed | optimizeQuality","image-resolution":1,"ime-mode":"auto | normal | active | inactive | disabled","inline-box-align":"last | <integer>","justify-content":"flex-start | flex-end | center | space-between | space-around","-webkit-justify-content":"flex-start | flex-end | center | space-between | space-around",kerning:"auto | <length>",left:"<margin-width>","letter-spacing":"<length> | normal","line-height":"<line-height>","line-break":"auto | loose | normal | strict","line-stacking":1,"line-stacking-ruby":"exclude-ruby | include-ruby","line-stacking-shift":"consider-shifts | disregard-shifts","line-stacking-strategy":"inline-line-height | block-line-height | max-height | grid-height","list-style":1,"list-style-image":"<uri> | none","list-style-position":"inside | outside","list-style-type":"disc | circle | square | decimal | decimal-leading-zero | lower-roman | upper-roman | lower-greek | lower-latin | upper-latin | armenian | georgian | lower-alpha | upper-alpha | none",margin:"<margin-width>{1,4}","margin-bottom":"<margin-width>","margin-left":"<margin-width>","margin-right":"<margin-width>","margin-top":"<margin-width>",mark:1,"mark-after":1,"mark-before":1,marker:1,"marker-end":1,"marker-mid":1,"marker-start":1,marks:1,"marquee-direction":1,"marquee-play-count":1,"marquee-speed":1,"marquee-style":1,mask:1,"max-height":"<length> | <percentage> | <content-sizing> | none","max-width":"<length> | <percentage> | <content-sizing> | none","min-height":"<length> | <percentage> | <content-sizing> | contain-floats | -moz-contain-floats | -webkit-contain-floats","min-width":"<length> | <percentage> | <content-sizing> | contain-floats | -moz-contain-floats | -webkit-contain-floats","move-to":1,"nav-down":1,"nav-index":1,"nav-left":1,"nav-right":1,"nav-up":1,"object-fit":"fill | contain | cover | none | scale-down","object-position":"<position>",opacity:"<opacity-value>",order:"<integer>","-webkit-order":"<integer>",orphans:"<integer>",outline:1,"outline-color":"<color> | invert","outline-offset":1,"outline-style":"<border-style>","outline-width":"<border-width>",overflow:"visible | hidden | scroll | auto","overflow-style":1,"overflow-wrap":"normal | break-word","overflow-x":1,"overflow-y":1,padding:"<padding-width>{1,4}","padding-bottom":"<padding-width>","padding-left":"<padding-width>","padding-right":"<padding-width>","padding-top":"<padding-width>",page:1,"page-break-after":"auto | always | avoid | left | right","page-break-before":"auto | always | avoid | left | right","page-break-inside":"auto | avoid","page-policy":1,pause:1,"pause-after":1,"pause-before":1,perspective:1,"perspective-origin":1,phonemes:1,pitch:1,"pitch-range":1,"play-during":1,"pointer-events":"auto | none | visiblePainted | visibleFill | visibleStroke | visible | painted | fill | stroke | all",position:"static | relative | absolute | fixed","presentation-level":1,"punctuation-trim":1,quotes:1,"rendering-intent":1,resize:1,rest:1,"rest-after":1,"rest-before":1,richness:1,right:"<margin-width>",rotation:1,"rotation-point":1,"ruby-align":1,"ruby-overhang":1,"ruby-position":1,"ruby-span":1,"shape-rendering":"auto | optimizeSpeed | crispEdges | geometricPrecision",size:1,speak:"normal | none | spell-out","speak-header":"once | always","speak-numeral":"digits | continuous","speak-punctuation":"code | none","speech-rate":1,src:1,"stop-color":1,"stop-opacity":"<opacity-value>",stress:1,"string-set":1,stroke:"<paint>","stroke-dasharray":"none | <dasharray>","stroke-dashoffset":"<percentage> | <length>","stroke-linecap":"butt | round | square","stroke-linejoin":"miter | round | bevel","stroke-miterlimit":"<miterlimit>","stroke-opacity":"<opacity-value>","stroke-width":"<percentage> | <length>","table-layout":"auto | fixed","tab-size":"<integer> | <length>",target:1,"target-name":1,"target-new":1,"target-position":1,"text-align":"left | right | center | justify | match-parent | start | end","text-align-last":1,"text-anchor":"start | middle | end","text-decoration":"<text-decoration-line> || <text-decoration-style> || <text-decoration-color>","text-decoration-color":"<text-decoration-color>","text-decoration-line":"<text-decoration-line>","text-decoration-style":"<text-decoration-style>","text-emphasis":1,"text-height":1,"text-indent":"<length> | <percentage>","text-justify":"auto | none | inter-word | inter-ideograph | inter-cluster | distribute | kashida","text-outline":1,"text-overflow":1,"text-rendering":"auto | optimizeSpeed | optimizeLegibility | geometricPrecision","text-shadow":1,"text-transform":"capitalize | uppercase | lowercase | none","text-wrap":"normal | none | avoid",top:"<margin-width>","-ms-touch-action":"auto | none | pan-x | pan-y | pan-left | pan-right | pan-up | pan-down | manipulation","touch-action":"auto | none | pan-x | pan-y | pan-left | pan-right | pan-up | pan-down | manipulation",transform:1,"transform-origin":1,"transform-style":1,transition:1,"transition-delay":1,"transition-duration":1,"transition-property":1,"transition-timing-function":1,"unicode-bidi":"normal | embed | isolate | bidi-override | isolate-override | plaintext","user-modify":"read-only | read-write | write-only","user-select":"none | text | toggle | element | elements | all","vertical-align":"auto | use-script | baseline | sub | super | top | text-top | central | middle | bottom | text-bottom | <percentage> | <length>",visibility:"visible | hidden | collapse","voice-balance":1,"voice-duration":1,"voice-family":1,"voice-pitch":1,"voice-pitch-range":1,"voice-rate":1,"voice-stress":1,"voice-volume":1,volume:1,"white-space":"normal | pre | nowrap | pre-wrap | pre-line | -pre-wrap | -o-pre-wrap | -moz-pre-wrap | -hp-pre-wrap","white-space-collapse":1,widows:"<integer>",width:"<length> | <percentage> | <content-sizing> | auto","will-change":"<will-change>","word-break":"normal | keep-all | break-all","word-spacing":"<length> | normal","word-wrap":"normal | break-word","writing-mode":"horizontal-tb | vertical-rl | vertical-lr | lr-tb | rl-tb | tb-rl | bt-rl | tb-lr | bt-lr | lr-bt | rl-bt | lr | rl | tb","z-index":"<integer> | auto",zoom:"<number> | <percentage> | normal"}},{}],8:[function(e,t,i){t.exports=o;var r=e("../util/SyntaxUnit"),n=e("./Parser");function o(e,t,i,o){r.call(this,e,i,o,n.PROPERTY_NAME_TYPE),this.hack=t}o.prototype=new r,o.prototype.constructor=o,o.prototype.toString=function(){return(this.hack?this.hack:"")+this.text}},{"../util/SyntaxUnit":26,"./Parser":6}],9:[function(e,t,i){t.exports=o;var r=e("../util/SyntaxUnit"),n=e("./Parser");function o(e,t,i){r.call(this,e.join(" "),t,i,n.PROPERTY_VALUE_TYPE),this.parts=e}o.prototype=new r,o.prototype.constructor=o},{"../util/SyntaxUnit":26,"./Parser":6}],10:[function(e,t,i){function r(e){this._i=0,this._parts=e.parts,this._marks=[],this.value=e}t.exports=r,r.prototype.count=function(){return this._parts.length},r.prototype.isFirst=function(){return 0===this._i},r.prototype.hasNext=function(){return this._i<this._parts.length},r.prototype.mark=function(){this._marks.push(this._i)},r.prototype.peek=function(e){return this.hasNext()?this._parts[this._i+(e||0)]:null},r.prototype.next=function(){return this.hasNext()?this._parts[this._i++]:null},r.prototype.previous=function(){return this._i>0?this._parts[--this._i]:null},r.prototype.restore=function(){this._marks.length&&(this._i=this._marks.pop())},r.prototype.drop=function(){this._marks.pop()}},{}],11:[function(e,t,i){t.exports=a;var r=e("../util/SyntaxUnit"),n=e("./Colors"),o=e("./Parser"),s=e("./Tokens");function a(e,t,i,s){var l,u=s||{};if(r.call(this,e,t,i,o.PROPERTY_VALUE_PART_TYPE),this.type="unknown",/^([+\-]?[\d\.]+)([a-z]+)$/i.test(e))switch(this.type="dimension",this.value=+RegExp.$1,this.units=RegExp.$2,this.units.toLowerCase()){case"em":case"rem":case"ex":case"px":case"cm":case"mm":case"in":case"pt":case"pc":case"ch":case"vh":case"vw":case"vmax":case"vmin":this.type="length";break;case"fr":this.type="grid";break;case"deg":case"rad":case"grad":case"turn":this.type="angle";break;case"ms":case"s":this.type="time";break;case"hz":case"khz":this.type="frequency";break;case"dpi":case"dpcm":this.type="resolution"}else/^([+\-]?[\d\.]+)%$/i.test(e)?(this.type="percentage",this.value=+RegExp.$1):/^([+\-]?\d+)$/i.test(e)?(this.type="integer",this.value=+RegExp.$1):/^([+\-]?[\d\.]+)$/i.test(e)?(this.type="number",this.value=+RegExp.$1):/^#([a-f0-9]{3,6})/i.test(e)?(this.type="color",3===(l=RegExp.$1).length?(this.red=parseInt(l.charAt(0)+l.charAt(0),16),this.green=parseInt(l.charAt(1)+l.charAt(1),16),this.blue=parseInt(l.charAt(2)+l.charAt(2),16)):(this.red=parseInt(l.substring(0,2),16),this.green=parseInt(l.substring(2,4),16),this.blue=parseInt(l.substring(4,6),16))):/^rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/i.test(e)?(this.type="color",this.red=+RegExp.$1,this.green=+RegExp.$2,this.blue=+RegExp.$3):/^rgb\(\s*(\d+)%\s*,\s*(\d+)%\s*,\s*(\d+)%\s*\)/i.test(e)?(this.type="color",this.red=255*+RegExp.$1/100,this.green=255*+RegExp.$2/100,this.blue=255*+RegExp.$3/100):/^rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d\.]+)\s*\)/i.test(e)?(this.type="color",this.red=+RegExp.$1,this.green=+RegExp.$2,this.blue=+RegExp.$3,this.alpha=+RegExp.$4):/^rgba\(\s*(\d+)%\s*,\s*(\d+)%\s*,\s*(\d+)%\s*,\s*([\d\.]+)\s*\)/i.test(e)?(this.type="color",this.red=255*+RegExp.$1/100,this.green=255*+RegExp.$2/100,this.blue=255*+RegExp.$3/100,this.alpha=+RegExp.$4):/^hsl\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*\)/i.test(e)?(this.type="color",this.hue=+RegExp.$1,this.saturation=+RegExp.$2/100,this.lightness=+RegExp.$3/100):/^hsla\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*,\s*([\d\.]+)\s*\)/i.test(e)?(this.type="color",this.hue=+RegExp.$1,this.saturation=+RegExp.$2/100,this.lightness=+RegExp.$3/100,this.alpha=+RegExp.$4):/^url\(("([^\\"]|\\.)*")\)/i.test(e)?(this.type="uri",this.uri=a.parseString(RegExp.$1)):/^([^\(]+)\(/i.test(e)?(this.type="function",this.name=RegExp.$1,this.value=e):/^"([^\n\r\f\\"]|\\\r\n|\\[^\r0-9a-f]|\\[0-9a-f]{1,6}(\r\n|[ \n\r\t\f])?)*"/i.test(e)||/^'([^\n\r\f\\']|\\\r\n|\\[^\r0-9a-f]|\\[0-9a-f]{1,6}(\r\n|[ \n\r\t\f])?)*'/i.test(e)?(this.type="string",this.value=a.parseString(e)):n[e.toLowerCase()]?(this.type="color",l=n[e.toLowerCase()].substring(1),this.red=parseInt(l.substring(0,2),16),this.green=parseInt(l.substring(2,4),16),this.blue=parseInt(l.substring(4,6),16)):/^[,\/]$/.test(e)?(this.type="operator",this.value=e):/^-?[a-z_\u00A0-\uFFFF][a-z0-9\-_\u00A0-\uFFFF]*$/i.test(e)&&(this.type="identifier",this.value=e);this.wasIdent=Boolean(u.ident)}a.prototype=new r,a.prototype.constructor=a,a.parseString=function(e){return(e=e.slice(1,-1)).replace(/\\(\r\n|[^\r0-9a-f]|[0-9a-f]{1,6}(\r\n|[ \n\r\t\f])?)/gi,(function(e,t){if(/^(\n|\r\n|\r|\f)$/.test(t))return"";var i=/^[0-9a-f]{1,6}/i.exec(t);if(i){var r=parseInt(i[0],16);return String.fromCodePoint?String.fromCodePoint(r):String.fromCharCode(r)}return t}))},a.serializeString=function(e){return'"'+e.replace(/["\r\n\f]/g,(function(e,t){return'"'===t?"\\"+t:"\\"+(String.codePointAt?String.codePointAt(0):String.charCodeAt(0)).toString(16)+" "}))+'"'},a.fromToken=function(e){return new a(e.value,e.startLine,e.startCol,{ident:e.type===s.IDENT})}},{"../util/SyntaxUnit":26,"./Colors":1,"./Parser":6,"./Tokens":18}],12:[function(e,t,i){var r=t.exports={__proto__:null,":first-letter":1,":first-line":1,":before":1,":after":1};r.ELEMENT=1,r.CLASS=2,r.isElement=function(e){return 0===e.indexOf("::")||r[e.toLowerCase()]===r.ELEMENT}},{}],13:[function(e,t,i){t.exports=s;var r=e("../util/SyntaxUnit"),n=e("./Parser"),o=e("./Specificity");function s(e,t,i){r.call(this,e.join(" "),t,i,n.SELECTOR_TYPE),this.parts=e,this.specificity=o.calculate(this)}s.prototype=new r,s.prototype.constructor=s},{"../util/SyntaxUnit":26,"./Parser":6,"./Specificity":16}],14:[function(e,t,i){t.exports=o;var r=e("../util/SyntaxUnit"),n=e("./Parser");function o(e,t,i,o,s){r.call(this,i,o,s,n.SELECTOR_PART_TYPE),this.elementName=e,this.modifiers=t}o.prototype=new r,o.prototype.constructor=o},{"../util/SyntaxUnit":26,"./Parser":6}],15:[function(e,t,i){t.exports=o;var r=e("../util/SyntaxUnit"),n=e("./Parser");function o(e,t,i,o){r.call(this,e,i,o,n.SELECTOR_SUB_PART_TYPE),this.type=t,this.args=[]}o.prototype=new r,o.prototype.constructor=o},{"../util/SyntaxUnit":26,"./Parser":6}],16:[function(e,t,i){t.exports=o;var r=e("./Pseudos"),n=e("./SelectorPart");function o(e,t,i,r){this.a=e,this.b=t,this.c=i,this.d=r}o.prototype={constructor:o,compare:function(e){var t,i,r=["a","b","c","d"];for(t=0,i=r.length;t<i;t++){if(this[r[t]]<e[r[t]])return-1;if(this[r[t]]>e[r[t]])return 1}return 0},valueOf:function(){return 1e3*this.a+100*this.b+10*this.c+this.d},toString:function(){return this.a+","+this.b+","+this.c+","+this.d}},o.calculate=function(e){var t,i,s,a=0,l=0,u=0;function c(e){var t,i,n,o,s,d=e.elementName?e.elementName.text:"";for(d&&"*"!==d.charAt(d.length-1)&&u++,t=0,n=e.modifiers.length;t<n;t++)switch((s=e.modifiers[t]).type){case"class":case"attribute":l++;break;case"id":a++;break;case"pseudo":r.isElement(s.text)?u++:l++;break;case"not":for(i=0,o=s.args.length;i<o;i++)c(s.args[i])}}for(t=0,i=e.parts.length;t<i;t++)(s=e.parts[t])instanceof n&&c(s);return new o(0,a,l,u)}},{"./Pseudos":12,"./SelectorPart":14}],17:[function(e,t,i){t.exports=O;var r=e("../util/TokenStreamBase"),n=e("./PropertyValuePart"),o=e("./Tokens"),s=/^[0-9a-fA-F]$/,a=/^[\u00A0-\uFFFF]$/,l=/\n|\r\n|\r|\f/,u=/\u0009|\u000a|\u000c|\u000d|\u0020/;function c(e){return null!==e&&s.test(e)}function d(e){return null!==e&&/\d/.test(e)}function h(e){return null!==e&&u.test(e)}function p(e){return null!==e&&l.test(e)}function f(e){return null!==e&&/[a-z_\u00A0-\uFFFF\\]/i.test(e)}function m(e){return null!==e&&(f(e)||/[0-9\-\\]/.test(e))}function g(e){return null!==e&&(f(e)||/\-\\/.test(e))}function O(e){r.call(this,e,o)}O.prototype=function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}(new r,{_getToken:function(){var e,t=this._reader,i=null,r=t.getLine(),n=t.getCol();for(e=t.read();e;){switch(e){case"/":i="*"===t.peek()?this.commentToken(e,r,n):this.charToken(e,r,n);break;case"|":case"~":case"^":case"$":case"*":i="="===t.peek()?this.comparisonToken(e,r,n):this.charToken(e,r,n);break;case'"':case"'":i=this.stringToken(e,r,n);break;case"#":i=m(t.peek())?this.hashToken(e,r,n):this.charToken(e,r,n);break;case".":i=d(t.peek())?this.numberToken(e,r,n):this.charToken(e,r,n);break;case"-":i="-"===t.peek()?this.htmlCommentEndToken(e,r,n):f(t.peek())?this.identOrFunctionToken(e,r,n):this.charToken(e,r,n);break;case"!":i=this.importantToken(e,r,n);break;case"@":i=this.atRuleToken(e,r,n);break;case":":i=this.notToken(e,r,n);break;case"<":i=this.htmlCommentStartToken(e,r,n);break;case"\\":i=/[^\r\n\f]/.test(t.peek())?this.identOrFunctionToken(this.readEscape(e,!0),r,n):this.charToken(e,r,n);break;case"U":case"u":if("+"===t.peek()){i=this.unicodeRangeToken(e,r,n);break}default:i=d(e)?this.numberToken(e,r,n):h(e)?this.whitespaceToken(e,r,n):g(e)?this.identOrFunctionToken(e,r,n):this.charToken(e,r,n)}break}return i||null!==e||(i=this.createToken(o.EOF,null,r,n)),i},createToken:function(e,t,i,r,n){var o=this._reader;return{value:t,type:e,channel:(n=n||{}).channel,endChar:n.endChar,hide:n.hide||!1,startLine:i,startCol:r,endLine:o.getLine(),endCol:o.getCol()}},atRuleToken:function(e,t,i){var r=e,n=this._reader,s=o.CHAR;return n.mark(),r=e+this.readName(),(s=o.type(r.toLowerCase()))!==o.CHAR&&s!==o.UNKNOWN||(r.length>1?s=o.UNKNOWN_SYM:(s=o.CHAR,r=e,n.reset())),this.createToken(s,r,t,i)},charToken:function(e,t,i){var r=o.type(e),n={};return-1===r?r=o.CHAR:n.endChar=o[r].endChar,this.createToken(r,e,t,i,n)},commentToken:function(e,t,i){var r=this.readComment(e);return this.createToken(o.COMMENT,r,t,i)},comparisonToken:function(e,t,i){var r=e+this._reader.read(),n=o.type(r)||o.CHAR;return this.createToken(n,r,t,i)},hashToken:function(e,t,i){var r=this.readName(e);return this.createToken(o.HASH,r,t,i)},htmlCommentStartToken:function(e,t,i){var r=this._reader,n=e;return r.mark(),"\x3c!--"===(n+=r.readCount(3))?this.createToken(o.CDO,n,t,i):(r.reset(),this.charToken(e,t,i))},htmlCommentEndToken:function(e,t,i){var r=this._reader,n=e;return r.mark(),"--\x3e"===(n+=r.readCount(2))?this.createToken(o.CDC,n,t,i):(r.reset(),this.charToken(e,t,i))},identOrFunctionToken:function(e,t,i){var r,n=this._reader,s=this.readName(e),a=o.IDENT;return"("===n.peek()?(s+=n.read(),["url(","url-prefix(","domain("].indexOf(s.toLowerCase())>-1?(n.mark(),null===(r=this.readURI(s))?(n.reset(),a=o.FUNCTION):(a=o.URI,s=r)):a=o.FUNCTION):":"===n.peek()&&"progid"===s.toLowerCase()&&(s+=n.readTo("("),a=o.IE_FUNCTION),this.createToken(a,s,t,i)},importantToken:function(e,t,i){var r,n,s=this._reader,a=e,l=o.CHAR;for(s.mark(),n=s.read();n;){if("/"===n){if("*"!==s.peek())break;if(""===(r=this.readComment(n)))break}else{if(!h(n)){if(/i/i.test(n)){r=s.readCount(8),/mportant/i.test(r)&&(a+=n+r,l=o.IMPORTANT_SYM);break}break}a+=n+this.readWhitespace()}n=s.read()}return l===o.CHAR?(s.reset(),this.charToken(e,t,i)):this.createToken(l,a,t,i)},notToken:function(e,t,i){var r=this._reader,n=e;return r.mark(),":not("===(n+=r.readCount(4)).toLowerCase()?this.createToken(o.NOT,n,t,i):(r.reset(),this.charToken(e,t,i))},numberToken:function(e,t,i){var r,n=this._reader,s=this.readNumber(e),a=o.NUMBER,l=n.peek();return g(l)?(s+=r=this.readName(n.read()),a=/^em$|^ex$|^px$|^gd$|^rem$|^vw$|^vh$|^vmax$|^vmin$|^ch$|^cm$|^mm$|^in$|^pt$|^pc$/i.test(r)?o.LENGTH:/^deg|^rad$|^grad$|^turn$/i.test(r)?o.ANGLE:/^ms$|^s$/i.test(r)?o.TIME:/^hz$|^khz$/i.test(r)?o.FREQ:/^dpi$|^dpcm$/i.test(r)?o.RESOLUTION:o.DIMENSION):"%"===l&&(s+=n.read(),a=o.PERCENTAGE),this.createToken(a,s,t,i)},stringToken:function(e,t,i){for(var r,n=e,s=e,a=this._reader,l=o.STRING,u=a.read();u;){if(s+=u,"\\"===u){if(null===(u=a.read()))break;if(/[^\r\n\f0-9a-f]/i.test(u))s+=u;else{for(r=0;c(u)&&r<6;r++)s+=u,u=a.read();if("\r"===u&&"\n"===a.peek()&&(s+=u,u=a.read()),!h(u))continue;s+=u}}else{if(u===n)break;if(p(a.peek())){l=o.INVALID;break}}u=a.read()}return null===u&&(l=o.INVALID),this.createToken(l,s,t,i)},unicodeRangeToken:function(e,t,i){var r,n=this._reader,s=e,a=o.CHAR;return"+"===n.peek()&&(n.mark(),s+=n.read(),2===(s+=this.readUnicodeRangePart(!0)).length?n.reset():(a=o.UNICODE_RANGE,-1===s.indexOf("?")&&"-"===n.peek()&&(n.mark(),r=n.read(),1===(r+=this.readUnicodeRangePart(!1)).length?n.reset():s+=r))),this.createToken(a,s,t,i)},whitespaceToken:function(e,t,i){var r=e+this.readWhitespace();return this.createToken(o.S,r,t,i)},readUnicodeRangePart:function(e){for(var t=this._reader,i="",r=t.peek();c(r)&&i.length<6;)t.read(),i+=r,r=t.peek();if(e)for(;"?"===r&&i.length<6;)t.read(),i+=r,r=t.peek();return i},readWhitespace:function(){for(var e=this._reader,t="",i=e.peek();h(i);)e.read(),t+=i,i=e.peek();return t},readNumber:function(e){for(var t=this._reader,i=e,r="."===e,n=t.peek();n;){if(d(n))i+=t.read();else{if("."!==n)break;if(r)break;r=!0,i+=t.read()}n=t.peek()}return i},readString:function(){var e=this.stringToken(this._reader.read(),0,0);return e.type===o.INVALID?null:e.value},readURI:function(e){for(var t=this._reader,i=e,r="",o=t.peek();o&&h(o);)t.read(),o=t.peek();for("'"===o||'"'===o?null!==(r=this.readString())&&(r=n.parseString(r)):r=this.readUnquotedURL(),o=t.peek();o&&h(o);)t.read(),o=t.peek();return null===r||")"!==o?i=null:i+=n.serializeString(r)+t.read(),i},readUnquotedURL:function(e){var t,i=this._reader,r=e||"";for(t=i.peek();t;t=i.peek())if(a.test(t)||/^[\-!#$%&*-\[\]-~]$/.test(t))r+=t,i.read();else{if("\\"!==t)break;if(!/^[^\r\n\f]$/.test(i.peek(2)))break;r+=this.readEscape(i.read(),!0)}return r},readName:function(e){var t,i=this._reader,r=e||"";for(t=i.peek();t;t=i.peek())if("\\"===t){if(!/^[^\r\n\f]$/.test(i.peek(2)))break;r+=this.readEscape(i.read(),!0)}else{if(!m(t))break;r+=i.read()}return r},readEscape:function(e,t){var i=this._reader,r=e||"",n=0,o=i.peek();if(c(o))do{r+=i.read(),o=i.peek()}while(o&&c(o)&&++n<6);if(1===r.length){if(!/^[^\r\n\f0-9a-f]$/.test(o))throw new Error("Bad escape sequence.");if(i.read(),t)return o}else"\r"===o?(i.read(),"\n"===i.peek()&&(o+=i.read())):/^[ \t\n\f]$/.test(o)?i.read():o="";if(t){var s=parseInt(r.slice(e.length),16);return String.fromCodePoint?String.fromCodePoint(s):String.fromCharCode(s)}return r+o},readComment:function(e){var t=this._reader,i=e||"",r=t.read();if("*"===r){for(;r;){if((i+=r).length>2&&"*"===r&&"/"===t.peek()){i+=t.read();break}r=t.read()}return i}return""}})},{"../util/TokenStreamBase":27,"./PropertyValuePart":11,"./Tokens":18}],18:[function(e,t,i){var r=t.exports=[{name:"CDO"},{name:"CDC"},{name:"S",whitespace:!0},{name:"COMMENT",comment:!0,hide:!0,channel:"comment"},{name:"INCLUDES",text:"~="},{name:"DASHMATCH",text:"|="},{name:"PREFIXMATCH",text:"^="},{name:"SUFFIXMATCH",text:"$="},{name:"SUBSTRINGMATCH",text:"*="},{name:"STRING"},{name:"IDENT"},{name:"HASH"},{name:"IMPORT_SYM",text:"@import"},{name:"PAGE_SYM",text:"@page"},{name:"MEDIA_SYM",text:"@media"},{name:"FONT_FACE_SYM",text:"@font-face"},{name:"CHARSET_SYM",text:"@charset"},{name:"NAMESPACE_SYM",text:"@namespace"},{name:"SUPPORTS_SYM",text:"@supports"},{name:"VIEWPORT_SYM",text:["@viewport","@-ms-viewport","@-o-viewport"]},{name:"DOCUMENT_SYM",text:["@document","@-moz-document"]},{name:"UNKNOWN_SYM"},{name:"KEYFRAMES_SYM",text:["@keyframes","@-webkit-keyframes","@-moz-keyframes","@-o-keyframes"]},{name:"IMPORTANT_SYM"},{name:"LENGTH"},{name:"ANGLE"},{name:"TIME"},{name:"FREQ"},{name:"DIMENSION"},{name:"PERCENTAGE"},{name:"NUMBER"},{name:"URI"},{name:"FUNCTION"},{name:"UNICODE_RANGE"},{name:"INVALID"},{name:"PLUS",text:"+"},{name:"GREATER",text:">"},{name:"COMMA",text:","},{name:"TILDE",text:"~"},{name:"NOT"},{name:"TOPLEFTCORNER_SYM",text:"@top-left-corner"},{name:"TOPLEFT_SYM",text:"@top-left"},{name:"TOPCENTER_SYM",text:"@top-center"},{name:"TOPRIGHT_SYM",text:"@top-right"},{name:"TOPRIGHTCORNER_SYM",text:"@top-right-corner"},{name:"BOTTOMLEFTCORNER_SYM",text:"@bottom-left-corner"},{name:"BOTTOMLEFT_SYM",text:"@bottom-left"},{name:"BOTTOMCENTER_SYM",text:"@bottom-center"},{name:"BOTTOMRIGHT_SYM",text:"@bottom-right"},{name:"BOTTOMRIGHTCORNER_SYM",text:"@bottom-right-corner"},{name:"LEFTTOP_SYM",text:"@left-top"},{name:"LEFTMIDDLE_SYM",text:"@left-middle"},{name:"LEFTBOTTOM_SYM",text:"@left-bottom"},{name:"RIGHTTOP_SYM",text:"@right-top"},{name:"RIGHTMIDDLE_SYM",text:"@right-middle"},{name:"RIGHTBOTTOM_SYM",text:"@right-bottom"},{name:"RESOLUTION",state:"media"},{name:"IE_FUNCTION"},{name:"CHAR"},{name:"PIPE",text:"|"},{name:"SLASH",text:"/"},{name:"MINUS",text:"-"},{name:"STAR",text:"*"},{name:"LBRACE",endChar:"}",text:"{"},{name:"RBRACE",text:"}"},{name:"LBRACKET",endChar:"]",text:"["},{name:"RBRACKET",text:"]"},{name:"EQUALS",text:"="},{name:"COLON",text:":"},{name:"SEMICOLON",text:";"},{name:"LPAREN",endChar:")",text:"("},{name:"RPAREN",text:")"},{name:"DOT",text:"."}];!function(){var e=[],t=Object.create(null);r.UNKNOWN=-1,r.unshift({name:"EOF"});for(var i=0,n=r.length;i<n;i++)if(e.push(r[i].name),r[r[i].name]=i,r[i].text)if(r[i].text instanceof Array)for(var o=0;o<r[i].text.length;o++)t[r[i].text[o]]=i;else t[r[i].text]=i;r.name=function(t){return e[t]},r.type=function(e){return t[e]||-1}}()},{}],19:[function(e,t,i){var r=e("./Matcher"),n=e("./Properties"),o=e("./ValidationTypes"),s=e("./ValidationError"),a=e("./PropertyValueIterator");t.exports={validate:function(e,t){var i,r=e.toString().toLowerCase(),l=new a(t),u=n[r];if(u){if("number"!=typeof u){if(o.isAny(l,"inherit | initial | unset")){if(l.hasNext())throw i=l.next(),new s("Expected end of value but found '"+i+"'.",i.line,i.col);return}this.singleProperty(u,l)}}else if(0!==r.indexOf("-"))throw new s("Unknown property '"+e+"'.",e.line,e.col)},singleProperty:function(e,t){var i,n=t.value;if(!r.parse(e).match(t))throw t.hasNext()&&!t.isFirst()?(i=t.peek(),new s("Expected end of value but found '"+i+"'.",i.line,i.col)):new s("Expected ("+o.describe(e)+") but found '"+n+"'.",n.line,n.col);if(t.hasNext())throw i=t.next(),new s("Expected end of value but found '"+i+"'.",i.line,i.col)}}},{"./Matcher":3,"./Properties":7,"./PropertyValueIterator":10,"./ValidationError":20,"./ValidationTypes":21}],20:[function(e,t,i){function r(e,t,i){this.col=i,this.line=t,this.message=e}t.exports=r,r.prototype=new Error},{}],21:[function(e,t,i){var r,n,o=t.exports,s=e("./Matcher");r=o,n={isLiteral:function(e,t){var i,r,n=e.text.toString().toLowerCase(),o=t.split(" | "),s=!1;for(i=0,r=o.length;i<r&&!s;i++)"<"===o[i].charAt(0)?s=this.simple[o[i]](e):"()"===o[i].slice(-2)?s="function"===e.type&&e.name===o[i].slice(0,-2):n===o[i].toLowerCase()&&(s=!0);return s},isSimple:function(e){return Boolean(this.simple[e])},isComplex:function(e){return Boolean(this.complex[e])},describe:function(e){return this.complex[e]instanceof s?this.complex[e].toString(0):e},isAny:function(e,t){var i,r,n=t.split(" | "),o=!1;for(i=0,r=n.length;i<r&&!o&&e.hasNext();i++)o=this.isType(e,n[i]);return o},isAnyOfGroup:function(e,t){var i,r,n=t.split(" || "),o=!1;for(i=0,r=n.length;i<r&&!o;i++)o=this.isType(e,n[i]);return!!o&&n[i-1]},isType:function(e,t){var i=e.peek(),r=!1;return"<"!==t.charAt(0)?(r=this.isLiteral(i,t))&&e.next():this.simple[t]?(r=this.simple[t](i))&&e.next():r=this.complex[t]instanceof s?this.complex[t].match(e):this.complex[t](e),r},simple:{__proto__:null,"<absolute-size>":"xx-small | x-small | small | medium | large | x-large | xx-large","<animateable-feature>":"scroll-position | contents | <animateable-feature-name>","<animateable-feature-name>":function(e){return this["<ident>"](e)&&!/^(unset|initial|inherit|will-change|auto|scroll-position|contents)$/i.test(e)},"<angle>":function(e){return"angle"===e.type},"<attachment>":"scroll | fixed | local","<attr>":"attr()","<basic-shape>":"inset() | circle() | ellipse() | polygon()","<bg-image>":"<image> | <gradient> | none","<border-style>":"none | hidden | dotted | dashed | solid | double | groove | ridge | inset | outset","<border-width>":"<length> | thin | medium | thick","<box>":"padding-box | border-box | content-box","<clip-source>":"<uri>","<color>":function(e){return"color"===e.type||"transparent"===String(e)||"currentColor"===String(e)},"<color-svg>":function(e){return"color"===e.type},"<content>":"content()","<content-sizing>":"fill-available | -moz-available | -webkit-fill-available | max-content | -moz-max-content | -webkit-max-content | min-content | -moz-min-content | -webkit-min-content | fit-content | -moz-fit-content | -webkit-fit-content","<feature-tag-value>":function(e){return"function"===e.type&&/^[A-Z0-9]{4}$/i.test(e)},"<filter-function>":"blur() | brightness() | contrast() | custom() | drop-shadow() | grayscale() | hue-rotate() | invert() | opacity() | saturate() | sepia()","<flex-basis>":"<width>","<flex-direction>":"row | row-reverse | column | column-reverse","<flex-grow>":"<number>","<flex-shrink>":"<number>","<flex-wrap>":"nowrap | wrap | wrap-reverse","<font-size>":"<absolute-size> | <relative-size> | <length> | <percentage>","<font-stretch>":"normal | ultra-condensed | extra-condensed | condensed | semi-condensed | semi-expanded | expanded | extra-expanded | ultra-expanded","<font-style>":"normal | italic | oblique","<font-variant-caps>":"small-caps | all-small-caps | petite-caps | all-petite-caps | unicase | titling-caps","<font-variant-css21>":"normal | small-caps","<font-weight>":"normal | bold | bolder | lighter | 100 | 200 | 300 | 400 | 500 | 600 | 700 | 800 | 900","<generic-family>":"serif | sans-serif | cursive | fantasy | monospace","<geometry-box>":"<shape-box> | fill-box | stroke-box | view-box","<glyph-angle>":function(e){return"angle"===e.type&&"deg"===e.units},"<gradient>":function(e){return"function"===e.type&&/^(?:\-(?:ms|moz|o|webkit)\-)?(?:repeating\-)?(?:radial\-|linear\-)?gradient/i.test(e)},"<icccolor>":"cielab() | cielch() | cielchab() | icc-color() | icc-named-color()","<ident>":function(e){return"identifier"===e.type||e.wasIdent},"<ident-not-generic-family>":function(e){return this["<ident>"](e)&&!this["<generic-family>"](e)},"<image>":"<uri>","<integer>":function(e){return"integer"===e.type},"<length>":function(e){return!("function"!==e.type||!/^(?:\-(?:ms|moz|o|webkit)\-)?calc/i.test(e))||"length"===e.type||"number"===e.type||"integer"===e.type||"0"===String(e)},"<line>":function(e){return"integer"===e.type},"<line-height>":"<number> | <length> | <percentage> | normal","<margin-width>":"<length> | <percentage> | auto","<miterlimit>":function(e){return this["<number>"](e)&&e.value>=1},"<nonnegative-length-or-percentage>":function(e){return(this["<length>"](e)||this["<percentage>"](e))&&("0"===String(e)||"function"===e.type||e.value>=0)},"<nonnegative-number-or-percentage>":function(e){return(this["<number>"](e)||this["<percentage>"](e))&&("0"===String(e)||"function"===e.type||e.value>=0)},"<number>":function(e){return"number"===e.type||this["<integer>"](e)},"<opacity-value>":function(e){return this["<number>"](e)&&e.value>=0&&e.value<=1},"<padding-width>":"<nonnegative-length-or-percentage>","<percentage>":function(e){return"percentage"===e.type||"0"===String(e)},"<relative-size>":"smaller | larger","<shape>":"rect() | inset-rect()","<shape-box>":"<box> | margin-box","<single-animation-direction>":"normal | reverse | alternate | alternate-reverse","<single-animation-name>":function(e){return this["<ident>"](e)&&/^-?[a-z_][-a-z0-9_]+$/i.test(e)&&!/^(none|unset|initial|inherit)$/i.test(e)},"<string>":function(e){return"string"===e.type},"<time>":function(e){return"time"===e.type},"<uri>":function(e){return"uri"===e.type},"<width>":"<margin-width>"},complex:{__proto__:null,"<azimuth>":"<angle> | [ [ left-side | far-left | left | center-left | center | center-right | right | far-right | right-side ] || behind ] | leftwards | rightwards","<bg-position>":"<position>#","<bg-size>":"[ <length> | <percentage> | auto ]{1,2} | cover | contain","<border-image-slice>":s.many([!0],s.cast("<nonnegative-number-or-percentage>"),s.cast("<nonnegative-number-or-percentage>"),s.cast("<nonnegative-number-or-percentage>"),s.cast("<nonnegative-number-or-percentage>"),"fill"),"<border-radius>":"<nonnegative-length-or-percentage>{1,4} [ / <nonnegative-length-or-percentage>{1,4} ]?","<box-shadow>":"none | <shadow>#","<clip-path>":"<basic-shape> || <geometry-box>","<dasharray>":s.cast("<nonnegative-length-or-percentage>").braces(1,1/0,"#",s.cast(",").question()),"<family-name>":"<string> | <ident-not-generic-family> <ident>*","<filter-function-list>":"[ <filter-function> | <uri> ]+","<flex>":"none | [ <flex-grow> <flex-shrink>? || <flex-basis> ]","<font-family>":"[ <generic-family> | <family-name> ]#","<font-shorthand>":"[ <font-style> || <font-variant-css21> || <font-weight> || <font-stretch> ]? <font-size> [ / <line-height> ]? <font-family>","<font-variant-alternates>":"stylistic() || historical-forms || styleset() || character-variant() || swash() || ornaments() || annotation()","<font-variant-ligatures>":"[ common-ligatures | no-common-ligatures ] || [ discretionary-ligatures | no-discretionary-ligatures ] || [ historical-ligatures | no-historical-ligatures ] || [ contextual | no-contextual ]","<font-variant-numeric>":"[ lining-nums | oldstyle-nums ] || [ proportional-nums | tabular-nums ] || [ diagonal-fractions | stacked-fractions ] || ordinal || slashed-zero","<font-variant-east-asian>":"[ jis78 | jis83 | jis90 | jis04 | simplified | traditional ] || [ full-width | proportional-width ] || ruby","<paint>":"<paint-basic> | <uri> <paint-basic>?","<paint-basic>":"none | currentColor | <color-svg> <icccolor>?","<position>":"[ center | [ left | right ] [ <percentage> | <length> ]? ] && [ center | [ top | bottom ] [ <percentage> | <length> ]? ] | [ left | center | right | <percentage> | <length> ] [ top | center | bottom | <percentage> | <length> ] | [ left | center | right | top | bottom | <percentage> | <length> ]","<repeat-style>":"repeat-x | repeat-y | [ repeat | space | round | no-repeat ]{1,2}","<shadow>":s.many([!0],s.cast("<length>").braces(2,4),"inset","<color>"),"<text-decoration-color>":"<color>","<text-decoration-line>":"none | [ underline || overline || line-through || blink ]","<text-decoration-style>":"solid | double | dotted | dashed | wavy","<will-change>":"auto | <animateable-feature>#","<x-one-radius>":"[ <length> | <percentage> ]{1,2}"}},Object.keys(n).forEach((function(e){r[e]=n[e]})),Object.keys(o.simple).forEach((function(e){var t=o.simple[e];"string"==typeof t&&(o.simple[e]=function(e){return o.isLiteral(e,t)})})),Object.keys(o.complex).forEach((function(e){var t=o.complex[e];"string"==typeof t&&(o.complex[e]=s.parse(t))})),o.complex["<font-variant>"]=s.oror({expand:"<font-variant-ligatures>"},{expand:"<font-variant-alternates>"},"<font-variant-caps>",{expand:"<font-variant-numeric>"},{expand:"<font-variant-east-asian>"})},{"./Matcher":3}],22:[function(e,t,i){t.exports={Colors:e("./Colors"),Combinator:e("./Combinator"),Parser:e("./Parser"),PropertyName:e("./PropertyName"),PropertyValue:e("./PropertyValue"),PropertyValuePart:e("./PropertyValuePart"),Matcher:e("./Matcher"),MediaFeature:e("./MediaFeature"),MediaQuery:e("./MediaQuery"),Selector:e("./Selector"),SelectorPart:e("./SelectorPart"),SelectorSubPart:e("./SelectorSubPart"),Specificity:e("./Specificity"),TokenStream:e("./TokenStream"),Tokens:e("./Tokens"),ValidationError:e("./ValidationError")}},{"./Colors":1,"./Combinator":2,"./Matcher":3,"./MediaFeature":4,"./MediaQuery":5,"./Parser":6,"./PropertyName":8,"./PropertyValue":9,"./PropertyValuePart":11,"./Selector":13,"./SelectorPart":14,"./SelectorSubPart":15,"./Specificity":16,"./TokenStream":17,"./Tokens":18,"./ValidationError":20}],23:[function(e,t,i){function r(){this._listeners=Object.create(null)}t.exports=r,r.prototype={constructor:r,addListener:function(e,t){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t)},fire:function(e){if("string"==typeof e&&(e={type:e}),void 0!==e.target&&(e.target=this),void 0===e.type)throw new Error("Event object missing 'type' property.");if(this._listeners[e.type])for(var t=this._listeners[e.type].concat(),i=0,r=t.length;i<r;i++)t[i].call(this,e)},removeListener:function(e,t){if(this._listeners[e])for(var i=this._listeners[e],r=0,n=i.length;r<n;r++)if(i[r]===t){i.splice(r,1);break}}}},{}],24:[function(e,t,i){function r(e){this._input=e.replace(/(\r\n?|\n)/g,"\n"),this._line=1,this._col=1,this._cursor=0}t.exports=r,r.prototype={constructor:r,getCol:function(){return this._col},getLine:function(){return this._line},eof:function(){return this._cursor===this._input.length},peek:function(e){var t=null;return e=void 0===e?1:e,this._cursor<this._input.length&&(t=this._input.charAt(this._cursor+e-1)),t},read:function(){var e=null;return this._cursor<this._input.length&&("\n"===this._input.charAt(this._cursor)?(this._line++,this._col=1):this._col++,e=this._input.charAt(this._cursor++)),e},mark:function(){this._bookmark={cursor:this._cursor,line:this._line,col:this._col}},reset:function(){this._bookmark&&(this._cursor=this._bookmark.cursor,this._line=this._bookmark.line,this._col=this._bookmark.col,delete this._bookmark)},readTo:function(e){for(var t,i="";i.length<e.length||i.lastIndexOf(e)!==i.length-e.length;){if(!(t=this.read()))throw new Error('Expected "'+e+'" at line '+this._line+", col "+this._col+".");i+=t}return i},readWhile:function(e){for(var t="",i=this.peek();null!==i&&e(i);)t+=this.read(),i=this.peek();return t},readMatch:function(e){var t=this._input.substring(this._cursor),i=null;return"string"==typeof e?t.slice(0,e.length)===e&&(i=this.readCount(e.length)):e instanceof RegExp&&e.test(t)&&(i=this.readCount(RegExp.lastMatch.length)),i},readCount:function(e){for(var t="";e--;)t+=this.read();return t}}},{}],25:[function(e,t,i){function r(e,t,i){Error.call(this),this.name=this.constructor.name,this.col=i,this.line=t,this.message=e}t.exports=r,r.prototype=Object.create(Error.prototype),r.prototype.constructor=r},{}],26:[function(e,t,i){function r(e,t,i,r){this.col=i,this.line=t,this.text=e,this.type=r}t.exports=r,r.fromToken=function(e){return new r(e.value,e.startLine,e.startCol)},r.prototype={constructor:r,valueOf:function(){return this.toString()},toString:function(){return this.text}}},{}],27:[function(e,t,i){t.exports=o;var r=e("./StringReader"),n=e("./SyntaxError");function o(e,t){this._reader=new r(e?e.toString():""),this._token=null,this._tokenData=t,this._lt=[],this._ltIndex=0,this._ltIndexCache=[]}o.createTokenData=function(e){var t=[],i=Object.create(null),r=e.concat([]),n=0,o=r.length+1;for(r.UNKNOWN=-1,r.unshift({name:"EOF"});n<o;n++)t.push(r[n].name),r[r[n].name]=n,r[n].text&&(i[r[n].text]=n);return r.name=function(e){return t[e]},r.type=function(e){return i[e]},r},o.prototype={constructor:o,match:function(e,t){e instanceof Array||(e=[e]);for(var i=this.get(t),r=0,n=e.length;r<n;)if(i===e[r++])return!0;return this.unget(),!1},mustMatch:function(e){var t;if(e instanceof Array||(e=[e]),!this.match.apply(this,arguments))throw t=this.LT(1),new n("Expected "+this._tokenData[e[0]].name+" at line "+t.startLine+", col "+t.startCol+".",t.startLine,t.startCol)},advance:function(e,t){for(;0!==this.LA(0)&&!this.match(e,t);)this.get();return this.LA(0)},get:function(e){var t,i,r=this._tokenData,n=0;if(this._lt.length&&this._ltIndex>=0&&this._ltIndex<this._lt.length){for(n++,this._token=this._lt[this._ltIndex++],i=r[this._token.type];void 0!==i.channel&&e!==i.channel&&this._ltIndex<this._lt.length;)this._token=this._lt[this._ltIndex++],i=r[this._token.type],n++;if((void 0===i.channel||e===i.channel)&&this._ltIndex<=this._lt.length)return this._ltIndexCache.push(n),this._token.type}return(t=this._getToken()).type>-1&&!r[t.type].hide&&(t.channel=r[t.type].channel,this._token=t,this._lt.push(t),this._ltIndexCache.push(this._lt.length-this._ltIndex+n),this._lt.length>5&&this._lt.shift(),this._ltIndexCache.length>5&&this._ltIndexCache.shift(),this._ltIndex=this._lt.length),(i=r[t.type])&&(i.hide||void 0!==i.channel&&e!==i.channel)?this.get(e):t.type},LA:function(e){var t,i=e;if(e>0){if(e>5)throw new Error("Too much lookahead.");for(;i;)t=this.get(),i--;for(;i<e;)this.unget(),i++}else if(e<0){if(!this._lt[this._ltIndex+e])throw new Error("Too much lookbehind.");t=this._lt[this._ltIndex+e].type}else t=this._token.type;return t},LT:function(e){return this.LA(e),this._lt[this._ltIndex+e-1]},peek:function(){return this.LA(1)},token:function(){return this._token},tokenName:function(e){return e<0||e>this._tokenData.length?"UNKNOWN_TOKEN":this._tokenData[e].name},tokenType:function(e){return this._tokenData[e]||-1},unget:function(){if(!this._ltIndexCache.length)throw new Error("Too much lookahead.");this._ltIndex-=this._ltIndexCache.pop(),this._token=this._lt[this._ltIndex-1]}}},{"./StringReader":24,"./SyntaxError":25}],28:[function(e,t,i){t.exports={StringReader:e("./StringReader"),SyntaxError:e("./SyntaxError"),SyntaxUnit:e("./SyntaxUnit"),EventTarget:e("./EventTarget"),TokenStreamBase:e("./TokenStreamBase")}},{"./EventTarget":23,"./StringReader":24,"./SyntaxError":25,"./SyntaxUnit":26,"./TokenStreamBase":27}],parserlib:[function(e,t,i){t.exports={css:e("./css"),util:e("./util")}},{"./css":22,"./util":28}]},{},[]))("parserlib"),r=function(){var e,t,i;try{e=Map}catch(t){e=function(){}}try{t=Set}catch(e){t=function(){}}try{i=Promise}catch(e){i=function(){}}function r(n,s,a,l,u){"object"==typeof s&&(a=s.depth,l=s.prototype,u=s.includeNonEnumerable,s=s.circular);var c=[],d=[],h="undefined"!=typeof Buffer;return void 0===s&&(s=!0),void 0===a&&(a=1/0),function n(a,p){if(null===a)return null;if(0===p)return a;var f,m;if("object"!=typeof a)return a;if(a instanceof e)f=new e;else if(a instanceof t)f=new t;else if(a instanceof i)f=new i((function(e,t){a.then((function(t){e(n(t,p-1))}),(function(e){t(n(e,p-1))}))}));else if(r.__isArray(a))f=[];else if(r.__isRegExp(a))f=new RegExp(a.source,o(a)),a.lastIndex&&(f.lastIndex=a.lastIndex);else if(r.__isDate(a))f=new Date(a.getTime());else{if(h&&Buffer.isBuffer(a))return f=new Buffer(a.length),a.copy(f),f;a instanceof Error?f=Object.create(a):void 0===l?(m=Object.getPrototypeOf(a),f=Object.create(m)):(f=Object.create(l),m=l)}if(s){var g=c.indexOf(a);if(-1!=g)return d[g];c.push(a),d.push(f)}if(a instanceof e)for(var O=a.keys();;){if((v=O.next()).done)break;var b=n(v.value,p-1),S=n(a.get(v.value),p-1);f.set(b,S)}if(a instanceof t)for(var y=a.keys();;){var v;if((v=y.next()).done)break;var w=n(v.value,p-1);f.add(w)}for(var x in a){var k;m&&(k=Object.getOwnPropertyDescriptor(m,x)),k&&null==k.set||(f[x]=n(a[x],p-1))}if(Object.getOwnPropertySymbols){var V=Object.getOwnPropertySymbols(a);for(x=0;x<V.length;x++){var C=V[x];(!($=Object.getOwnPropertyDescriptor(a,C))||$.enumerable||u)&&(f[C]=n(a[C],p-1),$.enumerable||Object.defineProperty(f,C,{enumerable:!1}))}}if(u){var T=Object.getOwnPropertyNames(a);for(x=0;x<T.length;x++){var $,P=T[x];($=Object.getOwnPropertyDescriptor(a,P))&&$.enumerable||(f[P]=n(a[P],p-1),Object.defineProperty(f,P,{enumerable:!1}))}}return f}(n,a)}function n(e){return Object.prototype.toString.call(e)}function o(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return r.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},r.__objToStr=n,r.__isDate=function(e){return"object"==typeof e&&"[object Date]"===n(e)},r.__isArray=function(e){return"object"==typeof e&&"[object Array]"===n(e)},r.__isRegExp=function(e){return"object"==typeof e&&"[object RegExp]"===n(e)},r.__getRegExpFlags=o,r}();"object"==typeof t&&t.exports&&(t.exports=r);var n,o,s,a,l,u=(n=[],o=[],s=/\/\*\s*csslint([^\*]*)\*\//,(a=new i.util.EventTarget).version="1.0.4",a.addRule=function(e){n.push(e),n[e.id]=e},a.clearRules=function(){n=[]},a.getRules=function(){return[].concat(n).sort((function(e,t){return e.id>t.id?1:0}))},a.getRuleset=function(){for(var e={},t=0,i=n.length;t<i;)e[n[t++].id]=1;return e},a.addFormatter=function(e){o[e.id]=e},a.getFormatter=function(e){return o[e]},a.format=function(e,t,i,r){var n=this.getFormatter(i),o=null;return n&&(o=n.startFormat(),o+=n.formatResults(e,t,r||{}),o+=n.endFormat()),o},a.hasFormat=function(e){return o.hasOwnProperty(e)},a.verify=function(e,t){var o,a,l,d=0,h={},p=[],f=new i.css.Parser({starHack:!0,ieFilters:!0,underscoreHack:!0,strict:!1});a=e.replace(/\n\r?/g,"$split$").split("$split$"),u.Util.forEach(a,(function(e,t){var i=e&&e.match(/\/\*[ \t]*csslint[ \t]+allow:[ \t]*([^\*]*)\*\//i),r=i&&i[1],n={};r&&(r.toLowerCase().split(",").forEach((function(e){n[e.trim()]=!0})),Object.keys(n).length>0&&(h[t+1]=n))}));var m=null,g=null;for(d in u.Util.forEach(a,(function(e,t){null===m&&e.match(/\/\*[ \t]*csslint[ \t]+ignore:start[ \t]*\*\//i)&&(m=t),e.match(/\/\*[ \t]*csslint[ \t]+ignore:end[ \t]*\*\//i)&&(g=t),null!==m&&null!==g&&(p.push([m,g]),m=g=null)})),null!==m&&p.push([m,a.length]),t||(t=this.getRuleset()),s.test(e)&&(t=function(e,t){var i,r=e&&e.match(s),n=r&&r[1];return n&&(i={true:2,"":1,false:0,2:2,1:1,0:0},n.toLowerCase().split(",").forEach((function(e){var r=e.split(":"),n=r[0]||"",o=r[1]||"";t[n.trim()]=i[o.trim()]}))),t}(e,t=r(t))),o=new c(a,t,h,p),t.errors=2,t)t.hasOwnProperty(d)&&t[d]&&n[d]&&n[d].init(f,o);try{f.parse(e)}catch(e){o.error("Fatal error, cannot continue: "+e.message,e.line,e.col,{})}return(l={messages:o.messages,stats:o.stats,ruleset:o.ruleset,allow:o.allow,ignore:o.ignore}).messages.sort((function(e,t){return e.rollup&&!t.rollup?1:!e.rollup&&t.rollup?-1:e.line-t.line})),l},a);function c(e,t,i,r){this.messages=[],this.stats=[],this.lines=e,this.ruleset=t,this.allow=i,this.allow||(this.allow={}),this.ignore=r,this.ignore||(this.ignore=[])}c.prototype={constructor:c,error:function(e,t,i,r){this.messages.push({type:"error",line:t,col:i,message:e,evidence:this.lines[t-1],rule:r||{}})},warn:function(e,t,i,r){this.report(e,t,i,r)},report:function(e,t,i,r){if(!this.allow.hasOwnProperty(t)||!this.allow[t].hasOwnProperty(r.id)){var n=!1;u.Util.forEach(this.ignore,(function(e){e[0]<=t&&t<=e[1]&&(n=!0)})),n||this.messages.push({type:2===this.ruleset[r.id]?"error":"warning",line:t,col:i,message:e,evidence:this.lines[t-1],rule:r})}},info:function(e,t,i,r){this.messages.push({type:"info",line:t,col:i,message:e,evidence:this.lines[t-1],rule:r})},rollupError:function(e,t){this.messages.push({type:"error",rollup:!0,message:e,rule:t})},rollupWarn:function(e,t){this.messages.push({type:"warning",rollup:!0,message:e,rule:t})},stat:function(e,t){this.stats[e]=t}},u._Reporter=c,u.Util={mix:function(e,t){var i;for(i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return i},indexOf:function(e,t){if(e.indexOf)return e.indexOf(t);for(var i=0,r=e.length;i<r;i++)if(e[i]===t)return i;return-1},forEach:function(e,t){if(e.forEach)return e.forEach(t);for(var i=0,r=e.length;i<r;i++)t(e[i],i,e)}},u.addRule({id:"adjoining-classes",name:"Disallow adjoining classes",desc:"Don't use adjoining classes.",url:"https://github.com/CSSLint/csslint/wiki/Disallow-adjoining-classes",browsers:"IE6",init:function(e,t){var i=this;e.addListener("startrule",(function(r){var n,o,s,a,l,u,c=r.selectors;for(a=0;a<c.length;a++)for(n=c[a],l=0;l<n.parts.length;l++)if((o=n.parts[l]).type===e.SELECTOR_PART_TYPE)for(s=0,u=0;u<o.modifiers.length;u++)"class"===o.modifiers[u].type&&s++,s>1&&t.report("Adjoining classes: "+c[a].text,o.line,o.col,i)}))}}),u.addRule({id:"box-model",name:"Beware of broken box size",desc:"Don't use width or height when using padding or border.",url:"https://github.com/CSSLint/csslint/wiki/Beware-of-box-model-size",browsers:"All",init:function(e,t){var i,r=this,n={border:1,"border-left":1,"border-right":1,padding:1,"padding-left":1,"padding-right":1},o={border:1,"border-bottom":1,"border-top":1,padding:1,"padding-bottom":1,"padding-top":1},s=!1;function a(){i={},s=!1}function l(){var e,a;if(!s){if(i.height)for(e in o)o.hasOwnProperty(e)&&i[e]&&(a=i[e].value,"padding"===e&&2===a.parts.length&&0===a.parts[0].value||t.report("Using height with "+e+" can sometimes make elements larger than you expect.",i[e].line,i[e].col,r));if(i.width)for(e in n)n.hasOwnProperty(e)&&i[e]&&(a=i[e].value,"padding"===e&&2===a.parts.length&&0===a.parts[1].value||t.report("Using width with "+e+" can sometimes make elements larger than you expect.",i[e].line,i[e].col,r))}}e.addListener("startrule",a),e.addListener("startfontface",a),e.addListener("startpage",a),e.addListener("startpagemargin",a),e.addListener("startkeyframerule",a),e.addListener("startviewport",a),e.addListener("property",(function(e){var t=e.property.text.toLowerCase();o[t]||n[t]?/^0\S*$/.test(e.value)||"border"===t&&"none"===e.value.toString()||(i[t]={line:e.property.line,col:e.property.col,value:e.value}):/^(width|height)/i.test(t)&&/^(length|percentage)/.test(e.value.parts[0].type)?i[t]=1:"box-sizing"===t&&(s=!0)})),e.addListener("endrule",l),e.addListener("endfontface",l),e.addListener("endpage",l),e.addListener("endpagemargin",l),e.addListener("endkeyframerule",l),e.addListener("endviewport",l)}}),u.addRule({id:"box-sizing",name:"Disallow use of box-sizing",desc:"The box-sizing properties isn't supported in IE6 and IE7.",url:"https://github.com/CSSLint/csslint/wiki/Disallow-box-sizing",browsers:"IE6, IE7",tags:["Compatibility"],init:function(e,t){var i=this;e.addListener("property",(function(e){"box-sizing"===e.property.text.toLowerCase()&&t.report("The box-sizing property isn't supported in IE6 and IE7.",e.line,e.col,i)}))}}),u.addRule({id:"bulletproof-font-face",name:"Use the bulletproof @font-face syntax",desc:"Use the bulletproof @font-face syntax to avoid 404's in old IE (http://www.fontspring.com/blog/the-new-bulletproof-font-face-syntax).",url:"https://github.com/CSSLint/csslint/wiki/Bulletproof-font-face",browsers:"All",init:function(e,t){var i,r,n=this,o=!1,s=!0,a=!1;e.addListener("startfontface",(function(){o=!0})),e.addListener("property",(function(e){if(o){var t=e.property.toString().toLowerCase(),n=e.value.toString();if(i=e.line,r=e.col,"src"===t){var l=/^\s?url\(['"].+\.eot\?.*['"]\)\s*format\(['"]embedded-opentype['"]\).*$/i;!n.match(l)&&s?(a=!0,s=!1):n.match(l)&&!s&&(a=!1)}}})),e.addListener("endfontface",(function(){o=!1,a&&t.report("@font-face declaration doesn't follow the fontspring bulletproof syntax.",i,r,n)}))}}),u.addRule({id:"compatible-vendor-prefixes",name:"Require compatible vendor prefixes",desc:"Include all compatible vendor prefixes to reach a wider range of users.",url:"https://github.com/CSSLint/csslint/wiki/Require-compatible-vendor-prefixes",browsers:"All",init:function(e,t){var i,r,n,o,s,a,l,c=this,d=!1,h=Array.prototype.push,p=[];for(n in i={animation:"webkit","animation-delay":"webkit","animation-direction":"webkit","animation-duration":"webkit","animation-fill-mode":"webkit","animation-iteration-count":"webkit","animation-name":"webkit","animation-play-state":"webkit","animation-timing-function":"webkit",appearance:"webkit moz","border-end":"webkit moz","border-end-color":"webkit moz","border-end-style":"webkit moz","border-end-width":"webkit moz","border-image":"webkit moz o","border-radius":"webkit","border-start":"webkit moz","border-start-color":"webkit moz","border-start-style":"webkit moz","border-start-width":"webkit moz","box-align":"webkit moz ms","box-direction":"webkit moz ms","box-flex":"webkit moz ms","box-lines":"webkit ms","box-ordinal-group":"webkit moz ms","box-orient":"webkit moz ms","box-pack":"webkit moz ms","box-sizing":"","box-shadow":"","column-count":"webkit moz ms","column-gap":"webkit moz ms","column-rule":"webkit moz ms","column-rule-color":"webkit moz ms","column-rule-style":"webkit moz ms","column-rule-width":"webkit moz ms","column-width":"webkit moz ms",hyphens:"epub moz","line-break":"webkit ms","margin-end":"webkit moz","margin-start":"webkit moz","marquee-speed":"webkit wap","marquee-style":"webkit wap","padding-end":"webkit moz","padding-start":"webkit moz","tab-size":"moz o","text-size-adjust":"webkit ms",transform:"webkit ms","transform-origin":"webkit ms",transition:"","transition-delay":"","transition-duration":"","transition-property":"","transition-timing-function":"","user-modify":"webkit moz","user-select":"webkit moz ms","word-break":"epub ms","writing-mode":"epub ms"})if(i.hasOwnProperty(n)){for(o=[],a=0,l=(s=i[n].split(" ")).length;a<l;a++)o.push("-"+s[a]+"-"+n);i[n]=o,h.apply(p,o)}e.addListener("startrule",(function(){r=[]})),e.addListener("startkeyframes",(function(e){d=e.prefix||!0})),e.addListener("endkeyframes",(function(){d=!1})),e.addListener("property",(function(e){var t=e.property;u.Util.indexOf(p,t.text)>-1&&(d&&"string"==typeof d&&0===t.text.indexOf("-"+d+"-")||r.push(t))})),e.addListener("endrule",(function(){if(r.length){var e,n,o,s,a,l,d,h,p,f,m={};for(e=0,n=r.length;e<n;e++)for(s in o=r[e],i)i.hasOwnProperty(s)&&(a=i[s],u.Util.indexOf(a,o.text)>-1&&(m[s]||(m[s]={full:a.slice(0),actual:[],actualNodes:[]}),-1===u.Util.indexOf(m[s].actual,o.text)&&(m[s].actual.push(o.text),m[s].actualNodes.push(o))));for(s in m)if(m.hasOwnProperty(s)&&(d=(l=m[s]).full,h=l.actual,d.length>h.length))for(e=0,n=d.length;e<n;e++)p=d[e],-1===u.Util.indexOf(h,p)&&(f=1===h.length?h[0]:2===h.length?h.join(" and "):h.join(", "),t.report("The property "+p+" is compatible with "+f+" and should be included as well.",l.actualNodes[0].line,l.actualNodes[0].col,c))}}))}}),u.addRule({id:"display-property-grouping",name:"Require properties appropriate for display",desc:"Certain properties shouldn't be used with certain display property values.",url:"https://github.com/CSSLint/csslint/wiki/Require-properties-appropriate-for-display",browsers:"All",init:function(e,t){var i,r=this,n={display:1,float:"none",height:1,width:1,margin:1,"margin-left":1,"margin-right":1,"margin-bottom":1,"margin-top":1,padding:1,"padding-left":1,"padding-right":1,"padding-bottom":1,"padding-top":1,"vertical-align":1};function o(e,o,s){i[e]&&("string"==typeof n[e]&&i[e].value.toLowerCase()===n[e]||t.report(s||e+" can't be used with display: "+o+".",i[e].line,i[e].col,r))}function s(){i={}}function a(){var e=i.display?i.display.value:null;if(e)switch(e){case"inline":o("height",e),o("width",e),o("margin",e),o("margin-top",e),o("margin-bottom",e),o("float",e,"display:inline has no effect on floated elements (but may be used to fix the IE6 double-margin bug).");break;case"block":o("vertical-align",e);break;case"inline-block":o("float",e);break;default:0===e.indexOf("table-")&&(o("margin",e),o("margin-left",e),o("margin-right",e),o("margin-top",e),o("margin-bottom",e),o("float",e))}}e.addListener("startrule",s),e.addListener("startfontface",s),e.addListener("startkeyframerule",s),e.addListener("startpagemargin",s),e.addListener("startpage",s),e.addListener("startviewport",s),e.addListener("property",(function(e){var t=e.property.text.toLowerCase();n[t]&&(i[t]={value:e.value.text,line:e.property.line,col:e.property.col})})),e.addListener("endrule",a),e.addListener("endfontface",a),e.addListener("endkeyframerule",a),e.addListener("endpagemargin",a),e.addListener("endpage",a),e.addListener("endviewport",a)}}),u.addRule({id:"duplicate-background-images",name:"Disallow duplicate background images",desc:"Every background-image should be unique. Use a common class for e.g. sprites.",url:"https://github.com/CSSLint/csslint/wiki/Disallow-duplicate-background-images",browsers:"All",init:function(e,t){var i=this,r={};e.addListener("property",(function(e){var n,o,s=e.property.text,a=e.value;if(s.match(/background/i))for(n=0,o=a.parts.length;n<o;n++)"uri"===a.parts[n].type&&(void 0===r[a.parts[n].uri]?r[a.parts[n].uri]=e:t.report("Background image '"+a.parts[n].uri+"' was used multiple times, first declared at line "+r[a.parts[n].uri].line+", col "+r[a.parts[n].uri].col+".",e.line,e.col,i))}))}}),u.addRule({id:"duplicate-properties",name:"Disallow duplicate properties",desc:"Duplicate properties must appear one after the other.",url:"https://github.com/CSSLint/csslint/wiki/Disallow-duplicate-properties",browsers:"All",init:function(e,t){var i,r,n=this;function o(){i={}}e.addListener("startrule",o),e.addListener("startfontface",o),e.addListener("startpage",o),e.addListener("startpagemargin",o),e.addListener("startkeyframerule",o),e.addListener("startviewport",o),e.addListener("property",(function(e){var o=e.property.text.toLowerCase();!i[o]||r===o&&i[o]!==e.value.text||t.report("Duplicate property '"+e.property+"' found.",e.line,e.col,n),i[o]=e.value.text,r=o}))}}),u.addRule({id:"empty-rules",name:"Disallow empty rules",desc:"Rules without any properties specified should be removed.",url:"https://github.com/CSSLint/csslint/wiki/Disallow-empty-rules",browsers:"All",init:function(e,t){var i=this,r=0;e.addListener("startrule",(function(){r=0})),e.addListener("property",(function(){r++})),e.addListener("endrule",(function(e){var n=e.selectors;0===r&&t.report("Rule is empty.",n[0].line,n[0].col,i)}))}}),u.addRule({id:"errors",name:"Parsing Errors",desc:"This rule looks for recoverable syntax errors.",browsers:"All",init:function(e,t){var i=this;e.addListener("error",(function(e){t.error(e.message,e.line,e.col,i)}))}}),u.addRule({id:"fallback-colors",name:"Require fallback colors",desc:"For older browsers that don't support RGBA, HSL, or HSLA, provide a fallback color.",url:"https://github.com/CSSLint/csslint/wiki/Require-fallback-colors",browsers:"IE6,IE7,IE8",init:function(e,t){var i,r=this,n={color:1,background:1,"border-color":1,"border-top-color":1,"border-right-color":1,"border-bottom-color":1,"border-left-color":1,border:1,"border-top":1,"border-right":1,"border-bottom":1,"border-left":1,"background-color":1};function o(){i=null}e.addListener("startrule",o),e.addListener("startfontface",o),e.addListener("startpage",o),e.addListener("startpagemargin",o),e.addListener("startkeyframerule",o),e.addListener("startviewport",o),e.addListener("property",(function(e){var o=e.property.text.toLowerCase(),s=e.value.parts,a=0,l="",u=s.length;if(n[o])for(;a<u;)"color"===s[a].type&&("alpha"in s[a]||"hue"in s[a]?(/([^\)]+)\(/.test(s[a])&&(l=RegExp.$1.toUpperCase()),i&&i.property.text.toLowerCase()===o&&"compat"===i.colorType||t.report("Fallback "+o+" (hex or RGB) should precede "+l+" "+o+".",e.line,e.col,r)):e.colorType="compat"),a++;i=e}))}}),u.addRule({id:"floats",name:"Disallow too many floats",desc:"This rule tests if the float property is used too many times",url:"https://github.com/CSSLint/csslint/wiki/Disallow-too-many-floats",browsers:"All",init:function(e,t){var i=this,r=0;e.addListener("property",(function(e){"float"===e.property.text.toLowerCase()&&"none"!==e.value.text.toLowerCase()&&r++})),e.addListener("endstylesheet",(function(){t.stat("floats",r),r>=10&&t.rollupWarn("Too many floats ("+r+"), you're probably using them for layout. Consider using a grid system instead.",i)}))}}),u.addRule({id:"font-faces",name:"Don't use too many web fonts",desc:"Too many different web fonts in the same stylesheet.",url:"https://github.com/CSSLint/csslint/wiki/Don%27t-use-too-many-web-fonts",browsers:"All",init:function(e,t){var i=this,r=0;e.addListener("startfontface",(function(){r++})),e.addListener("endstylesheet",(function(){r>5&&t.rollupWarn("Too many @font-face declarations ("+r+").",i)}))}}),u.addRule({id:"font-sizes",name:"Disallow too many font sizes",desc:"Checks the number of font-size declarations.",url:"https://github.com/CSSLint/csslint/wiki/Don%27t-use-too-many-font-size-declarations",browsers:"All",init:function(e,t){var i=this,r=0;e.addListener("property",(function(e){"font-size"===e.property.toString()&&r++})),e.addListener("endstylesheet",(function(){t.stat("font-sizes",r),r>=10&&t.rollupWarn("Too many font-size declarations ("+r+"), abstraction needed.",i)}))}}),u.addRule({id:"gradients",name:"Require all gradient definitions",desc:"When using a vendor-prefixed gradient, make sure to use them all.",url:"https://github.com/CSSLint/csslint/wiki/Require-all-gradient-definitions",browsers:"All",init:function(e,t){var i,r=this;e.addListener("startrule",(function(){i={moz:0,webkit:0,oldWebkit:0,o:0}})),e.addListener("property",(function(e){/\-(moz|o|webkit)(?:\-(?:linear|radial))\-gradient/i.test(e.value)?i[RegExp.$1]=1:/\-webkit\-gradient/i.test(e.value)&&(i.oldWebkit=1)})),e.addListener("endrule",(function(e){var n=[];i.moz||n.push("Firefox 3.6+"),i.webkit||n.push("Webkit (Safari 5+, Chrome)"),i.oldWebkit||n.push("Old Webkit (Safari 4+, Chrome)"),i.o||n.push("Opera 11.1+"),n.length&&n.length<4&&t.report("Missing vendor-prefixed CSS gradients for "+n.join(", ")+".",e.selectors[0].line,e.selectors[0].col,r)}))}}),u.addRule({id:"ids",name:"Disallow IDs in selectors",desc:"Selectors should not contain IDs.",url:"https://github.com/CSSLint/csslint/wiki/Disallow-IDs-in-selectors",browsers:"All",init:function(e,t){var i=this;e.addListener("startrule",(function(r){var n,o,s,a,l,u,c=r.selectors;for(a=0;a<c.length;a++){for(n=c[a],s=0,l=0;l<n.parts.length;l++)if((o=n.parts[l]).type===e.SELECTOR_PART_TYPE)for(u=0;u<o.modifiers.length;u++)"id"===o.modifiers[u].type&&s++;1===s?t.report("Don't use IDs in selectors.",n.line,n.col,i):s>1&&t.report(s+" IDs in the selector, really?",n.line,n.col,i)}}))}}),u.addRule({id:"import-ie-limit",name:"@import limit on IE6-IE9",desc:"IE6-9 supports up to 31 @import per stylesheet",browsers:"IE6, IE7, IE8, IE9",init:function(e,t){var i=this,r=0;e.addListener("startpage",(function(){r=0})),e.addListener("import",(function(){r++})),e.addListener("endstylesheet",(function(){r>31&&t.rollupError("Too many @import rules ("+r+"). IE6-9 supports up to 31 import per stylesheet.",i)}))}}),u.addRule({id:"import",name:"Disallow @import",desc:"Don't use @import, use <link> instead.",url:"https://github.com/CSSLint/csslint/wiki/Disallow-%40import",browsers:"All",init:function(e,t){var i=this;e.addListener("import",(function(e){t.report("@import prevents parallel downloads, use <link> instead.",e.line,e.col,i)}))}}),u.addRule({id:"important",name:"Disallow !important",desc:"Be careful when using !important declaration",url:"https://github.com/CSSLint/csslint/wiki/Disallow-%21important",browsers:"All",init:function(e,t){var i=this,r=0;e.addListener("property",(function(e){!0===e.important&&(r++,t.report("Use of !important",e.line,e.col,i))})),e.addListener("endstylesheet",(function(){t.stat("important",r),r>=10&&t.rollupWarn("Too many !important declarations ("+r+"), try to use less than 10 to avoid specificity issues.",i)}))}}),u.addRule({id:"known-properties",name:"Require use of known properties",desc:"Properties should be known (listed in CSS3 specification) or be a vendor-prefixed property.",url:"https://github.com/CSSLint/csslint/wiki/Require-use-of-known-properties",browsers:"All",init:function(e,t){var i=this;e.addListener("property",(function(e){e.invalid&&t.report(e.invalid.message,e.line,e.col,i)}))}}),u.addRule({id:"order-alphabetical",name:"Alphabetical order",desc:"Assure properties are in alphabetical order",browsers:"All",init:function(e,t){var i,r=this,n=function(){i=[]},o=function(e){i.join(",")!==i.sort().join(",")&&t.report("Rule doesn't have all its properties in alphabetical order.",e.line,e.col,r)};e.addListener("startrule",n),e.addListener("startfontface",n),e.addListener("startpage",n),e.addListener("startpagemargin",n),e.addListener("startkeyframerule",n),e.addListener("startviewport",n),e.addListener("property",(function(e){var t=e.property.text.toLowerCase().replace(/^-.*?-/,"");i.push(t)})),e.addListener("endrule",o),e.addListener("endfontface",o),e.addListener("endpage",o),e.addListener("endpagemargin",o),e.addListener("endkeyframerule",o),e.addListener("endviewport",o)}}),u.addRule({id:"outline-none",name:"Disallow outline: none",desc:"Use of outline: none or outline: 0 should be limited to :focus rules.",url:"https://github.com/CSSLint/csslint/wiki/Disallow-outline%3Anone",browsers:"All",tags:["Accessibility"],init:function(e,t){var i,r=this;function n(e){i=e.selectors?{line:e.line,col:e.col,selectors:e.selectors,propCount:0,outline:!1}:null}function o(){i&&i.outline&&(-1===i.selectors.toString().toLowerCase().indexOf(":focus")?t.report("Outlines should only be modified using :focus.",i.line,i.col,r):1===i.propCount&&t.report("Outlines shouldn't be hidden unless other visual changes are made.",i.line,i.col,r))}e.addListener("startrule",n),e.addListener("startfontface",n),e.addListener("startpage",n),e.addListener("startpagemargin",n),e.addListener("startkeyframerule",n),e.addListener("startviewport",n),e.addListener("property",(function(e){var t=e.property.text.toLowerCase(),r=e.value;i&&(i.propCount++,"outline"!==t||"none"!==r.toString()&&"0"!==r.toString()||(i.outline=!0))})),e.addListener("endrule",o),e.addListener("endfontface",o),e.addListener("endpage",o),e.addListener("endpagemargin",o),e.addListener("endkeyframerule",o),e.addListener("endviewport",o)}}),u.addRule({id:"overqualified-elements",name:"Disallow overqualified elements",desc:"Don't use classes or IDs with elements (a.foo or a#foo).",url:"https://github.com/CSSLint/csslint/wiki/Disallow-overqualified-elements",browsers:"All",init:function(e,t){var i=this,r={};e.addListener("startrule",(function(n){var o,s,a,l,u,c,d=n.selectors;for(l=0;l<d.length;l++)for(o=d[l],u=0;u<o.parts.length;u++)if((s=o.parts[u]).type===e.SELECTOR_PART_TYPE)for(c=0;c<s.modifiers.length;c++)a=s.modifiers[c],s.elementName&&"id"===a.type?t.report("Element ("+s+") is overqualified, just use "+a+" without element name.",s.line,s.col,i):"class"===a.type&&(r[a]||(r[a]=[]),r[a].push({modifier:a,part:s}))})),e.addListener("endstylesheet",(function(){var e;for(e in r)r.hasOwnProperty(e)&&1===r[e].length&&r[e][0].part.elementName&&t.report("Element ("+r[e][0].part+") is overqualified, just use "+r[e][0].modifier+" without element name.",r[e][0].part.line,r[e][0].part.col,i)}))}}),u.addRule({id:"qualified-headings",name:"Disallow qualified headings",desc:"Headings should not be qualified (namespaced).",url:"https://github.com/CSSLint/csslint/wiki/Disallow-qualified-headings",browsers:"All",init:function(e,t){var i=this;e.addListener("startrule",(function(r){var n,o,s,a,l=r.selectors;for(s=0;s<l.length;s++)for(n=l[s],a=0;a<n.parts.length;a++)(o=n.parts[a]).type===e.SELECTOR_PART_TYPE&&o.elementName&&/h[1-6]/.test(o.elementName.toString())&&a>0&&t.report("Heading ("+o.elementName+") should not be qualified.",o.line,o.col,i)}))}}),u.addRule({id:"regex-selectors",name:"Disallow selectors that look like regexs",desc:"Selectors that look like regular expressions are slow and should be avoided.",url:"https://github.com/CSSLint/csslint/wiki/Disallow-selectors-that-look-like-regular-expressions",browsers:"All",init:function(e,t){var i=this;e.addListener("startrule",(function(r){var n,o,s,a,l,u,c=r.selectors;for(a=0;a<c.length;a++)for(n=c[a],l=0;l<n.parts.length;l++)if((o=n.parts[l]).type===e.SELECTOR_PART_TYPE)for(u=0;u<o.modifiers.length;u++)"attribute"===(s=o.modifiers[u]).type&&/([~\|\^\$\*]=)/.test(s)&&t.report("Attribute selectors with "+RegExp.$1+" are slow!",s.line,s.col,i)}))}}),u.addRule({id:"rules-count",name:"Rules Count",desc:"Track how many rules there are.",browsers:"All",init:function(e,t){var i=0;e.addListener("startrule",(function(){i++})),e.addListener("endstylesheet",(function(){t.stat("rule-count",i)}))}}),u.addRule({id:"selector-max-approaching",name:"Warn when approaching the 4095 selector limit for IE",desc:"Will warn when selector count is >= 3800 selectors.",browsers:"IE",init:function(e,t){var i=this,r=0;e.addListener("startrule",(function(e){r+=e.selectors.length})),e.addListener("endstylesheet",(function(){r>=3800&&t.report("You have "+r+" selectors. Internet Explorer supports a maximum of 4095 selectors per stylesheet. Consider refactoring.",0,0,i)}))}}),u.addRule({id:"selector-max",name:"Error when past the 4095 selector limit for IE",desc:"Will error when selector count is > 4095.",browsers:"IE",init:function(e,t){var i=this,r=0;e.addListener("startrule",(function(e){r+=e.selectors.length})),e.addListener("endstylesheet",(function(){r>4095&&t.report("You have "+r+" selectors. Internet Explorer supports a maximum of 4095 selectors per stylesheet. Consider refactoring.",0,0,i)}))}}),u.addRule({id:"selector-newline",name:"Disallow new-line characters in selectors",desc:"New-line characters in selectors are usually a forgotten comma and not a descendant combinator.",browsers:"All",init:function(e,t){var i=this;e.addListener("startrule",(function(e){var r,n,o,s,a,l,u,c,d,h,p,f=e.selectors;for(r=0,n=f.length;r<n;r++)for(s=0,l=(o=f[r]).parts.length;s<l;s++)for(a=s+1;a<l;a++)u=o.parts[s],c=o.parts[a],d=u.type,h=u.line,p=c.line,"descendant"===d&&p>h&&t.report("newline character found in selector (forgot a comma?)",h,f[r].parts[0].col,i)}))}}),u.addRule({id:"shorthand",name:"Require shorthand properties",desc:"Use shorthand properties where possible.",url:"https://github.com/CSSLint/csslint/wiki/Require-shorthand-properties",browsers:"All",init:function(e,t){var i,r,n,o,s=this,a={},l={margin:["margin-top","margin-bottom","margin-left","margin-right"],padding:["padding-top","padding-bottom","padding-left","padding-right"]};for(i in l)if(l.hasOwnProperty(i))for(r=0,n=l[i].length;r<n;r++)a[l[i][r]]=i;function u(){o={}}function c(e){var i,r,n,a;for(i in l)if(l.hasOwnProperty(i)){for(a=0,r=0,n=l[i].length;r<n;r++)a+=o[l[i][r]]?1:0;a===l[i].length&&t.report("The properties "+l[i].join(", ")+" can be replaced by "+i+".",e.line,e.col,s)}}e.addListener("startrule",u),e.addListener("startfontface",u),e.addListener("property",(function(e){var t=e.property.toString().toLowerCase();a[t]&&(o[t]=1)})),e.addListener("endrule",c),e.addListener("endfontface",c)}}),u.addRule({id:"star-property-hack",name:"Disallow properties with a star prefix",desc:"Checks for the star property hack (targets IE6/7)",url:"https://github.com/CSSLint/csslint/wiki/Disallow-star-hack",browsers:"All",init:function(e,t){var i=this;e.addListener("property",(function(e){"*"===e.property.hack&&t.report("Property with star prefix found.",e.property.line,e.property.col,i)}))}}),u.addRule({id:"text-indent",name:"Disallow negative text-indent",desc:"Checks for text indent less than -99px",url:"https://github.com/CSSLint/csslint/wiki/Disallow-negative-text-indent",browsers:"All",init:function(e,t){var i,r,n=this;function o(){i=!1,r="inherit"}function s(){i&&"ltr"!==r&&t.report("Negative text-indent doesn't work well with RTL. If you use text-indent for image replacement explicitly set direction for that item to ltr.",i.line,i.col,n)}e.addListener("startrule",o),e.addListener("startfontface",o),e.addListener("property",(function(e){var t=e.property.toString().toLowerCase(),n=e.value;"text-indent"===t&&n.parts[0].value<-99?i=e.property:"direction"===t&&"ltr"===n.toString()&&(r="ltr")})),e.addListener("endrule",s),e.addListener("endfontface",s)}}),u.addRule({id:"underscore-property-hack",name:"Disallow properties with an underscore prefix",desc:"Checks for the underscore property hack (targets IE6)",url:"https://github.com/CSSLint/csslint/wiki/Disallow-underscore-hack",browsers:"All",init:function(e,t){var i=this;e.addListener("property",(function(e){"_"===e.property.hack&&t.report("Property with underscore prefix found.",e.property.line,e.property.col,i)}))}}),u.addRule({id:"unique-headings",name:"Headings should only be defined once",desc:"Headings should be defined only once.",url:"https://github.com/CSSLint/csslint/wiki/Headings-should-only-be-defined-once",browsers:"All",init:function(e,t){var i=this,r={h1:0,h2:0,h3:0,h4:0,h5:0,h6:0};e.addListener("startrule",(function(e){var n,o,s,a,l,u=e.selectors;for(a=0;a<u.length;a++)if((o=(n=u[a]).parts[n.parts.length-1]).elementName&&/(h[1-6])/i.test(o.elementName.toString())){for(l=0;l<o.modifiers.length;l++)if("pseudo"===o.modifiers[l].type){s=!0;break}s||(r[RegExp.$1]++,r[RegExp.$1]>1&&t.report("Heading ("+o.elementName+") has already been defined.",o.line,o.col,i))}})),e.addListener("endstylesheet",(function(){var e,n=[];for(e in r)r.hasOwnProperty(e)&&r[e]>1&&n.push(r[e]+" "+e+"s");n.length&&t.rollupWarn("You have "+n.join(", ")+" defined in this stylesheet.",i)}))}}),u.addRule({id:"universal-selector",name:"Disallow universal selector",desc:"The universal selector (*) is known to be slow.",url:"https://github.com/CSSLint/csslint/wiki/Disallow-universal-selector",browsers:"All",init:function(e,t){var i=this;e.addListener("startrule",(function(e){var r,n,o,s=e.selectors;for(o=0;o<s.length;o++)"*"===(n=(r=s[o]).parts[r.parts.length-1]).elementName&&t.report(i.desc,n.line,n.col,i)}))}}),u.addRule({id:"unqualified-attributes",name:"Disallow unqualified attribute selectors",desc:"Unqualified attribute selectors are known to be slow.",url:"https://github.com/CSSLint/csslint/wiki/Disallow-unqualified-attribute-selectors",browsers:"All",init:function(e,t){var i=this;e.addListener("startrule",(function(r){var n,o,s,a,l,u=r.selectors,c=!1;for(a=0;a<u.length;a++)if((o=(n=u[a]).parts[n.parts.length-1]).type===e.SELECTOR_PART_TYPE){for(l=0;l<o.modifiers.length;l++)if("class"===(s=o.modifiers[l]).type||"id"===s.type){c=!0;break}if(!c)for(l=0;l<o.modifiers.length;l++)"attribute"!==(s=o.modifiers[l]).type||o.elementName&&"*"!==o.elementName||t.report(i.desc,o.line,o.col,i)}}))}}),u.addRule({id:"vendor-prefix",name:"Require standard property with vendor prefix",desc:"When using a vendor-prefixed property, make sure to include the standard one.",url:"https://github.com/CSSLint/csslint/wiki/Require-standard-property-with-vendor-prefix",browsers:"All",init:function(e,t){var i,r,n=this,o={"-webkit-border-radius":"border-radius","-webkit-border-top-left-radius":"border-top-left-radius","-webkit-border-top-right-radius":"border-top-right-radius","-webkit-border-bottom-left-radius":"border-bottom-left-radius","-webkit-border-bottom-right-radius":"border-bottom-right-radius","-o-border-radius":"border-radius","-o-border-top-left-radius":"border-top-left-radius","-o-border-top-right-radius":"border-top-right-radius","-o-border-bottom-left-radius":"border-bottom-left-radius","-o-border-bottom-right-radius":"border-bottom-right-radius","-moz-border-radius":"border-radius","-moz-border-radius-topleft":"border-top-left-radius","-moz-border-radius-topright":"border-top-right-radius","-moz-border-radius-bottomleft":"border-bottom-left-radius","-moz-border-radius-bottomright":"border-bottom-right-radius","-moz-column-count":"column-count","-webkit-column-count":"column-count","-moz-column-gap":"column-gap","-webkit-column-gap":"column-gap","-moz-column-rule":"column-rule","-webkit-column-rule":"column-rule","-moz-column-rule-style":"column-rule-style","-webkit-column-rule-style":"column-rule-style","-moz-column-rule-color":"column-rule-color","-webkit-column-rule-color":"column-rule-color","-moz-column-rule-width":"column-rule-width","-webkit-column-rule-width":"column-rule-width","-moz-column-width":"column-width","-webkit-column-width":"column-width","-webkit-column-span":"column-span","-webkit-columns":"columns","-moz-box-shadow":"box-shadow","-webkit-box-shadow":"box-shadow","-moz-transform":"transform","-webkit-transform":"transform","-o-transform":"transform","-ms-transform":"transform","-moz-transform-origin":"transform-origin","-webkit-transform-origin":"transform-origin","-o-transform-origin":"transform-origin","-ms-transform-origin":"transform-origin","-moz-box-sizing":"box-sizing","-webkit-box-sizing":"box-sizing"};function s(){i={},r=1}function a(){var e,r,s,a,l,u=[];for(e in i)o[e]&&u.push({actual:e,needed:o[e]});for(r=0,s=u.length;r<s;r++)a=u[r].needed,l=u[r].actual,i[a]?i[a][0].pos<i[l][0].pos&&t.report("Standard property '"+a+"' should come after vendor-prefixed property '"+l+"'.",i[l][0].name.line,i[l][0].name.col,n):t.report("Missing standard property '"+a+"' to go along with '"+l+"'.",i[l][0].name.line,i[l][0].name.col,n)}e.addListener("startrule",s),e.addListener("startfontface",s),e.addListener("startpage",s),e.addListener("startpagemargin",s),e.addListener("startkeyframerule",s),e.addListener("startviewport",s),e.addListener("property",(function(e){var t=e.property.text.toLowerCase();i[t]||(i[t]=[]),i[t].push({name:e.property,value:e.value,pos:r++})})),e.addListener("endrule",a),e.addListener("endfontface",a),e.addListener("endpage",a),e.addListener("endpagemargin",a),e.addListener("endkeyframerule",a),e.addListener("endviewport",a)}}),u.addRule({id:"zero-units",name:"Disallow units for 0 values",desc:"You don't need to specify units when a value is 0.",url:"https://github.com/CSSLint/csslint/wiki/Disallow-units-for-zero-values",browsers:"All",init:function(e,t){var i=this;e.addListener("property",(function(e){for(var r=e.value.parts,n=0,o=r.length;n<o;)!r[n].units&&"percentage"!==r[n].type||0!==r[n].value||"time"===r[n].type||t.report("Values of 0 shouldn't have units specified.",r[n].line,r[n].col,i),n++}))}}),l=function(e){return e&&e.constructor===String?e.replace(/["&><]/g,(function(e){switch(e){case'"':return"&quot;";case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;"}})):""},u.addFormatter({id:"checkstyle-xml",name:"Checkstyle XML format",startFormat:function(){return'<?xml version="1.0" encoding="utf-8"?><checkstyle>'},endFormat:function(){return"</checkstyle>"},readError:function(e,t){return'<file name="'+l(e)+'"><error line="0" column="0" severty="error" message="'+l(t)+'"></error></file>'},formatResults:function(e,t){var i=e.messages,r=[];return i.length>0&&(r.push('<file name="'+t+'">'),u.Util.forEach(i,(function(e){var t;e.rollup||r.push('<error line="'+e.line+'" column="'+e.col+'" severity="'+e.type+'" message="'+l(e.message)+'" source="'+((t=e.rule)&&"name"in t?"net.csslint."+t.name.replace(/\s/g,""):"")+'"/>')})),r.push("</file>")),r.join("")}}),u.addFormatter({id:"compact",name:"Compact, 'porcelain' format",startFormat:function(){return""},endFormat:function(){return""},formatResults:function(e,t,i){var r=e.messages,n="";i=i||{};var o=function(e){return e.charAt(0).toUpperCase()+e.slice(1)};return 0===r.length?i.quiet?"":t+": Lint Free!":(u.Util.forEach(r,(function(e){e.rollup?n+=t+": "+o(e.type)+" - "+e.message+" ("+e.rule.id+")\n":n+=t+": line "+e.line+", col "+e.col+", "+o(e.type)+" - "+e.message+" ("+e.rule.id+")\n"})),n)}}),u.addFormatter({id:"csslint-xml",name:"CSSLint XML format",startFormat:function(){return'<?xml version="1.0" encoding="utf-8"?><csslint>'},endFormat:function(){return"</csslint>"},formatResults:function(e,t){var i=e.messages,r=[],n=function(e){return e&&e.constructor===String?e.replace(/"/g,"'").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):""};return i.length>0&&(r.push('<file name="'+t+'">'),u.Util.forEach(i,(function(e){e.rollup?r.push('<issue severity="'+e.type+'" reason="'+n(e.message)+'" evidence="'+n(e.evidence)+'"/>'):r.push('<issue line="'+e.line+'" char="'+e.col+'" severity="'+e.type+'" reason="'+n(e.message)+'" evidence="'+n(e.evidence)+'"/>')})),r.push("</file>")),r.join("")}}),u.addFormatter({id:"json",name:"JSON",startFormat:function(){return this.json=[],""},endFormat:function(){var e="";return this.json.length>0&&(e=1===this.json.length?JSON.stringify(this.json[0]):JSON.stringify(this.json)),e},formatResults:function(e,t,i){return(e.messages.length>0||!i.quiet)&&this.json.push({filename:t,messages:e.messages,stats:e.stats}),""}}),u.addFormatter({id:"junit-xml",name:"JUNIT XML format",startFormat:function(){return'<?xml version="1.0" encoding="utf-8"?><testsuites>'},endFormat:function(){return"</testsuites>"},formatResults:function(e,t){var i=e.messages,r=[],n={error:0,failure:0},o=function(e){return e&&e.constructor===String?e.replace(/"/g,"'").replace(/</g,"&lt;").replace(/>/g,"&gt;"):""};return i.length>0&&(i.forEach((function(e){var t,i="warning"===e.type?"error":e.type;e.rollup||(r.push('<testcase time="0" name="'+(((t=e.rule)&&"name"in t?"net.csslint."+t.name.replace(/\s/g,""):"")+'">')),r.push("<"+i+' message="'+o(e.message)+'"><![CDATA['+e.line+":"+e.col+":"+o(e.evidence)+"]]></"+i+">"),r.push("</testcase>"),n[i]+=1)})),r.unshift('<testsuite time="0" tests="'+i.length+'" skipped="0" errors="'+n.error+'" failures="'+n.failure+'" package="net.csslint" name="'+t+'">'),r.push("</testsuite>")),r.join("")}}),u.addFormatter({id:"lint-xml",name:"Lint XML format",startFormat:function(){return'<?xml version="1.0" encoding="utf-8"?><lint>'},endFormat:function(){return"</lint>"},formatResults:function(e,t){var i=e.messages,r=[],n=function(e){return e&&e.constructor===String?e.replace(/"/g,"'").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):""};return i.length>0&&(r.push('<file name="'+t+'">'),u.Util.forEach(i,(function(e){if(e.rollup)r.push('<issue severity="'+e.type+'" reason="'+n(e.message)+'" evidence="'+n(e.evidence)+'"/>');else{var t="";e.rule&&e.rule.id&&(t='rule="'+n(e.rule.id)+'" '),r.push("<issue "+t+'line="'+e.line+'" char="'+e.col+'" severity="'+e.type+'" reason="'+n(e.message)+'" evidence="'+n(e.evidence)+'"/>')}})),r.push("</file>")),r.join("")}}),u.addFormatter({id:"text",name:"Plain Text",startFormat:function(){return""},endFormat:function(){return""},formatResults:function(e,t,i){var r=e.messages,n="";if(i=i||{},0===r.length)return i.quiet?"":"\n\ncsslint: No errors in "+t+".";n="\n\ncsslint: There ",1===r.length?n+="is 1 problem":n+="are "+r.length+" problems",n+=" in "+t+".";var o=t.lastIndexOf("/"),s=t;return-1===o&&(o=t.lastIndexOf("\\")),o>-1&&(s=t.substring(o+1)),u.Util.forEach(r,(function(e,t){n=n+"\n\n"+s,e.rollup?(n+="\n"+(t+1)+": "+e.type,n+="\n"+e.message):(n+="\n"+(t+1)+": "+e.type+" at line "+e.line+", col "+e.col,n+="\n"+e.message,n+="\n"+e.evidence)})),n}})}(),window.CSSLint=void 0,jk=i.customElement("rn-styles-tab"),Hk=i.query(".textarea"),jk((Zk=class extends e.LitElementBase{constructor(...e){super(...e),babelHelpers.initializerDefineProperty(this,"TextArea",Yk,this),this.SelectedItem=""}static get properties(){return{}}render(){return ie.Mode="Normal",""==this.SelectedItem&&(this.SelectedItem=this.model.Areas[0].Id),t.html` <div style="padding: 10px;height: 100%;display: flex;flex-direction: column;"> <div> <label style="font-weight: bold;">Show styles for</label> <select style="width: 100%;margin-top: 3px;max-width: none;padding: 0 10px" @change="${e=>{this.DropDownChanged(e.target.value)}}"> ${this.model.Areas.map((e=>t.html`<option .value="${e.Id}">${e.Label}</option>`))} </select> </div> <div class="textarea" @change=${e=>{this.CurrentArea.Options.Style=e.target.value}} style="width: 100%;height:100%;margin-top: 10px"/> </div> `}get CurrentArea(){return this.model.Areas.find((e=>e.Id==this.SelectedItem))}GetParentStyles(){return{display:"block",height:"100%",border:"1px solid #dfdfdf"}}firstUpdated(e){super.firstUpdated(e),this.EditorView=new Ga({state:Rr.create({doc:this.CurrentArea.Options.Style,extensions:[gg,aO(),Xa.of([Cp]),sO.data.of({autocomplete:oO}),Ga.updateListener.of((e=>{e.docChanged&&(this.CurrentArea.Options.Style=this.EditorView.state.doc.toString())}))]}),parent:this.TextArea})}DropDownChanged(e){this.SelectedItem=e,this.EditorView.dispatch(this.EditorView.state.update({changes:{from:0,to:this.EditorView.state.doc.length,insert:this.CurrentArea.Options.Style}}))}},Yk=babelHelpers.applyDecoratedDescriptor(Zk.prototype,"TextArea",[Hk],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zk));var Kk={};!function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="puzzle-piece",i=[129513],r="f12e",n="M192 104.8c0-9.2-5.8-17.3-13.2-22.8C167.2 73.3 160 61.3 160 48c0-26.5 28.7-48 64-48s64 21.5 64 48c0 13.3-7.2 25.3-18.8 34c-7.4 5.5-13.2 13.6-13.2 22.8c0 12.8 10.4 23.2 23.2 23.2H336c26.5 0 48 21.5 48 48v56.8c0 12.8 10.4 23.2 23.2 23.2c9.2 0 17.3-5.8 22.8-13.2c8.7-11.6 20.7-18.8 34-18.8c26.5 0 48 28.7 48 64s-21.5 64-48 64c-13.3 0-25.3-7.2-34-18.8c-5.5-7.4-13.6-13.2-22.8-13.2c-12.8 0-23.2 10.4-23.2 23.2V464c0 26.5-21.5 48-48 48H279.2c-12.8 0-23.2-10.4-23.2-23.2c0-9.2 5.8-17.3 13.2-22.8c11.6-8.7 18.8-20.7 18.8-34c0-26.5-28.7-48-64-48s-64 21.5-64 48c0 13.3 7.2 25.3 18.8 34c7.4 5.5 13.2 13.6 13.2 22.8c0 12.8-10.4 23.2-23.2 23.2H48c-26.5 0-48-21.5-48-48V343.2C0 330.4 10.4 320 23.2 320c9.2 0 17.3 5.8 22.8 13.2C54.7 344.8 66.7 352 80 352c26.5 0 48-28.7 48-64s-21.5-64-48-64c-13.3 0-25.3 7.2-34 18.8C40.5 250.2 32.4 256 23.2 256C10.4 256 0 245.6 0 232.8V176c0-26.5 21.5-48 48-48H168.8c12.8 0 23.2-10.4 23.2-23.2z";e.definition={prefix:"fas",iconName:t,icon:[512,512,i,r,n]},e.faPuzzlePiece=e.definition,e.prefix="fas",e.iconName=t,e.width=512,e.height=512,e.ligatures=i,e.unicode=r,e.svgPathData=n,e.aliases=i}(Kk),i.customElement("rnwppages-sortitem")(class extends e.LitElementBase{render(){var e;let i=null===(e=this.model.DataSource.GetForm())||void 0===e?void 0:e.Fields.filter((e=>e.UseInConditions));return this.sortItem.FieldId,this.sortItem.PathId,t.html` <div style="display: flex;justify-content: center;align-items: center;margin-bottom: 10px;" data-item-id=${this.sortItem.Id} class='sortableItem'> <div style="width: 20px"> <rn-fontawesome class=${"arrowDirection"} .icon=${ES.faArrowsAlt} style="font-size: 18px"/> </div> <div style="width: 10px"> </div> <div style="width: 200px"> <select .value=${g.live(this.sortItem.FieldId+"_"+this.sortItem.PathId)} style="height: auto;padding;0;width: 100%;" @change=${e=>this.FieldChanged(e.target.value,e.target[e.target.selectedIndex])}> <option data-linetype=${ok.None.toString()} id={''}>${RNTranslate("Select a field")}</option> <optgroup label=${RNTranslate("Fields")}> ${i.map((e=>e.GetDataSections("Display").map(((i,r)=>t.html` <option ?selected="${this.sortItem.FieldId+"_"+this.sortItem.PathId==e.Id+"_"+i.PathId}" data-path-id=${i.PathId} data-field-id=${e.Id} data-linetype=${ok.Standard.toString()} .value=${e.Id+"_"+i.PathId}>${(r>0?"    ":"")+i.Label}</option> `))))} </optgroup> </select> </div> <div style="width: 10px"> </div> <div style="width: 200px"> <select style="width: 100%;height: auto;" .value=${g.live(this.sortItem.Orientation)} @change=${e=>{this.sortItem.Orientation=e.target.value,this.forceUpdate()}}> <option ?selected="${"asc"==this.sortItem.Orientation}" .value=${"asc"}>Ascendant</option> <option ?selected="${"desc"==this.sortItem.Orientation}" .value=${"desc"}>Descendant</option> </select> </div> <div style="width: 10px"> </div> <div style="width: 20px;"> <rn-fontawesome class='sortItemDelete' @click=${()=>this.FireEvent("Remove")} .icon=${H.faTimes} style="font-size: 20px;cursor:pointer;"></rn-fontawesome> </div> </div> `}FieldChanged(e,t){var i;let r=t.getAttribute("data-field-id"),n=this.model.DataSource.GetFieldById(r);this.sortItem.FieldId=null==n?"":r,this.sortItem.PathId=null!==(i=t.getAttribute("data-path-id"))&&void 0!==i?i:"",this.forceUpdate()}}),i.customElement("rnwppages-sort")(class extends e.LitElementBase{constructor(...e){super(...e),this.IntId=0}firstUpdated(e){super.firstUpdated(e)}render(){return""==rnBuilderVar.IsPR?t.html` <p style="text-align: center"> Sorry sorting rows is only available in the full version </p> `:t.html` <fieldset style="border: 1px solid #dfdfdf;padding: 10px;border-radius: 5px"> <legend style="font-weight: bold;margin-left: 2px;"><rn-fontawesome .icon=${Kk.faPuzzlePiece}></rn-fontawesome> Parameters</legend> ${null==this.model.DataSource.GetForm()?t.html` <p style="margin:0">Please select a form first</p>`:this.GetSortContent()} </fieldset> `}CreateSortable(e){null==this.SortContainer&&null!=e&&(this.SortContainer=e,new hS(this.SortContainer,{handle:".arrowDirection",animation:150,onEnd:e=>{let t=[];this.SortContainer.querySelectorAll(".sortableItem").forEach((e=>{let i=parseInt(e.getAttribute("data-item-id")),r=this.model.Options.Sort.find((e=>e.Id==i));null!=r&&t.push(r)})),this.model.Options.Sort=t,this.IntId++,this.SortContainer=null,this.forceUpdate()}}))}GetSortContent(){return 0==this.model.Options.Sort.length?t.html` <div style="text-align: center"> <p style="text-align: center">No sorting has been defined yet</p> <button @click=${()=>this.CreateSortItem()} class=${"rnbtn rnbtn-primary"} style="margin-top: 5px;display: inline-flex;align-items: center;"> <rn-fontawesome .icon=${Y.faPlus} style="margin-right: 3px"></rn-fontawesome> Click here to sort the records by a field </button> </div> `:t.html` <div> <div style="display: flex;justify-content: center"> <div style="width: 20px"> </div> <div style="width: 10px"> </div> <div style="font-weight: bold;width: 200px;text-align: center;padding: 10px;">Field</div> <div style="width: 10px"> </div> <div style="font-weight: bold;width: 200px;text-align: center;padding: 10px;">Direction</div> <div style="width: 10px"> </div> <div style="width: 20px"> </div> </div> ${d.repeat([1],(e=>this.IntId),(e=>t.html` <div class='SortContainer' ${S.ref((e=>this.CreateSortable(e)))}> ${this.model.Options.Sort.map((e=>t.html` <rnwppages-sortitem .model=${this.model} @Remove=${()=>this.Remove(e)} .sortItem=${e}></rnwppages-sortitem> `))} </div> <div style="text-align: center;margin-top: 5px"> </div> `))} <div style="text-align: center"> <button @click=${()=>this.CreateSortItem()} style="display: inline-flex;align-items: center;" class=${"rnbtn rnbtn-primary"}><rn-fontawesome .icon=${Y.faPlus} style="margin-right: 4px;"></rn-fontawesome>Sort by an additional field</button> </div> </div> `}CreateSortItem(){this.model.Options.Sort.push((new ik).Merge()),this.forceUpdate()}Remove(e){this.model.Options.Sort.indexOf(e)<0||(this.model.Options.Sort.splice(this.model.Options.Sort.indexOf(e),1),this.forceUpdate())}});var eV={},tV={};!function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="gear",i=[9881,"cog"],r="f013",n="M495.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L83.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4C64.6 273.1 64 264.6 64 256s.6-17.1 1.7-25.4L22.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336c44.2 0 80-35.8 80-80s-35.8-80-80-80s-80 35.8-80 80s35.8 80 80 80z";e.definition={prefix:"fas",iconName:t,icon:[512,512,i,r,n]},e.faGear=e.definition,e.prefix="fas",e.iconName=t,e.width=512,e.height=512,e.ligatures=i,e.unicode=r,e.svgPathData=n,e.aliases=i}(tV),function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=tV;e.definition={prefix:t.prefix,iconName:t.iconName,icon:[t.width,t.height,t.aliases,t.unicode,t.svgPathData]},e.faCog=e.definition,e.prefix=t.prefix,e.iconName=t.iconName,e.width=t.width,e.height=t.height,e.ligatures=t.aliases,e.unicode=t.unicode,e.svgPathData=t.svgPathData,e.aliases=t.aliases}(eV),i.customElement("rn-layout-settings")(class extends e.LitElementBase{constructor(...e){super(...e),this.SelectedItem=""}get CurrentArea(){return this.model.Areas.find((e=>e.Id==this.SelectedItem))}render(){return""==this.SelectedItem&&(this.SelectedItem=this.model.Areas[0].Id),t.html` <div> <div> <label style="font-weight: bold;">Show settings for</label> <select style="width: 100%;margin-top: 3px;max-width: none;padding: 0 10px" @change="${e=>{this.DropDownChanged(e.target.value)}}"> ${this.model.Areas.map((e=>t.html`<option .value="${e.Id}">${e.Label}</option>`))} </select> <div style="margin-top: 10px"> ${this.CurrentArea.Settings.map((e=>e.Render()))} </div> </div> </div> `}DropDownChanged(e){this.SelectedItem=e,this.forceUpdate()}});var iV={};!function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="sort",i=["unsorted"],r="f0dc",n="M137.4 41.4c12.5-12.5 32.8-12.5 45.3 0l128 128c9.2 9.2 11.9 22.9 6.9 34.9s-16.6 19.8-29.6 19.8H32c-12.9 0-24.6-7.8-29.6-19.8s-2.2-25.7 6.9-34.9l128-128zm0 429.3l-128-128c-9.2-9.2-11.9-22.9-6.9-34.9s16.6-19.8 29.6-19.8H288c12.9 0 24.6 7.8 29.6 19.8s2.2 25.7-6.9 34.9l-128 128c-12.5 12.5-32.8 12.5-45.3 0z";e.definition={prefix:"fas",iconName:t,icon:[320,512,i,r,n]},e.faSort=e.definition,e.prefix="fas",e.iconName=t,e.width=320,e.height=512,e.ligatures=i,e.unicode=r,e.svgPathData=n,e.aliases=i}(iV),i.customElement("rnpage-general-settings")(class extends e.LitElementBase{render(){return t.html`<div> ${this.model.Settings.map((e=>e.Render()))} </div>`}}),i.customElement("rnwppages-settings")(class extends e.LitElementBase{constructor(){super(),this.TabItems=null,this.SettingsTab="General"}firstUpdated(e){super.firstUpdated(e)}GetParentStyles(){return{height:"100%"}}static get properties(){return{SettingsTab:{type:String}}}render(){return null==this.TabItems&&(this.TabItems=[]),t.html` <div class="FormBuilder" style="white-space: nowrap; background-color: #eaeaea;border:solid #afafaf 1px;border-top: none;position: relative;height: calc(100% - 35px)"> <div style="width: 300px;display: inline-block;vertical-align: top;background-color: #efefef;height: 100%;"> <div class=${"rnSettingsItem "+("General"==this.SettingsTab?"rnSelected":"")} style="width: 100%;padding: 15px 10px;cursor: pointer;display: flex;align-items: center;" @click=${()=>{this.SettingsTab="General",this.forceUpdate()}}> <rn-fontawesome style="margin-right: 3px;" .icon=${eV.faCog}></rn-fontawesome> General Settings </div> <div class=${"rnSettingsItem "+("Layout"==this.SettingsTab?"rnSelected":"")} style="width: 100%;padding: 15px 10px;cursor: pointer;display: flex;align-items: center;" @click=${()=>{this.SettingsTab="Layout",this.forceUpdate()}}> <rn-fontawesome style="margin-right: 3px;" .icon=${eV.faCog}></rn-fontawesome> Layout Settings </div> <div class=${"rnSettingsItem "+("Conditions"==this.SettingsTab?"rnSelected":"")} style="width: 100%;padding: 15px 10px;cursor: pointer;display: flex;align-items: center;" @click=${()=>{this.SettingsTab="Conditions",this.forceUpdate()}}> <rn-fontawesome style="margin-right: 3px;" .icon=${z.faFilter}></rn-fontawesome> Form and Filters </div> ${c.rnIf(this.model.CanUseSort&&t.html` <div class=${"rnSettingsItem "+("Sort"==this.SettingsTab?"rnSelected":"")} style="width: 100%;padding: 15px 10px;cursor: pointer;display: flex;align-items: center;" @click=${()=>{this.SettingsTab="Sort",this.forceUpdate()}}> <rn-fontawesome style="margin-right: 3px;" .icon=${iV.faSort}></rn-fontawesome> Sort </div>`)} <div class=${"rnSettingsItem "+("Styles"==this.SettingsTab?"rnSelected":"")} style="width: 100%;padding: 15px 10px;cursor: pointer;display: flex;align-items: center;" @click=${()=>{this.SettingsTab="Styles",this.forceUpdate()}}> <rn-fontawesome style="margin-right: 3px;" .icon=${Jk.faBrush}></rn-fontawesome> Styles </div> </div> <div class="settingsContent" style="width:calc(100% - 300px);display: inline-block;overflow: auto;background-color:rgb(107, 107, 107);height: 100%; "> <div style="background-color: white;margin: 10px 20px;padding: 15px;height: ${"Styles"==this.SettingsTab?"calc(100% - 20px)":"auto"}"> ${this.GetSettingsContent()} </div> </div> </div> `}GetSettingsContent(){return"General"==this.SettingsTab?t.html`<rnpage-general-settings .model=${this.model}></rnpage-general-settings>`:"Styles"==this.SettingsTab?t.html`<rn-styles-tab .model=${this.model}></rn-styles-tab>`:"Conditions"==this.SettingsTab?t.html`<rnwppages-filter-condition .pageBuilder="${this.model}"></rnwppages-filter-condition>`:"Layout"==this.SettingsTab?t.html`<rn-layout-settings .model="${this.model}"></rn-layout-settings>`:"Sort"==this.SettingsTab?t.html`<rnwppages-sort .model="${this.model}"></rnwppages-sort>`:void 0}});var rV,nV={},oV={};!function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="compass-drafting",i=["drafting-compass"],r="f568",n="M352 96c0 14.3-3.1 27.9-8.8 40.2L396 227.4c-23.7 25.3-54.2 44.1-88.5 53.6L256 192h0 0l-68 117.5c21.5 6.8 44.3 10.5 68.1 10.5c70.7 0 133.8-32.7 174.9-84c11.1-13.8 31.2-16 45-5s16 31.2 5 45C428.1 341.8 347 384 256 384c-35.4 0-69.4-6.4-100.7-18.1L98.7 463.7C94 471.8 87 478.4 78.6 482.6L23.2 510.3c-5 2.5-10.9 2.2-15.6-.7S0 501.5 0 496V440.6c0-8.4 2.2-16.7 6.5-24.1l60-103.7C53.7 301.6 41.8 289.3 31.2 276c-11.1-13.8-8.8-33.9 5-45s33.9-8.8 45 5c5.7 7.1 11.8 13.8 18.2 20.1l69.4-119.9c-5.6-12.2-8.8-25.8-8.8-40.2c0-53 43-96 96-96s96 43 96 96zm21 297.9c32.6-12.8 62.5-30.8 88.9-52.9l43.7 75.5c4.2 7.3 6.5 15.6 6.5 24.1V496c0 5.5-2.9 10.7-7.6 13.6s-10.6 3.2-15.6 .7l-55.4-27.7c-8.4-4.2-15.4-10.8-20.1-18.9L373 393.9zM256 128c17.7 0 32-14.3 32-32s-14.3-32-32-32s-32 14.3-32 32s14.3 32 32 32z";e.definition={prefix:"fas",iconName:t,icon:[512,512,i,r,n]},e.faCompassDrafting=e.definition,e.prefix="fas",e.iconName=t,e.width=512,e.height=512,e.ligatures=i,e.unicode=r,e.svgPathData=n,e.aliases=i}(oV),function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=oV;e.definition={prefix:t.prefix,iconName:t.iconName,icon:[t.width,t.height,t.aliases,t.unicode,t.svgPathData]},e.faDraftingCompass=e.definition,e.prefix=t.prefix,e.iconName=t.iconName,e.width=t.width,e.height=t.height,e.ligatures=t.aliases,e.unicode=t.unicode,e.svgPathData=t.svgPathData,e.aliases=t.aliases}(nV),i.customElement("rnwppages-designer-content")(class extends e.LitElementBase{constructor(...e){super(...e),this.IsHovering=!1,this.IsDragging=!1}static get Properties(){return{IsDragging:{type:Boolean},IsHovering:{type:Boolean}}}connectedCallback(){super.connectedCallback(),n.EventManager.Subscribe("DragBlockStart",(()=>this.IsDragging=!0),this),n.EventManager.Subscribe("DragBlockEnd",(()=>{this.IsDragging=!1,this.IsHovering=!1,null!=this.model.Ruler&&(this.model.Ruler.style.display="none")}),this)}disconnectedCallback(){super.disconnectedCallback(),n.EventManager.UnsubscribeEvent("DragBlockStart",this),n.EventManager.UnsubscribeEvent("DragBlockEnd",this)}render(){return t.html` <div style="width: 100%" class=${"DesignerContent "+(this.IsDragging?"IsDragging":"")+" "+(this.IsHovering?"IsHovering":"")} @dragEnter=${e=>this.DragEnter(e)} @dragOver=${e=>this.DragOver(e)} @dragLeave=${e=>this.DragLeave(e)} > ${this.model.Render()} </div> `}DragEnter(e){e.currentTarget.contains(e.relatedTarget)||(e.preventDefault(),this.IsHovering=!0)}DragOver(e){e.preventDefault()}DragLeave(e){e.currentTarget.contains(e.relatedTarget)||(this.IsHovering=!1)}}),i.customElement("rnwppages-field-properties")(class extends e.LitElementBase{connectedCallback(){super.connectedCallback(),n.EventManager.Subscribe("RefreshFieldProperties",(()=>this.forceUpdate()),this)}disconnectedCallback(){super.disconnectedCallback(),n.EventManager.UnsubscribeEvent("RefreshFieldProperties",this)}render(){return null==this.model.SelectedElement?t.html` <div style="padding: 10px;background-color: white;"> <h2 style="margin:0;padding: 10px;">Select an item first to see its settings</h2> </div> `:this.model.SelectedElement.GetProperties().Render()}}),i.customElement("rn-style-container")(((rV=class i extends e.LitElementBase{constructor(...e){super(...e),this.ScopeToUse=ae.This}static get properties(){return{model:{type:Object}}}connectedCallback(){super.connectedCallback(),n.EventManager.Subscribe("RefreshFieldProperties",(()=>this.forceUpdate()),this)}disconnectedCallback(){super.disconnectedCallback(),n.EventManager.UnsubscribeEvent("RefreshFieldProperties",this)}render(){if(null==this.model.SelectedElement)return t.html` <div style="background-color: white;padding: 20px;"> <span>Please select a field first</span> </div> `;let e=this.model.SelectedElement.GetStyles(this.ScopeToUse);return e.ApplyTo=this.ScopeToUse,e.ScopeChanged.Subscribe(this,(t=>{this.ChangeStyleScope(e,t)})),t.html` ${d.repeat([1],(e=>this.model.SelectedElement.GetUniqueId()+"_"+ie.Mode+"_"+i.Index),(()=>t.html` <div> <div style="background-color: white;"> ${c.rnIf(d.repeat([1],(e=>{var t;return null===(t=this.model.SelectedElement)||void 0===t?void 0:t.GetUniqueId()}),(t=>e.Render())))} <div style="text-align: center;margin-top: 20px"> <button @click=${()=>this.Reset(e)} class='rnbtn rnbtn-danger' style="padding: 5px 30px;margin-bottom: 5px"> <rn-fontawesome .icon=${jt.faUndo} style="margin-right: 5px;"></rn-fontawesome> Reset Styles </button> </div> </div> `))}`}HasCustomStyles(e){for(let t of e.GetProperties())if(null!=t.OptionsOverwrite&&t.OptionsOverwrite instanceof re&&t.OptionsOverwrite.IsUsed())return!0;return!1}Reset(e){e.GetProperties().forEach((e=>{e.Clear();let t=e.OptionsOverwrite;null!=t&&t.ClearStyles()})),this.model.SelectedElement.AddDefaultStyles(),i.Index++,this.forceUpdate()}async ChangeStyleScope(e,t){if(this.GetScopeWeight(this.ScopeToUse),this.GetScopeWeight(t),this.ScopeToUse==ae.This&&this.HasCustomStyles(e)){if(!await T.DeleteDialog.Show("Do you want to continue?","Changing the scope will delete the styles created for this field, continue?"))return void this.forceUpdate();this.Reset(e)}this.ScopeToUse=t,this.forceUpdate()}GetScopeWeight(e){switch(e){case ae.This:return 3;case ae.SameType:return 2;case ae.All:return 1}}}).Index=0,rV));var sV,aV,lV={};!function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="paintbrush",i=[128396,"paint-brush"],r="f1fc",n="M371.3 367.1c27.3-3.9 51.9-19.4 67.2-42.9L600.2 74.1c12.6-19.5 9.4-45.3-7.6-61.2S549.7-4.4 531.1 9.6L294.4 187.2c-24 18-38.2 46.1-38.4 76.1L371.3 367.1zm-19.6 25.4l-116-104.4C175.9 290.3 128 339.6 128 400c0 3.9 .2 7.8 .6 11.6c1.8 17.5-10.2 36.4-27.8 36.4H96c-17.7 0-32 14.3-32 32s14.3 32 32 32H240c61.9 0 112-50.1 112-112c0-2.5-.1-5-.2-7.5z";e.definition={prefix:"fas",iconName:t,icon:[576,512,i,r,n]},e.faPaintbrush=e.definition,e.prefix="fas",e.iconName=t,e.width=576,e.height=512,e.ligatures=i,e.unicode=r,e.svgPathData=n,e.aliases=i}(lV),i.customElement("rnwppages-designer-settings")(class extends e.LitElementBase{constructor(...e){super(...e),this.CurrentTab="Settings"}static get properties(){return{CurrentTab:{type:String}}}connectedCallback(){super.connectedCallback(),this.model.OnSelectedBlock.Subscribe(this,(()=>{this.CurrentTab="Settings"}))}componentDidMount(){}componentWillUnmount(){this.model.OnSelectedBlock.Unsubscribe(this)}render(){return t.html` <div class="FormBuilder" style="background-color: #eaeaea;border: solid 1px #afafaf; border-top: none;width: 500px;display: inline-block;position: relative;height: 100%;vertical-align: top"> <div style="width: 500px;display: inline-block;vertical-align: top;background-color: #efefef;height: 100%;"> <rn-tabs .contentStyles="${"height:100%"}" .padding="${0}" .selectedTab=${this.CurrentTab} @tabChanged=${e=>this.CurrentTab=e.detail} style="height:100%;margin-top: 5px" .tabs="${[new C.RNTabItem("Settings","Settings",eV.faCog,t.html` <rnwppages-field-properties .model="${this.model}"></rnwppages-field-properties> `),new C.RNTabItem("Styles",RNTranslate("Styles"),lV.faPaintbrush,t.html` <rn-style-container .model="${this.model}"></rn-style-container> `)]}"> </rn-tabs> </div> </div> `}}),i.customElement("rnwppages-designer")(class extends e.LitElementBase{render(){return t.html` <div style="background-color: #eaeaea;border: solid #afafaf 1px;border-top: none;position: relative;width: 100%;height: 100%;"> <rnwppages-designer-settings style="height: 100%;display: inline-block;vertical-align: top" .model=${this.pageBuilderModel}></rnwppages-designer-settings> <rnwppages-designer-content style="float:right;display: inline-block;width: calc(100% - 500px);vertical-align: top;height: 100%" .model="${this.pageBuilderModel}"></rnwppages-designer-content> </div> `}}),i.customElement("rnwppages-main-tab")(((sV=class extends e.LitElementBase{constructor(...e){super(...e),this.MainTab="Designer"}static get properties(){return{MainTab:{type:String}}}render(){return t.html` <div style="background-color: #fefefe;height: 100%"> <div style="height: 37px;padding: 0;margin:0;border-bottom: 1px solid #afafaf;" class='nav-tab-wrapper'> <a style="display:flex;cursor: pointer;margin-top: 1px;" class=${"nav-tab "+("Designer"==this.MainTab?"nav-tab-active":"")} @click=${()=>this.MainTab="Designer"}><rn-fontawesome style="margin-right: 3px" .icon=${nV.faDraftingCompass}></rn-fontawesome> Designer</a> <a style="display:flex;cursor: pointer;margin-top: 1px;" class=${"nav-tab "+("Settings"==this.MainTab?"nav-tab-active":"")} @click=${()=>this.MainTab="Settings"}><rn-fontawesome style="margin-right: 3px" .icon=${eV.faCog}></rn-fontawesome> Settings</a> </div> ${c.rnIf("Designer"==this.MainTab&&t.html` <div style="height: calc(100% - 37px)"> <rnwppages-designer style="height: 100%" .pageBuilderModel=${this.pageBuilderModel}></rnwppages-designer> </div>`)} ${c.rnIf("Settings"==this.MainTab&&t.html` <div style="height: calc(100% - 37px)"> <rnwppages-settings .model="${this.pageBuilderModel}"></rnwppages-settings> </div>`)} </div> `}}).defaultProps={},sV)),i.customElement("rnwppages-field-picker-dialog")(class extends p.DialogBase{constructor(...e){super(...e),this.SelectedTab="Standard",this.Groups=null}static get properties(){return{SelectedTab:{type:String},applyIsBusy:{type:Boolean}}}InternalGetOptions(){return{Title:"Select a field",Styles:{width:"80%",maxWidth:"800px"}}}SubRender(){return null==this.Groups&&this.CreateGroup(),t.html` <rn-tabs .selectedTab="${this.SelectedTab}" @tabChanged="${e=>{this.SelectedTab=e.detail}}" .tabs="${this.Groups.map((e=>new C.RNTabItem(e.GroupName,e.GroupName,null,t.html` <div style="display: flex;flex-direction: row;flex-wrap: wrap"> ${e.Items.map((e=>t.html` <rnwppages-field-picker-item .label="${e.Data.Label}" .imageUrl="${e.Data.URL}" @click="${t=>this.Select(e)}"></rnwppages-field-picker-item> `))} </div> `)))}"></rn-tabs> `}Select(e){e.Data.IsPr&&""==rnBuilderVar.IsPR?h.Dialog.Show(t.html`<rnwppages-license-required .message=${"This field is only available in the full version"}></rnwppages-license-required>`):this.SendResult(e.Data.Id)}CreateGroup(){this.Groups=[];let e=new cV("Standard");_.filter((e=>!e.IsPr)).forEach((t=>this.Section.IsBlockSupported(t.BlockType)&&e.AddItem(t)));let t=new cV("Advanced (Full Version Only)");_.filter((e=>e.IsPr)).forEach((e=>this.Section.IsBlockSupported(e.BlockType)&&t.AddItem(e))),this.Groups.push(e),this.Groups.push(t)}});class uV{constructor(e){this.Data=e}}class cV{constructor(e){this.GroupName=e,this.Items=[]}AddItem(e){this.Items.push(new uV(e))}}i.customElement("rnwppages-field-picker-item")(class extends e.LitElementBase{render(){return t.html` <div class='FieldPickerItem'> <img alt=${this.label} .src=${this.imageUrl}/> <label style="font-weight: bold;margin-left: 10px">${this.label}</label> </div> `}});let dV=c.customElementOnce("rnwppages-condition-builder")(aV=class extends l.LitModel{NoFilterMessage(){return t.html` <div style="text-align: center"> <p style="margin:0">You haven't created any filter yet (which means the page will use all the records of this form if needed)</p> <button @click=${()=>this.model.CreateGroup()} class='rnbtn rnbtn-primary' style="margin-top: 5px;display: inline-flex;align-items: center;"> <rn-fontawesome .icon=${Y.faPlus} style="margin-right: 3px"></rn-fontawesome> Click here to add your first filter </button> </div> `}render(){return 0==this.model.Groups.length?this.NoFilterMessage():t.html` <div style="margin-top: 15px"> Show only records that met this condition ${this.model.Groups.map(((e,i)=>t.html` <div style="margin-bottom: 10px"> ${e.render((()=>this.RecalculateElementsUsed()),(()=>this.RemoveGroup(e)))} ${i<this.model.Groups.length-1?t.html`<span style="font-weight: bold">${RNTranslate("or")}</span>`:null} </div> `))} <div style="margin-top: 10px"> ${c.rnIf(this.model.Groups.length>0&&t.html` <label style="font-weight: bold">${RNTranslate("or")}</label> `)} <div style="margin-top: 10px"> <button @click=${e=>{e.preventDefault(),this.model.CreateGroup()}} class='rnbtn rnbtn-primary'>${RNTranslate("Add new group")}</button> </div> </div> </div> `}get Options(){return this.model.Options}RemoveGroup(e){let t=this.model.Groups.indexOf(e);t<0||(this.model.Options.ConditionGroups.splice(t,1),this.model.Groups.splice(t,1),this.RecalculateElementsUsed(),this.forceUpdate())}RecalculateElementsUsed(){this.Options.ElementsUsed=[];for(let e of this.Options.ConditionGroups)for(let t of e.ConditionLines)t.Type==ok.Standard&&this.Options.ElementsUsed.push((new pk).Merge({Type:lk.Field,Id:t.FieldId}))}})||aV;var hV,pV,fV;i.customElement("rn-condition-property-builder")(class extends dV{NoFilterMessage(){return t.html` <div style="text-align: center"> <p style="margin:0">You haven't created any filter yet (which means that this chart will use all the records of the form)</p> <button @click=${()=>this.model.CreateGroup()} class='rnbtn rnbtn-primary' style="margin-top: 5px;display: inline-flex;align-items: center;"> <rn-fontawesome .icon=${Y.faPlus} style="margin-right: 3px"></rn-fontawesome> Click here to add a filter </button> </div> `}});class mV extends Uk{constructor(e,t){super(e,t),this._allowFieldMapping=!1}SetAllowFieldMapping(e=!0){return this._allowFieldMapping=e,this}GetForm(){return this.PageBuilder.DataSource.GetForm()}GetFields(){var e;return null===(e=this.GetForm())||void 0===e?void 0:e.Fields}AllowFieldMapping(){return this._allowFieldMapping}GetFieldById(e){var t;return null===(t=this.GetFields())||void 0===t?void 0:t.find((t=>t.Id==e))}render(){return t.html`<rn-condition-property-builder .model="${this}"></rn-condition-property-builder>`}}i.customElement("rn-condition-dialog")(class extends p.DialogBase{constructor(...e){super(...e),this.AllowFieldMapping=!1}InternalGetOptions(){return{Title:"Add/Edit Filter",Styles:{width:"1200px",maxWidth:"80%"}}}SubRender(){return null==this.ConditionBuilderModel&&(this.ConditionBuilderModel=new mV(this.ConditionProperty.GetValue(),this.PageBuilder).SetAllowFieldMapping(this.AllowFieldMapping)),this.ConditionBuilderModel.render()}}),i.customElement("rn-empty-column-placeholder")(class extends e.LitElementBase{constructor(...e){super(...e),this.DragCount=0,this.hovered=!1}static get properties(){return{model:{type:Object},hovered:{type:Boolean}}}render(){return t.html`<div @click="${e=>this.OpenFieldPicker()}" @dragleave="${e=>this.DragLeave(e)}" @dragenter="${e=>this.DragEnter(e)}" @dragover="${e=>this.DragOver(e)}" @drop="${e=>this.Drop(e)}" class="emptyColumnPlaceHolder" style="text-align: center;padding: 10px;cursor: pointer;border-radius: 5px;border-color: ${this.hovered?"lightgreen":"black"}">+ Add Block</div>`}async OpenFieldPicker(){let e=await h.Dialog.Show(t.html`<rnwppages-field-picker-dialog .Section="${this.Section}"></rn-field-picker>`);if(null==e)return;let i=this.model.Container.CreateBlockOptionsAndModel(e);this.model.InsertBlock(i),this.model.Container.FieldAdded(i),this.model.Refresh()}DragEnter(e){j.IsDraggingBlock()&&(e.preventDefault(),e.stopImmediatePropagation(),this.DragCount++,this.hovered=!0,n.EventManager.Publish("DragOver"))}DragOver(e){j.IsDraggingBlock()&&(e.preventDefault(),e.stopImmediatePropagation(),n.EventManager.Publish("DragOver"))}Drop(e){if(j.IsDraggingBlock()){if(e.stopImmediatePropagation(),j.IsDraggingNewBlock()){let e=this.model.Container.CreateBlockOptionsAndModel(X.GetDragObject().Type);this.model.InsertBlock(e),this.model.Container.FieldAdded(e),this.model.Refresh()}else{let e=X.GetDragObject().Model;e.Remove(),this.model.InsertBlock(e),this.model.Refresh()}this.DragCount=0,this.FireEvent("ElementDropped"),n.EventManager.Publish("DragLeave")}}DragLeave(e){this.DragCount-=1,0==this.DragCount&&(this.hovered=!1),n.EventManager.Publish("DragLeave")}});class gV extends a.ModelBase{constructor(e){super(e.Options),this.Parent=e.Section,this.Column=e}get PageBuilder(){return this.Column.PageBuilder}GetProperties(){return[new de(this.Column,"Header","Header").SetRefreshPropertiesPanel(),new Bt(this.Column,"Type","Column Type").AddItem("Field","Field").AddItem("Text","Text").AddItem("Link","Link").AddItem("Custom","Custom").SetOnChange((e=>{let t=Bw.GetOptions({Type:e,ColumnId:this.Column.Options.ColumnId}),i=this.Column.Section.Columns.indexOf(this.Column);return this.Column.Section.Options.Columns[i]=t,this.Column.Options=t,this.Column.NormalCell.Template=Bw.GetModel(this.Column),this.Column.Section.Refresh(),n.EventManager.Publish("RefreshFieldProperties"),!1})).SetRefreshPropertiesPanel()]}Refresh(){this.Column.Refresh()}}class OV extends e.LitElementBase{}i.customElement("rn-text-cell-template")(class extends OV{render(){var e;return null==this.model.Text&&(this.model.Text=n.EventManager.Publish("GetHTML",{HTML:this.model.Column.Options.Text,FormBuilder:this.model.PageBuilder})),null===(e=this.model.Text)||void 0===e?void 0:e.Code}});let bV=(hV=r.StoreDataType(Object),pV=class extends ry{constructor(...e){super(...e),babelHelpers.initializerDefineProperty(this,"Text",fV,this)}LoadDefaultValues(){super.LoadDefaultValues(),this.Text="",this.Type="Text"}},fV=babelHelpers.applyDecoratedDescriptor(pV.prototype,"Text",[hV],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pV);class SV extends gV{constructor(...e){super(...e),this.Text=null}render(){return t.html`<rn-text-cell-template .model="${this}"></rn-text-cell-template>`}GetProperties(){let e=super.GetProperties();return e.push(new OO(this.Column,"Text","Text").SetOptionsOverwrite(this.Column.Options).SetOnChange((e=>{this.Column.Options.Text=e,this.Text=null}))),e}}var yV,vV,wV;n.EventManager.Subscribe("GetTextCellTemplateOptions",(e=>{if("Text"==e)return new bV})),n.EventManager.Subscribe("GetTextCellTemplateModel",(e=>{if("Text"==e.Options.Type)return new SV(e)})),i.customElement("rn-field-cell-template")(class extends OV{render(){return""==this.model.CellOptions.FieldId||null==this.model.PageBuilder.DataSource.GetFieldById(this.model.CellOptions.FieldId)?t.html`<span style="color: red;">Select a field first</span>`:this.model.PageBuilder.DataSource.GetFriendlyName(this.model.CellOptions.FieldId,this.model.CellOptions.PathId,!0,!0)}});let xV=(yV=r.StoreDataType(String),vV=class extends ry{constructor(...e){super(...e),babelHelpers.initializerDefineProperty(this,"AllowedRoles",wV,this)}LoadDefaultValues(){super.LoadDefaultValues(),this.Type="Field",this.FieldId="",this.PathId="",this.IsSortable=!1,this.Editable=!1,this.AllowedRoles=[]}},wV=babelHelpers.applyDecoratedDescriptor(vV.prototype,"AllowedRoles",[yV],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vV);class kV extends gV{render(){return t.html`<rn-field-cell-template .model="${this}"></rn-field-cell-template>`}get CellOptions(){return this.Column.Options}GetProperties(){var e;let i=super.GetProperties();i.push(new US(this.Column,"FieldId","PathId","Field").SetOptionsOverwrite(this.Column.Options).SetAfterValueChanged((()=>{this.Column.Options.Header=this.PageBuilder.DataSource.GetFriendlyName(this.CellOptions.FieldId,this.CellOptions.PathId)})).SetRefreshPropertiesPanel()),i.push(new qS(this.Column,"IsSortable","Is sortable").SetOptionsOverwrite(this.Column.Options));let r=null===(e=this.PageBuilder.DataSource)||void 0===e?void 0:e.GetFieldById(this.Column.Options.FieldId);return null!=r&&[sk.Text,sk.Multiple].indexOf(r.Type)>=0&&(i.push(new qS(this,"Editable","Editable (Full version only)").SetOnChange((e=>{""!=rnBuilderVar.IsPR?this.CellOptions.Editable=e:h.Dialog.Show(t.html` <rnwppages-license-required .message="${"Sorry this feature is only available in the full version"}"></rnwppages-license-required>`)}))),this.CellOptions.Editable&&i.push(new XS(this,"AllowedRoles","User roles that can edit the entries (If left empty everyone will be able to edit the entries)").SetOptionsOverwrite(this.Column.Options))),i}}var VV,CV,TV,$V;n.EventManager.Subscribe("GetTextCellTemplateOptions",(e=>{if("Field"==e)return new xV})),n.EventManager.Subscribe("GetTextCellTemplateModel",(e=>{if("Field"==e.Options.Type)return new kV(e)})),i.customElement("rn-link-cell-template")(class extends OV{render(){return null==this.model.Generator&&(this.model.Generator=new k.SingleLineGenerator(this.model.PageBuilder)),null==this.model.Text&&(this.model.Text=this.model.Generator.ParseContent(this.model.ColumnOptions.Text)),t.html`<a href="#" @click="${e=>e.preventDefault()}">${this.model.Text}</a>`}});class PV extends gV{render(){return t.html`<rn-link-cell-template .model="${this}"></rn-link-cell-template>`}constructor(e){super(e),this.Text=null}get ColumnOptions(){return this.Column.Options}GetProperties(){let e=super.GetProperties(),t=window.rnPageBuilder.DataSource.GetPDFTemplates(),i=window.rnPageBuilder.DataSource.GetPDFImporterTemplates(),r=new Bt(this.Column,"LinkType","Link Type").SetOptionsOverwrite(this.Column.Options).AddItem("Url",ay.URL).AddItem("View entry",ay.ViewEntry).AddItem("Edit entry (Full version only)",ay.EditEntry).AddItem("Delete entry (Full version only)",ay.DeleteEntry).AddItem("Approve entry (Full version only)",ay.ApproveEntry).AddItem("Disapprove entry (Full version only)",ay.DisapproveEntry).AddItem("Main page",ay.MainPage).SetOnChange((e=>{switch(this.ColumnOptions.LinkType=e,this.ColumnOptions.Value="",e){case ay.URL:this.ColumnOptions.Text=null;break;case ay.EditEntry:""==rnBuilderVar.IsPR&&(this.Column.Options.LinkType=ay.URL),this.ColumnOptions.Text=k.SingleLineGenerator.CreateText("Edit Entry");break;case ay.DeleteEntry:""==rnBuilderVar.IsPR&&(this.Column.Options.LinkType=ay.URL),this.ColumnOptions.Text=k.SingleLineGenerator.CreateText("Delete Entry");break;case ay.ApproveEntry:""==rnBuilderVar.IsPR&&(this.Column.Options.LinkType=ay.URL),this.ColumnOptions.Text=k.SingleLineGenerator.CreateText("Approve Entry");break;case ay.DisapproveEntry:""==rnBuilderVar.IsPR&&(this.Column.Options.LinkType=ay.URL),this.ColumnOptions.Text=k.SingleLineGenerator.CreateText("Disapprove Entry");break;case ay.ViewEntry:this.ColumnOptions.Text=k.SingleLineGenerator.CreateText("View Entry");break;case"PDFBuilder":case"PDFImporter":this.ColumnOptions.Text=k.SingleLineGenerator.CreateText("Download")}this.Text=null,this.Refresh()})).SetRefreshPropertiesPanel();t.length>0&&r.AddItem("PDF Builder","PDFBuilder"),i.length>0&&r.AddItem("PDF Importer","PDFImporter"),e.push(r);let n=this.ColumnOptions;switch(this.ColumnOptions.LinkType){case ay.URL:e.push(new de(this.Column,"Value","URL").SetOptionsOverwrite(this.Column.Options));break;case"PDFBuilder":let r=new Bt(this.Column,"Value","PDF Template").SetOptionsOverwrite(this.Column.Options).SetOnGetValue((()=>n.Value)).SetOnChange((e=>{Array.isArray(e)&&(0==e.length?n.Value="":n.Value=e[0]),n.Value=e}));t.forEach((e=>r.AddItem(e.TemplateName,e.Id))),e.push(r);break;case"PDFImporter":let o=new Bt(this.Column,"Value","PDF Template").SetOptionsOverwrite(this.Column.Options).SetOnGetValue((()=>n.Value)).SetOnChange((e=>{Array.isArray(e)&&(0==e.length?n.Value="":n.Value=e[0]),n.Value=e}));i.forEach((e=>o.AddItem(e.TemplateName,e.Id))),e.push(o)}return e.push(new Sy(this,"Text","Text").SetOptionsOverwrite(this.Column.Options).SetAddFieldsGroup().SetOnChange((e=>{this.ColumnOptions.Text=e,this.Text=null}))),e.push(new qS(this.Column,"OpenInNewTab","Open in new tab").SetOptionsOverwrite(this.Column.Options)),e}}n.EventManager.Subscribe("GetTextCellTemplateOptions",(e=>{if("Link"==e)return new ly})),n.EventManager.Subscribe("GetTextCellTemplateModel",(e=>{if("Link"==e.Options.Type)return new PV(e)}));const QV=e=>{window.emitLitDebugLogEvents&&window.dispatchEvent(new CustomEvent("lit-debug",{detail:e}))};let RV;null!==(VV=globalThis.litIssuedWarnings)&&void 0!==VV||(globalThis.litIssuedWarnings=new Set),RV=(e,t)=>{t+=e?` See https://lit.dev/msg/${e} for more information.`:"",globalThis.litIssuedWarnings.has(t)||(console.warn(t),globalThis.litIssuedWarnings.add(t))},RV("dev-mode","Lit is in dev mode. Not recommended for production!");const IV=(null===(CV=window.ShadyDOM)||void 0===CV?void 0:CV.inUse)&&!0===(null===(TV=window.ShadyDOM)||void 0===TV?void 0:TV.noPatch)?window.ShadyDOM.wrap:e=>e,EV=globalThis.trustedTypes,DV=EV?EV.createPolicy("lit-html",{createHTML:e=>e}):void 0,AV=e=>e,_V=(e,t,i)=>AV,MV=(e,t,i)=>nC(e,t,i),LV="$lit$",GV=`lit$${String(Math.random()).slice(9)}$`,NV="?"+GV,WV=`<${NV}>`,BV=document,zV=(e="")=>BV.createComment(e),FV=e=>null===e||"object"!=typeof e&&"function"!=typeof e,UV=Array.isArray,qV=e=>{var t;return UV(e)||"function"==typeof(null===(t=e)||void 0===t?void 0:t[Symbol.iterator])},XV=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,jV=/-->/g,HV=/>/g,ZV=new RegExp(">|[ \t\n\f\r](?:([^\\s\"'>=/]+)([ \t\n\f\r]*=[ \t\n\f\r]*(?:[^ \t\n\f\r\"'`<>=]|(\"|')|))|$)","g"),YV=/'/g,JV=/"/g,KV=/^(?:script|style|textarea|title)$/i,eC=Symbol.for("lit-noChange"),tC=Symbol.for("lit-nothing"),iC=new WeakMap,rC=BV.createTreeWalker(BV,129,null,!1);let nC=_V;const oC=(e,t)=>{const i=e.length-1,r=[];let n,o=2===t?"<svg>":"",s=XV;for(let t=0;t<i;t++){const i=e[t];let a,l,u=-1,c=0;for(;c<i.length&&(s.lastIndex=c,l=s.exec(i),null!==l);)if(c=s.lastIndex,s===XV){if("!--"===l[1])s=jV;else if(void 0!==l[1])s=HV;else if(void 0!==l[2])KV.test(l[2])&&(n=new RegExp(`</${l[2]}`,"g")),s=ZV;else if(void 0!==l[3])throw new Error("Bindings in tag names are not supported. Please use static templates instead. See https://lit.dev/docs/templates/expressions/#static-expressions")}else s===ZV?">"===l[0]?(s=null!=n?n:XV,u=-1):void 0===l[1]?u=-2:(u=s.lastIndex-l[2].length,a=l[1],s=void 0===l[3]?ZV:'"'===l[3]?JV:YV):s===JV||s===YV?s=ZV:s===jV||s===HV?s=XV:(s=ZV,n=void 0);console.assert(-1===u||s===ZV||s===YV||s===JV,"unexpected parse state B");const d=s===ZV&&e[t+1].startsWith("/>")?" ":"";o+=s===XV?i+WV:u>=0?(r.push(a),i.slice(0,u)+LV+i.slice(u)+GV+d):i+GV+(-2===u?(r.push(void 0),t):d)}const a=o+(e[i]||"<?>")+(2===t?"</svg>":"");if(!Array.isArray(e)||!e.hasOwnProperty("raw")){let e="invalid template strings array";throw e=" Internal Error: expected template strings to be an array with a 'raw' field. Faking a template strings array by calling html or svg like an ordinary function is effectively the same as calling unsafeHtml and can lead to major security issues, e.g. opening your code up to XSS attacks. If you're using the html or svg tagged template functions normally and and still seeing this error, please file a bug at https://github.com/lit/lit/issues/new?template=bug_report.md and include information about your build tooling, if any. ".trim().replace(/\n */g,"\n"),new Error(e)}return[void 0!==DV?DV.createHTML(a):a,r]};class sC{constructor({strings:e,_$litType$:t},i){let r;this.parts=[];let n=0,o=0;const s=e.length-1,a=this.parts,[l,u]=oC(e,t);if(this.el=sC.createElement(l,i),rC.currentNode=this.el.content,2===t){const e=this.el.content,t=e.firstChild;t.remove(),e.append(...t.childNodes)}for(;null!==(r=rC.nextNode())&&a.length<s;){if(1===r.nodeType){{const e=r.localName;if(/^(?:textarea|template)$/i.test(e)&&r.innerHTML.includes(GV)){const t=`Expressions are not supported inside \`${e}\` elements. See https://lit.dev/msg/expression-in-${e} for more information.`;if("template"===e)throw new Error(t);RV("",t)}}if(r.hasAttributes()){const e=[];for(const t of r.getAttributeNames())if(t.endsWith(LV)||t.startsWith(GV)){const i=u[o++];if(e.push(t),void 0!==i){const e=r.getAttribute(i.toLowerCase()+LV).split(GV),t=/([.?@])?(.*)/.exec(i);a.push({type:1,index:n,name:t[2],strings:e,ctor:"."===t[1]?dC:"?"===t[1]?pC:"@"===t[1]?fC:cC})}else a.push({type:6,index:n})}for(const t of e)r.removeAttribute(t)}if(KV.test(r.tagName)){const e=r.textContent.split(GV),t=e.length-1;if(t>0){r.textContent=EV?EV.emptyScript:"";for(let i=0;i<t;i++)r.append(e[i],zV()),rC.nextNode(),a.push({type:2,index:++n});r.append(e[t],zV())}}}else if(8===r.nodeType){if(r.data===NV)a.push({type:2,index:n});else{let e=-1;for(;-1!==(e=r.data.indexOf(GV,e+1));)a.push({type:7,index:n}),e+=GV.length-1}}n++}null==QV||QV({kind:"template prep",template:this,clonableTemplate:this.el,parts:this.parts,strings:e})}static createElement(e,t){const i=BV.createElement("template");return i.innerHTML=e,i}}function aC(e,t,i=e,r){var n,o,s,a;if(t===eC)return t;let l=void 0!==r?null===(n=i.__directives)||void 0===n?void 0:n[r]:i.__directive;const u=FV(t)?void 0:t._$litDirective$;return(null==l?void 0:l.constructor)!==u&&(null===(o=null==l?void 0:l._$notifyDirectiveConnectionChanged)||void 0===o||o.call(l,!1),void 0===u?l=void 0:(l=new u(e),l._$initialize(e,i,r)),void 0!==r?(null!==(s=(a=i).__directives)&&void 0!==s?s:a.__directives=[])[r]=l:i.__directive=l),void 0!==l&&(t=aC(e,l._$resolve(e,t.values),l,r)),t}class lC{constructor(e,t){this._parts=[],this._$disconnectableChildren=void 0,this._$template=e,this._$parent=t}get parentNode(){return this._$parent.parentNode}get _$isConnected(){return this._$parent._$isConnected}_clone(e){var t;const{el:{content:i},parts:r}=this._$template,n=(null!==(t=null==e?void 0:e.creationScope)&&void 0!==t?t:BV).importNode(i,!0);rC.currentNode=n;let o=rC.nextNode(),s=0,a=0,l=r[0];for(;void 0!==l;){if(s===l.index){let t;2===l.type?t=new uC(o,o.nextSibling,this,e):1===l.type?t=new l.ctor(o,l.name,l.strings,this,e):6===l.type&&(t=new mC(o,this,e)),this._parts.push(t),l=r[++a]}s!==(null==l?void 0:l.index)&&(o=rC.nextNode(),s++)}return n}_update(e){let t=0;for(const i of this._parts)void 0!==i&&(null==QV||QV({kind:"set part",part:i,value:e[t],valueIndex:t,values:e,templateInstance:this}),void 0!==i.strings?(i._$setValue(e,i,t),t+=i.strings.length-2):i._$setValue(e[t])),t++}}class uC{constructor(e,t,i,r){var n;this.type=2,this._$committedValue=tC,this._$disconnectableChildren=void 0,this._$startNode=e,this._$endNode=t,this._$parent=i,this.options=r,this.__isConnected=null===(n=null==r?void 0:r.isConnected)||void 0===n||n,this._textSanitizer=void 0}get _$isConnected(){var e,t;return null!==(t=null===(e=this._$parent)||void 0===e?void 0:e._$isConnected)&&void 0!==t?t:this.__isConnected}get parentNode(){let e=IV(this._$startNode).parentNode;const t=this._$parent;return void 0!==t&&11===e.nodeType&&(e=t.parentNode),e}get startNode(){return this._$startNode}get endNode(){return this._$endNode}_$setValue(e,t=this){if(null===this.parentNode)throw new Error("This `ChildPart` has no `parentNode` and therefore cannot accept a value. This likely means the element containing the part was manipulated in an unsupported way outside of Lit's control such that the part's marker nodes were ejected from DOM. For example, setting the element's `innerHTML` or `textContent` can do this.");e=aC(this,e,t),FV(e)?e===tC||null==e||""===e?(this._$committedValue!==tC&&(null==QV||QV({kind:"commit nothing to child",start:this._$startNode,end:this._$endNode,parent:this._$parent,options:this.options}),this._$clear()),this._$committedValue=tC):e!==this._$committedValue&&e!==eC&&this._commitText(e):void 0!==e._$litType$?this._commitTemplateResult(e):void 0!==e.nodeType?this._commitNode(e):qV(e)?this._commitIterable(e):this._commitText(e)}_insert(e,t=this._$endNode){return IV(IV(this._$startNode).parentNode).insertBefore(e,t)}_commitNode(e){var t;if(this._$committedValue!==e){if(this._$clear(),nC!==_V){const e=null===(t=this._$startNode.parentNode)||void 0===t?void 0:t.nodeName;if("STYLE"===e||"SCRIPT"===e){let t="Forbidden";throw t="STYLE"===e?"Lit does not support binding inside style nodes. This is a security risk, as style injection attacks can exfiltrate data and spoof UIs. Consider instead using css`...` literals to compose styles, and make do dynamic styling with css custom properties, ::parts, <slot>s, and by mutating the DOM rather than stylesheets.":"Lit does not support binding inside script nodes. This is a security risk, as it could allow arbitrary code execution.",new Error(t)}}null==QV||QV({kind:"commit node",start:this._$startNode,parent:this._$parent,value:e,options:this.options}),this._$committedValue=this._insert(e)}}_commitText(e){if(this._$committedValue!==tC&&FV(this._$committedValue)){const t=IV(this._$startNode).nextSibling;void 0===this._textSanitizer&&(this._textSanitizer=MV(t,"data","property")),e=this._textSanitizer(e),null==QV||QV({kind:"commit text",node:t,value:e,options:this.options}),t.data=e}else{const t=document.createTextNode("");this._commitNode(t),void 0===this._textSanitizer&&(this._textSanitizer=MV(t,"data","property")),e=this._textSanitizer(e),null==QV||QV({kind:"commit text",node:t,value:e,options:this.options}),t.data=e}this._$committedValue=e}_commitTemplateResult(e){var t;const{values:i,_$litType$:r}=e,n="number"==typeof r?this._$getTemplate(e):(void 0===r.el&&(r.el=sC.createElement(r.h,this.options)),r);if((null===(t=this._$committedValue)||void 0===t?void 0:t._$template)===n)null==QV||QV({kind:"template updating",template:n,instance:this._$committedValue,parts:this._$committedValue._parts,options:this.options,values:i}),this._$committedValue._update(i);else{const e=new lC(n,this),t=e._clone(this.options);null==QV||QV({kind:"template instantiated",template:n,instance:e,parts:e._parts,options:this.options,fragment:t,values:i}),e._update(i),null==QV||QV({kind:"template instantiated and updated",template:n,instance:e,parts:e._parts,options:this.options,fragment:t,values:i}),this._commitNode(t),this._$committedValue=e}}_$getTemplate(e){let t=iC.get(e.strings);return void 0===t&&iC.set(e.strings,t=new sC(e)),t}_commitIterable(e){UV(this._$committedValue)||(this._$committedValue=[],this._$clear());const t=this._$committedValue;let i,r=0;for(const n of e)r===t.length?t.push(i=new uC(this._insert(zV()),this._insert(zV()),this,this.options)):i=t[r],i._$setValue(n),r++;r<t.length&&(this._$clear(i&&IV(i._$endNode).nextSibling,r),t.length=r)}_$clear(e=IV(this._$startNode).nextSibling,t){var i;for(null===(i=this._$notifyConnectionChanged)||void 0===i||i.call(this,!1,!0,t);e&&e!==this._$endNode;){const t=IV(e).nextSibling;IV(e).remove(),e=t}}setConnected(e){var t;if(void 0!==this._$parent)throw new Error("part.setConnected() may only be called on a RootPart returned from render().");this.__isConnected=e,null===(t=this._$notifyConnectionChanged)||void 0===t||t.call(this,e)}}class cC{constructor(e,t,i,r,n){this.type=1,this._$committedValue=tC,this._$disconnectableChildren=void 0,this.element=e,this.name=t,this._$parent=r,this.options=n,i.length>2||""!==i[0]||""!==i[1]?(this._$committedValue=new Array(i.length-1).fill(new String),this.strings=i):this._$committedValue=tC,this._sanitizer=void 0}get tagName(){return this.element.tagName}get _$isConnected(){return this._$parent._$isConnected}_$setValue(e,t=this,i,r){const n=this.strings;let o=!1;if(void 0===n)e=aC(this,e,t,0),o=!FV(e)||e!==this._$committedValue&&e!==eC,o&&(this._$committedValue=e);else{const r=e;let s,a;for(e=n[0],s=0;s<n.length-1;s++)a=aC(this,r[i+s],t,s),a===eC&&(a=this._$committedValue[s]),o||(o=!FV(a)||a!==this._$committedValue[s]),a===tC?e=tC:e!==tC&&(e+=(null!=a?a:"")+n[s+1]),this._$committedValue[s]=a}o&&!r&&this._commitValue(e)}_commitValue(e){e===tC?IV(this.element).removeAttribute(this.name):(void 0===this._sanitizer&&(this._sanitizer=nC(this.element,this.name)),e=this._sanitizer(null!=e?e:""),null==QV||QV({kind:"commit attribute",element:this.element,name:this.name,value:e,options:this.options}),IV(this.element).setAttribute(this.name,null!=e?e:""))}}class dC extends cC{constructor(){super(...arguments),this.type=3}_commitValue(e){void 0===this._sanitizer&&(this._sanitizer=nC(this.element,this.name)),e=this._sanitizer(e),null==QV||QV({kind:"commit property",element:this.element,name:this.name,value:e,options:this.options}),this.element[this.name]=e===tC?void 0:e}}const hC=EV?EV.emptyScript:"";class pC extends cC{constructor(){super(...arguments),this.type=4}_commitValue(e){null==QV||QV({kind:"commit boolean attribute",element:this.element,name:this.name,value:!(!e||e===tC),options:this.options}),e&&e!==tC?IV(this.element).setAttribute(this.name,hC):IV(this.element).removeAttribute(this.name)}}class fC extends cC{constructor(e,t,i,r,n){if(super(e,t,i,r,n),this.type=5,void 0!==this.strings)throw new Error(`A \`<${e.localName}>\` has a \`@${t}=...\` listener with invalid content. Event listeners in templates must have exactly one expression and no surrounding text.`)}_$setValue(e,t=this){var i;if((e=null!==(i=aC(this,e,t,0))&&void 0!==i?i:tC)===eC)return;const r=this._$committedValue,n=e===tC&&r!==tC||e.capture!==r.capture||e.once!==r.once||e.passive!==r.passive,o=e!==tC&&(r===tC||n);null==QV||QV({kind:"commit event listener",element:this.element,name:this.name,value:e,options:this.options,removeListener:n,addListener:o,oldListener:r}),n&&this.element.removeEventListener(this.name,this,r),o&&this.element.addEventListener(this.name,this,e),this._$committedValue=e}handleEvent(e){var t,i;"function"==typeof this._$committedValue?this._$committedValue.call(null!==(i=null===(t=this.options)||void 0===t?void 0:t.host)&&void 0!==i?i:this.element,e):this._$committedValue.handleEvent(e)}}class mC{constructor(e,t,i){this.element=e,this.type=6,this._$disconnectableChildren=void 0,this._$parent=t,this.options=i}get _$isConnected(){return this._$parent._$isConnected}_$setValue(e){null==QV||QV({kind:"commit to element binding",element:this.element,value:e,options:this.options}),aC(this,e)}}const gC={_boundAttributeSuffix:LV,_marker:GV,_markerMatch:NV,_HTML_RESULT:1,_getTemplateHtml:oC,_TemplateInstance:lC,_isIterable:qV,_resolveDirective:aC,_ChildPart:uC,_AttributePart:cC,_BooleanAttributePart:pC,_EventPart:fC,_PropertyPart:dC,_ElementPart:mC},OC=window.litHtmlPolyfillSupportDevMode;null==OC||OC(sC,uC),(null!==($V=globalThis.litHtmlVersions)&&void 0!==$V?$V:globalThis.litHtmlVersions=[]).push("2.2.3"),globalThis.litHtmlVersions.length>1&&RV("multiple-versions","Multiple versions of Lit loaded. Loading multiple versions is not recommended.");const bC=2;var SC,yC;const{_ChildPart:vC}=gC,wC=(null===(SC=window.ShadyDOM)||void 0===SC?void 0:SC.inUse)&&!0===(null===(yC=window.ShadyDOM)||void 0===yC?void 0:yC.noPatch)?window.ShadyDOM.wrap:e=>e,xC=()=>document.createComment(""),kC=(e,t,i)=>{var r;const n=wC(e._$startNode).parentNode,o=void 0===t?e._$endNode:t._$startNode;if(void 0===i){const t=wC(n).insertBefore(xC(),o),r=wC(n).insertBefore(xC(),o);i=new vC(t,r,e,e.options)}else{const t=wC(i._$endNode).nextSibling,s=i._$parent,a=s!==e;if(a){let t;null===(r=i._$reparentDisconnectables)||void 0===r||r.call(i,e),i._$parent=e,void 0!==i._$notifyConnectionChanged&&(t=e._$isConnected)!==s._$isConnected&&i._$notifyConnectionChanged(t)}if(t!==o||a){let e=i._$startNode;for(;e!==t;){const t=wC(e).nextSibling;wC(n).insertBefore(e,o),e=t}}}return i},VC=(e,t,i=e)=>(e._$setValue(t,i),e),CC={},TC=e=>{var t;null===(t=e._$notifyConnectionChanged)||void 0===t||t.call(e,!1,!0);let i=e._$startNode;const r=wC(e._$endNode).nextSibling;for(;i!==r;){const e=wC(i).nextSibling;wC(i).remove(),i=e}},$C=(e,t,i)=>{const r=new Map;for(let n=t;n<=i;n++)r.set(e[n],n);return r};const PC=(QC=class extends class{constructor(e){}get _$isConnected(){return this._$parent._$isConnected}_$initialize(e,t,i){this.__part=e,this._$parent=t,this.__attributeIndex=i}_$resolve(e,t){return this.update(e,t)}update(e,t){return this.render(...t)}}{constructor(e){if(super(e),e.type!==bC)throw new Error("repeat() can only be used in text expressions")}_getValuesAndKeys(e,t,i){let r;void 0===i?i=t:void 0!==t&&(r=t);const n=[],o=[];let s=0;for(const t of e)n[s]=r?r(t,s):s,o[s]=i(t,s),s++;return{values:o,keys:n}}render(e,t,i){return this._getValuesAndKeys(e,t,i).values}update(e,[t,i,r]){var n;const o=e._$committedValue,{values:s,keys:a}=this._getValuesAndKeys(t,i,r);if(!Array.isArray(o))return this._itemKeys=a,s;const l=null!==(n=this._itemKeys)&&void 0!==n?n:this._itemKeys=[],u=[];let c,d,h=0,p=o.length-1,f=0,m=s.length-1;for(;h<=p&&f<=m;)if(null===o[h])h++;else if(null===o[p])p--;else if(l[h]===a[f])u[f]=VC(o[h],s[f]),h++,f++;else if(l[p]===a[m])u[m]=VC(o[p],s[m]),p--,m--;else if(l[h]===a[m])u[m]=VC(o[h],s[m]),kC(e,u[m+1],o[h]),h++,m--;else if(l[p]===a[f])u[f]=VC(o[p],s[f]),kC(e,o[h],o[p]),p--,f++;else if(void 0===c&&(c=$C(a,f,m),d=$C(l,h,p)),c.has(l[h]))if(c.has(l[p])){const t=d.get(a[f]),i=void 0!==t?o[t]:null;if(null===i){const t=kC(e,o[h]);VC(t,s[f]),u[f]=t}else u[f]=VC(i,s[f]),kC(e,o[h],i),o[t]=null;f++}else TC(o[p]),p--;else TC(o[h]),h++;for(;f<=m;){const t=kC(e,u[m+1]);VC(t,s[f]),u[f++]=t}for(;h<=p;){const e=o[h++];null!==e&&TC(e)}return this._itemKeys=a,((e,t=CC)=>{e._$committedValue=t})(e,u),eC}},(...e)=>({_$litDirective$:QC,values:e}));var QC,RC,IC,EC;i.customElement("rn-custom-cell-template")(class extends OV{render(){return t.html` ${this.model.Rows.length>0?t.html` ${PC([1],(e=>1),(e=>t.html` <div class="" style="position: relative"> ${PC(this.model.Rows,(e=>e.Options.Id),(e=>e.render()))} </div> `))} <rn-empty-section-placeholder .index="${this.model.Rows.length}" .innerSectionPlaceHolder="${!0}" style="margin:10px" .isCompact="${!0}" .message="${"Click here to add a block"}" @refresh="${e=>{this.forceUpdate()}}" .model="${this.model}"></rn-empty-section-placeholder> `:t.html` <rn-empty-section-placeholder style="margin:10px" .isCompact="${!0}" .message="${"Click here to add a block"}" @refresh="${e=>{this.forceUpdate()}}" .model="${this.model}"></rn-empty-section-placeholder>`}`}});let DC=(RC=r.StoreDataType(Mw),IC=class extends ry{constructor(...e){super(...e),babelHelpers.initializerDefineProperty(this,"Rows",EC,this)}LoadDefaultValues(){super.LoadDefaultValues(),this.Type="Custom",this.Rows=[]}},EC=babelHelpers.applyDecoratedDescriptor(IC.prototype,"Rows",[RC],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),IC);var AC,_C,MC;i.customElement("rn-column")(class extends l.LitModel{constructor(...e){super(...e),this.hovered=!1}static get properties(){return{model:{type:Object},hovered:{type:Boolean}}}firstUpdated(e){super.firstUpdated(e),this.model.Instance=this}GetParentStyles(){return{width:this.model.Options.WidthPercentage+"%",display:"inline-flex"}}disconnectedCallback(){super.disconnectedCallback(),this.model.Instance=this}render(){return t.html`<div @contextmenu="${e=>this.OpenContextMenu(e)}" class="selectableElement rnColumn ${this.model.IsSelected?"selected":""} columnWrapper ${this.model.GetUniqueId()}" style=";position: relative" @dragleave="${e=>this.DragLeave(e)}" @dragenter="${e=>this.DragEnter(e)}" @dragover="${e=>this.DragOver(e)}" @drop="${e=>this.Drop(e)}" @dragstart="${e=>this.DragStart(e)}"> <div class="${this.hovered?"isDraggingOver":""}"> <div style="position: absolute;top:0;left:0;padding: 2px;z-index: 10000000000000000000" class="ColumnConfigure" @click="${e=>{e.stopImmediatePropagation(),this.model.Select()}}" draggable="true" @mouseenter="${e=>this.model.Highlight()}" @mouseleave="${e=>this.model.UnHighlight()}"><rn-fontawesome .icon="${eV.faCog}" title="Configure column" ></rn-fontawesome> </div> <div> ${0==this.model.Blocks.length?t.html`<rn-empty-column-placeholder .Section="${this.model.PageSection}" @ElementDropped="${e=>{this.hovered=!1,this.forceUpdate()}}" .model="${this.model}"></rn-empty-column-placeholder>`:t.html` ${d.repeat(this.model.Blocks,(e=>e.Options.Id),(e=>e.render()))}`} </div> </div></div>`}DragEnter(e){e.currentTarget.contains(e.relatedTarget)||(e.stopImmediatePropagation(),this.hovered=!0,(j.IsDraggingBlock()||j.IsDraggingColumn())&&0!=this.model.Blocks.length&&j.CanDragToSection(this.model.PageSection)&&(n.EventManager.Publish("DragOver"),e.preventDefault()))}DragOver(e){if(!j.IsDraggingBlock()&&!j.IsDraggingColumn())return;if(!j.CanDragToSection(this.model.PageSection))return;if(e.stopImmediatePropagation(),j.IsDraggingColumn()){let t=this.GetColumnTarget(e.pageX+window.scrollX),i=this.model.PageBuilder.Ruler,r=this.getBoundingClientRect();return i.style.display="block",i.style.top=r.top+"px",i.style.width="1px",i.style.height=r.height+"px","Left"==t&&(i.style.left=r.left+"px"),"Right"==t&&(i.style.left=r.left+r.width+"px"),n.EventManager.Publish("DragOver"),void e.preventDefault()}if(0==this.model.Blocks.length)return;if(e.currentTarget.contains(e.relatedTarget))return;let t=this.model.PageBuilder.Ruler;t.style.display="block",t.style.width="100%",t.style.height="1px",e.pageX,window.scrollX;let i=e.pageY+window.scrollY,r=this.GetBlockTarget(i),o=r.Target.Instance.getBoundingClientRect();t.style.left=o.left+"px",t.style.width=o.width+"px","Top"==r.Position?t.style.top=o.top+"px":t.style.top=o.top+o.height+"px",n.EventManager.Publish("DragOver"),e.preventDefault()}DragLeave(e){if(e.currentTarget.contains(e.relatedTarget))return;if(this.hovered=!1,0==this.model.Blocks.length&&!j.IsDraggingColumn())return;this.model.PageBuilder.Ruler.style.display="none",n.EventManager.Publish("DragLeave")}Drop(e){if(j.IsDraggingBlock()||j.IsDraggingColumn()){if(e.stopImmediatePropagation(),this.hovered=!1,n.EventManager.Publish("DragLeave"),j.IsDraggingNewBlock()){if(0==this.model.Blocks.length)return;let t=this.model.Container.CreateBlockOptionsAndModel(X.GetDragObject().Type),i=this.GetBlockTarget(e.pageY+window.scrollY);this.model.InsertBlock(t,i.Target.Index+("Bottom"==i.Position?1:0)),this.model.Container.FieldAdded(t),this.model.Refresh()}if(j.IsDraggingExistingBlock()){if(0==this.model.Blocks.length)return;let t=X.GetDragObject().Model,i=this.GetBlockTarget(e.pageY+window.scrollY);if(i.Target==t)return;t.Remove(),this.model.InsertBlock(t,i.Target.Index+("Bottom"==i.Position?1:0)),this.model.Refresh()}if(j.IsDraggingColumn()){let t=this.GetColumnTarget(e.pageX+window.scrollX),i=X.GetDragObject().Model;if(i==this.model)return;i.Remove(),i.Parent.Refresh(),this.model.Parent.InsertColumn(i,this.model.Index+("Right"==t?1:0)),this.model.Parent.ResizeColumn(),this.model.Parent.Refresh()}}}GetBlockTarget(e){let t=this.model.Blocks[0],i="Top";for(let r of this.model.Blocks){let n=r.Instance.getBoundingClientRect();e>n.top&&(t=r,i=e>n.top+n.height/2?"Bottom":"Top")}return{Target:t,Position:i}}GetColumnTarget(e){let t=this.getBoundingClientRect();return e>t.left+t.width/2?"Right":"Left"}DragStart(e){e.stopImmediatePropagation(),j.InitiateDrag(e,".draggable-column","Column",{Model:this.model})}OpenContextMenu(e){e.stopImmediatePropagation(),u.ContextMenu.Create(e,[{Label:"Remove Column",Icon:t.html`<rn-fontawesome style="color: red" .icon="${H.faTimes}"></rn-fontawesome>`,CallBack:()=>this.model.Remove(!0)}])}});let LC=(AC=a.ModelSerialize(),_C=class extends(fe(O.ModelWithParent)){constructor(e,t){super(e,t),this.CurrentTimeOut=null,babelHelpers.initializerDefineProperty(this,"Blocks",MC,this),this.Blocks=[];for(let t of e.Blocks)this.Blocks.push(this.Container.CreateBlockModel(t,this))}GetProperties(){return super.GetProperties()}GetStyles(e=""){let t=super.GetStyles(e),i=t.GetOrCreateGroup("General");return i.AddProperty(new Yt(this,"WidthPercentage","Width (in %)").SetOnChange((e=>{this.AdjustWidth(e)}))),i.AddProperties(ai.GetProperties(this,"","VerticalAlign|Background-Color|Margin|Padding")),t.GetOrCreateGroup("Border").AddProperties(ai.GetProperties(this,"","Border")),t.GetOrCreateGroup("Advanced").AddProperty(new Bt(this,"justify-content","Child Alignment").SetOptionsOverwrite(new ie(this).CreateStyleClassManager()).SetIsInline().AddItem("Top","start").AddItem("Center","center").AddItem("Bottom","bottomasdfasdfsfad")),t}render(){return t.html`<rn-column .model="${this}"></rn-column>`}get ParentContainer(){return this.Parent.ParentContainer}get PageBuilder(){return this.Parent.PageBuilder}get PageArea(){return this.Parent.PageArea}get PageSection(){return this.Parent.PageSection}get Container(){return this.Parent.Container}get Index(){return this.Parent.Columns.indexOf(this)}get Row(){return this.Parent}InsertBlock(e,t=0){this.Blocks.splice(t,0,e),e.Parent=this}GetUniqueId(){return"Column_"+this.Options.Id}GetLabel(){return"Column"}Remove(e=!1){if(this.Index>=0&&this.Parent.Columns.splice(this.Index,1),0==this.Parent.Columns.length){if(e)return void this.Parent.Remove();this.Parent.CreateColumn(null,0)}this.Parent.ResizeColumn(),this.Parent.Refresh()}AdjustWidth(e){if(isNaN(e))return;e<10&&(e=10);let t=100-10*(this.Row.Columns.length-1);e>t&&(e=t);let i=setTimeout((()=>{if(this.CurrentTimeOut!=i)return;let e=this.Row.Columns.reduce(((e,t)=>e+t.Options.WidthPercentage),0)-100,t=this.Row.Columns.indexOf(this);this.Row.Columns.length>1&&(e=this.ResizeSiblings(t,1,e),this.ResizeSiblings(t,-1,e)),this.Row.Refresh(),setTimeout((()=>{this.Row.Refresh()}),200)}),100);this.CurrentTimeOut=i,this.Options.WidthPercentage=e,this.Row.Refresh()}ResizeSiblings(e,t,i){let r=e+t,n=i;for(;;){if(r<0||r>=this.Row.Columns.length)return n;let e=this.Row.Columns[r];if(e.Options.WidthPercentage-n>=10)e.Options.WidthPercentage-=n,n=0;else{let t=e.Options.WidthPercentage-10;e.Options.WidthPercentage=10,n-=t}r+=t}}GetFormulas(e=[]){for(let t of this.Blocks)t.GetFormulas(e)}},MC=babelHelpers.applyDecoratedDescriptor(_C.prototype,"Blocks",[AC],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_C);var GC={};!function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="caret-down",i=[],r="f0d7",n="M137.4 374.6c12.5 12.5 32.8 12.5 45.3 0l128-128c9.2-9.2 11.9-22.9 6.9-34.9s-16.6-19.8-29.6-19.8L32 192c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9l128 128z";e.definition={prefix:"fas",iconName:t,icon:[320,512,i,r,n]},e.faCaretDown=e.definition,e.prefix="fas",e.iconName=t,e.width=320,e.height=512,e.ligatures=i,e.unicode=r,e.svgPathData=n,e.aliases=i}(GC);var NC,WC,BC,zC={};!function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="caret-up",i=[],r="f0d8",n="M182.6 137.4c-12.5-12.5-32.8-12.5-45.3 0l-128 128c-9.2 9.2-11.9 22.9-6.9 34.9s16.6 19.8 29.6 19.8H288c12.9 0 24.6-7.8 29.6-19.8s2.2-25.7-6.9-34.9l-128-128z";e.definition={prefix:"fas",iconName:t,icon:[320,512,i,r,n]},e.faCaretUp=e.definition,e.prefix="fas",e.iconName=t,e.width=320,e.height=512,e.ligatures=i,e.unicode=r,e.svgPathData=n,e.aliases=i}(zC),i.customElement("rn-row")(class extends l.LitModel{get properties(){return{model:{type:Object}}}GetParentStyles(){return{width:"100%",display:"block"}}render(){return t.html` ${c.rnIf(this.model.ShowTopPlaceHolder&&t.html` <rn-empty-section-placeholder .allowRemove="${!0}" @OptionSelected="${()=>{this.model.ShowTopPlaceHolder=!1,this.forceUpdate()}}" .index="${this.model.Index}" @refresh="${e=>{this.forceUpdate()}}" .model="${this.model.Container}"></rn-empty-section-placeholder> `)}<div class="selectableElement Row_${this.model.Options.Id} rnRow ${this.model.IsSelected?"selected":""} ${this.model.Options.Class}" style="position: relative" @dragover="${e=>this.DragOver(e)}" @dragenter="${e=>this.DragEnter(e)}" @dragstart="${e=>this.DragStart(e)}" @drop="${e=>this.Drop(e)}" @dragleave="${e=>this.DragLeave(e)}"> ${c.rnIf(""!=this.model.Options.Styles&&t.html`<style>${this.model.Options.Styles}</style>`)}<div style="position: absolute;transform:translateY(-30px) translateX(-50%);left:50%;height: 29px;justify-content: center;" class="layoutOptions"><ul class="rowOptions" @mouseenter="${e=>this.model.Highlight()}" @mouseleave="${e=>this.model.UnHighlight()}"> <li title="Configure Row" draggable="true" @click="${e=>{e.stopImmediatePropagation(),this.model.Select()}}"><rn-fontawesome .icon="${eV.faCog}"></rn-fontawesome></li> <li title="Add row above" @click="${e=>{this.model.ShowTopPlaceHolder=!0,this.forceUpdate()}}"><rn-fontawesome style="font-size: 20px" .icon="${zC.faCaretUp}"></rn-fontawesome></li> <li title="Add row bellow" @click="${e=>{this.model.ShowBottomPlaceHolder=!0,this.forceUpdate()}}"><rn-fontawesome style="font-size: 20px" .icon="${GC.faCaretDown}"></rn-fontawesome></li> <li title="Add column" @click="${e=>{this.AddColumn()}}"><rn-fontawesome .icon="${Y.faPlus}"></rn-fontawesome></li> <li title="Remove row" @click="${e=>this.model.Remove()}"><rn-fontawesome .icon="${BS.faTrash}"></rn-fontawesome></li></ul></div> ${d.repeat(this.model.Columns,(e=>e.Options.Id),(e=>e.render()))} </div> ${c.rnIf(this.model.ShowBottomPlaceHolder&&t.html` <rn-empty-section-placeholder .allowRemove="${!0}" @OptionSelected="${()=>{this.model.ShowBottomPlaceHolder=!1,this.forceUpdate()}}" .index="${this.model.Index+1}" @refresh="${e=>{this.forceUpdate()}}" .model="${this.model.Container}"></rn-empty-section-placeholder> `)} `}DragLeave(e){if(!j.IsDraggingRow())return;this.model.PageBuilder.Ruler.style.display="none",n.EventManager.Publish("DragLeave")}firstUpdated(e){super.firstUpdated(e),this.model.Instance=this}InsertAt(e){this.model.Container.CreateRow(null,e).CreateColumn(null,e),this.model.Container.Refresh()}AddColumn(){this.model.CreateColumn(null,this.model.Columns.length),this.model.ResizeColumn(),this.model.Refresh()}DragStart(e){e.stopImmediatePropagation(),j.InitiateDrag(e,".draggable-row","Row",{Model:this.model})}DragOver(e){if(!j.IsDraggingRow())return;if(!j.CanDragToSection(this.model.PageSection))return;n.EventManager.Publish("DragOver"),e.preventDefault(),e.stopImmediatePropagation();let t=this.GetRowTarget(e.pageY+window.scrollY),i=this.model.PageBuilder.Ruler,r=this.getBoundingClientRect();i.style.left=r.left+"px",i.style.width=r.width+"px",i.style.height="1px",i.style.display="block",i.style.top=r.top+("Bottom"==t?r.height:0)+"px"}DragEnter(e){j.IsDraggingRow()&&j.CanDragToSection(this.model.PageSection)&&(e.preventDefault(),e.stopImmediatePropagation())}GetRowTarget(e){let t=this.getBoundingClientRect();return t.top+t.height/2>e?"Top":"Bottom"}Drop(e){if(!j.IsDraggingRow())return;e.preventDefault(),e.stopImmediatePropagation();let t=this.GetRowTarget(e.pageY+window.scrollY);this.model.PageBuilder.Ruler.style.display="none",n.EventManager.Publish("DragLeave");let i=X.GetDragObject().Model;i!=this.model&&(i.ShowTopPlaceHolder=!1,i.ShowBottomPlaceHolder=!1,i.Remove(),this.model.Parent.InsertRow(i,this.model.Index+("Bottom"==t?1:0)),this.model.Parent.Refresh())}});let FC=(NC=a.ModelSerialize(),WC=class extends(fe(O.ModelWithParent)){constructor(e,t){super(e,t),babelHelpers.initializerDefineProperty(this,"Columns",BC,this),this.ShowTopPlaceHolder=!1,this.ShowBottomPlaceHolder=!1;for(let e of this.Options.Columns)this.Columns.push(new LC(e,this))}get PageArea(){return this.Parent.PageArea}get PageSection(){return this.Parent.PageSection}get Type(){return"Row"}get CanBeTemplate(){return!0}get Index(){return this.Parent.Rows.indexOf(this)}render(){return t.html`<rn-row .model=${this}></rn-row>`}get ParentContainer(){return this.Parent}get PageBuilder(){return this.Parent.PageBuilder}get Container(){return this.Parent}InsertColumn(e,t=0){e.Parent=this,this.Columns.splice(t,0,e)}CreateColumn(e,t=null){let i=new LC((new Rw).Merge(e),this);return i.Parent=this,null!==t&&this.InsertColumn(i,t),i}GetUniqueId(){return"Row_"+this.Options.Id}GetLabel(){return"Row"}ResizeColumn(){let e=100;this.Columns.length>1&&(e=Math.min(100/this.Columns.length)),this.Columns.forEach(((t,i)=>{t.Options.WidthPercentage=e+(i==this.Columns.length-1?100-e*this.Columns.length:0)}))}Remove(){let e=this.Parent.Rows.indexOf(this);e<0||(this.Parent.Rows.splice(e,1),this.Parent.Refresh())}GetStyles(e=""){let t=super.GetStyles(e);return t.GetOrCreateGroup("General").AddProperties(ai.GetProperties(this,"","Background-Color|Margin|Padding")),t.GetOrCreateGroup("Border").AddProperties(ai.GetProperties(this,"","Border")),t.GetOrCreateGroup("Advanced",200).AddProperty(new mO(this,"Styles","Custom css styles")),t}GetFormulas(e){for(let t of this.Columns)t.GetFormulas(e)}},BC=babelHelpers.applyDecoratedDescriptor(WC.prototype,"Columns",[NC],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),WC);function UC(e){var i,r,n;return i=a.ModelSerialize(),r=class extends e{constructor(...e){super(...e),babelHelpers.initializerDefineProperty(this,"Rows",n,this),this.IsBlockContainer=!0,this.Rows=[];for(let e of this.Options.Rows)this.Rows.push(new FC(e,this));this.FieldValueChanged=new m.SingleEvent}GetId(){return this.Options.Id}get PageBuilder(){return null==this.Parent?this:this.Parent.PageBuilder}get PageArea(){return this.Parent.PageArea}get PageSection(){return this.IsPageSection?this:this.Parent.PageSection}get FormBuilder(){return null==this.Parent||null==this.Parent.FormBuilder?null:this.Parent.FormBuilder}GetBlocks(){let e=[];for(let t of this.Rows)for(let i of t.Columns)e=e.concat(i.Blocks);return e}GetBlockById(e){return this.InternalGetFieldById(e,this.GetBlocks())}InternalGetFieldById(e,t){for(let i of t)if(i.Options.Id==e)return i;return null}CreateBlockOptions(e){let t=e;null!=e.Type&&(t=e.Type);let i=Qw.GetBlockOptions(t);if(null==i)throw Error("Field options type not found "+t);return i.Merge(null!=e.Id?e:null),i}CreateBlockModel(e,t=null){let i=Qw.GetBlockModel(e,t);if(null==i)throw new Error("Model type not found "+e.Type);return i.Parent=t,i}CreateBlockOptionsAndModel(e){let t=this.CreateBlockOptions(e);return this.CreateBlockModel(t)}CreateRow(e,t=null){let i=new FC((new Mw).Merge(e),this);return null!==t&&this.InsertRow(i,t),i}InsertRow(e,t){e.Parent=this,this.Rows.splice(t,0,e)}Initialize(){this.GetBlocks().forEach((async e=>e.Initialize()))}FieldAdded(e){e.InitializeStartingValues(),e.AddDefaultStyles(),e.Select()}async AddNewBlock(e=null,i=0,r=0,n=!0){if(null==e&&(e=await h.Dialog.Show(t.html`<rnwppages-field-picker-dialog .Section="${this.PageSection}"></rnwppages-field-picker-dialog>`)),null==e)return;let o,a=this.CreateBlockOptionsAndModel(e);if(null==a)return s.ToastService.SendErrorMessage("The block could not be created"),null;o=n||this.Rows.length<=i?this.CreateRow(null,this.Rows.length):this.Rows[i];let l=o.CreateColumn(null);l.Blocks.push(a),a.Parent=l,o.InsertColumn(l,r),this.FieldAdded(a),this.Refresh()}},n=babelHelpers.applyDecoratedDescriptor(r.prototype,"Rows",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),r}class qC extends(UC(gV)){constructor(e){super(e)}render(){return t.html`<rn-custom-cell-template .model="${this}"></rn-custom-cell-template>`}}var XC,jC,HC;n.EventManager.Subscribe("GetTextCellTemplateOptions",(e=>{if("Custom"==e)return new DC})),n.EventManager.Subscribe("GetTextCellTemplateModel",(e=>{if("Custom"==e.Options.Type)return new qC(e)})),i.customElement("rnwppages-popup-block")(class extends J{SubRender(){return t.html` <div class="popupButtonContainer"> <a class="popupButton" @click="${e=>e.preventDefault()}">${this.model.PageBuilder.MaybeGenerateIcon(this.model.Options.Icon)}${this.model.Options.Text}</a> </div> `}});let ZC=(XC=r.StoreDataType(Mw),jC=class extends D{constructor(...e){super(...e),babelHelpers.initializerDefineProperty(this,"Rows",HC,this)}LoadDefaultValues(){super.LoadDefaultValues(),this.Type=E.PopUp,this.Rows=[],this.Icon=(new A).Merge(),this.Text="Open Popup"}},HC=babelHelpers.applyDecoratedDescriptor(jC.prototype,"Rows",[XC],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jC);var YC,JC,KC;i.customElement("rnwppages-raw-property")(class extends ue{SubRender(){let e=this.model.Content;return"function"==typeof e&&(e=e()),t.html` <div style="position: relative;"> ${e} </div> `}});class eT extends ce{constructor(e,t){super(null,"",e),this.Content=t}Render(){return t.html`<rnwppages-raw-property .model="${this}"></rnwppages-raw-property>`}}class tT extends(UC(gO)){GetLabel(){return"Popup"}GetProperties(){let e=super.GetProperties(),i=e.GetOrCreateGroup("General",1);return i.AddProperty(new de(this,"Text","Button text")),i.AddProperty(new Cy(this,"Icon","Icon")),i.AddProperty(new eT("",t.html`<button class="rnbtn rnbtn-primary" @click="${()=>this.OpenPopUp()}">Edit pop up content</button>`)),e}render(){return t.html`<rnwppages-popup-block .model="${this}"></rnwppages-popup-block>`}OpenPopUp(){this.Options.Rows.push((new Mw).Merge({Columns:[{}]})),this.PageBuilder.AddArea(this.Options.Id.toString(),"Pop up content",this)}}n.EventManager.Subscribe("GetBlockOptions",(e=>{if(e==E.PopUp)return new ZC})),n.EventManager.Subscribe("GetBlockModel",(e=>{if(e.Options.Type==E.PopUp)return new tT(e.Options,e.Parent)})),i.customElement("rnwppages-inner-section")(class extends J{SubRender(){return t.html` ${this.model.Rows.length>0?t.html` ${d.repeat([1],(e=>1),(e=>t.html` <div class="" style="position: relative"> ${d.repeat(this.model.Rows,(e=>e.Options.Id),(e=>e.render()))} </div> `))} <rn-empty-section-placeholder .index="${this.model.Rows.length}" .innerSectionPlaceHolder="${!0}" style="margin:10px" .isCompact="${1!=this.model.ParentContainer.IsPageSection}" .message="${"Click here to add a block"}" @refresh="${e=>{this.forceUpdate()}}" .model="${this.model}"></rn-empty-section-placeholder> `:t.html` <rn-empty-section-placeholder style="margin:10px" .isCompact="${1!=this.model.ParentContainer.IsPageSection}" .message="${"Click here to add a block"}" @refresh="${e=>{this.forceUpdate()}}" .model="${this.model}"></rn-empty-section-placeholder>`}`}});let iT=(YC=r.StoreDataType(Mw),JC=class extends D{constructor(...e){super(...e),babelHelpers.initializerDefineProperty(this,"Rows",KC,this)}LoadDefaultValues(){super.LoadDefaultValues(),this.Type=E.InnerSection,this.Rows=[]}},KC=babelHelpers.applyDecoratedDescriptor(JC.prototype,"Rows",[YC],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),JC);class rT extends(UC(gO)){GetLabel(){return"Inner Section"}render(){return t.html`<rnwppages-inner-section .model="${this}"></rnwppages-inner-section>`}}var nT,oT,sT;n.EventManager.Subscribe("GetBlockOptions",(e=>{if(e==E.InnerSection)return new iT})),n.EventManager.Subscribe("GetBlockModel",(e=>{if(e.Options.Type==E.InnerSection)return new rT(e.Options,e.Parent)})),i.customElement("rnwppages-field-image-block")(class extends J{SubRender(){let e=this.model.PageBuilder.DataSource.GetFieldById(this.model.Options.FieldId);return t.html` <div> <div class="imageContainer"> <div> <img src="${rnBuilderVar.PluginURL}images/FieldIcons/image_placeholder.svg" style="opacity: .5;max-height: 200px;width: 200px;height: 200px"/> <div style="width: 100%;height: 100%;position:absolute;top:0;left: 0;display: flex;align-items: center;justify-content: center;font-weight: bold;text-align: center;overflow: hidden;text-overflow: ellipsis"> ${null==e?t.html`<span style="color: red;">Select a field</span>`:t.html`${this.model.PageBuilder.DataSource.GetFriendlyName(e.Id,"Value",!0,!0)}`} </div> </div> </div> </div> `}});class aT extends D{LoadDefaultValues(){super.LoadDefaultValues(),this.Type=E.FieldImage,this.FieldId="",this.IsClickable=!1,this.ClickAction=(new by).Merge()}}i.customElement("rnwppages-click-action-property")(class extends ue{SubRender(){null==this.IsClickableProperty&&(this.IsClickableProperty=new qS(this.model.Element,this.model.IsClickableProperty,"Is Clickable").SetOnChange((e=>(this.model.SetValue(e,this.model.IsClickableProperty),this.forceUpdate(),!0))),this.LinkTypeProperty=new Bt(this.model.Element,"LinkType","On click go to").SetOptionsOverwrite(this.model.GetValue()).AddItem("Custom Url",ay.URL).AddItem("Edit entry",ay.EditEntry).AddItem("View entry",ay.ViewEntry).AddItem("Delete entry",ay.DeleteEntry).AddItem("Approve entry",ay.ApproveEntry).AddItem("Disapprove entry",ay.DisapproveEntry).AddItem("Main page",ay.MainPage).SetOnChange((e=>{this.model.GetValue().SetValue("LinkType",e),this.forceUpdate()})),this.OpenInNewTab=new qS(this.model.Element,"OpenInNewTab","Open in new tab").SetOptionsOverwrite(this.model.GetValue()),this.ValueProperty=new Sy(this.model.Element,"Value","Link URL").SetOptionsOverwrite(this.model.GetValue()).SetAddFieldsGroup());let e=this.model.GetBooleanValue(this.model.IsClickableProperty);return t.html` <div> ${this.IsClickableProperty.Render()} ${c.rnIf(e&&t.html` ${this.LinkTypeProperty.Render()} ${c.rnIf(this.LinkTypeProperty.GetStringValue()==ay.URL&&this.ValueProperty.Render())} ${this.OpenInNewTab.Render()} `)} </div> `}ValueChanges(e){let t=parseFloat(e.target.value);isNaN(t)||(t>this.model.MaxValue&&null!=this.model.MaxValue&&s.ToastService.SendErrorMessage("The maximum value for this setting is "+this.model.MaxValue),t<this.model.MinValue&&null!=this.model.MinValue&&s.ToastService.SendErrorMessage("The minimum value for this setting is "+this.model.MinValue)),this.model.SetValue(t)}});class lT extends ce{constructor(e,t,i){super(e,t,""),this.IsClickableProperty=i,this.MaxValue=null,this.MinValue=null,this.Suffix=""}SetMaxValue(e){return this.MaxValue=e,this}SetMinValue(e){return this.MinValue=e,this}Render(){return t.html`<rnwppages-click-action-property .model="${this}"></rnwppages-click-action-property>`}SetSuffix(e){return this.Suffix=e,this}}class uT extends gO{constructor(e,t){super(e,t)}InitializeStartingValues(){}GetLabel(){return"Field Image"}GetProperties(){let e=super.GetProperties();return e.GetOrCreateGroup("General",0).AddProperty(new US(this,"FieldId","","Field").SetFilter(["FileUpload","Signature"])),e.GetOrCreateGroup("Click action",0).AddProperty(new lT(this,"ClickAction","IsClickable")),e}GetStyles(e=""){let t=super.GetStyles(e),i=t.GetOrCreateGroup("General");i.Remove("background-color"),i.RemoveByLabel("Margin"),i.RemoveByLabel("Padding"),i.AddProperties(ai.GetProperties(this,".imageContainer","Dimensions")),i.AddProperties(ai.GetProperties(this,"img","Background-Color|Margin|Padding"));for(let e=0;e<t.Groups.length;e++)"Border"==t.Groups[e].Name&&t.Groups.splice(e,1);return t.GetOrCreateGroup("Border").AddProperties(ai.GetProperties(this,"img","Border")),t}render(){return t.html`<rnwppages-field-image-block .model="${this}"></rnwppages-field-image-block>`}}n.EventManager.Subscribe("GetBlockOptions",(e=>{if(e==E.FieldImage)return new aT})),n.EventManager.Subscribe("GetBlockModel",(e=>{if(e.Options.Type==E.FieldImage)return new uT(e.Options,e.Parent)}));let cT=(nT=r.StoreDataType(Object),oT=class extends D{constructor(...e){super(...e),babelHelpers.initializerDefineProperty(this,"Text",sT,this)}LoadDefaultValues(){super.LoadDefaultValues(),this.Type=E.PageInformation,this.Text=null}},sT=babelHelpers.applyDecoratedDescriptor(oT.prototype,"Text",[nT],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oT);i.customElement("rn-page-information")(class extends J{SubRender(){return null==this.model.Text&&(this.model.Text=this.model.SingleLineGenerator.ParseContent(this.model.Options.Text)),t.html`<div>${this.model.Text}</div>`}});class dT extends gO{constructor(e,t){super(e,t),this.Text=null}GetLabel(){return"Page Information"}GetProperties(){let e=super.GetProperties();return e.GetOrCreateGroup("General",0).AddProperty(new Sy(this,"Text","Text").SetOnChange((e=>{this.Options.Text=e,this.Text=null})).SetCreateGroup("PageInfo","Fields",(e=>{e.CreateItem("first_row","First row index"),e.CreateItem("last_row","Last row index"),e.CreateItem("total_rows","Total number of rows"),e.CreateItem("total_pages","Total number of pages")}))),e}InitializeStartingValues(){this.Options.Text={type:"doc",content:[{type:"text",text:"Showing "},{type:"field",attrs:{Type:"PageInfo",Value:"first_row",AdditionalOptions:null}},{type:"text",text:" - "},{type:"field",attrs:{Type:"PageInfo",Value:"last_row",AdditionalOptions:null}},{type:"text",text:" of "},{type:"field",attrs:{Type:"PageInfo",Value:"total_rows",AdditionalOptions:null}}]}}render(){return null==this.SingleLineGenerator&&(this.SingleLineGenerator=new k.SingleLineGenerator(this.PageBuilder,{ParseTagString:e=>{if("PageInfo"==e.Type)switch(e.Value){case"first_row":return"[First row index]";case"last_row":return"[Last row index]";case"total_rows":return"[Total number of rows]";case"total_pages":return"[Total number of pages]"}return""}})),t.html`<rn-page-information .model="${this}"></rn-page-information>`}}n.EventManager.Subscribe("GetBlockOptions",(e=>{if(e==E.PageInformation)return new cT})),n.EventManager.Subscribe("GetBlockModel",(e=>{if(e.Options.Type==E.PageInformation)return new dT(e.Options,e.Parent)}));var hT={};!function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="calculator",i=[128425],r="f1ec",n="M64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64H64zM96 64H288c17.7 0 32 14.3 32 32v32c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32V96c0-17.7 14.3-32 32-32zM64 224c0-17.7 14.3-32 32-32s32 14.3 32 32s-14.3 32-32 32s-32-14.3-32-32zm32 64c17.7 0 32 14.3 32 32s-14.3 32-32 32s-32-14.3-32-32s14.3-32 32-32zM64 416c0-17.7 14.3-32 32-32h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H96c-17.7 0-32-14.3-32-32zM192 192c17.7 0 32 14.3 32 32s-14.3 32-32 32s-32-14.3-32-32s14.3-32 32-32zM160 320c0-17.7 14.3-32 32-32s32 14.3 32 32s-14.3 32-32 32s-32-14.3-32-32zM288 192c17.7 0 32 14.3 32 32s-14.3 32-32 32s-32-14.3-32-32s14.3-32 32-32zM256 320c0-17.7 14.3-32 32-32s32 14.3 32 32s-14.3 32-32 32s-32-14.3-32-32zm32 64c17.7 0 32 14.3 32 32s-14.3 32-32 32s-32-14.3-32-32s14.3-32 32-32z";e.definition={prefix:"fas",iconName:t,icon:[384,512,i,r,n]},e.faCalculator=e.definition,e.prefix="fas",e.iconName=t,e.width=384,e.height=512,e.ligatures=i,e.unicode=r,e.svgPathData=n,e.aliases=i}(hT),i.customElement("rn-formula-condition-builder")(class extends dV{NoFilterMessage(){return t.html` <div style="text-align: center"> <p style="margin:0">You haven't created any filter yet (which means that this formula will use all the records of the form to do the calculation)</p> <button @click=${()=>this.model.CreateGroup()} class='rnbtn rnbtn-primary' style="margin-top: 5px;display: inline-flex;align-items: center;"> <rn-fontawesome .icon=${Y.faPlus} style="margin-right: 3px"></rn-fontawesome> Click here to add a filter </button> </div> `}});class pT extends Uk{constructor(e,t,i){super(e,t),this.FormulaOptions=i}GetForm(){return this.PageBuilder.DataSource.GetFormById(this.FormulaOptions.FormToUse)}GetFields(){var e;return null===(e=this.GetForm())||void 0===e?void 0:e.Fields}AllowFieldMapping(){return!0}GetFieldById(e){var t;return null===(t=this.GetFields())||void 0===t?void 0:t.find((t=>t.Id==e))}render(){return t.html`<rn-formula-condition-builder .model="${this}"></rn-formula-condition-builder>`}}i.customElement("rnwppages-formula-dialog")(class extends p.DialogBase{InternalGetOptions(){return{Title:"Create formula",TitleIcon:hT.faCalculator,ShowApplyButton:!0,Styles:{width:"900px",maxWidth:"80%"}}}async OnApply(){return""==this.FormulaOptions.FormToUse||"count"!=this.FormulaOptions.FormulaType&&""==this.FormulaOptions.FieldToUse||this.SendResult(this.FormulaOptions),this.SendResult(null),!0}SubRender(){var e,i;null==this.FormulaOptions&&(this.FormulaOptions=(new hx).Merge(),this.FormulaOptions.FormToUse=null!==(e=null===(i=this.pageBuilder.DataSource.GetForm())||void 0===i?void 0:i.Id)&&void 0!==e?e:"");return t.html`<div> <rn-inputs-select @change="${e=>{this.FormulaOptions.FormulaType=e.detail,this.FormulaOptions.FieldToUse="",this.forceUpdate()}}" .label=${"Formula type"} style="min-height: 30px" .value="${this.FormulaOptions.FormulaType}" .placeholder="${"Select a formula type"}" .options="${[{Label:"Sum of a field",Value:"sum"},{Label:"Max value of a field",Value:"max"},{Label:"Minimum value of a field",Value:"min"},{Label:"Count",Value:"count"}]}"></rn-inputs-select> ${this.GetFilters()} </div>`}GetFilters(){if(""!=this.FormulaOptions.FormulaType)return t.html` <div> <rn-inputs-select .value="${this.FormulaOptions.FormToUse}" .label=${"Form"} style="min-height: 30px" @change="${e=>{this.FormulaOptions.FormToUse=e.detail,this.FormulaOptions.FieldToUse="",this.FormulaOptions.Condition=(new mk).Merge(),this.FormulaConditionBuilder=null,this.forceUpdate()}}" .placeholder="${"Select a form"}" .options="${this.pageBuilder.DataSource.GetFormList().map((e=>({Label:e.Name,Value:e.Id})))}"></rn-inputs-select> </div> ${this.GetFieldDropDown()} ${this.GetFilter()} `}GetFieldDropDown(){if(""==this.FormulaOptions.FormToUse||"count"==this.FormulaOptions.FormulaType)return null;let e=this.GetFieldsOfFormula();return 0==e.length?t.html`<p>Sorry this form doesn't seems to support this formula, please select a form that have numeric or currency fields</p>`:t.html`<rn-inputs-select .value="${this.FormulaOptions.FieldToUse}" .label=${"Field"} style="min-height: 30px" @change="${e=>{this.FormulaOptions.FieldToUse=e.detail,this.forceUpdate()}}" .placeholder="${"Select a field"}" .options="${e}"></rn-inputs-select>`}GetFieldsOfFormula(){let e=this.pageBuilder.DataSource.GetFormById(this.FormulaOptions.FormToUse);return null==e?[]:e.Fields.filter((e=>e.SupportArithmeticAggregation)).map((e=>({Label:e.Label,Value:e.Id})))}GetFilter(){return""==this.FormulaOptions.FormToUse||""==this.FormulaOptions.FieldToUse&&"count"!=this.FormulaOptions.FormulaType?null:(null==this.FormulaConditionBuilder&&(this.FormulaConditionBuilder=new pT(this.FormulaOptions.Condition,this.pageBuilder,this.FormulaOptions)),t.html` <fieldset style="border: 1px solid #dfdfdf;padding: 10px;border-radius: 5px;"> <legend style="font-weight: bold;margin-left: 2px;"><rn-fontawesome .icon=${z.faFilter}></rn-fontawesome> Filters</legend> ${this.FormulaConditionBuilder.render()} </fieldset>`)}}),i.customElement("rn-page-builder")(class extends l.LitModel{constructor(){super(),this.Areas=null}render(){this.Areas=[];for(let e of this.model.Areas)this.Areas.push(new C.RNTabItem(e.Id,e.Label,e.Icon,e.Render()).SetTooltip(e.Tooltip));for(let e of this.model.AdditionalAreas)this.Areas.push(new C.RNTabItem(e.Id,e.Label,e.Icon,e.Render()).SetTooltip(e.Tooltip).SetCanBeClosed().SetOnClose((()=>{let t=this.model.AdditionalAreas.indexOf(e);t>=0&&(this.model.AdditionalAreas.splice(t,1),this.model.SelectedArea==e&&this.model.SetSelectedArea(this.model.Areas[0]),this.forceUpdate())})));return t.html` <div> <rn-tabs .padding="${0}" .selectedTab=${this.model.SelectedArea.Id} @tabChanged=${e=>{this.SelectedAreaChanged(e.detail)}} style="height:100%;margin-top: 5px" .tabs="${this.Areas}"> </rn-tabs> </div> `}SelectedAreaChanged(e){let t=this.model.Areas.find((t=>t.Id==e));null==t&&(t=this.model.AdditionalAreas.find((t=>t.Id==e))),this.model.SetSelectedArea(t)}}),c.customElementOnce("rn-page-area-base")(class extends l.LitModel{render(){return t.html`<div style="padding: 10px;position: relative;" class="PageArea PageArea_${this.model.Options.Id}"> <style> ${this.model.Style} @media (max-width: 768px) { ${this.model.MobileStyle} } </style> ${d.repeat(this.model.Sections,(e=>e.Id),(e=>e.Render()))} </div>`}firstUpdated(e){super.firstUpdated(e),this.model.Instance=this}});class fT extends(UC(fe(a.ModelBase))){constructor(e,t,i,r,n,o,s){super(t),this.Parent=e,this.Area=i,this.Id=r,this.Label=n,this.IsPageSection=!0,this._sectionSelector="",this.SectionKind=s,this.SupportedBlocks=o.split("|")}Initialize(){}SetSectionSelector(e){return this._sectionSelector=e,this}get ParentContainer(){return null}get PageArea(){return this.Parent.PageArea}IsBlockSupported(e){return"All"==e||this.SupportedBlocks.indexOf(e)>=0}GetLabel(){return this.Label}GetStyles(e=""){let t=super.GetStyles(e);return t.GetOrCreateGroup("General").AddProperties(ai.GetProperties(this,this._sectionSelector,"Background-Color|Margin|Padding")),t.GetOrCreateGroup("Border").AddProperties(ai.GetProperties(this,this._sectionSelector,"Border")),t}GetUniqueId(){return"Section_"+this.Options.Id}GetFormulas(e=[]){for(let t of this.Rows)t.GetFormulas(e)}}let mT;!function(e){e.Detail="Detail",e.Grid="Grid",e.Edition="Edition",e.Summary="Summary"}(mT||(mT={}));class gT extends l.LitModel{constructor(...e){super(...e),this.IsDroppable=!1}render(){return t.html`<div style="margin-bottom: 30px"> <h2 style="margin:0;cursor: pointer;" @click="${()=>this.model.Select()}">${this.model.Label}</h2> <div class="Section ${this.IsDroppable?"Droppable":""} ${this.model.IsSelected?"selected":""} Section_${this.model.Options.Id}"> ${this.SubRender()} </div> </div>`}disconnectedCallback(){n.EventManager.UnsubscribeEvent("DragStarted",this),n.EventManager.UnsubscribeEvent("DragEnded",this),super.disconnectedCallback()}connectedCallback(){n.EventManager.Subscribe("DragStarted",(()=>{j.CanDragToSection(this.model)&&(this.IsDroppable=!0,this.forceUpdate())}),this),n.EventManager.Subscribe("DragEnded",(()=>{this.IsDroppable=!1,this.forceUpdate()}),this),super.connectedCallback()}}i.customElement("rn-form-section")(class extends gT{SubRender(){return t.html` <div style="padding: 10px"> This section is not editable, the form is going to be displayed here </div> `}});class OT extends fT{Refresh(){this.Refresh()}Render(){return t.html`<rn-form-section .model="${this}"></rn-form-section>`}}i.customElement("rn-grid-section")(class extends gT{SubRender(){return 0==this.model.Columns.length?t.html` <div style="padding: 10px;cursor: pointer;" @click="${()=>this.model.Select()}"> The grid doesn't have any column yet, please add at least one </div> `:t.html` <div> <table class="pageGrid ${this.model.Options.GridStyle} ${this.model.Options.Stripped?"rnStripped":""}"> <thead> <tr> ${d.repeat(this.model.Columns,(e=>e.Options.ColumnId),(e=>t.html` ${e.RenderHeader()} `))} </tr> </thead> <tbody> <tr> ${d.repeat(this.model.Columns,(e=>e.Options.ColumnId),(e=>t.html` ${e.RenderNormal()} `))} </tr> </tbody> </table> </div> `}}),i.customElement("rn-grid-cell")(class extends e.LitElementBase{render(){return t.html`${this.model.Template.render()}`}connectedCallback(){super.connectedCallback(),this.model.OnRefresh.Subscribe(this,(()=>this.forceUpdate()))}disconnectedCallback(){super.disconnectedCallback(),this.model.OnRefresh.Unsubscribe(this)}});class bT{constructor(){this.OnRefresh=new m.SingleEvent}render(){return t.html` <rn-grid-cell .model="${this}"></rn-grid-cell> `}Refresh(){this.OnRefresh.Publish()}}i.customElement("rn-header-cell-template")(class extends OV{render(){return t.html`${this.model.Column.Options.Header}`}});class ST extends gV{render(){return t.html`<rn-header-cell-template .model="${this}"></rn-header-cell-template>`}GetProperties(){return[new de(this.Column,"Header","Text")]}}class yT extends a.ModelBase{constructor(e,t){super(e),this.Section=t,this.HeaderCell=new bT,this.HeaderCell.Template=new ST(this),this.NormalCell=new bT,this.NormalCell.Template=Bw.GetModel(this)}Initialize(){}RenderHeader(){let e="";return""!=this.Options.Width&&(e=`width:${this.Options.Width}%`),t.html`<th style="${e}" class="th_${this.Options.ColumnId} column_id_${this.Options.ColumnId}" @click="${e=>this.Select()}" @mouseleave="${e=>this.Blur()}" @mouseenter="${e=>this.Hover()}">${this.HeaderCell.render()}</th>`}RenderNormal(){let e="";return""!=this.Options.Width&&(e=`width:${this.Options.Width}%`),t.html`<td style="${e}" class="td_${this.Options.ColumnId} column_id_${this.Options.ColumnId}" data-column-id="${this.Options.ColumnId}" @click="${e=>this.Select()}" @mouseleave="${e=>this.Blur()}" @mouseenter="${e=>this.Hover()}">${this.NormalCell.render()}</td>`}GetCellList(e){let t=e.currentTarget,i=t.cellIndex;return t.closest("table").querySelectorAll("td:nth-child("+(i+1)+"),th:nth-child("+(i+1)+")")}GetColumns(){return this.Section.Instance.querySelectorAll(".column_id_"+this.Options.ColumnId)}Hover(){this.GetColumns().forEach((e=>e.classList.add("hover")))}Blur(){this.GetColumns().forEach((e=>e.classList.remove("hover")))}Select(){null!=RT.SelectedColumn&&RT.SelectedColumn.Deselect(),this.GetColumns().forEach((e=>e.classList.add("selected"))),RT.SelectedColumn=this,this.Section.Select(),n.EventManager.Publish("RefreshFieldProperties")}Refresh(){this.Section.Refresh()}GetProperties(){return this.NormalCell.Template.GetProperties()}Deselect(){this.GetColumns().forEach((e=>e.classList.remove("selected"))),RT.SelectedColumn=null}get PageBuilder(){return this.Section.PageBuilder}}var vT={};!function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="bullseye",i=[],r="f140",n="M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192s192-86 192-192zm64 0c0 141.4-114.6 256-256 256S0 397.4 0 256S114.6 0 256 0S512 114.6 512 256zM256 336c44.2 0 80-35.8 80-80s-35.8-80-80-80s-80 35.8-80 80s35.8 80 80 80zm0 64c-79.5 0-144-64.5-144-144s64.5-144 144-144s144 64.5 144 144s-64.5 144-144 144zm32-144c0 17.7-14.3 32-32 32s-32-14.3-32-32s14.3-32 32-32s32 14.3 32 32z";e.definition={prefix:"fas",iconName:t,icon:[512,512,i,r,n]},e.faBullseye=e.definition,e.prefix="fas",e.iconName=t,e.width=512,e.height=512,e.ligatures=i,e.unicode=r,e.svgPathData=n,e.aliases=i}(vT);var wT,xT,kT,VT,CT={},TT={};!function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="face-frown",i=[9785,"frown"],r="f119",n="M143.9 398.6C131.4 394.1 124.9 380.3 129.4 367.9C146.9 319.4 198.9 288 256 288C313.1 288 365.1 319.4 382.6 367.9C387.1 380.3 380.6 394.1 368.1 398.6C355.7 403.1 341.9 396.6 337.4 384.1C328.2 358.5 297.2 336 256 336C214.8 336 183.8 358.5 174.6 384.1C170.1 396.6 156.3 403.1 143.9 398.6V398.6zM208.4 208C208.4 225.7 194 240 176.4 240C158.7 240 144.4 225.7 144.4 208C144.4 190.3 158.7 176 176.4 176C194 176 208.4 190.3 208.4 208zM304.4 208C304.4 190.3 318.7 176 336.4 176C354 176 368.4 190.3 368.4 208C368.4 225.7 354 240 336.4 240C318.7 240 304.4 225.7 304.4 208zM512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256zM256 48C141.1 48 48 141.1 48 256C48 370.9 141.1 464 256 464C370.9 464 464 370.9 464 256C464 141.1 370.9 48 256 48z";e.definition={prefix:"far",iconName:t,icon:[512,512,i,r,n]},e.faFaceFrown=e.definition,e.prefix="far",e.iconName=t,e.width=512,e.height=512,e.ligatures=i,e.unicode=r,e.svgPathData=n,e.aliases=i}(TT),function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=TT;e.definition={prefix:t.prefix,iconName:t.iconName,icon:[t.width,t.height,t.aliases,t.unicode,t.svgPathData]},e.faFrown=e.definition,e.prefix=t.prefix,e.iconName=t.iconName,e.width=t.width,e.height=t.height,e.ligatures=t.aliases,e.unicode=t.unicode,e.svgPathData=t.svgPathData,e.aliases=t.aliases}(CT),i.customElement("rn-quick-add-wizard")(class extends p.DialogBase{constructor(...e){super(...e),this.filter="",this.Groups=null,this.allowedFieldSubType="",this.allowedFieldPath=""}InternalGetOptions(){return{Title:"Select a type",Styles:{width:"700px",maxWidth:"80%"}}}ValueSelected(e,i,r,n=!1){n&&""==rnBuilderVar.IsPR?h.Dialog.Show(t.html`<rnwppages-license-required .message="${"Sorry this feature is only available in the full version"}"></rnwppages-license-required>`):this.SendResult({Type:e,Value:i,Label:r})}GenerateGroups(){var e;this.Groups=[];let t=new $T("Field");if(this.Groups.push(t),null==this.PageBuilder.DataSource.GetForm())return;null===(e=this.PageBuilder.DataSource)||void 0===e||e.GetFields().forEach((e=>{""!=this.allowedFieldSubType&&e.SubType!=this.allowedFieldSubType||(t.FormulaGroupItems.push(new PT("field",e.Label,{Id:e.Id,Path:"Value"},0,null,""!=this.allowedFieldSubType&&"Value"!=this.allowedFieldPath)),e.GetDataSections("Display").filter((e=>"Value"!=e.PathId&&(""==this.allowedFieldSubType||this.allowedFieldPath==e.PathId))).forEach((i=>t.FormulaGroupItems.push(new PT("field",i.Label,{Id:e.Id,Path:i.PathId},1,null)))))}));let i=new $T("Link");i.FormulaGroupItems.push(new PT("link","View Entry",{Id:ay.ViewEntry},0,null,!1)),i.FormulaGroupItems.push(new PT("link","Main Page",{Id:ay.MainPage},0,null,!1)),i.FormulaGroupItems.push(new PT("link","Edit Entry (Full version only)",{Id:ay.EditEntry},0,null,!1).SetIsPR()),i.FormulaGroupItems.push(new PT("link","Delete Entry (Full version only)",{Id:ay.DeleteEntry},0,null,!1).SetIsPR()),i.FormulaGroupItems.push(new PT("link","Approve Entry (Full version only)",{Id:ay.ApproveEntry},0,null,!1).SetIsPR()),i.FormulaGroupItems.push(new PT("link","Disapprove Entry (Full version only)",{Id:ay.DisapproveEntry},0,null,!1).SetIsPR()),this.Groups.push(i);let r=new $T("Other");r.FormulaGroupItems.push(new PT("text","Text",{Id:"Text"},0,null,!1)),this.Groups.push(r)}SubRender(){return null==this.Groups&&this.GenerateGroups(),null==this.PageBuilder.DataSource.GetForm()?this.PageBuilder.GetSelectAFormLink((()=>this.SendResult(null))):t.html` <div class='formulaFieldPicker'> <div> <div style="width: 100%;position:relative;"> <rn-fontawesome .icon=${PO.faSearch} style="position:absolute;left: 2px;color:#ccc;font-size: 20px;margin-top: -10px;top:50%;"></rn-fontawesome> <input type='text' style="width:100%;padding-left: 25px;" placeholder='Search a tag by label or id' @input=${e=>this.Search(e.target.value)} value=${this.filter}/> </div> <div style="margin-top: 10px"> ${this.Groups.some((e=>e.IsVisible))?this.Groups.map((e=>c.rnIf(e.IsVisible&&t.html` <rn-accordion-item title=${e.Label} ?isOpen=${e.IsOpen} @isOpenChanged=${t=>{e.IsOpen=t}} .content="${t.html` ${e.FormulaGroupItems.some((e=>e.IsVisible))?t.html` <ul style="margin:0;padding: 0;"> ${e.FormulaGroupItems.map((e=>c.rnIf(e.IsVisible&&t.html` <li class='serverItem ${e.Disabled?"Disabled":""}' style="margin:0;padding:10px;padding-left: ${15*(e.Level+1)}px" @mousedown=${()=>this.ValueSelected(e.Type,e.Value,e.Label,e.IsPr)}>${e.Label}</li>`)))} </ul>`:t.html` <p style="margin: 0;padding: 10px">There are no fields to add</p>`} `}" > </rn-accordion-item>`))):t.html` <p style="font-size: 18px;display: flex;align-items: center;"> <rn-fontawesome .icon=${CT.faFrown}></rn-fontawesome> <span style="margin-left: 5px;">There are no tags to show</span></p>`} </div> </div> </div> `}Search(e){e=e.toLowerCase(),this.Groups.forEach((t=>{t.FormulaGroupItems.forEach((i=>{if(i.IsVisible=i.Label.toLowerCase().indexOf(e)>=0||"field"==i.Type&&i.Value==e,1==i.IsVisible){t.IsOpen=!0;let e=i.Parent;for(;null!=e;)e.IsVisible=!0,e=e.Parent}})),t.IsVisible=t.FormulaGroupItems.some((e=>e.IsVisible))})),this.filter=e,this.forceUpdate()}});class $T{constructor(e){this.FormulaGroupItems=[],this.IsOpen=!0,this.Label=e,this.IsVisible=!0}}class PT{constructor(e,t,i,r=0,n,o=!1){this.IsPr=!1,this.Type=e,this.Value=i,this.Label=t,this.IsVisible=!0,this.Level=r,this.Parent=n,this.Disabled=o}SetIsPR(){return this.IsPr=!0,this}}i.customElement("rnwppages-grid-column-property")(class extends ue{constructor(...e){super(...e),this.Initialized=!1}static get properties(){return{}}get Section(){return this.model.Element}SubRender(){return t.html` <div> <table style="width: 100%;table-layout: fixed"> <thead> <tr> <th style="width: 20px"></th> <th style="width: 70%">Header</th> <th style="width: 40px">Width %</th> <th style="width: 20px">Del</th> </tr> </thead> <tbody ${S.ref((e=>this.CreateSortable(e)))}> ${d.repeat(this.Section.Options.Columns,(e=>e.ColumnId),(e=>t.html` <tr style="margin-bottom: 10px;flex-direction: row" class="sortableItem" data-option-id="${e.ColumnId}"> <td style="text-align: center"> <rn-fontawesome class="target" .icon="${vT.faBullseye}" title="Select Column" @click="${()=>this.SelectColumn(e.ColumnId)}"></rn-fontawesome> <rn-fontawesome class="columnMove" .icon="${ES.faArrowsAlt}"></rn-fontawesome> </td> <td> <input type="text" @input="${t=>{var i;e.Header=t.target.value,this.forceUpdate(),this.Section.RefreshColumn(e.ColumnId),(null===(i=RT.SelectedColumn)||void 0===i?void 0:i.Options.ColumnId)==e.ColumnId&&n.EventManager.Publish("RefreshFieldProperties")}}" value="${g.live(e.Header)}" style="width: 100%;margin:0 3px"/> </td> <td> <input style="width: 100%" type="number" @input="${t=>this.UpdateWidth(e,t.target.value)}" value="${g.live(e.Width)}"/> </td> <td style="text-align: center"> <rn-fontawesome class="removeColumn" .icon="${BS.faTrash}" @click="${()=>this.RemoveColumn(e)}"></rn-fontawesome> </td> </tr> `))} </tbody> </table> <div> <div style="margin-top: 10px"> <button @click="${()=>this.AddOption()}" style="display: inline-flex;align-items: center" class="rnbtn rnbtn-primary"><rn-fontawesome .icon="${Y.faPlus}" style="margin-right: 3px"></rn-fontawesome>Add Column</button> </div> </div> </div> `}CreateSortable(e){null==e||this.Initialized||(this.Initialized=!0,new hS(e,{handle:".sortableItem",animation:150,onEnd:t=>{let i=[];e.querySelectorAll(".sortableItem").forEach((e=>{let t=e.getAttribute("data-option-id"),r=this.Section.Options.Columns.find((e=>e.ColumnId.toString()==t));null!=r&&i.push(r)})),this.Section.Options.Columns=i;let r=[];for(let e of this.Section.Options.Columns)r.push(this.Section.Columns.find((t=>t.Options==e)));this.Section.Columns=r,this.Section.Refresh()}}))}async AddOption(){var e;let i,r=await h.Dialog.Show(t.html`<rn-quick-add-wizard .PageBuilder="${this.Section.PageBuilder}"></rn-quick-add-wizard>`);if(null==r)return;switch(r.Type){case"field":i=(new xV).Merge({Header:null===(e=this.Section.PageBuilder.DataSource)||void 0===e?void 0:e.GetFriendlyName(r.Value.Id,r.Value.Path),FieldId:r.Value.Id,PathId:r.Value.Path});break;case"link":let t=null,n="";switch(r.Value.Id){case ay.EditEntry:n="Edit Entry",t=k.SingleLineGenerator.CreateText("Edit Entry");break;case ay.DeleteEntry:n="Delete Entry",t=k.SingleLineGenerator.CreateText("Delete Entry");break;case ay.ApproveEntry:n="Approve Entry",t=k.SingleLineGenerator.CreateText("Approve Entry");break;case ay.DisapproveEntry:n="Disapprove Entry",t=k.SingleLineGenerator.CreateText("Disapprove Entry");break;case ay.URL:n="Actions";break;case ay.MainPage:n="Main Page",t=k.SingleLineGenerator.CreateText("Main Page")}i=(new ly).Merge({Header:n,LinkType:r.Value.Id,Text:t});break;case"text":i=(new bV).Merge({Header:"Text"})}this.Section.Options.Columns.push(i);let o=new yT(i,this.Section);this.Section.Columns.push(o),this.Section.Refresh(),n.EventManager.Publish("RefreshFieldProperties"),this.Section.Refresh((()=>{o.Select()})),this.forceUpdate()}RemoveColumn(e){this.Section.Options.Columns.splice(this.Section.Options.Columns.indexOf(e),1),this.Section.Columns.splice(this.Section.Columns.indexOf(this.Section.Columns.find((t=>t.Options.ColumnId==e.ColumnId))),1),this.forceUpdate(),this.Section.Refresh()}UpdateWidth(e,t){(""==t||isNaN(t))&&(e.Width=""),e.Width=t,this.forceUpdate(),this.Section.Refresh()}SelectColumn(e){this.Section.Columns.find((t=>t.Options.ColumnId==e)).Select()}});class QT extends ce{constructor(e,t,i){super(e,t,i)}Render(){return t.html`<rnwppages-grid-column-property .model="${this}"></rnwppages-grid-column-property>`}}class RT extends fT{constructor(...e){super(...e),this.Columns=[]}Render(){return t.html`<rn-grid-section ${S.ref((e=>this.Instance=e))} .model="${this}"></rn-grid-section>`}Initialize(){super.Initialize();for(let e of this.Options.Columns)this.Columns.push(new yT(e,this))}GetProperties(){var e,i;let r=super.GetProperties(),n=r.GetOrCreateGroup("General",1);new ie(this),n.AddProperty(new Bt(this,"GridStyle","Grid Style").AddItem("Normal","Normal").AddItem("Width borders","WithBorders")),n.AddProperty(new qS(this,"Stripped","Stripped")),r.GetOrCreateGroup("Columns",2).AddProperty(new QT(this.PageBuilder.SelectedElement,"Columns",""));let o=r.GetOrCreateGroup("Selected Column",2,null!==(e="Selected column "+(null===(i=RT.SelectedColumn)||void 0===i?void 0:i.Options.ColumnId))&&void 0!==e?e:0);return null==RT.SelectedColumn?o.AddProperty(new eT("",t.html`<div>Select a column first to see its settings</div>`)):o.AddProperties(RT.SelectedColumn.GetProperties()),r}GetStyles(e=""){let t=new le(this);t.GetOrCreateGroup("Header Styles").AddProperties(ai.GetProperties(this,"th","Background-Color|Color|TextAlign|Padding|Border"));let i=t.GetOrCreateGroup("Row Styles");if(i.AddProperties(ai.GetProperties(this,"td","Background-Color|Color|TextAlign|Padding|Border")),i=t.GetOrCreateGroup("Stripped Row Styles").SetIsOpenByDefault(!1),i.AddProperties(ai.GetProperties(this,"tr:nth-child(even) td","Background-Color|Color|TextAlign|Padding|Border")),null!=RT.SelectedColumn){t.GetOrCreateGroup("Selected column header styles").SetIsOpenByDefault(!1).AddProperties(ai.GetProperties(this,"th.th_"+RT.SelectedColumn.Options.ColumnId,"Background-Color|Color|TextAlign|Padding")),t.GetOrCreateGroup("Selected column row styles").SetIsOpenByDefault(!1).AddProperties(ai.GetProperties(this,"td.td_"+RT.SelectedColumn.Options.ColumnId,"Background-Color|Color|TextAlign|Padding"))}return t}GenerateColumns(){}RefreshColumn(e){this.Columns.find((t=>t.Options.ColumnId==e)).HeaderCell.Refresh()}GetFormulas(e=[]){super.GetFormulas(e);for(let t of this.Options.Columns)if("Text"==t.Type){let i=y.TextContainerGenerator.GetElementsOfType(t.Text,"field");for(let t of i)"__formula"==t.attrs.id&&e.push(t.attrs.path)}}GetOptions(){for(let e of this.Columns)"Custom"==e.Options.Type&&(e.Options.Rows=e.NormalCell.Template.GetOptions().Rows);return super.GetOptions()}}RT.SelectedColumn=null,wT=i.customElement("rn-calendar-section"),xT=b.query(".Calendar"),wT((kT=class extends gT{constructor(...e){super(...e),babelHelpers.initializerDefineProperty(this,"CalendarContainer",VT,this)}SubRender(){return t.html`<div @click="${()=>this.model.Select()}" style="position: relative"><div class="Calendar"></div><div style="position: absolute;width: 100%;height: 100%;top:0;left: 0;"></div></div>`}firstUpdated(e){super.firstUpdated(e),this.Calendar=new FullCalendar.Calendar(this.CalendarContainer,{initialView:"dayGridMonth"}),this.Calendar.render()}},VT=babelHelpers.applyDecoratedDescriptor(kT.prototype,"CalendarContainer",[xT],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kT));class IT extends fT{Refresh(){}Render(){return t.html`<rn-calendar-section ${S.ref((e=>this.Instance=e))} .model="${this}"></rn-calendar-section>`}GetProperties(){let e=super.GetProperties(),t=e.GetOrCreateGroup("General",0),i=this.PageBuilder;return t.AddProperty(new US(this.PageBuilder,"StartDateField","","Event start date field").SetOptionsOverwrite(this.PageBuilder.Options.GeneralSettings).SetFilter(["Date","DateTime"]).SetOnChange((e=>{i.Options.GeneralSettings.StartDateField=e,i.Options.GeneralSettings.EndDateField=e})).SetRefreshPropertiesPanel()),t.AddProperty(new US(this.PageBuilder,"EndDateField","","Event end date field").SetOptionsOverwrite(this.PageBuilder.Options.GeneralSettings).SetFilter(["Date","DateTime"])),t.AddProperty(new Sy(this,"Text","Event label").SetAddFieldsGroup().SetOptionsOverwrite(this.PageBuilder.Options.GeneralSettings)),e}}class ET extends Ww{}var DT={};!function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="download",i=[],r="f019",n="M288 32c0-17.7-14.3-32-32-32s-32 14.3-32 32V274.7l-73.4-73.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l128 128c12.5 12.5 32.8 12.5 45.3 0l128-128c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L288 274.7V32zM64 352c-35.3 0-64 28.7-64 64v32c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V416c0-35.3-28.7-64-64-64H346.5l-45.3 45.3c-25 25-65.5 25-90.5 0L165.5 352H64zM432 456c-13.3 0-24-10.7-24-24s10.7-24 24-24s24 10.7 24 24s-10.7 24-24 24z";e.definition={prefix:"fas",iconName:t,icon:[512,512,i,r,n]},e.faDownload=e.definition,e.prefix="fas",e.iconName=t,e.width=512,e.height=512,e.ligatures=i,e.unicode=r,e.svgPathData=n,e.aliases=i}(DT);class AT{TemplateToOptions(e,t,i,r){switch(e){case"Row":return this.ConvertRow(t,i,r)}}ConvertRow(e,t,i){let r=e.Columns;e.Columns=[];let n=ie.GetStyles("Row_"+e.Id,t),o=ie.GetStyles("Row_"+e.Id,i),s=e.Id;e.Id=0;let a=(new Mw).Merge(e);""!=n&&this.ConvertStyles(n,"Row_"+s,"Row_"+a.Id,"Normal"),o&&this.ConvertStyles(o,"Row_"+s,"Row_"+a.Id,"Mobile");for(let e of r)a.Columns.push(this.ConvertColumn(e,t,i));return a}escapeRegExp(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}ConvertStyles(e,t,i,r){ie.Mode=r,e=e.replace(new RegExp(this.escapeRegExp(t),"g"),i),""==ie.StyleText.trim()&&(ie.StyleText+="\n"),ie.StyleText+=e}ConvertColumn(e,t,i){let r=e.Blocks;e.Blocks=[];let n=ie.GetStyles("Column_"+e.Id,t),o=ie.GetStyles("Column_"+e.Id,i),s=e.Id;e.Id=0;let a=(new Rw).Merge(e);""!=n&&this.ConvertStyles(n,"Column_"+s,"Column_"+a.Id,"Normal"),o&&this.ConvertStyles(o,"Column_"+s,"Column_"+a.Id,"Mobile");for(let e of r)a.Blocks.push(this.ConvertBlock(e,t,i));return a}ConvertBlock(e,t,i){let r=ie.GetStyles("Block_"+e.Id,t),n=ie.GetStyles("Block_"+e.Id,i),o=e.Id;e.Id=0;let s=[];null!=e.Rows&&(s=e.Rows,e.Rows=[]);let a=Qw.GetBlockOptions(e);this.ConvertStyles(r,"Block_"+o,"Block_"+a.Id,"Normal"),this.ConvertStyles(n,"Block_"+o,"Block_"+a.Id,"Mobile");for(let e of s)a.Rows.push(this.ConvertRow(e,t,i));return a}}var _T={};!function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="file-export",i=["arrow-right-from-file"],r="f56e",n="M32 64C32 28.7 60.7 0 96 0H256V128c0 17.7 14.3 32 32 32H416V288H248c-13.3 0-24 10.7-24 24s10.7 24 24 24H416V448c0 35.3-28.7 64-64 64H96c-35.3 0-64-28.7-64-64V64zM416 336V288H526.1l-39-39c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l80 80c9.4 9.4 9.4 24.6 0 33.9l-80 80c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l39-39H416zm0-208H288V0L416 128z";e.definition={prefix:"fas",iconName:t,icon:[640,512,i,r,n]},e.faFileExport=e.definition,e.prefix="fas",e.iconName=t,e.width=640,e.height=512,e.ligatures=i,e.unicode=r,e.svgPathData=n,e.aliases=i}(_T),i.customElement("rn-my-template")(class extends e.LitElementBase{constructor(...e){super(...e),this.DeleteBusy="",this.InsertBusy="",this.ExportIsBusy=""}render(){return t.html`<div> ${this.GetContent()} <input ${S.ref((e=>this.File=e))} style="display: none" type="file" @change="${e=>this.FileSelected(e)}"/> </div>`}GetContent(){let e=rnBuilderVar.Templates.filter((e=>e.Kind==this.model.PageSection.SectionKind));return 0==e.length?t.html`<div> <p style="margin-bottom: 10px"> There are no templates for this section, try using a different section or create a new template</p> <rn-spinner-button .isBusy="${this.ImportingIsBusy}" .label="${"Import Template"}" .icon="${_T.faFileExport}" .class="${"info"}" style="margin-left: 5px;display: inline-block" @click="${()=>this.Import()}"> </rn-spinner-button></div>`:t.html`<div class="rednao"><table style="border-collapse: collapse;width: 100%;" class="rntable rntable-hover"> <thead> <tr> <th style="border-top: none;text-align: left">Name</th> <th style="border-top: none;width: 350px">Action</th> </tr> </thead> <tbody> ${e.map((e=>t.html` <tr> <td style="text-align: left">${e.Name}</td> <td style="text-align: center"> <rn-spinner-button .isBusy="${this.InsertBusy==e.Id}" .label="${"Insert"}" .icon="${DT.faDownload}" .class="${"success"}" style="margin-left: 5px;display: inline-block" @click="${()=>this.Insert(e.Id)}"> </rn-spinner-button> <rn-spinner-button .isBusy="${this.DeleteBusy==e.Id}" .label="${"Delete"}" .icon="${BS.faTrash}" .class="${"danger"}" style="margin-left: 5px;display: inline-block" @click="${()=>this.Remove(e.Id)}"> </rn-spinner-button> <rn-spinner-button .isBusy="${this.ExportIsBusy==e.Id}" .label="${"Export"}" .icon="${DT.faDownload}" .class="${"primary"}" style="margin-left: 5px;display: inline-block" @click="${()=>this.Export(e.Id)}"> </rn-spinner-button> </td> </tr> </tbody> `))} </table> <rn-spinner-button .isBusy="${this.ImportingIsBusy}" .label="${"Import Template"}" .icon="${_T.faFileExport}" .class="${"info"}" style="margin-left: 5px;display: inline-block" @click="${()=>this.Import()}"> </rn-spinner-button> </div>`}async Remove(e){let t=rnBuilderVar.Templates.find((t=>t.Id==e));if(null==t)return;if(!await $.ConfirmDialog.Show("Are you sure?","Are you sure you want to delete "+t.Name+"?"))return;this.DeleteBusy=e,this.forceUpdate();let i=await f.WpAjaxPost.Post("remove_template",{Id:e});if(this.DeleteBusy="",null!=i){let t=rnBuilderVar.Templates.find((t=>t.Id==e));rnBuilderVar.Templates.splice(rnBuilderVar.Templates.indexOf(t),1)}this.forceUpdate()}async Insert(e){this.InsertBusy=e,this.forceUpdate();let t=await f.WpAjaxPost.Post("get_template",{Id:e});if(this.InsertBusy="",this.forceUpdate(),null==t)return;let i=JSON.parse(t.Options),r=i.Styles;i=(new AT).TemplateToOptions("Row",i.StoreOptions,r,i.StylesMobile);let n=new FC(i,this.model);this.model.InsertRow(n,this.index),this.FireEvent("OnClose"),this.model.Refresh(),ie.PageBuilderModel.Refresh()}async Export(e){this.ExportIsBusy=e,this.forceUpdate();let t=await f.WpAjaxPost.Post("get_template",{Id:e});if(this.ExportIsBusy="",this.forceUpdate(),null==t)return;let i=rnBuilderVar.Templates.find((t=>t.Id==e));if(null==i)return;t.Options=JSON.parse(t.Options);let r=document.createElement("a");r.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(JSON.stringify(t))),r.setAttribute("download",i.Name+".json"),r.style.display="none",document.body.appendChild(r),r.click()}Import(){""!=rnBuilderVar.IsPR?this.File.click():h.Dialog.Show(t.html`<rnwppages-license-required .message="${"Sorry this feature is only available in the full version"}"></rnwppages-license-required>`)}async FileSelected(e){if(0==this.File.files.length)return;this.ImportingIsBusy=!0,this.forceUpdate();let i=new FileReader;i.onload=async e=>{try{let e=JSON.parse(i.result.toString());if("Row"!=e.Type||null==e.Options)return void s.ToastService.SendErrorMessage("Invalid template file, are you sure you have the right file?");if(e.Kind!=this.model.PageSection.SectionKind)return P.AlertDialog.Show(t.html`This file belong to a section of a different kind so it can not be imported here. Please try to import it in the same section kind where you export it`,"Invalid file to import","Close"),this.ImportingIsBusy=!1,void this.forceUpdate();let r=await f.WpAjaxPost.Post("save_template",{Name:e.Name,Type:e.Type,Options:e.Options,Kind:e.Kind});if(this.ImportingIsBusy=!1,this.forceUpdate(),null==r)return;rnBuilderVar.Templates.push({Id:r.Id,Type:e.Type,Kind:e.Kind,Name:e.Name}),this.forceUpdate(),this.forceUpdate()}catch(e){s.ToastService.SendErrorMessage("Invalid template file, are you sure you have the right file?")}},i.readAsText(this.File.files[0])}}),i.customElement("rn-row-template-item")(class extends e.LitElementBase{constructor(...e){super(...e),this.id="",this.previewUrl=""}render(){return t.html` <div class="templateItem" @click="${()=>this.DownloadTemplate()}"> <div class="templateIconContainer" style="width: 100%;height: 200px;display: flex;align-items: center;justify-content: center;overflow: hidden;position:relative;border-bottom: 1px solid #ccc;"> <div class="templateIcon" style="height: 200px;display: flex;align-items: center;justify-content: center;width: 170px;"> <img src="${rnBuilderVar.PluginURL}RowTemplates/TwoColumns/Preview.png"/> </div> ${c.rnIf(""!=this.previewUrl&&t.html` <div class="previewContainer" style="position: absolute;left: 0;bottom: 0;background-color: red;color:white;text-align: center;width: 100%;display: flex;align-items: center;justify-content: center;"> <div style="display: flex;align-items: center;justify-content: center;" @click="${e=>this.Preview(e)}"> <rn-fontawesome style="margin-right: 3px" .icon="${PO.faSearch}"></rn-fontawesome> Preview </div> </div> `)} </div> </div> `}Preview(e){e.preventDefault(),e.stopImmediatePropagation(),window.open(this.previewUrl)}async DownloadTemplate(){this.FireEvent("templateSelected")}}),i.customElement("rn-template-gallery")(class extends e.LitElementBase{render(){let e=rnBuilderVar.RowTemplates.filter((e=>e.Kind==this.model.PageSection.SectionKind));return 0==e.length?t.html`<div style="padding: 10px"> Sorry there are no templates in the gallery for this type of section yet, please try with another section </div>`:t.html` <div> ${e.map((e=>t.html` <rn-row-template-item .model="${this.model}" @templateSelected="${()=>this.TemplateSelected(e.Id)}" .index="${this.index}" .previewUrl="${e.PreviewURL}" .id="${e.Id}" .previewUrl="${"hkj"}"></rn-row-template-item> `))} </div> `}async TemplateSelected(e){if(""==rnBuilderVar.IsPR)return void h.Dialog.Show(t.html`<rnwppages-license-required .message="${"Sorry this feature is only available in the full version"}"></rnwppages-license-required>`);let i=await f.WpAjaxPost.Post("download_template",{TemplateId:e});if(null==i)return;let r=(new AT).TemplateToOptions("Row",i.Options.StoreOptions,i.Options.Styles,i.Options.StylesMobile),n=new FC(r,this.model);this.model.InsertRow(n,this.index),this.model.Refresh(),ie.PageBuilderModel.Refresh(),this.FireEvent("OnClose")}});var MT,LT={};!function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="globe",i=[127760],r="f0ac",n="M352 256c0 22.2-1.2 43.6-3.3 64H163.3c-2.2-20.4-3.3-41.8-3.3-64s1.2-43.6 3.3-64H348.7c2.2 20.4 3.3 41.8 3.3 64zm28.8-64H503.9c5.3 20.5 8.1 41.9 8.1 64s-2.8 43.5-8.1 64H380.8c2.1-20.6 3.2-42 3.2-64s-1.1-43.4-3.2-64zm112.6-32H376.7c-10-63.9-29.8-117.4-55.3-151.6c78.3 20.7 142 77.5 171.9 151.6zm-149.1 0H167.7c6.1-36.4 15.5-68.6 27-94.7c10.5-23.6 22.2-40.7 33.5-51.5C239.4 3.2 248.7 0 256 0s16.6 3.2 27.8 13.8c11.3 10.8 23 27.9 33.5 51.5c11.6 26 21 58.2 27 94.7zm-209 0H18.6C48.6 85.9 112.2 29.1 190.6 8.4C165.1 42.6 145.3 96.1 135.3 160zM8.1 192H131.2c-2.1 20.6-3.2 42-3.2 64s1.1 43.4 3.2 64H8.1C2.8 299.5 0 278.1 0 256s2.8-43.5 8.1-64zM194.7 446.6c-11.6-26-20.9-58.2-27-94.6H344.3c-6.1 36.4-15.5 68.6-27 94.6c-10.5 23.6-22.2 40.7-33.5 51.5C272.6 508.8 263.3 512 256 512s-16.6-3.2-27.8-13.8c-11.3-10.8-23-27.9-33.5-51.5zM135.3 352c10 63.9 29.8 117.4 55.3 151.6C112.2 482.9 48.6 426.1 18.6 352H135.3zm358.1 0c-30 74.1-93.6 130.9-171.9 151.6c25.5-34.2 45.2-87.7 55.3-151.6H493.4z";e.definition={prefix:"fas",iconName:t,icon:[512,512,i,r,n]},e.faGlobe=e.definition,e.prefix="fas",e.iconName=t,e.width=512,e.height=512,e.ligatures=i,e.unicode=r,e.svgPathData=n,e.aliases=i}(LT),i.customElement("rn-template-picker")(class extends p.DialogBase{constructor(...e){super(...e),this.index=0,this.SelectedTab="MyTemplate"}InternalGetOptions(){return{Title:"Select a template",Styles:{width:"1200px",maxWidth:"80%"}}}SubRender(){return t.html` <rn-tabs .selectedTab="${this.SelectedTab}" @tabChanged=${e=>{this.SelectedTab=e.detail,this.forceUpdate()}} .tabs="${[new C.RNTabItem("MyTemplate","My Templates",te.faFolder,t.html` <rn-my-template .model="${this.model}" .index="${this.index}" @OnClose="${()=>this.SendResult(null)}"></rn-my-template> `),new C.RNTabItem("Gallery","Gallery",LT.faGlobe,t.html` <rn-template-gallery .model="${this.model}" .index="${this.index}" @OnClose="${()=>this.SendResult(null)}"></rn-template-gallery> `)]}"> `}}),i.customElement("rn-empty-section-placeholder")(class extends l.LitModel{constructor(...e){super(...e),this.innerSectionPlaceHolder=!1,this.index=0,this.message="You don't have any block yet which means this section will not be shown, Click here to add a Block.",this.ShowRowPicker=!1,this.allowRemove=!1,this.isCompact=!1}static get properties(){return{isDragging:{type:Boolean},index:{type:Number},model:{type:Object}}}render(){return this.ShowRowPicker?this.GetRowPicker():t.html` <div class="${this.innerSectionPlaceHolder?"InnerSectionPlaceHolder":""}" style="padding: 20px;text-align: center;position: relative" @dragenter=${e=>this.DragEnter(e)} @dragover=${e=>this.OnDragOver(e)} @dragleave=${e=>this.OnDragLeave(e)} @drop=${e=>this.OnDrop(e)}> ${c.rnIf(this.allowRemove&&t.html` <rn-fontawesome class="rnEmptyRemove" @click="${()=>{this.FireEvent("OptionSelected")}}" .icon="${H.faTimes}" style="color:#ccc;font-size: 25px;position: absolute;top:3px;right: 3px;"></rn-fontawesome>`)} <div class="emptyPlaceHolderAdd" style="margin-right: 20px" title=${"Create row"+(this.innerSectionPlaceHolder?" inside inner section":"")} @click="${()=>{this.ShowRowPicker=!0,this.forceUpdate()}}" > <rn-fontawesome .icon="${Y.faPlus}"></rn-fontawesome> </div> <div @click="${()=>this.SelectTemplate()}" class="emptyPlaceHolderTemplate" title="Add template (full version only)"> <rn-fontawesome .icon="${te.faFolder}"></rn-fontawesome> </div> </div> `}DragEnter(e){j.CanDragToSection(this.model)&&(j.IsDraggingNewBlock()||j.IsDraggingExistingBlock()||j.IsDraggingColumn()||j.IsDraggingRow())&&(e.preventDefault(),n.EventManager.Publish("DragOver"))}OnDragOver(e){j.CanDragToSection(this.model)&&(j.IsDraggingNewBlock()||j.IsDraggingExistingBlock()||j.IsDraggingColumn()||j.IsDraggingRow())&&(e.preventDefault(),n.EventManager.Publish("DragOver"))}OnDragLeave(e){j.IsDraggingNewBlock()&&(e.preventDefault(),n.EventManager.Publish("DragLeave"))}OnDrop(e){if(e.preventDefault(),n.EventManager.Publish("DragEnded"),j.IsDraggingExistingBlock()){e.stopImmediatePropagation();let t=X.GetDragObject().Model;t.Parent.Remove(),this.model.CreateRow(null,0).CreateColumn(null,0).InsertBlock(t),this.model.FieldAdded(t),this.model.Refresh()}if(j.IsDraggingColumn()){e.stopImmediatePropagation();let t=X.GetDragObject().Model;t.Remove(),this.model.CreateRow(null,0).InsertColumn(t),this.model.Refresh()}if(j.IsDraggingRow()){e.stopImmediatePropagation();let t=X.GetDragObject().Model;t.Remove(),this.model.InsertRow(t,0),this.model.Refresh()}}GetRowPicker(){return this.isCompact?t.html`<div style="padding:20px;position: relative"> <ul class="elementor-select-preset-list" style="display: flex;align-items: center;flex-wrap: wrap;max-width: 700px;margin:auto;border-bottom: none !important;" > <rn-fontawesome class="rnEmptyRemove" @click="${()=>{this.ShowRowPicker=!1,this.forceUpdate()}}" .icon="${H.faTimes}" style="color:#ccc;font-size: 25px;position: absolute;top:3px;right: 3px;"></rn-fontawesome> <li class="pageBuilderRowTemplate" style="width: 33.33%" data-structure="10" @click="${()=>this.AddRow([100])}"> <svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 100 50"> <path d="M100,0V50H0V0Z"></path> </svg> </li> <li class="pageBuilderRowTemplate" style="width: 33.33%" data-structure="20" @click="${()=>this.AddRow([50,50])}"> <svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 100 50"> <path d="M49,0V50H0V0Z M100,0V50H51V0Z"></path> </svg> </li> <li class="pageBuilderRowTemplate" style="width: 33.33%" data-structure="30" @click="${()=>this.AddRow([33.33,33.33,33.33])}"> <svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 100 50"> <path d="M32,0V50H0V0Z M66,0V50H34V0Z M100,0V50H68V0Z"></path> </svg> </li> </ul> </div>`:t.html`<div style="padding:20px;position: relative"> <ul class="elementor-select-preset-list" style="display: flex;align-items: center;flex-wrap: wrap;max-width: 700px;margin:auto;border-bottom: none !important;" > <rn-fontawesome class="rnEmptyRemove" @click="${()=>{this.ShowRowPicker=!1,this.forceUpdate()}}" .icon="${H.faTimes}" style="color:#ccc;font-size: 25px;position: absolute;top:3px;right: 3px;"></rn-fontawesome> <li class="pageBuilderRowTemplate" data-structure="10" @click="${()=>this.AddRow([100])}"> <svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 100 50"> <path d="M100,0V50H0V0Z"></path> </svg> </li> <li class="pageBuilderRowTemplate" data-structure="20" @click="${()=>this.AddRow([50,50])}"> <svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 100 50"> <path d="M49,0V50H0V0Z M100,0V50H51V0Z"></path> </svg> </li> <li class="pageBuilderRowTemplate" data-structure="30" @click="${()=>this.AddRow([33.33,33.33,33.33])}"> <svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 100 50"> <path d="M32,0V50H0V0Z M66,0V50H34V0Z M100,0V50H68V0Z"></path> </svg> </li> <li class="pageBuilderRowTemplate" data-structure="40" @click="${()=>this.AddRow([25,25,25,25])}"> <svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 100 50"> <path d="M23.5,0V50H0V0Z M49,0V50H25.5V0Z M74.5,0V50H51V0Z M100,0V50H76.5V0Z"></path> </svg> </li> <li class="pageBuilderRowTemplate" data-structure="21" @click="${()=>this.AddRow([33,67])}"> <svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 100 50"> <path d="M32.6667,0V50H0V0Z M100,0V50H34.6667V0Z"></path> </svg> </li> <li class="pageBuilderRowTemplate" data-structure="22" @click="${()=>this.AddRow([67,33])}"> <svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 100 50"> <path d="M65.3333,0V50H0V0Z M100,0V50H67.3333V0Z"></path> </svg> </li> <li class="pageBuilderRowTemplate" data-structure="31" @click="${()=>this.AddRow([25,25,50])}"> <svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 100 50"> <path d="M24,0V50H0V0Z M50,0V50H26V0Z M100,0V50H52V0Z"></path> </svg> </li> <li class="pageBuilderRowTemplate" data-structure="32" @click="${()=>this.AddRow([50,25,25])}"> <svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 100 50"> <path d="M48,0V50H0V0Z M74,0V50H50V0Z M100,0V50H76V0Z"></path> </svg> </li> <li class="pageBuilderRowTemplate" data-structure="33" @click="${()=>this.AddRow([25,50,25])}"> <svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 100 50"> <path d="M24,0V50H0V0Z M74,0V50H26V0Z M100,0V50H76V0Z"></path> </svg> </li> <li class="pageBuilderRowTemplate" data-structure="50" @click="${()=>this.AddRow([25,25,25,25])}"> <svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 100 50"> <path d="M18.4,0V50H0V0Z M38.8,0V50H20.4V0Z M59.2,0V50H40.8V0Z M79.6,0V50H61.2V0Z M100,0V50H81.6V0Z"></path> </svg> </li> <li class="pageBuilderRowTemplate" data-structure="34" @click="${()=>this.AddRow([16.66,66.68,16.66])}"> <svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 100 50"> <path d="M16,0V50H0V0Z M82,0V50H18V0Z M100,0V50H84V0Z"></path> </svg> </li> <li class="pageBuilderRowTemplate" data-structure="60" @click="${()=>this.AddRow([16.66,16.66,16.66,16.66,16.66,16.66])}"> <svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 100 50"> <path d="M15,0V50H0V0Z M32,0V50H17V0Z M49,0V50H34V0Z M66,0V50H51V0Z M83,0V50H68V0Z M100,0V50H85V0Z"></path> </svg> </li> </ul> </div>`}AddRow(e){let t=this.model.CreateRow(null,this.index);for(let i of e)t.CreateColumn(null,t.Columns.length).Options.WidthPercentage=i;this.ShowRowPicker=!1,this.FireEvent("OptionSelected"),this.model.Refresh()}SelectTemplate(){h.Dialog.Show(t.html`<rn-template-picker .model="${this.model}" .index="${this.index}"></rn-template-picker>`)}}),c.customElementOnce("rn-standard-section")(class extends gT{SubRender(){return t.html` ${this.model.Rows.length>0?t.html`<div> ${d.repeat([1],(e=>1),(e=>t.html` <div style="position: relative" class="rednao"> <div class="rednaoSection"> <style type='text/css'> ${this.model.Options.Styles} </style> ${d.repeat(this.model.Rows,(e=>e.Options.Id),(e=>e.render()))} </div> </div> `))} <rn-empty-section-placeholder .index="${this.model.Rows.length}" @refresh="${e=>{this.forceUpdate()}}" .model="${this.model}"></rn-empty-section-placeholder> </div> `:t.html`<rn-empty-section-placeholder .index="${this.model.Rows.length}" @refresh="${e=>{this.forceUpdate()}}" .model="${this.model}"></rn-empty-section-placeholder>`}`}});class GT extends fT{constructor(e,t,i,r,n,o,s){super(e,t,i,r,n,o,s)}Render(){return t.html`<rn-standard-section .model="${this}"></rn-standard-section>`}}let NT=c.customElementOnce("rn-standard-section")(MT=class extends gT{SubRender(){return t.html` ${this.model.Rows.length>0?t.html`<div> ${d.repeat([1],(e=>1),(e=>t.html` <div style="position: relative" class="rednao"> <div class="rednaoSection"> <style type='text/css'> ${this.model.Options.Styles} </style> ${d.repeat(this.model.Rows,(e=>e.Options.Id),(e=>e.render()))} </div> </div> `))} <rn-empty-section-placeholder .index="${this.model.Rows.length}" @refresh="${e=>{this.forceUpdate()}}" .model="${this.model}"></rn-empty-section-placeholder> </div> `:t.html`<rn-empty-section-placeholder .index="${this.model.Rows.length}" @refresh="${e=>{this.forceUpdate()}}" .model="${this.model}"></rn-empty-section-placeholder>`}`}})||MT;var WT,BT,zT;i.customElement("rn-multiple-section")(class extends NT{SubRender(){return t.html` <div class="SectionPerRow"> ${super.SubRender()} </div> `}});class FT extends GT{Render(){return t.html`<rn-multiple-section .model="${this}"></rn-multiple-section>`}}i.customElement("rn-carousel-section")(class extends NT{});class UT extends fT{constructor(...e){super(...e),this.Columns=[]}Render(){return t.html`<rn-carousel-section ${S.ref((e=>this.Instance=e))} .model="${this}"></rn-carousel-section>`}Initialize(){super.Initialize();for(let e of this.Options.Columns)this.Columns.push(new yT(e,this))}GetProperties(){var e,i;let r=super.GetProperties(),n=r.GetOrCreateGroup("General",1);new ie(this),n.AddProperty(new Bt(this,"GridStyle","Grid Style").AddItem("Normal","Normal").AddItem("Width borders","WithBorders")),n.AddProperty(new qS(this,"Stripped","Stripped")),r.GetOrCreateGroup("Columns",2).AddProperty(new QT(this.PageBuilder.SelectedElement,"Columns",""));let o=r.GetOrCreateGroup("Selected Column",2,null!==(e="Selected column "+(null===(i=UT.SelectedColumn)||void 0===i?void 0:i.Options.ColumnId))&&void 0!==e?e:0);return null==UT.SelectedColumn?o.AddProperty(new eT("",t.html`<div>Select a column first to see its settings</div>`)):o.AddProperties(UT.SelectedColumn.GetProperties()),r}GetStyles(e=""){let t=new le(this);t.GetOrCreateGroup("Header Styles").AddProperties(ai.GetProperties(this,"th","Background-Color|Color|TextAlign|Padding|Border"));let i=t.GetOrCreateGroup("Row Styles");if(i.AddProperties(ai.GetProperties(this,"td","Background-Color|Color|TextAlign|Padding|Border")),i=t.GetOrCreateGroup("Stripped Row Styles").SetIsOpenByDefault(!1),i.AddProperties(ai.GetProperties(this,"tr:nth-child(even) td","Background-Color|Color|TextAlign|Padding|Border")),null!=UT.SelectedColumn){t.GetOrCreateGroup("Selected column header styles").SetIsOpenByDefault(!1).AddProperties(ai.GetProperties(this,"th.th_"+UT.SelectedColumn.Options.ColumnId,"Background-Color|Color|TextAlign|Padding")),t.GetOrCreateGroup("Selected column row styles").SetIsOpenByDefault(!1).AddProperties(ai.GetProperties(this,"td.td_"+UT.SelectedColumn.Options.ColumnId,"Background-Color|Color|TextAlign|Padding"))}return t}GenerateColumns(){}RefreshColumn(e){this.Columns.find((t=>t.Options.ColumnId==e)).HeaderCell.Refresh()}GetFormulas(e=[]){super.GetFormulas(e);for(let t of this.Options.Columns)if("Text"==t.Type){let i=y.TextContainerGenerator.GetElementsOfType(t.Text,"field");for(let t of i)"__formula"==t.attrs.id&&e.push(t.attrs.path)}}}UT.SelectedColumn=null;let qT=(WT=r.StoreDataType(ry),BT=class extends Ww{constructor(...e){super(...e),babelHelpers.initializerDefineProperty(this,"Columns",zT,this)}LoadDefaultValues(){super.LoadDefaultValues(),this.Columns=[],this.Type="Carousel",this.GridStyle="",this.Stripped=!1}GetValueFromLoader(e,t){switch(e){case"Columns":return Bw.GetOptionsFromArray(t)}}},zT=babelHelpers.applyDecoratedDescriptor(BT.prototype,"Columns",[WT],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),BT);var XT,jT,HT;let ZT=(XT=a.ModelSerialize(),jT=class extends a.ModelBase{constructor(e,t,i,r,n=null){super(e),this.PageBuilder=t,this.Id=i,this.Label=r,this.Icon=n,babelHelpers.initializerDefineProperty(this,"Sections",HT,this),this.Tooltip=null,this.Settings=[],this.Parent=this.PageBuilder,this.Settings=[],this.Sections=[]}SetTooltip(e){return this.Tooltip=e,this}Initialize(){return this}get Style(){return this.Options.Style}set Style(e){this.Options.Style=e}get MobileStyle(){return this.Options.StyleMobile}set MobileStyle(e){this.Options.StyleMobile=e}get PageArea(){return this}Render(){return t.html`<rn-page-area-base .model="${this}"></rn-page-area-base>`}CreateSection(e,t,i,r,n){let o=this.Options.Sections.find((t=>t.Id==e));switch(null==o?o={Id:e,Type:i}:o.Type=i,i){case"Standard":case"Multiple":o=new FT(this,(new Xw).Merge(o),this,e,t,r,n);break;case"FormArea":o=new OT(this,(new Xw).Merge(o),this,e,t,r,n);break;case"Grid":o=new RT(this,(new qw).Merge(o),this,e,t,r,n);break;case"Calendar":o=new IT(this,(new ET).Merge(o),this,e,t,r,n);break;case"Additional":o=new FT(this,o,this,e,t,r,n);break;case"Carousel":o=new UT(this,(new qT).Merge(o),this,e,t,r,n);break;default:throw new Error("Unknown type "+i)}return this.Sections.push(o),o.Initialize(),o}GetSettingByName(e){return this.Settings.find((t=>t.PropertyName==e))}RemoveSettingByName(e){let t=this.Settings.find((t=>t.PropertyName==e));null!=t&&this.Settings.splice(this.Settings.indexOf(t),1)}AddSettings(e){this.Settings.push(e)}GetFormulas(e=[]){for(let t of this.Sections)t.GetFormulas(e)}},HT=babelHelpers.applyDecoratedDescriptor(jT.prototype,"Sections",[XT],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jT);class YT{constructor(e,t){this.Id=e,this.Name=t,this.Fields=[]}AddField(e){this.Fields.push(e)}}var JT,KT,e$,t$,i$,r$,n$,o$,s$;let a$=(JT=r.StoreDataType(String),KT=class extends r.StoreBase{constructor(...e){super(...e),babelHelpers.initializerDefineProperty(this,"Path",e$,this)}LoadDefaultValues(){this.Id="",this.Label="",this.AddCommaBefore=!1,this.Path=[]}},e$=babelHelpers.applyDecoratedDescriptor(KT.prototype,"Path",[JT],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),KT),l$=(t$=r.StoreDataType(a$),i$=class extends r.StoreBase{constructor(...e){super(...e),babelHelpers.initializerDefineProperty(this,"Items",r$,this)}LoadDefaultValues(){this.Items=[]}},r$=babelHelpers.applyDecoratedDescriptor(i$.prototype,"Items",[t$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),i$),u$=(n$=r.StoreDataType(l$),o$=class extends Ck{constructor(...e){super(...e),babelHelpers.initializerDefineProperty(this,"Rows",s$,this)}LoadDefaultValues(){super.LoadDefaultValues(),this.Rows=[]}GetDataSections(){let e=[{Id:this.Id,Label:this.Label+" (Id:"+this.Id+")",Path:["Value"],PathId:"Value"}],t=[];this.Rows.forEach((e=>t=t.concat(e.Items)));for(let i of t)e.push({Id:this.Id,Label:i.Label,Path:["Raw",...i.Path],PathId:i.Id});return e}},s$=babelHelpers.applyDecoratedDescriptor(o$.prototype,"Rows",[n$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o$);var c$,d$,h$;let p$=(c$=r.StoreDataType(Qk),d$=class extends Rk{constructor(...e){super(...e),babelHelpers.initializerDefineProperty(this,"Items",h$,this)}LoadDefaultValues(){super.LoadDefaultValues(),this.Items=[]}},h$=babelHelpers.applyDecoratedDescriptor(d$.prototype,"Items",[c$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d$);class f$ extends Ck{constructor(...e){super(...e),this.IsPR=!1,this.Column=""}get UseInConditions(){return!0}GetDataSections(e){return[{Id:this.Id,Label:this.Label+" (Id:"+this.Id+")",PathId:"Value",Path:["Value"]}]}LoadDefaultValues(){this.Id="",this.Label="",this.Type=sk.None,this.SubType="",this.IsPR=!1}}class m$ extends Ck{get UseInConditions(){return!1}}var g$,O$,b$,S$,y$;let v$=(g$=r.StoreDataType(String),O$=r.StoreDataType(String),b$=class extends Ck{constructor(...e){super(...e),babelHelpers.initializerDefineProperty(this,"Columns",S$,this),babelHelpers.initializerDefineProperty(this,"Rows",y$,this)}LoadDefaultValues(){super.LoadDefaultValues(),this.Rows=[],this.Columns=[]}get UseInConditions(){return!1}},S$=babelHelpers.applyDecoratedDescriptor(b$.prototype,"Columns",[g$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y$=babelHelpers.applyDecoratedDescriptor(b$.prototype,"Rows",[O$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b$);class w${static GetField(e){switch(e.Type){case sk.Text:case sk.None:case sk.User:case sk.Toggle:case sk.Time:return(new Ck).Merge(e);case sk.Number:case sk.Rating:return(new Ck).Merge(e);case sk.Multiple:return(new Rk).Merge(e);case sk.FileUpload:return(new m$).Merge(e);case sk.DateTime:case sk.List:return(new Ck).Merge(e);case sk.Composed:return(new u$).Merge(e);case sk.HTML:case sk.Date:case sk.EntryId:case sk.Signature:return(new Ck).Merge(e);case sk.Currency:return(new f$).Merge(e);case sk.CurrencyMultiple:return(new p$).Merge(e);case sk.LikertScale:return(new v$).Merge(e);default:throw new Error("Unknown field "+e.Type)}}}class x${constructor(e){this.Model=e,this.Forms=[],this.InitializeForms()}GetFormList(){return this.Forms}GetForm(){return this.GetFormById(this.Model.Options.FormId)}GetFields(){var e;return null===(e=this.GetForm())||void 0===e?void 0:e.Fields}GetPDFTemplates(){return null==this.GetForm()?[]:rnBuilderVar.PDFBuilderTemplates.filter((e=>e.OriginalId==this.GetForm().Id))}GetPDFImporterTemplates(){return null==this.GetForm()?[]:rnBuilderVar.PDFImporterTemplates.filter((e=>e.OriginalId==this.GetForm().Id))}GetFormById(e){return this.Forms.find((t=>t.Id==e))}GetFriendlyName(e,t="Value",i=!1,r=!1,n=""){if("__formula"==e){var o,s;let e=this.Model.Options.Formulas.find((e=>e.Id.toString()==t));return null==e?"Invalid formula":e.FormulaType+(""!=e.FieldToUse?":"+this.Model.DataSource.GetFriendlyName(e.FieldToUse,"Value",!1,!0,e.FormToUse)+(e.FormToUse!=(null===(o=this.GetForm())||void 0===o?void 0:o.Id)?"-"+(null===(s=this.GetFormById(e.FormToUse))||void 0===s?void 0:s.Name):""):"")}let a=this.GetFieldById(e,n);if(null==a)return"";let l="";if("Value"==t||null==t)l=a.Label;else{let e=a.GetDataSections("Display").find((e=>e.PathId==t));if(null==e)return"";l=e.Label}return i&&(l=a.Id+": "+l),r&&(l="["+l+"]"),l}GetFieldById(e,t=""){let i=this.GetForm();return""!=t&&(i=this.GetFormById(t)),null==i?null:i.Fields.find((t=>t.Id==e))}InitializeForms(){for(let e of rnBuilderVar.FormList){let t=new YT(e.OriginalId,e.Name);for(let i of e.Fields)t.AddField(w$.GetField(i));this.Forms.push(t)}}}var k$;i.customElement("rnwppages-template-manager")(class extends p.DialogBase{CloseWhenClickedOutside(){return!1}InternalGetOptions(){return{Title:"Select a form and a filter",Styles:{width:"80%",maxWidth:"800px"}}}SubRender(){return t.html` <div><rnwppages-filter-condition .pageBuilder="${this.pageBuilder}"></rnwppages-filter-condition></div> `}});let V$=c.customElementOnce("rn-page-area-base")(k$=class extends l.LitModel{render(){return t.html`<div style="padding: 10px;position: relative;" class="PageArea PageArea_${this.model.Options.Id}"> <style> ${this.model.Style} @media (max-width: 768px) { ${this.model.MobileStyle} } </style> ${d.repeat(this.model.Sections,(e=>e.Id),(e=>e.Render()))} </div>`}firstUpdated(e){super.firstUpdated(e),this.model.Instance=this}})||k$;var C$,T$,$$;i.customElement("rn-edit-page-area")(class extends V${render(){return""==rnBuilderVar.IsPR?t.html`<div style="padding: 10px"> <h2 style="margin: 0;padding: 0;">Sorry entry edition is only available in the full version</h2> </div>`:super.render()}});class P$ extends ZT{constructor(e,t,i,r,n){super(e,t,i,r,n),this.AddSettings(new XS(this,"AllowedRoles","User roles that can edit the entries (If left empty everyone will be able to edit the entries)")),null==this.Options.NotAllowedMessage&&(this.Options.NotAllowedMessage=y.TextContainerGenerator.GenerateText("Sorry, you are not allowed to edit this entry.")),this.AddSettings(new OO(this,"NotAllowedMessage","Not allowed message"))}Render(){return t.html`<rn-edit-page-area .model="${this}"></rn-edit-page-area>`}}class Q$ extends ZT{constructor(e,t,i,r,n){super(e,t,i,r,n),this.AddSettings(new ti(this,"MaximumNumberOfRecordsPerPage","Maximum number of records per page")),this.AddSettings(new de(this,"ItemWidth","Item width").SetPlaceholder("100%").SetHint("Define the width in percentage (%) or pixels(px), the plugin will try to add as many items as possible in the same row")),null==this.Options.EmptyMessage&&(this.Options.EmptyMessage=y.TextContainerGenerator.GenerateText("Sorry, no records were found.")),this.AddSettings(new OO(this,"EmptyMessage","When no records are available show this message"))}}class R$ extends Ww{LoadDefaultValues(){super.LoadDefaultValues(),this.Id="Additional"}}class I$ extends ZT{constructor(e,t,i,r,n){let o=(new Jw).Merge();o.Sections.push((new R$).Merge()),super(o,t,i,r,n),this.Container=e}get Style(){return this.Container.PageArea.Style}set Style(e){this.Container.PageArea.Style=e}get MobileStyle(){return this.Container.PageArea.MobileStyle}set MobileStyle(e){this.Container.PageArea.MobileStyle=e}Initialize(){return super.Initialize(),this.CreateSection("Additional",this.Label,"Additional","Field|InnerSection",mT.Detail),this.Sections[0].Rows=this.Container.Rows,this}}class E$ extends Q${constructor(e,t,i,r,n){super(e,t,i,r,n),this.GetSettingByName("ItemWidth").SetHint("Define the width in percentage (%) or pixels(px)").Label="Carousel width",this.AddSettings(new de(this,"ItemHeight","Carousel height").SetPlaceholder("100%").SetHint("Define the height in percentage (%) or pixels(px)")),this.AddSettings(new qS(this,"AddSliderPagination","Add slider pagination")),this.AddSettings(new qS(this,"AutoPlay","Auto play")),this.AddSettings(new ti(this,"AutoPlayDelay","Auto play delay"))}}let D$=(C$=a.ModelSerialize(),T$=class extends a.ModelBase{constructor(e){super(e),babelHelpers.initializerDefineProperty(this,"Areas",$$,this),this.SelectedArea=null,this.Settings=[],this.AdditionalAreas=[],this.OnSelectedBlock=new m.SingleEvent,this.InternalCreateArea(),this.DataSource=new x$(this),ie.PageBuilderModel=this,this.CreateGeneralSettings(),null==this.DataSource.GetForm()&&h.Dialog.Show(t.html`<rnwppages-template-manager .pageBuilder="${this}"></rnwppages-template-manager>`)}InternalCreateArea(){this.CreateAreas(),ie.Area=this.Areas[0]}get Ruler(){return null==this._ruler&&(this._ruler=document.querySelector(".rnRuler")),this._ruler}get PageBuilder(){return this}get SelectedElement(){return this._selectedElement}set SelectedElement(e){this._selectedElement=e,null!=e&&n.EventManager.Publish("OpenProperties")}SetSelectedArea(e){this.SelectedArea=e,ie.Area=e,this.Refresh()}Initialize(){this.SelectedArea=this.Areas[0],this.Areas.forEach((e=>e.Initialize()))}MaybeGenerateIcon(e){if(""==e.Value)return null;let i=`${rnBuilderVar.PluginURL}pr/icons/fontawesome/${e.Source}/${e.Value}.svg`;return t.html`<div style="margin-right:3px;max-width: 1.5em;max-height: 1.5em;-webkit-mask-position: center ;-webkit-mask-repeat: no-repeat ;mask-position: center;mask-repeat: no-repeat;background-color:currentColor;display: inline-flex;mask-image: url(${i});-webkit-mask-image: url(${i})">/div>`}Render(){return t.html`<rn-page-builder .model="${this}"></rn-page-builder>`}CreateArea(e,t,i,r=null){let n=this.Options.Areas.find((t=>t.Id==e));null==n&&(n={Id:e});let o=null;switch(e){case"Carousel":o=new E$(ck.GetOption(n),this,e,t,i).SetTooltip(r);break;case"Multiple":o=new Q$(ck.GetOption(n),this,e,t,i).SetTooltip(r);break;case"Edit":o=new P$(ck.GetOption(n),this,e,t,i).SetTooltip(r);break;default:o=new ZT(ck.GetOption(n),this,e,t,i).SetTooltip(r)}return this.Areas.push(o),o}SetFormId(e){this.Options.FormId=e}async Save(){this.RemoveUnusedFormulas();let e=await f.WpAjaxPost.Post("Save",{Options:this.GetOptions()});null!=e&&(null!=(null==e?void 0:e.PageId)?(s.ToastService.SendSuccess("Record saved successfully"),this.Options.Id=e.PageId,window.history.replaceState({},document.title,rnBuilderVar.TemplateURL+"&templateId="+e.PageId)):s.ToastService.SendErrorMessage("There was an error saving the page, please try again"))}Preview(e,t={}){if(0==this.Options.Id)return void s.ToastService.SendErrorMessage("You need to save the template before previewing it");let i=new URLSearchParams(t).toString();window.open(rnBuilderVar.PreviewURL+"?tid="+this.Options.Id+(""==i?"":"&"+i))}get CanUseFilters(){return!0}get CanUseSort(){return!0}GetSelectAFormLink(e=null){return t.html` <a href="#" @click="${async i=>{i.preventDefault(),null!=e&&e(),await h.Dialog.Show(t.html`<rnwppages-template-manager .pageBuilder="${this}"></rnwppages-template-manager>`),n.EventManager.Publish("RefreshFieldProperties")}}">Please select a form first</a> `}CreateGeneralSettings(){this.Settings=[],this.Settings.push(new ti(null,"MaxWidth","Maximum width (leave empty for no maximum)").SetOptionsOverwrite(this.Options.GeneralSettings)),this.AfterGeneralSettingsCreated()}AfterGeneralSettingsCreated(){}AddFormula(e){this.Options.Formulas.push(e)}RemoveUnusedFormulas(){let e=[];for(let t of this.Areas)t.GetFormulas(e);for(let t=0;t<this.Options.Formulas.length;t++){let i=this.Options.Formulas[t];e.some((e=>e==i.Id))||(this.Options.Formulas.splice(t,1),t--)}}GetBlocks(){let e=[],t=i=>{for(let r of i)for(let i of r.Columns)for(let r of i.Blocks)e.push(r),r.Options.Type==E.InnerSection&&t(r.Rows)};for(let e of this.Areas)for(let i of e.Sections)t(i.Rows);return e}GetBlockByType(e){return this.GetBlocks().filter((t=>t.Options.Type==e))}AddArea(e,t,i,r=null){let n=this.AdditionalAreas.find((t=>t.Id==e));null==n&&(n=new I$(i,this,e,t,r),n.Initialize(),this.AdditionalAreas.push(n)),this.SetSelectedArea(n)}},$$=babelHelpers.applyDecoratedDescriptor(T$.prototype,"Areas",[C$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T$);var A$={};!function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="file",i=[128196,128459,61462],r="f15b",n="M0 64C0 28.65 28.65 0 64 0H229.5C246.5 0 262.7 6.743 274.7 18.75L365.3 109.3C377.3 121.3 384 137.5 384 154.5V448C384 483.3 355.3 512 320 512H64C28.65 512 0 483.3 0 448V64zM336 448V160H256C238.3 160 224 145.7 224 128V48H64C55.16 48 48 55.16 48 64V448C48 456.8 55.16 464 64 464H320C328.8 464 336 456.8 336 448z";e.definition={prefix:"far",iconName:t,icon:[384,512,i,r,n]},e.faFile=e.definition,e.prefix="far",e.iconName=t,e.width=384,e.height=512,e.ligatures=i,e.unicode=r,e.svgPathData=n,e.aliases=i}(A$);var _$={};!function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="clone",i=[],r="f24d",n="M64 464H288C296.8 464 304 456.8 304 448V384H352V448C352 483.3 323.3 512 288 512H64C28.65 512 0 483.3 0 448V224C0 188.7 28.65 160 64 160H128V208H64C55.16 208 48 215.2 48 224V448C48 456.8 55.16 464 64 464zM160 64C160 28.65 188.7 0 224 0H448C483.3 0 512 28.65 512 64V288C512 323.3 483.3 352 448 352H224C188.7 352 160 323.3 160 288V64zM224 304H448C456.8 304 464 296.8 464 288V64C464 55.16 456.8 48 448 48H224C215.2 48 208 55.16 208 64V288C208 296.8 215.2 304 224 304z";e.definition={prefix:"far",iconName:t,icon:[512,512,i,r,n]},e.faClone=e.definition,e.prefix="far",e.iconName=t,e.width=512,e.height=512,e.ligatures=i,e.unicode=r,e.svgPathData=n,e.aliases=i}(_$);var M$,L$,G$,N$={},W$={};!function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="pen-to-square",i=["edit"],r="f044",n="M373.1 24.97C401.2-3.147 446.8-3.147 474.9 24.97L487 37.09C515.1 65.21 515.1 110.8 487 138.9L289.8 336.2C281.1 344.8 270.4 351.1 258.6 354.5L158.6 383.1C150.2 385.5 141.2 383.1 135 376.1C128.9 370.8 126.5 361.8 128.9 353.4L157.5 253.4C160.9 241.6 167.2 230.9 175.8 222.2L373.1 24.97zM440.1 58.91C431.6 49.54 416.4 49.54 407 58.91L377.9 88L424 134.1L453.1 104.1C462.5 95.6 462.5 80.4 453.1 71.03L440.1 58.91zM203.7 266.6L186.9 325.1L245.4 308.3C249.4 307.2 252.9 305.1 255.8 302.2L390.1 168L344 121.9L209.8 256.2C206.9 259.1 204.8 262.6 203.7 266.6zM200 64C213.3 64 224 74.75 224 88C224 101.3 213.3 112 200 112H88C65.91 112 48 129.9 48 152V424C48 446.1 65.91 464 88 464H360C382.1 464 400 446.1 400 424V312C400 298.7 410.7 288 424 288C437.3 288 448 298.7 448 312V424C448 472.6 408.6 512 360 512H88C39.4 512 0 472.6 0 424V152C0 103.4 39.4 64 88 64H200z";e.definition={prefix:"far",iconName:t,icon:[512,512,i,r,n]},e.faPenToSquare=e.definition,e.prefix="far",e.iconName=t,e.width=512,e.height=512,e.ligatures=i,e.unicode=r,e.svgPathData=n,e.aliases=i}(W$),function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=W$;e.definition={prefix:t.prefix,iconName:t.iconName,icon:[t.width,t.height,t.aliases,t.unicode,t.svgPathData]},e.faEdit=e.definition,e.prefix=t.prefix,e.iconName=t.iconName,e.width=t.width,e.height=t.height,e.ligatures=t.aliases,e.unicode=t.unicode,e.svgPathData=t.svgPathData,e.aliases=t.aliases}(N$);i.customElement("rnwppages-license-required")(class extends p.DialogBase{constructor(...e){super(...e),this.URL="https://formwiz.rednao.com/page-builder-2/"}InternalGetOptions(){return{Title:"Full version required",ShowApplyButton:!0,ShowCloseButton:!0,CloseButtonTitle:"Close",ApplyButtonTitle:"Get Full Version"}}SubRender(){return t.html`${this.message}`}async OnApply(){return window.open(this.URL),!0}});let B$=(M$=r.StoreDataType(Object),L$=class extends rk{constructor(...e){super(...e),babelHelpers.initializerDefineProperty(this,"Text",G$,this)}LoadDefaultValues(){super.LoadDefaultValues(),this.Type="Calendar",this.StartDateField="",this.EndDateField="",this.Text=null,this.PopUpWidth=400}},G$=babelHelpers.applyDecoratedDescriptor(L$.prototype,"Text",[M$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L$);n.EventManager.Publish("GetGeneralSettings",(e=>{if("Calendar"==e.Type)return(new B$).Merge(e)}));var z$,F$,U$,q$,X$,j$={};!function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="star",i=[11088,61446],r="f005",n="M287.9 0C297.1 0 305.5 5.25 309.5 13.52L378.1 154.8L531.4 177.5C540.4 178.8 547.8 185.1 550.7 193.7C553.5 202.4 551.2 211.9 544.8 218.2L433.6 328.4L459.9 483.9C461.4 492.9 457.7 502.1 450.2 507.4C442.8 512.7 432.1 513.4 424.9 509.1L287.9 435.9L150.1 509.1C142.9 513.4 133.1 512.7 125.6 507.4C118.2 502.1 114.5 492.9 115.1 483.9L142.2 328.4L31.11 218.2C24.65 211.9 22.36 202.4 25.2 193.7C28.03 185.1 35.5 178.8 44.49 177.5L197.7 154.8L266.3 13.52C270.4 5.249 278.7 0 287.9 0L287.9 0zM287.9 78.95L235.4 187.2C231.9 194.3 225.1 199.3 217.3 200.5L98.98 217.9L184.9 303C190.4 308.5 192.9 316.4 191.6 324.1L171.4 443.7L276.6 387.5C283.7 383.7 292.2 383.7 299.2 387.5L404.4 443.7L384.2 324.1C382.9 316.4 385.5 308.5 391 303L476.9 217.9L358.6 200.5C350.7 199.3 343.9 194.3 340.5 187.2L287.9 78.95z";e.definition={prefix:"far",iconName:t,icon:[576,512,i,r,n]},e.faStar=e.definition,e.prefix="far",e.iconName=t,e.width=576,e.height=512,e.ligatures=i,e.unicode=r,e.svgPathData=n,e.aliases=i}(j$);class H$ extends rk{LoadDefaultValues(){super.LoadDefaultValues(),this.Type="Single",this.PageId=0}}n.EventManager.Publish("GetGeneralSettings",(e=>{if("Single"==e.Type)return(new H$).Merge(e)})),i.customElement("rn-entry-id-preview")(class extends p.DialogBase{constructor(...e){super(...e),this.entryId=""}InternalGetOptions(){return{Title:"Select an entry id",Styles:{width:"800px",maxWidth:"80%"},ShowApplyButton:!0,ApplyButtonTitle:"Preview"}}async OnApply(){return this.SendResult(this.entryId),!0}SubRender(){return t.html` <div> <rn-inputs-text .label="${"Select an entry id to preview"}" .value="${g.live(this.entryId)}" @change="${e=>this.entryId=e.detail}"></rn-inputs-text> <div style="font-weight: bold"> You can find the entry id in the View Entry page of WPForms <img style="border:1px solid #ccc;;width: 80%;margin-top: 3px" src="${rnBuilderVar.PluginURL}images/entryIdPreview.png"/> </div> </div> `}});let Z$=(z$=r.StoreDataType(String),F$=r.StoreDataType(Object),U$=class extends rk{constructor(...e){super(...e),babelHelpers.initializerDefineProperty(this,"Tags",q$,this),babelHelpers.initializerDefineProperty(this,"Title",X$,this)}LoadDefaultValues(){super.LoadDefaultValues(),this.Type="EntryPost",this.PageId=0,this.Enable=!1,this.FeaturedImageField=0,this.Category="",this.PostStatus="Published",this.PostType="page",this.Tags=[],this.Title=null}},q$=babelHelpers.applyDecoratedDescriptor(U$.prototype,"Tags",[z$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X$=babelHelpers.applyDecoratedDescriptor(U$.prototype,"Title",[F$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U$);n.EventManager.Publish("GetGeneralSettings",(e=>{if("EntryPost"==e.Type)return(new Z$).Merge(e)}));exports.PageBuilderBaseOptions=uk,exports.ListingPageModel=class extends D${CreateAreas(){this.Areas=[];let e=this.CreateArea("Multiple","Multiple Entries Layout",_$.faClone).SetTooltip("This is the main page. It is the first page that is displayed");e.CreateSection("TopSection","Header Section","Standard","Text|Navigation|SearchBar|InnerSection",mT.Summary),e.CreateSection("ListingSection","Listing Section","Multiple","Field|InnerSection",mT.Detail).SetSectionSelector(".SectionPerRow"),e.CreateSection("BottomSection","Footer Section","Standard","Text|Navigation|SearchBar|InnerSection",mT.Summary);let t=this.CreateArea("View","Single Entry Layout",A$.faFile).SetTooltip('This page is displayed when the user click in a "View Entry" link');t.CreateSection("TopSection","Header Section","Standard","Field|InnerSection",mT.Detail),t.CreateSection("ListingSection","Listing Section","Standard","Field|InnerSection",mT.Detail),t.CreateSection("BottomSection","Footer Section","Standard","Field|InnerSection",mT.Detail);let i=this.CreateArea("Edit","Edit Entry Layout",N$.faEdit).SetTooltip('This page is displayed when the user click in a "Edit Entry" link');i.CreateSection("TopSection","Header Section","Standard","Text|InnerSection",mT.Detail),i.CreateSection("EditSection","Form Section","FormArea","Text|InnerSection",mT.Edition),i.CreateSection("BottomSection","Footer Section","Standard","Text|InnerSection",mT.Detail)}},exports.ListingPageOptions=class extends uk{LoadDefaultValues(){super.LoadDefaultValues(),this.Type="Listing"}},exports.GridPageOptions=class extends uk{LoadDefaultValues(){super.LoadDefaultValues(),this.Type="Grid"}},exports.GridPageModel=class extends D${CreateAreas(){this.Areas=[];let e=this.CreateArea("Multiple","Multiple Entries Layout",_$.faClone).SetTooltip("This is the main page. It is the first page that is displayed");e.AddSettings(new ti(e,"Maximum number of records per page","MaximumNumberOfRecordsPerPage")),e.CreateSection("TopSection","Header Section","Standard","Text|Navigation|SearchBar|InnerSection",mT.Summary),e.CreateSection("GridSection","Grid Section","Grid","Field|InnerSection",mT.Grid),e.CreateSection("BottomSection","Footer Section","Standard","Text|Navigation|SearchBar|InnerSection",mT.Summary);let t=this.CreateArea("View","Single Entry Layout",A$.faFile).SetTooltip('This page is displayed when the user click in a "View Entry" link');t.CreateSection("TopSection","Header Section","Standard","Field|InnerSection",mT.Detail),t.CreateSection("ListingSection","Listing Section","Standard","Field|InnerSection",mT.Detail),t.CreateSection("BottomSection","Footer Section","Standard","Field|InnerSection",mT.Detail);let i=this.CreateArea("Edit","Edit Entry Layout",N$.faEdit).SetTooltip('This page is displayed when the user click in a "Edit Entry" link');i.CreateSection("TopSection","Header Section","Standard","Text|InnerSection",mT.Detail),i.CreateSection("EditSection","Form Section","FormArea","Text|InnerSection",mT.Edition),i.CreateSection("BottomSection","Footer Section","Standard","Text|InnerSection",mT.Detail)}},exports.CalendarPageOptions=class extends uk{LoadDefaultValues(){super.LoadDefaultValues(),this.GeneralSettings=(new B$).Merge(),this.Type="Calendar"}},exports.CalendarPageModel=class extends D${CreateAreas(){this.Areas=[];let e=this.CreateArea("Multiple","Calendar Layout",_$.faClone).SetTooltip("This is the main page. It is the first page that is displayed");e.Settings=[],e.CreateSection("TopSection","Header Section","Standard","Text|Navigation|SearchBar|InnerSection",mT.Summary),e.CreateSection("GridSection","Calendar Section","Calendar","",mT.Grid),e.CreateSection("BottomSection","Footer Section","Standard","Text|Navigation|SearchBar|InnerSection",mT.Summary);let t=this.CreateArea("CalendarPopUp","Calendar pop up layout",j$.faStar).SetTooltip("This page is displayed when the user hover into an item in the calendar");t.AddSettings(new ti(t,"PopUpWidth","Pop up max width").SetOptionsOverwrite(this.Options.GeneralSettings)),t.CreateSection("PopUpSection","Pop Up Section","Standard","Field|InnerSection",mT.Detail);let i=this.CreateArea("View","Single Entry Layout",A$.faFile).SetTooltip('This page is displayed when the user click in a "View Entry" link');i.CreateSection("TopSection","Header Section","Standard","Field|InnerSection",mT.Detail),i.CreateSection("ListingSection","Listing Section","Standard","Field|InnerSection",mT.Detail),i.CreateSection("BottomSection","Footer Section","Standard","Field|InnerSection",mT.Detail);let r=this.CreateArea("Edit","Edit Entry Layout",N$.faEdit).SetTooltip('This page is displayed when the user click in a "Edit Entry" link');r.CreateSection("TopSection","Header Section","Standard","Text|InnerSection",mT.Detail),r.CreateSection("EditSection","Form Section","FormArea","Text|InnerSection",mT.Edition),r.CreateSection("BottomSection","Footer Section","Standard","Text|InnerSection",mT.Detail)}},exports.SinglePageOptions=class extends uk{LoadDefaultValues(){super.LoadDefaultValues(),this.Type="Single",this.GeneralSettings=(new H$).Merge()}},exports.SinglePageModel=class extends D${constructor(e){super(e),this.EntryIdToPreview="";let i=new Bt(null,"PageId","Page to use to generate links").SetOptionsOverwrite(this.Options.GeneralSettings);for(let e of rnBuilderVar.WPPages)i.AddItem(e.PostTitle,e.Id);this.Settings.push(i),this.Settings.push(new eT("",(()=>{let e="";return e=0==this.Options.Id?"Please save the template first to view the shortcode":`[show_single_page_link page="${this.Options.Id}"]Click here to view your entry[/show_single_page_link]`,t.html`<h3>Creating links to this page</h3> <p>You can include a link to this template to any WPForm confirmation message or email, this can let your users view the submitted entry or do other actions like delete the entry or approve it.</p> <p>To create links for this template please do the following</p> <ol> <li>Open or add a new Wordpress page or post and add this shortcode: [show_single_page] </li> <li>In the "Page to use to generate links" of this page use the page where you added the shortcode of the previous step</li> <li>Add the following shortcode in any WPForm confirmation message or email<pre style="background-color: #eee;padding: 5px;display:block" >${e}</pre></li> </ol> `})))}CreateAreas(){this.Areas=[];let e=this.CreateArea("SingleView","Single Entry Layout",A$.faFile).SetTooltip("This is the main page. It is the first page that is displayed");e.CreateSection("TopSection","Header Section","Standard","Field|InnerSection",mT.Detail),e.CreateSection("ListingSection","Detail Section","Standard","Field|InnerSection",mT.Detail),e.CreateSection("BottomSection","Footer Section","Standard","Field|InnerSection",mT.Detail),e.AddSettings(new Bt(this,"EntryVisibility","Entry Visibility").AddItem("Public","public").AddItem("Private","private").SetOptionsOverwrite(e.Options)),e.AddSettings(new eT("",t.html`<ul> <li><strong>Public:</strong> Anyone that has (or guess) the entry id will be able to view the entry. Use this option when you want your entry information to be publicly available.</li> <li><strong>Private:</strong> Only the persons that have the link for this entry (which you can generate with our shortcodes or directly in the entries page of WPForms) will be able to open it. Use this option when you want to show sensitive information. </li> </ul>`)),null==e.Options.EmptyMessage&&(e.Options.EmptyMessage=y.TextContainerGenerator.GenerateText("Sorry, no record was found.")),e.AddSettings(new OO(this,"EmptyMessage","When no records are available show this message").SetOptionsOverwrite(e.Options));let i=this.CreateArea("Edit","Edit Entry Layout",N$.faEdit);i.CreateSection("TopSection","Header Section","Standard","Text|InnerSection",mT.Detail),i.CreateSection("EditSection","Form Section","FormArea","Text|InnerSection",mT.Edition),i.CreateSection("BottomSection","Footer Section","Standard","Text|InnerSection",mT.Detail)}async Preview(e){this.EntryIdToPreview=await h.Dialog.Show(t.html`<rn-entry-id-preview .entryId="${this.EntryIdToPreview}"></rn-entry-id-preview>`),super.Preview(e,{entryid:this.EntryIdToPreview})}get CanUseFilters(){return!1}get CanUseSort(){return!1}},exports.BlockBaseOptions=D,exports.EntryToPostOptions=class extends uk{LoadDefaultValues(){super.LoadDefaultValues(),this.Type="EntryPost",this.GeneralSettings=(new Z$).Merge()}},exports.EntryToPostModel=class extends D${constructor(e){super(e),this.EntryIdToPreview="",new Bt(null,"PageId","Page to use to generate links").SetOptionsOverwrite(this.Options.GeneralSettings)}AfterGeneralSettingsCreated(){super.AfterGeneralSettingsCreated(),this.Settings=[],this.Settings.push(new qS(null,"Enable","Enable").SetHint("When enabled the form submissions will automatically create a page or post using the entry").SetOptionsOverwrite(this.Options.GeneralSettings)),this.Settings.push(new Sy(this,"Title","Post Title").SetAddFieldsGroup().SetOptionsOverwrite(this.Options.GeneralSettings)),this.Settings.push(new Bt(null,"PostStatus","Post Status").SetOptionsOverwrite(this.Options.GeneralSettings).AddItem("Draft","draft").AddItem("Pending","pending").AddItem("Private","private").AddItem("Publish","publish"));let e=new Bt(null,"PostType","Post Type").SetOptionsOverwrite(this.Options.GeneralSettings);for(let t of rnBuilderVar.PostTypes)e.AddItem(t.Label,t.Id);this.Settings.push(e);let t=new Bt(null,"Category","Category").SetOptionsOverwrite(this.Options.GeneralSettings);for(let e of rnBuilderVar.Categories)t.AddItem(e.Name,e.Id);this.Settings.push(t);let i=new Bt(null,"Tags","Tags").SetIsMultiple().SetOptionsOverwrite(this.Options.GeneralSettings);for(let e of rnBuilderVar.Tags)i.AddItem(e.Name,e.Id);this.Settings.push(i),this.Settings.push(new US(this,"FeaturedImageField","","Featured Image").SetOptionsOverwrite(this.Options.GeneralSettings).SetFilter(["FileUpload"]))}CreateAreas(){this.Areas=[];let e=this.CreateArea("ToPost","Single Entry Layout",A$.faFile).SetTooltip("This is the main page. It is the first page that is displayed");e.CreateSection("TopSection","Header Section","Standard","Field|InnerSection",mT.Detail),e.CreateSection("ListingSection","Detail Section","Standard","Field|InnerSection",mT.Detail),e.CreateSection("BottomSection","Footer Section","Standard","Field|InnerSection",mT.Detail),e.AddSettings(new Bt(this,"EntryVisibility","Entry Visibility").AddItem("Public","public").AddItem("Private","private").SetOptionsOverwrite(e.Options)),e.AddSettings(new eT("",t.html`<ul> <li><strong>Public:</strong> Anyone that has (or guess) the entry id will be able to view the entry. Use this option when you want your entry information to be publicly available.</li> <li><strong>Private:</strong> Only the persons that have the link for this entry (which you can generate with our shortcodes or directly in the entries page of WPForms) will be able to open it. Use this option when you want to show sensitive information. </li> </ul>`)),null==e.Options.EmptyMessage&&(e.Options.EmptyMessage=y.TextContainerGenerator.GenerateText("Sorry, no record was found.")),e.AddSettings(new OO(this,"EmptyMessage","When no records are available show this message").SetOptionsOverwrite(e.Options));let i=this.CreateArea("Edit","Edit Entry Layout",N$.faEdit);i.CreateSection("TopSection","Header Section","Standard","Text|InnerSection",mT.Detail),i.CreateSection("EditSection","Form Section","FormArea","Text|InnerSection",mT.Edition),i.CreateSection("BottomSection","Footer Section","Standard","Text|InnerSection",mT.Detail)}async Preview(e){this.EntryIdToPreview=await h.Dialog.Show(t.html`<rn-entry-id-preview .entryId="${this.EntryIdToPreview}"></rn-entry-id-preview>`),super.Preview(e,{entryid:this.EntryIdToPreview})}get CanUseSort(){return!1}get CanUseFilters(){return!1}},exports.CarouselPageOptions=class extends uk{LoadDefaultValues(){super.LoadDefaultValues(),this.Type="Carousel"}},exports.CarouselPageModel=class extends D${CreateAreas(){this.Areas=[];let e=this.CreateArea("Carousel","Carousel Layout",_$.faClone).SetTooltip("This is the main page. It is the first page that is displayed");e.CreateSection("TopSection","Header Section","Standard","Text|Navigation|SearchBar|InnerSection",mT.Summary),e.CreateSection("Carousel","Carousel Section","Carousel","Field|InnerSection",mT.Detail).SetSectionSelector(".SectionPerRow"),e.CreateSection("BottomSection","Footer Section","Standard","Text|Navigation|SearchBar|InnerSection",mT.Summary);let t=this.CreateArea("View","Single Entry Layout",A$.faFile).SetTooltip('This page is displayed when the user click in a "View Entry" link');t.CreateSection("TopSection","Header Section","Standard","Field|InnerSection",mT.Detail),t.CreateSection("ListingSection","Listing Section","Standard","Field|InnerSection",mT.Detail),t.CreateSection("BottomSection","Footer Section","Standard","Field|InnerSection",mT.Detail);let i=this.CreateArea("Edit","Edit Entry Layout",N$.faEdit).SetTooltip('This page is displayed when the user click in a "Edit Entry" link');i.CreateSection("TopSection","Header Section","Standard","Text|InnerSection",mT.Detail),i.CreateSection("EditSection","Form Section","FormArea","Text|InnerSection",mT.Edition),i.CreateSection("BottomSection","Footer Section","Standard","Text|InnerSection",mT.Detail)}}}));
