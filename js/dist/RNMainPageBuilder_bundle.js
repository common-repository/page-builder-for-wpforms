rndefine("#RNMainPageBuilder",["exports","#RNMainCoreUI/FontAwesomeIcon","#RNMainCoreUI/renderprops","#RNMainRNPage/RNPage.Options","#RNMainCore/Sanitizer","#RNMainCoreUI/ToastService","react","react-dom","#RNMainRNPage/MultipleFormField","#RNMainCore/WpAjaxPost","#RNMainCore/EventManager","#RNMainRNPage/FormDataSource.Options","#RNMainCoreUI/ModelBase","#RNMainRNPage/RNPage.Model","#RNMainRNPage/Form","#RNMainCore/StoreBase","#RNMainRNPage/FormFieldBase","#RNMainRNPage/TextFormField","#RNMainRNPage/NoneFormField","#RNMainRNPage/UserFormField","#RNMainRNPage/ToggleFormField","#RNMainRNPage/TimeFormField","#RNMainRNPage/NumberFormField","#RNMainRNPage/FileUploadFormField","#RNMainRNPage/DateTimeFormField","#RNMainRNPage/ListFormField","#RNMainRNPage/ComposedFormField","#RNMainRNPage/HTMLFormField","#RNMainRNPage/EntryIdFormField","#RNMainRNPage/SignatureFormField","#RNMainRNPage/DataSourceBase.Options","#RNMainRNPage/FormDataSource","#RNMainRNPage/ColumnBase.Options","#RNMainRNPage/RNPage","#RNMainRNPage/RNRow.Model","#RNMainRNPage/RNColumn.Options","#RNMainRNPage/RNColumn.Model","#RNMainRNPage/RNColumn","#RNMainRNPage/RNRow","#RNMainRNPage/RNRow.Options","#RNMainRNPage/RNBlockBase.Options","#RNMainFormFieldBlock/FormFieldBlock.Model","#RNMainFormFieldBlock/FormFieldBlock","#RNMainCore/SingleEvent","#RNMainTextFieldBlock/TextFieldBlock.Model","#RNMainTextFieldBlock/TextFieldBlock","#RNMainCore/ObjectSanitizer","#RNMainSlateRenderer/SlateTextRenderer","#RNMainNavigatorFieldBlock/NavigatorFieldBlock.Model","#RNMainNavigatorFieldBlock/NavigatorFieldBlock","#RNMainGridFieldBlock/GridFieldBlock.Model","#RNMainGridFieldBlock/GridFieldBlock","#RNMainGridFieldBlock/GridFieldBlock.Options","#RNMainGridFieldBlock/HeaderGridRow.Model","#RNMainGridFieldBlock/HeaderGridRow","#RNMainGridFieldBlock/HeaderGridColumn.Model","#RNMainGridFieldBlock/HeaderGridColumn","#RNMainGridFieldBlock/StandardGridRow.Model","#RNMainGridFieldBlock/StandardGridColumn.Model","#RNMainGridFieldBlock/StandardGridColumn","#RNMainSlateRenderer/SlateRenderer","#RNMainGridFieldBlock/StandardGridRow","#RNMainSearchBarBlock/SearchBarBlock.Model","#RNMainSearchBarBlock/SearchBarBlock","#RNMainSearchBarBlock/SearchField.Options","#RNMainImageBlock/ImageBlock.Model","#RNMainImageBlock/ImageBlock","#RNMainListBlock/ListBlock.Model","#RNMainListBlock/ListBlock","#RNMainCalendarBlock/CalendarBlock","#RNMainCalendarBlock/CalendarBlock.Model","#RNMainFormBlock/FormBlock","#RNMainFormBlock/FormBlock.Model"],(function(e,t,n,r,o,i,a,s,l,u,c,d,p,f,h,m,g,v,y,b,w,k,C,x,E,S,_,O,T,R,A,N,D,P,M,I,F,L,B,j,z,V,U,H,G,W,q,Y,K,$,X,J,Q,Z,ee,te,ne,re,oe,ie,ae,se,le,ue,ce,de,pe,fe,he,me,ge,ve,ye){"use strict";var be=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},we={lines:12,length:7,width:5,radius:10,scale:1,corners:1,color:"#000",fadeColor:"transparent",animation:"spinner-line-fade-default",rotate:0,direction:1,speed:1,zIndex:2e9,className:"spinner",top:"50%",left:"50%",shadow:"0 0 1px transparent",position:"absolute"},ke=function(){function e(e){void 0===e&&(e={}),this.opts=be({},we,e)}return e.prototype.spin=function(e){return this.stop(),this.el=document.createElement("div"),this.el.className=this.opts.className,this.el.setAttribute("role","progressbar"),Ce(this.el,{position:this.opts.position,width:0,zIndex:this.opts.zIndex,left:this.opts.left,top:this.opts.top,transform:"scale("+this.opts.scale+")"}),e&&e.insertBefore(this.el,e.firstChild||null),function(e,t){var n=Math.round(t.corners*t.width*500)/1e3+"px",r="none";!0===t.shadow?r="0 2px 4px #000":"string"==typeof t.shadow&&(r=t.shadow);for(var o=function(e){for(var t=/^\s*([a-zA-Z]+\s+)?(-?\d+(\.\d+)?)([a-zA-Z]*)\s+(-?\d+(\.\d+)?)([a-zA-Z]*)(.*)$/,n=[],r=0,o=e.split(",");r<o.length;r++){var i=o[r].match(t);if(null!==i){var a=+i[2],s=+i[5],l=i[4],u=i[7];0!==a||l||(l=u),0!==s||u||(u=l),l===u&&n.push({prefix:i[1]||"",x:a,y:s,xUnits:l,yUnits:u,end:i[8]})}}return n}(r),i=0;i<t.lines;i++){var a=~~(360/t.lines*i+t.rotate),s=Ce(document.createElement("div"),{position:"absolute",top:-t.width/2+"px",width:t.length+t.width+"px",height:t.width+"px",background:xe(t.fadeColor,i),borderRadius:n,transformOrigin:"left",transform:"rotate("+a+"deg) translateX("+t.radius+"px)"}),l=i*t.direction/t.lines/t.speed;l-=1/t.speed;var u=Ce(document.createElement("div"),{width:"100%",height:"100%",background:xe(t.color,i),borderRadius:n,boxShadow:Ee(o,a),animation:1/t.speed+"s linear "+l+"s infinite "+t.animation});s.appendChild(u),e.appendChild(s)}}(this.el,this.opts),this},e.prototype.stop=function(){return this.el&&("undefined"!=typeof requestAnimationFrame?cancelAnimationFrame(this.animateId):clearTimeout(this.animateId),this.el.parentNode&&this.el.parentNode.removeChild(this.el),this.el=void 0),this},e}();function Ce(e,t){for(var n in t)e.style[n]=t[n];return e}function xe(e,t){return"string"==typeof e?e:e[t%e.length]}function Ee(e,t){for(var n=[],r=0,o=e;r<o.length;r++){var i=o[r],a=Se(i.x,i.y,t);n.push(i.prefix+a[0]+i.xUnits+" "+a[1]+i.yUnits+i.end)}return n.join(", ")}function Se(e,t,n){var r=n*Math.PI/180,o=Math.sin(r),i=Math.cos(r);return[Math.round(1e3*(e*i+t*o))/1e3,Math.round(1e3*(-e*o+t*i))/1e3]}function _e(e){if(void 0!==e){if(e.classList.contains("ladda-button")||e.classList.add("ladda-button"),e.hasAttribute("data-style")||e.setAttribute("data-style","expand-right"),!e.querySelector(".ladda-label")){var t=document.createElement("span");t.className="ladda-label",n=e,r=t,(o=document.createRange()).selectNodeContents(n),o.surroundContents(r),n.appendChild(r)}var n,r,o,i,a,s=e.querySelector(".ladda-spinner");s||((s=document.createElement("span")).className="ladda-spinner"),e.appendChild(s);var l={start:function(){return i||(i=function(e){var t,n,r=e.offsetHeight;0===r&&(r=parseFloat(window.getComputedStyle(e).height));r>32&&(r*=.8);e.hasAttribute("data-spinner-size")&&(r=parseInt(e.getAttribute("data-spinner-size"),10));e.hasAttribute("data-spinner-color")&&(t=e.getAttribute("data-spinner-color"));e.hasAttribute("data-spinner-lines")&&(n=parseInt(e.getAttribute("data-spinner-lines"),10));var o=.2*r;return new ke({color:t||"#fff",lines:n||12,radius:o,length:.6*o,width:o<7?2:3,animation:"ladda-spinner-line-fade",zIndex:"auto",top:"auto",left:"auto",className:""})}(e)),e.disabled=!0,e.setAttribute("data-loading",""),clearTimeout(a),i.spin(s),this.setProgress(0),this},startAfter:function(e){return clearTimeout(a),a=setTimeout((function(){l.start()}),e),this},stop:function(){return l.isLoading()&&(e.disabled=!1,e.removeAttribute("data-loading")),clearTimeout(a),i&&(a=setTimeout((function(){i.stop()}),1e3)),this},toggle:function(){return this.isLoading()?this.stop():this.start()},setProgress:function(t){t=Math.max(Math.min(t,1),0);var n=e.querySelector(".ladda-progress");0===t&&n&&n.parentNode?n.parentNode.removeChild(n):(n||((n=document.createElement("div")).className="ladda-progress",e.appendChild(n)),n.style.width=(t||0)*e.offsetWidth+"px")},isLoading:function(){return e.hasAttribute("data-loading")},remove:function(){clearTimeout(a),e.disabled=!1,e.removeAttribute("data-loading"),i&&(i.stop(),i=null)}};return l}console.warn("Ladda button target must be defined.")}class Oe extends React.Component{constructor(e,t){super(e,t)}render(){return null}componentWillReceiveProps(e,t){if(void 0!==this._propertiesToMonitor)for(let t of this._propertiesToMonitor)void 0!==e[t]&&(void 0!==this.props[t]&&e[t]==this.props[t]||this[t+"Changing"](e[t],e))}RegisterMethodForChangingEvent(e){this._propertiesToMonitor=[],this._propertiesToMonitor.push(e.replace("Changing",""))}componentDidMount(){if(void 0!==this._propertiesToMonitor)for(let e of this._propertiesToMonitor)void 0!==this.props[e]&&this[e+"Changing"](this.props[e],this.props)}}Oe.defaultProps={};var Te="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Re(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Ae(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})})),t}function Ne(e){var t={exports:{}};return e(t,t.exports),t.exports}var De=Ne((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="save",r=[],o="f0c7",i="M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z";t.definition={prefix:"fas",iconName:n,icon:[448,512,r,o,i]},t.faSave=t.definition,t.prefix="fas",t.iconName=n,t.width=448,t.height=512,t.ligatures=r,t.unicode=o,t.svgPathData=i}));function Pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pe(n,!0).forEach((function(t){babelHelpers.defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pe(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class Ie extends Oe{constructor(e,t){super(e,t)}componentWillReceiveProps(e,t){this.props.IsBusy!=e.IsBusy&&this.IsBusyChanging(e.IsBusy,null)}render(){var e;return React.createElement("div",{style:Me({display:"inline-block"},this.props.style)},this.props.AddLabelMargin&&React.createElement("label",{style:{marginBottom:5,display:"block"}}," "),React.createElement("button",{"data-spinner-color":this.props.SpinnerColor,disabled:this.props.disabled,style:Me({display:"inline-flex",alignItems:"center"},this.props.ButtonStyles),onClick:()=>!this.props.IsBusy&&this.props.OnClick(),ref:e=>this.button=e,"data-style":"expand-right",className:"rnbtn save ladda-button "+this.props.className},React.createElement("span",{style:{display:"flex",alignItems:"center",margin:"1px 10px"}},this.props.Icon&&React.createElement(React.Fragment,null,"string"==typeof this.props.Icon||null!=(null===(e=this.props.Icon)||void 0===e?void 0:e.icon)?React.createElement(t.FontAwesomeIcon,{style:{marginRight:5},className:"icon",icon:this.props.Icon}):React.createElement("span",{style:{marginRight:5,verticalAlign:"middle",display:"flex"}},this.props.Icon)),React.createElement("span",{style:{lineHeight:"normal",fontSize:"normal"}},this.props.children))))}componentDidMount(){this.laddaInstance=_e(this.button),super.componentDidMount()}IsBusyChanging(e,t){e?this.laddaInstance.start():this.laddaInstance.stop()}}Ie.defaultProps={IsBusy:!1,Icon:De.faSave,AddLabelMargin:!1,className:"rnbtn-success",disabled:!1,SpinnerColor:null};var Fe=Ne((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=[],r="f013",o="M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z";t.definition={prefix:"fas",iconName:"cog",icon:[512,512,n,r,o]},t.faCog=t.definition,t.prefix="fas",t.iconName="cog",t.width=512,t.height=512,t.ligatures=n,t.unicode=r,t.svgPathData=o})),Le=Ne((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="search",r=[],o="f002",i="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z";t.definition={prefix:"fas",iconName:n,icon:[512,512,r,o,i]},t.faSearch=t.definition,t.prefix="fas",t.iconName=n,t.width=512,t.height=512,t.ligatures=r,t.unicode=o,t.svgPathData=i})),Be=Ne((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="times",r=[],o="f00d",i="M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z";t.definition={prefix:"fas",iconName:n,icon:[352,512,r,o,i]},t.faTimes=t.definition,t.prefix="fas",t.iconName=n,t.width=352,t.height=512,t.ligatures=r,t.unicode=o,t.svgPathData=i}));class je{static ExecuteMethodPropIfDefined(e,t){void 0!==e&&e(t)}static GetPropertyValue(e,t,n){return void 0!==e[t]?e[t]:n}}function ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ze(n,!0).forEach((function(t){babelHelpers.defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ze(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class Ue extends Oe{constructor(e,t){super(e,t)}componentWillReceiveProps(e,t){this.props.IsBusy!=e.IsBusy&&this.IsBusyChanging(e.IsBusy,null)}render(){var e;return React.createElement("div",{style:Ve({display:"inline-block"},this.props.style)},this.props.AddLabelMargin&&React.createElement("label",{style:{marginBottom:5,display:"block"}}," "),React.createElement("button",{"data-spinner-color":this.props.SpinnerColor,disabled:this.props.disabled,style:Ve({display:"inline-flex",alignItems:"center"},this.props.ButtonStyles),onClick:()=>!this.props.IsBusy&&this.props.OnClick(),ref:e=>this.button=e,"data-style":"expand-right",className:"rnbtn save ladda-button "+this.props.className},React.createElement("span",{style:{display:"flex",alignItems:"center",margin:"1px 10px"}},this.props.Icon&&React.createElement(React.Fragment,null,"string"==typeof this.props.Icon||null!=(null===(e=this.props.Icon)||void 0===e?void 0:e.icon)?React.createElement(t.FontAwesomeIcon,{style:{marginRight:5},className:"icon",icon:this.props.Icon}):React.createElement("span",{style:{marginRight:5,verticalAlign:"middle",display:"flex"}},this.props.Icon)),React.createElement("span",{style:{lineHeight:"normal",fontSize:"normal"}},this.props.children))))}componentDidMount(){this.laddaInstance=_e(this.button),super.componentDidMount()}IsBusyChanging(e,t){e?this.laddaInstance.start():this.laddaInstance.stop()}}Ue.defaultProps={IsBusy:!1,Icon:De.faSave,AddLabelMargin:!1,className:"rnbtn-success",disabled:!1,SpinnerColor:null};var He=Ne((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="check",r=[],o="f00c",i="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z";t.definition={prefix:"fas",iconName:n,icon:[512,512,r,o,i]},t.faCheck=t.definition,t.prefix="fas",t.iconName=n,t.width=512,t.height=512,t.ligatures=r,t.unicode=o,t.svgPathData=i}));class Ge extends React.Component{constructor(e,t){super(e,t),this.state={}}render(){return React.createElement("div",{className:"rnFooter",style:{display:"flex",justifyContent:"flex-end"}},this.GetFooterArea())}GetFooterArea(){return null==this.props.FooterArea?React.createElement(React.Fragment,null,this.props.EnableCancel&&React.createElement("button",{style:{display:"flex",alignItems:"center",padding:"8px 10px"},onClick:()=>je.ExecuteMethodPropIfDefined(this.props.OnCancel),className:"rnbtn rnbtn-danger"},this.props.CancelButtonIcon," ",React.createElement("span",{style:{marginLeft:null!=this.props.CancelButtonIcon?5:0,lineHeight:"1em"}},this.props.CancelButtonText)),this.props.EnableApply&&React.createElement(Ue,{IsBusy:this.props.IsBusy,Icon:this.props.ApplyButtonIcon,OnClick:()=>je.ExecuteMethodPropIfDefined(this.props.OnApply),className:"rnbtn rnbtn-success"},this.props.ApplyButtonText)):this.props.FooterArea}}Ge.defaultProps={CancelButtonText:"Cancel",CancelButtonIcon:React.createElement(t.FontAwesomeIcon,{icon:Be.faTimes}),ApplyButtonText:"Apply",ApplyButtonIcon:React.createElement(t.FontAwesomeIcon,{icon:He.faCheck}),IsBusy:!1};class We{static ExecuteMethodPropIfDefined(e,t){void 0!==e&&e(t)}static GetPropertyValue(e,t,n){return void 0!==e[t]?e[t]:n}}class qe extends React.Component{constructor(e){super(e),this.state={}}render(){return React.createElement("div",{className:"rnHeader",style:{position:"relative"}},React.createElement("div",{style:{display:"flex",alignItems:"center"}},React.createElement("span",{style:{fontSize:20}},this.props.Icon),React.createElement("h2",{style:{marginLeft:5,marginTop:0,marginRight:null!=this.props.Icon?3:0,marginBottom:0}},this.props.Title)),React.createElement("div",{className:"rnCloseIcon",onClick:()=>We.ExecuteMethodPropIfDefined(this.props.onClick)},React.createElement(t.FontAwesomeIcon,{style:{fontSize:18},icon:Be.faTimes})))}}function Ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ye(n,!0).forEach((function(t){babelHelpers.defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ye(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}qe.defaultProps={Title:"",Icon:null};class $e extends React.Component{constructor(e){super(e),this.state={MaxHeight:this.GetMaxHeight()},this.UpdateDimension=this.UpdateDimension.bind(this)}componentDidMount(){window.addEventListener("resize",this.UpdateDimension)}componentWillUnmount(){window.removeEventListener("resize",this.UpdateDimension)}UpdateDimension(){this.setState({MaxHeight:this.GetMaxHeight()})}render(){return React.createElement("div",{className:"rnContent",style:Ke({maxHeight:this.state.MaxHeight,overflowY:"auto"},this.props.style)},this.props.children)}GetMaxHeight(){return.7*("CSS1Compat"===document.compatMode?document.documentElement:document.body).clientHeight}}function Xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xe(n,!0).forEach((function(t){babelHelpers.defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xe(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}$e.defaultProps={};class Qe extends React.Component{constructor(e,t){super(e,t),this.state={IsOpen:this.props.IsOpen,Status:this.props.IsOpen?"Opening":"Rest"},null==window.RNOpenDialogsCount&&(window.RNOpenDialogsCount=0),this.state.IsOpen&&window.RNOpenDialogsCount++}componentWillReceiveProps(e,t){e.IsOpen!=this.state.IsOpen&&(e.IsOpen?window.RNOpenDialogsCount++:window.RNOpenDialogsCount--,this.setState({IsOpen:e.IsOpen,Status:e.IsOpen?"Opening":"Closing"}),e.IsOpen||We.ExecuteMethodPropIfDefined(this.props.OnClose))}render(){if(!this.props.IsOpen&&"Rest"==this.state.Status)return null;let e={},t={},r={},o={};"Opening"==this.state.Status&&(e={opacity:0},t={opacity:1},r={transform:"translateY(-200px) translateX(-50%)",opacity:0},o={transform:"translateY(40px) translateX(-50%)",opacity:1}),"Closing"==this.state.Status&&(t={opacity:0},o={transform:"translateY(-200px) translateX(-50%)",opacity:0});let i=React.createElement($e,{style:this.props.ContentStyles},this.props.children),a=this.CreateHeader(),s=this.CreateFooter();return React.createElement(React.Fragment,null,React.createElement(n.Spring,{config:{precision:.09},immediate:"Rest"==this.state.Status,from:e,to:t,onRest:()=>{"Closing"==this.state.Status&&(We.ExecuteMethodPropIfDefined(this.props.OnClose),this.setState({Status:"Rest"}),We.ExecuteMethodPropIfDefined(this.props.AfterOnClose))}},(e=>React.createElement("div",{style:Je({},e,{display:this.state.IsOpen||"Rest"!=this.state.Status?"block":"none",zIndex:Qe.InitialZIndex+Math.max(window.RNOpenDialogsCount,1)}),className:"rnBackDrop rnShow",onClick:()=>this.BackDropClicked()}))),React.createElement(n.Spring,{config:{precision:.09},immediate:"Rest"==this.state.Status,from:r,to:o},(e=>React.createElement("div",{className:"rnModal rednao "+this.props.class,style:Je({},this.props.Styles,{},e,{display:this.state.IsOpen||"Rest"!=this.state.Status?"block":"none",zIndex:1+Qe.InitialZIndex+Math.max(window.RNOpenDialogsCount,1)})},React.createElement(React.Fragment,null,a,i,s)))))}CreateFooter(){return this.props.ShowFooter?React.createElement(Ge,{FooterArea:this.props.FooterArea,IsBusy:this.props.IsBusy,EnableApply:this.props.EnableApply,EnableCancel:this.props.EnableCancel,OnCancel:()=>this.Close(),OnApply:this.props.OnApply,ApplyButtonIcon:this.props.ApplyIcon,ApplyButtonText:this.props.ApplyTitle,CancelButtonIcon:this.props.CancelIcon,CancelButtonText:this.props.CancelTitle}):null}Close(){!1!==(!this.props.OnBeforeCancel||this.props.OnBeforeCancel())&&(window.RNOpenDialogsCount--,window.RNOpenDialogsCount=Math.max(0,window.RNOpenDialogsCount),0==window.RNOpenDialogsCount&&(document.body.style.overflow=""),this.setState({IsOpen:!1,Status:"Closing"}))}CreateHeader(){return this.props.ShowHeader?React.createElement(qe,{Icon:this.props.Icon,Title:this.props.Title,onClick:()=>{this.Close()}}):null}BackDropClicked(){this.props.CloseOnClickingOutside&&this.Close()}}Qe.InitialZIndex=1e5,Qe.defaultProps={IsOpen:!1,class:""};class Ze extends React.Component{constructor(e,t){super(e,t),this.state={}}render(){if(this.Destroyed)return null;let e=React.createElement(Qe,this.props);return this.props.IsDynamic?e:ReactDOM.createPortal(e,document.body)}static Show(e){return new Promise((t=>{let n,r=document.createElement("div");document.body.style.overflow="hidden",document.body.appendChild(r);let o=!1,i=React.cloneElement(e,{IsOpen:!0,IsDynamic:!0,ref:i=>{null!=i?(void 0===i.OnDispose&&console.warn("Dialog does not implement interface DynamicDialog, it can not be used dynamically"),n=i,n.OnDispose=i=>{je.ExecuteMethodPropIfDefined(e.props.OnClose),0==window.RNOpenDialogsCount&&(document.body.style.overflow=""),document.body.removeChild(r),o||(t(null),o=!0),n=null},n._sendResult=e=>{o||(t(e),o=!0)}):n=null}});ReactDOM.render(i,r)}))}}Ze.defaultProps={IsDynamic:!1,EnableCancel:!0,IsDestroyed:!1,ShowHeader:!0,CloseOnClickingOutside:!1,ShowFooter:!0},Ze.Footer=Ge;class et extends React.Component{constructor(...e){super(...e),this.OnDispose=null,this._sendResult=null}render(){let e=this.GetAdditionalProperties();return React.createElement(Ze,babelHelpers.extends({IsBusy:e.IsBusy||this.state.IsBusy,OnClose:()=>this.SendResult(null),AfterOnClose:()=>{this.OnDispose()},IsOpen:this.state.IsOpen},e),this.SubRenderer())}SendResult(e){this._sendResult(e),this.setState({IsOpen:!1})}}class tt extends React.Component{constructor(e){super(e),this.state={}}render(){return React.createElement("h2",null,"a")}}function nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nt(n,!0).forEach((function(t){babelHelpers.defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}tt.defaultProps={};class ot extends React.Component{constructor(e){super(e);let t=React.Children.toArray(this.props.children),n=[];for(let e of t)n.push({Item:e,Container:null});let r=null;r=""!=this.props.TabToOpen?n.find((e=>e.Item.props.Id==this.props.TabToOpen)):n.length>0?n[0]:null,this.state={Status:"resting",Items:n,SelectedItem:r,NextItem:null}}componentWillReceiveProps(e,t){if(e.children!=this.props.children){let t=React.Children.toArray(e.children),n=[];for(let e of t)n.push({Item:e,Container:null});let r=n.find((t=>t.Item.props.Id==e.TabToOpen));e.TabToOpen!=this.props.TabToOpen?this.setState({Items:n,Status:"switching",NextItem:r},(()=>{this.setState({Status:"showing"})})):this.setState({Items:n,SelectedItem:r})}}OnRest(){"showing"==this.state.Status&&this.setState({NextItem:null,Status:"resting",SelectedItem:this.state.NextItem})}render(){var e;let t={width:"100%",height:"100%"},r={width:"100%",height:"100%"},o=!1,i="auto";switch(this.state.Status){case"resting":t={},r.height="auto",o=!0;break;case"switching":i="hidden",o=!0,r.height=this.state.SelectedItem.Container?this.state.SelectedItem.Container.offsetHeight+1:"auto";break;case"showing":null!=(null===(e=this.state.NextItem)||void 0===e?void 0:e.Container)?(null!=this.Content&&null!=this.ListContainer&&(i="hidden"),r.height=this.state.NextItem.Container.offsetHeight+1):r.height="auto"}let a=this.state.SelectedItem;return"showing"==this.state.Status&&(a=this.state.NextItem),React.createElement("div",{ref:e=>this.Content=e,className:"rnTabs "+this.props.className,style:this.props.styles},React.createElement("ul",{style:rt({margin:0,padding:0},this.props.TabStyles),ref:e=>this.ListContainer=e},this.state.Items.map(((e,t)=>React.createElement("li",{key:t,className:e.Item.props.Id+" rnTabItem "+(a==e?"rnActive":""),onClick:()=>this.SwitchVisibleItem(e)},React.createElement(React.Fragment,null,null!=e.Item.props.Icon&&React.createElement("div",{style:{display:"inline-block",marginRight:2}},e.Item.props.Icon),e.Item.props.Title))))),React.createElement(n.Spring,{onRest:e=>this.OnRest(),ref:e=>this.spring=e,config:{precision:.09},immediate:o,from:t,to:r,onFrame:e=>{this.OnFrame(e.height,r.height)}},((e,t)=>React.createElement("div",{ref:e=>t(e),className:"rnTabContent",style:rt({maxHeight:0==this.props.OccupyAvailableSpace||null==this.ListContainer?"none":`calc(100% - ${this.ListContainer.getBoundingClientRect().height}px)`},e,{position:"relative",borderTopLeftRadius:this.state.Items[0]==this.state.SelectedItem?0:5,overflowY:i})},this.state.Items.map(((e,t)=>{let r={},o={opacity:0};return this.state.SelectedItem==e&&(r.display="block",o.opacity=1,"showing"==this.state.Status&&(r.position="absolute",o.opacity=0)),this.state.NextItem==e&&(r.display="block",r.position="absolute",r.top=0,r.left=0,r.height="auto","showing"==this.state.Status&&(o.opacity=1)),React.createElement(n.Spring,{config:{precision:.09},key:t,immediate:"showing"!=this.state.Status,from:{width:"100%"},to:o},((t,n)=>React.createElement("div",{style:rt({},t,{padding:10},e.Item.props.style,{width:"100%",height:"100%",display:"none"},r),ref:t=>{n(t),e.Container=t}},e.Item.props.children)))}))))))}SwitchVisibleItem(e){this.props.TabToOpen&&this.props.TabToOpenChanged(e.Item.props.Id)}TabsToOpenChanged(e){let t=this.state.Items.find((t=>t.Item.props.Id==e));t||(t=this.state.Items.length>0?this.state.Items[0]:null),this.setState({Status:"switching",NextItem:t},(()=>{this.setState({Status:"showing"})}))}CalculateOverflowToUse(){return"switching"==this.state.Status?"hidden":"showing"==this.state.Status&&this.props.disableScrollYOnAnimation?"showing":"auto"}OnFrame(e,t){(e=Math.round(e))<(t=Math.round(t))?e>=t-5&&this.spring.stop():e<=t+5&&this.spring.stop()}}function it(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function at(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function st(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){at(e,t,n[t])}))}return e}function lt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}ot.defaultProps={disableScrollYOnAnimation:!0,ContentHeight:"auto",OccupyAvailableSpace:!1,className:"",TabToOpen:""},ot.Item=tt;var ut=function(){},ct={},dt={},pt={mark:ut,measure:ut};try{"undefined"!=typeof window&&(ct=window),"undefined"!=typeof document&&(dt=document),"undefined"!=typeof MutationObserver&&MutationObserver,"undefined"!=typeof performance&&(pt=performance)}catch(e){}var ft=(ct.navigator||{}).userAgent,ht=void 0===ft?"":ft,mt=ct,gt=dt,vt=pt;mt.document;var yt=!!gt.documentElement&&!!gt.head&&"function"==typeof gt.addEventListener&&"function"==typeof gt.createElement;~ht.indexOf("MSIE")||ht.indexOf("Trident/");var bt="svg-inline--fa";!function(){try{}catch(e){return!1}}();var wt=mt.FontAwesomeConfig||{};if(gt&&"function"==typeof gt.querySelector){[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach((function(e){var t=lt(e,2),n=t[0],r=t[1],o=function(e){return""===e||"false"!==e&&("true"===e||e)}(function(e){var t=gt.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(n));null!=o&&(wt[r]=o)}))}var kt=st({},{familyPrefix:"fa",replacementClass:bt,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},wt);kt.autoReplaceSvg||(kt.observeMutations=!1);var Ct=st({},kt);mt.FontAwesomeConfig=Ct;var xt=mt||{};xt.___FONT_AWESOME___||(xt.___FONT_AWESOME___={}),xt.___FONT_AWESOME___.styles||(xt.___FONT_AWESOME___.styles={}),xt.___FONT_AWESOME___.hooks||(xt.___FONT_AWESOME___.hooks={}),xt.___FONT_AWESOME___.shims||(xt.___FONT_AWESOME___.shims=[]);var Et=xt.___FONT_AWESOME___,St=[];yt&&((gt.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(gt.readyState)||gt.addEventListener("DOMContentLoaded",(function e(){gt.removeEventListener("DOMContentLoaded",e),1,St.map((function(e){return e()}))}))),"undefined"!=typeof global&&void 0!==global.process&&global.process.emit,"undefined"==typeof setImmediate?setTimeout:setImmediate;var _t={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function Ot(){for(var e=12,t="";e-- >0;)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return t}function Tt(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Rt(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,": ").concat(e[n],";")}),"")}function At(e){return e.size!==_t.size||e.x!==_t.x||e.y!==_t.y||e.rotate!==_t.rotate||e.flipX||e.flipY}function Nt(e){var t=e.transform,n=e.containerWidth,r=e.iconWidth,o={transform:"translate(".concat(n/2," 256)")},i="translate(".concat(32*t.x,", ").concat(32*t.y,") "),a="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),s="rotate(".concat(t.rotate," 0 0)");return{outer:o,inner:{transform:"".concat(i," ").concat(a," ").concat(s)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}var Dt={x:0,y:0,width:"100%",height:"100%"};function Pt(e){var t=e.icons,n=t.main,r=t.mask,o=e.prefix,i=e.iconName,a=e.transform,s=e.symbol,l=e.title,u=e.extra,c=e.watchable,d=void 0!==c&&c,p=r.found?r:n,f=p.width,h=p.height,m="fa-w-".concat(Math.ceil(f/h*16)),g=[Ct.replacementClass,i?"".concat(Ct.familyPrefix,"-").concat(i):"",m].filter((function(e){return-1===u.classes.indexOf(e)})).concat(u.classes).join(" "),v={children:[],attributes:st({},u.attributes,{"data-prefix":o,"data-icon":i,class:g,role:u.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(f," ").concat(h)})};d&&(v.attributes["data-fa-i2svg"]=""),l&&v.children.push({tag:"title",attributes:{id:v.attributes["aria-labelledby"]||"title-".concat(Ot())},children:[l]});var y=st({},v,{prefix:o,iconName:i,main:n,mask:r,transform:a,symbol:s,styles:u.styles}),b=r.found&&n.found?function(e){var t=e.children,n=e.attributes,r=e.main,o=e.mask,i=e.transform,a=r.width,s=r.icon,l=o.width,u=o.icon,c=Nt({transform:i,containerWidth:l,iconWidth:a}),d={tag:"rect",attributes:st({},Dt,{fill:"white"})},p={tag:"g",attributes:st({},c.inner),children:[{tag:"path",attributes:st({},s.attributes,c.path,{fill:"black"})}]},f={tag:"g",attributes:st({},c.outer),children:[p]},h="mask-".concat(Ot()),m="clip-".concat(Ot()),g={tag:"defs",children:[{tag:"clipPath",attributes:{id:m},children:[u]},{tag:"mask",attributes:st({},Dt,{id:h,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[d,f]}]};return t.push(g,{tag:"rect",attributes:st({fill:"currentColor","clip-path":"url(#".concat(m,")"),mask:"url(#".concat(h,")")},Dt)}),{children:t,attributes:n}}(y):function(e){var t=e.children,n=e.attributes,r=e.main,o=e.transform,i=Rt(e.styles);if(i.length>0&&(n.style=i),At(o)){var a=Nt({transform:o,containerWidth:r.width,iconWidth:r.width});t.push({tag:"g",attributes:st({},a.outer),children:[{tag:"g",attributes:st({},a.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:st({},r.icon.attributes,a.path)}]}]})}else t.push(r.icon);return{children:t,attributes:n}}(y),w=b.children,k=b.attributes;return y.children=w,y.attributes=k,s?function(e){var t=e.prefix,n=e.iconName,r=e.children,o=e.attributes,i=e.symbol;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:st({},o,{id:!0===i?"".concat(t,"-").concat(Ct.familyPrefix,"-").concat(n):i}),children:r}]}]}(y):function(e){var t=e.children,n=e.main,r=e.mask,o=e.attributes,i=e.styles,a=e.transform;if(At(a)&&n.found&&!r.found){var s={x:n.width/n.height/2,y:.5};o.style=Rt(st({},i,{"transform-origin":"".concat(s.x+a.x/16,"em ").concat(s.y+a.y/16,"em")}))}return[{tag:"svg",attributes:o,children:t}]}(y)}Ct.measurePerformance&&vt&&vt.mark&&vt.measure;var Mt=function(e,t,n,r){var o,i,a,s=Object.keys(e),l=s.length,u=void 0!==r?function(e,t){return function(n,r,o,i){return e.call(t,n,r,o,i)}}(t,r):t;for(void 0===n?(o=1,a=e[s[0]]):(o=0,a=n);o<l;o++)a=u(a,e[i=s[o]],i,e);return a};function It(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.skipHooks,o=void 0!==r&&r,i=Object.keys(t).reduce((function(e,n){var r=t[n];return!!r.icon?e[r.iconName]=r.icon:e[n]=r,e}),{});"function"!=typeof Et.hooks.addPack||o?Et.styles[e]=st({},Et.styles[e]||{},i):Et.hooks.addPack(e,i),"fas"===e&&It("fa",t)}var Ft=Et.styles,Lt=Et.shims,Bt=function(){var e=function(e){return Mt(Ft,(function(t,n,r){return t[r]=Mt(n,e,{}),t}),{})};e((function(e,t,n){return t[3]&&(e[t[3]]=n),e})),e((function(e,t,n){var r=t[2];return e[n]=n,r.forEach((function(t){e[t]=n})),e}));var t="far"in Ft;Mt(Lt,(function(e,n){var r=n[0],o=n[1],i=n[2];return"far"!==o||t||(o="fas"),e[r]={prefix:o,iconName:i},e}),{})};function jt(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}function zt(e){var t=e.tag,n=e.attributes,r=void 0===n?{}:n,o=e.children,i=void 0===o?[]:o;return"string"==typeof e?Tt(e):"<".concat(t," ").concat(function(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,'="').concat(Tt(e[n]),'" ')}),"").trim()}(r),">").concat(i.map(zt).join(""),"</").concat(t,">")}Bt(),Et.styles;function Vt(e){this.name="MissingIcon",this.message=e||"Icon unavailable",this.stack=(new Error).stack}Vt.prototype=Object.create(Error.prototype),Vt.prototype.constructor=Vt;var Ut={fill:"currentColor"},Ht={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};st({},Ut,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"});var Gt=st({},Ht,{attributeName:"opacity"});st({},Ut,{cx:"256",cy:"364",r:"28"}),st({},Ht,{attributeName:"r",values:"28;14;28;28;14;28;"}),st({},Gt,{values:"1;0;1;1;0;1;"}),st({},Ut,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),st({},Gt,{values:"1;0;0;0;0;1;"}),st({},Ut,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),st({},Gt,{values:"0;0;1;1;0;0;"}),Et.styles,Et.styles;function Wt(e){return{found:!0,width:e[0],height:e[1],icon:{tag:"path",attributes:{fill:"currentColor",d:e.slice(4)[0]}}}}function qt(){Ct.autoAddCss&&!Jt&&(!function(e){if(e&&yt){var t=gt.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var n=gt.head.childNodes,r=null,o=n.length-1;o>-1;o--){var i=n[o],a=(i.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(a)>-1&&(r=i)}gt.head.insertBefore(t,r)}}(function(){var e=bt,t=Ct.familyPrefix,n=Ct.replacementClass,r='svg:not(:root).svg-inline--fa {\n  overflow: visible;\n}\n\n.svg-inline--fa {\n  display: inline-block;\n  font-size: inherit;\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.225em;\n}\n.svg-inline--fa.fa-w-1 {\n  width: 0.0625em;\n}\n.svg-inline--fa.fa-w-2 {\n  width: 0.125em;\n}\n.svg-inline--fa.fa-w-3 {\n  width: 0.1875em;\n}\n.svg-inline--fa.fa-w-4 {\n  width: 0.25em;\n}\n.svg-inline--fa.fa-w-5 {\n  width: 0.3125em;\n}\n.svg-inline--fa.fa-w-6 {\n  width: 0.375em;\n}\n.svg-inline--fa.fa-w-7 {\n  width: 0.4375em;\n}\n.svg-inline--fa.fa-w-8 {\n  width: 0.5em;\n}\n.svg-inline--fa.fa-w-9 {\n  width: 0.5625em;\n}\n.svg-inline--fa.fa-w-10 {\n  width: 0.625em;\n}\n.svg-inline--fa.fa-w-11 {\n  width: 0.6875em;\n}\n.svg-inline--fa.fa-w-12 {\n  width: 0.75em;\n}\n.svg-inline--fa.fa-w-13 {\n  width: 0.8125em;\n}\n.svg-inline--fa.fa-w-14 {\n  width: 0.875em;\n}\n.svg-inline--fa.fa-w-15 {\n  width: 0.9375em;\n}\n.svg-inline--fa.fa-w-16 {\n  width: 1em;\n}\n.svg-inline--fa.fa-w-17 {\n  width: 1.0625em;\n}\n.svg-inline--fa.fa-w-18 {\n  width: 1.125em;\n}\n.svg-inline--fa.fa-w-19 {\n  width: 1.1875em;\n}\n.svg-inline--fa.fa-w-20 {\n  width: 1.25em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-border {\n  height: 1.5em;\n}\n.svg-inline--fa.fa-li {\n  width: 2em;\n}\n.svg-inline--fa.fa-fw {\n  width: 1.25em;\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: #ff253a;\n  border-radius: 1em;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  color: #fff;\n  height: 1.5em;\n  line-height: 1;\n  max-width: 5em;\n  min-width: 1.5em;\n  overflow: hidden;\n  padding: 0.25em;\n  right: 0;\n  text-overflow: ellipsis;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: 0;\n  right: 0;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: 0;\n  left: 0;\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  right: 0;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: 0;\n  right: auto;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-lg {\n  font-size: 1.3333333333em;\n  line-height: 0.75em;\n  vertical-align: -0.0667em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: 2.5em;\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: -2em;\n  position: absolute;\n  text-align: center;\n  width: 2em;\n  line-height: inherit;\n}\n\n.fa-border {\n  border: solid 0.08em #eee;\n  border-radius: 0.1em;\n  padding: 0.2em 0.25em 0.15em;\n}\n\n.fa-pull-left {\n  float: left;\n}\n\n.fa-pull-right {\n  float: right;\n}\n\n.fa.fa-pull-left,\n.fas.fa-pull-left,\n.far.fa-pull-left,\n.fal.fa-pull-left,\n.fab.fa-pull-left {\n  margin-right: 0.3em;\n}\n.fa.fa-pull-right,\n.fas.fa-pull-right,\n.far.fa-pull-right,\n.fal.fa-pull-right,\n.fab.fa-pull-right {\n  margin-left: 0.3em;\n}\n\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n          animation: fa-spin 2s infinite linear;\n}\n\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n          animation: fa-spin 1s infinite steps(8);\n}\n\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical,\n:root .fa-flip-both {\n  -webkit-filter: none;\n          filter: none;\n}\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: #fff;\n}\n\n.sr-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n.sr-only-focusable:active, .sr-only-focusable:focus {\n  clip: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  position: static;\n  width: auto;\n}';if("fa"!==t||n!==e){var o=new RegExp("\\.".concat("fa","\\-"),"g"),i=new RegExp("\\.".concat(e),"g");r=r.replace(o,".".concat(t,"-")).replace(i,".".concat(n))}return r}()),Jt=!0)}function Yt(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map((function(e){return zt(e)}))}}),Object.defineProperty(e,"node",{get:function(){if(yt){var t=gt.createElement("div");return t.innerHTML=e.html,t.children}}}),e}function Kt(e){var t=e.prefix,n=void 0===t?"fa":t,r=e.iconName;if(r)return jt(Xt.definitions,n,r)||jt(Et.styles,n,r)}var $t,Xt=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.definitions={}}var t,n,r;return t=e,(n=[{key:"add",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=n.reduce(this._pullDefinitions,{});Object.keys(o).forEach((function(t){e.definitions[t]=st({},e.definitions[t]||{},o[t]),It(t,o[t]),Bt()}))}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,t){var n=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(n).map((function(t){var r=n[t],o=r.prefix,i=r.iconName,a=r.icon;e[o]||(e[o]={}),e[o][i]=a})),e}}])&&it(t.prototype,n),r&&it(t,r),e}()),Jt=!1,Qt=function(e){return function(e){var t={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e?e.toLowerCase().split(" ").reduce((function(e,t){var n=t.toLowerCase().split("-"),r=n[0],o=n.slice(1).join("-");if(r&&"h"===o)return e.flipX=!0,e;if(r&&"v"===o)return e.flipY=!0,e;if(o=parseFloat(o),isNaN(o))return e;switch(r){case"grow":e.size=e.size+o;break;case"shrink":e.size=e.size-o;break;case"left":e.x=e.x-o;break;case"right":e.x=e.x+o;break;case"up":e.y=e.y-o;break;case"down":e.y=e.y+o;break;case"rotate":e.rotate=e.rotate+o}return e}),t):t}(e)},Zt=($t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?_t:n,o=t.symbol,i=void 0!==o&&o,a=t.mask,s=void 0===a?null:a,l=t.title,u=void 0===l?null:l,c=t.classes,d=void 0===c?[]:c,p=t.attributes,f=void 0===p?{}:p,h=t.styles,m=void 0===h?{}:h;if(e){var g=e.prefix,v=e.iconName,y=e.icon;return Yt(st({type:"icon"},e),(function(){return qt(),Ct.autoA11y&&(u?f["aria-labelledby"]="".concat(Ct.replacementClass,"-title-").concat(Ot()):(f["aria-hidden"]="true",f.focusable="false")),Pt({icons:{main:Wt(y),mask:s?Wt(s.icon):{found:!1,width:null,height:null,icon:{}}},prefix:g,iconName:v,transform:st({},_t,r),symbol:i,title:u,extra:{attributes:f,styles:m,classes:d}})}))}},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(e||{}).icon?e:Kt(e||{}),r=t.mask;return r&&(r=(r||{}).icon?r:Kt(r||{})),$t(n,st({},t,{mask:r}))});function en(){}function tn(){}tn.resetWarningCache=en;var nn=Ne((function(e){e.exports=function(){function e(e,t,n,r,o,i){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==i){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:tn,resetWarningCache:en};return n.PropTypes=n,n}()}));function rn(e){return(rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function on(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function an(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){on(e,t,n[t])}))}return e}function sn(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function ln(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var un="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var cn,dn=(function(e){!function(t){var n=function(e,t,r){if(!l(t)||c(t)||d(t)||p(t)||s(t))return t;var o,i=0,a=0;if(u(t))for(o=[],a=t.length;i<a;i++)o.push(n(e,t[i],r));else for(var f in o={},t)Object.prototype.hasOwnProperty.call(t,f)&&(o[e(f,r)]=n(e,t[f],r));return o},r=function(e){return f(e)?e:(e=e.replace(/[\-_\s]+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))).substr(0,1).toLowerCase()+e.substr(1)},o=function(e){var t=r(e);return t.substr(0,1).toUpperCase()+t.substr(1)},i=function(e,t){return function(e,t){var n=(t=t||{}).separator||"_",r=t.split||/(?=[A-Z])/;return e.split(r).join(n)}(e,t).toLowerCase()},a=Object.prototype.toString,s=function(e){return"function"==typeof e},l=function(e){return e===Object(e)},u=function(e){return"[object Array]"==a.call(e)},c=function(e){return"[object Date]"==a.call(e)},d=function(e){return"[object RegExp]"==a.call(e)},p=function(e){return"[object Boolean]"==a.call(e)},f=function(e){return(e-=0)==e},h=function(e,t){var n=t&&"process"in t?t.process:t;return"function"!=typeof n?e:function(t,r){return n(t,e,r)}},m={camelize:r,decamelize:i,pascalize:o,depascalize:i,camelizeKeys:function(e,t){return n(h(r,t),e)},decamelizeKeys:function(e,t){return n(h(i,t),e,t)},pascalizeKeys:function(e,t){return n(h(o,t),e)},depascalizeKeys:function(){return this.decamelizeKeys.apply(this,arguments)}};e.exports?e.exports=m:t.humps=m}(un)}(cn={exports:{}},cn.exports),cn.exports);function pn(e){return e.split(";").map((function(e){return e.trim()})).filter((function(e){return e})).reduce((function(e,t){var n,r=t.indexOf(":"),o=dn.camelize(t.slice(0,r)),i=t.slice(r+1).trim();return o.startsWith("webkit")?e[(n=o,n.charAt(0).toUpperCase()+n.slice(1))]=i:e[o]=i,e}),{})}var fn=!1;try{fn=!0}catch(e){}function hn(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?on({},e,t):{}}function mn(e){return null===e?null:"object"===rn(e)&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"==typeof e?{prefix:"fas",iconName:e}:void 0}function gn(e){var t=e.icon,n=e.mask,r=e.symbol,o=e.className,i=e.title,a=mn(t),s=hn("classes",[].concat(ln(function(e){var t,n=(on(t={"fa-spin":e.spin,"fa-pulse":e.pulse,"fa-fw":e.fixedWidth,"fa-inverse":e.inverse,"fa-border":e.border,"fa-li":e.listItem,"fa-flip-horizontal":"horizontal"===e.flip||"both"===e.flip,"fa-flip-vertical":"vertical"===e.flip||"both"===e.flip},"fa-".concat(e.size),null!==e.size),on(t,"fa-rotate-".concat(e.rotation),null!==e.rotation),on(t,"fa-pull-".concat(e.pull),null!==e.pull),t);return Object.keys(n).map((function(e){return n[e]?e:null})).filter((function(e){return e}))}(e)),ln(o.split(" ")))),l=hn("transform","string"==typeof e.transform?Qt(e.transform):e.transform),u=hn("mask",mn(n)),c=Zt(a,an({},s,l,u,{symbol:r,title:i}));if(!c)return function(){var e;!fn&&console&&"function"==typeof console.error&&(e=console).error.apply(e,arguments)}("Could not find icon",a),null;var d=c.abstract,p={};return Object.keys(e).forEach((function(t){gn.defaultProps.hasOwnProperty(t)||(p[t]=e[t])})),vn(d[0],p)}gn.displayName="FontAwesomeIcon",gn.propTypes={border:nn.bool,className:nn.string,mask:nn.oneOfType([nn.object,nn.array,nn.string]),fixedWidth:nn.bool,inverse:nn.bool,flip:nn.oneOf(["horizontal","vertical","both"]),icon:nn.oneOfType([nn.object,nn.array,nn.string]),listItem:nn.bool,pull:nn.oneOf(["right","left"]),pulse:nn.bool,rotation:nn.oneOf([90,180,270]),size:nn.oneOf(["lg","xs","sm","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:nn.bool,symbol:nn.oneOfType([nn.bool,nn.string]),title:nn.string,transform:nn.oneOfType([nn.string,nn.object])},gn.defaultProps={border:!1,className:"",mask:null,fixedWidth:!1,inverse:!1,flip:null,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,symbol:!1,title:"",transform:null};var vn=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"==typeof n)return n;var o=(n.children||[]).map((function(n){return e(t,n)})),i=Object.keys(n.attributes||{}).reduce((function(e,t){var r=n.attributes[t];switch(t){case"class":e.attrs.className=r,delete n.attributes.class;break;case"style":e.attrs.style=pn(r);break;default:0===t.indexOf("aria-")||0===t.indexOf("data-")?e.attrs[t.toLowerCase()]=r:e.attrs[dn.camelize(t)]=r}return e}),{attrs:{}}),a=r.style,s=void 0===a?{}:a,l=sn(r,["style"]);return i.attrs.style=an({},i.attrs.style,s),t.apply(void 0,[n.tag,an({},i.attrs,l)].concat(ln(o)))}.bind(null,React.createElement);class yn{Initialize(e){return this.Condition=e,this.Condition.props.ConditionLineOptions.Comparison==r.ComparisonTypeEnum.None&&this.InitializeValues(),this}get DataSource(){return this.Condition.ConditionGroup.ConditionBuilder.props.DataSource}get ConditionField(){var e;return null===(e=this.DataSource.GetForm())||void 0===e?void 0:e.GetField(this.Condition.props.ConditionLineOptions.FieldId)}Render(){var e;let t=null===(e=this.DataSource.GetForm())||void 0===e?void 0:e.Fields.filter((e=>e.UseInConditions));if(null==t)return React.createElement("p",null,"Please select a form first");let n=this.Condition.props.ConditionLineOptions.FieldId+"_"+this.Condition.props.ConditionLineOptions.PathId;""==this.Condition.props.ConditionLineOptions.PathId&&(n="");let o=this.GetValueInput();return React.createElement("div",null,React.createElement("div",{className:"conditionLine",style:{display:"flex",alignItems:"flex-start",marginBottom:"5px",padding:5}},React.createElement("div",{style:{width:"30%"},className:"conditionColumn"},React.createElement("select",{value:n,style:{height:"auto",padding:0,width:"100%"},className:""==n&&this.ShouldShowErrors()?"rnInvalidCondition":"",onChange:e=>this.FieldChanged(e.target.value,e.target[e.target.selectedIndex].getAttribute("data-linetype").toString(),e.target[e.target.selectedIndex])},React.createElement("option",{"data-linetype":r.ConditionLineTypeEnum.None.toString(),id:""},RNTranslate("Select a field")),React.createElement("optgroup",{label:RNTranslate("Fields")},t.map((e=>e.GetDataSections("Filter").map(((t,n)=>React.createElement("option",{"data-path-id":t.PathId,"data-field-id":e.Id,"data-linetype":r.ConditionLineTypeEnum.Standard.toString(),key:t.Id+"_"+e.Id,value:e.Id+"_"+t.PathId},(n>0?"    ":"")+t.Label)))))))),React.createElement("div",{style:{width:null!=o?"20%":"calc(70% - 80px)"},className:"conditionColumn"},this.GetComparator(!1)),null!=o&&React.createElement("div",{style:{width:"calc(50% - 80px)"},className:"conditionColumn"},o),React.createElement("div",{style:{width:"80px"},className:"conditionColumn"},React.createElement("button",{onClick:e=>{e.preventDefault(),this.Condition.props.OnAddLine(this.Condition.props.ConditionLineOptions)},className:"rnbtn rnbtn-light",style:{padding:"1px 5px"}},RNTranslate("AND")),React.createElement("span",{className:"ConditionRemove",style:{lineHeight:"25px",verticalAlign:"middle",cursor:"pointer"},onClick:e=>{e.preventDefault(),this.Condition.props.OnRemoveLine(this.Condition.props.ConditionLineOptions)}},React.createElement(gn,{icon:Be.faTimes,style:{marginLeft:5}})))))}ShouldShowErrors(){return this.Condition.state.ShowValidations}FieldChanged(e,t,n){let i;if(this.Condition.props.ConditionLineOptions.PathId="",r.ConditionLineTypeEnum[t]==r.ConditionLineTypeEnum.Standard){var a;let e=n.getAttribute("data-field-id"),t=null===(a=this.DataSource.GetForm())||void 0===a?void 0:a.GetField(e);i=null==t?r.FieldTypeEnum.None:t.Type,this.Condition.props.ConditionLineOptions.FieldId=e,this.Condition.props.ConditionLineOptions.PathId=n.getAttribute("data-path-id"),t.Type==r.FieldTypeEnum.Multiple?this.Condition.props.ConditionLineOptions.Value=o.Sanitizer.SanitizeStringArray(this.Condition.props.ConditionLineOptions.Value):this.Condition.props.ConditionLineOptions.Value=o.Sanitizer.SanitizeString(this.Condition.props.ConditionLineOptions.Value)}r.ConditionLineTypeEnum[t]==r.ConditionLineTypeEnum.None&&(this.Condition.props.ConditionLineOptions.FieldId=""),this.Condition.props.ConditionLineOptions.Comparison=r.ComparisonTypeEnum.None,this.Condition.props.ConditionLineOptions.Type=r.ConditionLineTypeEnum[t],this.Condition.props.ConditionLineOptions.SubType=i,this.Condition.props.OnFieldChanged(),this.Condition.forceUpdate()}SanitizeValue(){this.Condition.props.ConditionLineOptions.Value=o.Sanitizer.SanitizeString(this.Condition.props.ConditionLineOptions.Value)}ValueIsValid(){return this.Condition.props.ConditionLineOptions.Comparison==r.ComparisonTypeEnum.IsEmpty||this.Condition.props.ConditionLineOptions.Comparison==r.ComparisonTypeEnum.IsNotEmpty||""!=o.Sanitizer.SanitizeString(this.Condition.props.ConditionLineOptions.Value)}ComparisonIsValid(){return this.Condition.ConditionLineOptions.Comparison!=r.ComparisonTypeEnum.None}GetValueClass(){return!this.ValueIsValid()&&this.Condition.state.ShowValidations?"rnInvalidCondition":""}GetComparisonClass(){return!this.ComparisonIsValid()&&this.Condition.state.ShowValidations?"rnInvalidCondition":""}Validate(){return""==this.Condition.props.ConditionLineOptions.FieldId?(i.ToastService.SendErrorMessage("Please select a field"),this.Condition.setState({ShowValidations:!0}),!1):this.ComparisonIsValid()?this.ValueIsValid()?(this.Condition.setState({ShowValidations:!1}),!0):(i.ToastService.SendErrorMessage("Invalid Value"),this.Condition.setState({ShowValidations:!0}),!1):(i.ToastService.SendErrorMessage("Invalid Comparison"),this.Condition.setState({ShowValidations:!0}),!1)}}class bn extends yn{GetComparator(){return React.createElement("select",{style:{width:"100%",height:"auto",padding:0},disabled:!0})}GetValueInput(){return React.createElement("input",{value:"",style:{width:"100%",height:25},type:"text",disabled:!0})}InitializeValues(){}}class wn extends yn{GetComparator(e=!1){return React.createElement("select",{className:this.GetComparisonClass(),value:this.Condition.ConditionLineOptions.Comparison,onChange:e=>this.ComparisonChanged(e.target.value.toString()),style:{height:"auto",padding:0,width:"100%"}},React.createElement("option",{value:r.ComparisonTypeEnum.Equal},RNTranslate("Equal to")),React.createElement("option",{value:r.ComparisonTypeEnum.NotEqual},RNTranslate("Not Equal to")),!e&&React.createElement("option",{value:r.ComparisonTypeEnum.IsEmpty},RNTranslate("Is Empty")),!e&&React.createElement("option",{value:r.ComparisonTypeEnum.IsNotEmpty},RNTranslate("Is Not Empty")),React.createElement("option",{value:r.ComparisonTypeEnum.Contains},RNTranslate("Contains")))}InitializeValues(){this.Condition.ConditionLineOptions.Comparison=r.ComparisonTypeEnum.Equal}GetValueInput(){let e=this.Condition.props.ConditionLineOptions.Comparison;return React.createElement("input",{className:this.GetValueClass(),value:this.Condition.props.ConditionLineOptions.Value,onChange:e=>this.ValueChanged(e.target.value),style:{minWidth:"100%",maxWidth:200,height:25,width:"100%"},type:"text",disabled:e==r.ComparisonTypeEnum.IsEmpty||e==r.ComparisonTypeEnum.IsNotEmpty})}ComparisonChanged(e){e!=r.ComparisonTypeEnum.IsEmpty&&e!=r.ComparisonTypeEnum.IsNotEmpty||(this.Condition.ConditionLineOptions.Value=""),this.Condition.ConditionLineOptions.Comparison=r.ComparisonTypeEnum[e],this.Condition.forceUpdate()}ValueChanged(e){this.Condition.ConditionLineOptions.Value=e,this.Condition.forceUpdate()}}class kn extends yn{GetComparator(e=!1){return this.ConditionField,React.createElement("select",{className:this.GetComparisonClass(),value:this.Condition.ConditionLineOptions.Comparison,onChange:e=>this.ComparisonChanged(e.target.value.toString()),style:{height:"auto",padding:0,width:"100%"}},React.createElement("option",{value:r.ComparisonTypeEnum.Equal},RNTranslate("Equal to")),React.createElement("option",{value:r.ComparisonTypeEnum.NotEqual},RNTranslate("Not Equal to")),!e&&React.createElement("option",{value:r.ComparisonTypeEnum.IsEmpty},RNTranslate("Is Empty")),!e&&React.createElement("option",{value:r.ComparisonTypeEnum.IsNotEmpty},RNTranslate("Is Not Empty")),React.createElement("option",{value:r.ComparisonTypeEnum.Contains},RNTranslate("Contains")))}InitializeValues(){this.Condition.ConditionLineOptions.Comparison=r.ComparisonTypeEnum.Equal}GetValueInput(){let e=this.Condition.props.ConditionLineOptions.Comparison;return React.createElement("input",{className:this.GetValueClass(),value:this.Condition.props.ConditionLineOptions.Value,onChange:e=>this.ValueChanged(e.target.value),style:{minWidth:"100%",maxWidth:200,height:25,width:"100%"},type:"text",disabled:e==r.ComparisonTypeEnum.IsEmpty||e==r.ComparisonTypeEnum.IsNotEmpty})}ComparisonChanged(e){this.Condition.ConditionLineOptions.Comparison=r.ComparisonTypeEnum[e],this.Condition.forceUpdate()}ValueChanged(e){this.Condition.ConditionLineOptions.Value=e,this.Condition.forceUpdate()}}var Cn=Ne((function(e){!function(){var t={}.hasOwnProperty;function n(){for(var e=[],r=0;r<arguments.length;r++){var o=arguments[r];if(o){var i=typeof o;if("string"===i||"number"===i)e.push(o);else if(Array.isArray(o)&&o.length){var a=n.apply(null,o);a&&e.push(a)}else if("object"===i)for(var s in o)t.call(o,s)&&o[s]&&e.push(s)}}return e.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n}()}));function xn(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");return e instanceof Date||"object"==typeof e&&"[object Date]"===Object.prototype.toString.call(e)}function En(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}function Sn(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var t=En(e);return!isNaN(t)}var _n={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function On(e){return function(t){var n=t||{},r=n.width?String(n.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}var Tn={date:On({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:On({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:On({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},Rn={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function An(e){return function(t,n){var r,o=n||{};if("formatting"===(o.context?String(o.context):"standalone")&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,a=o.width?String(o.width):i;r=e.formattingValues[a]||e.formattingValues[i]}else{var s=e.defaultWidth,l=o.width?String(o.width):e.defaultWidth;r=e.values[l]||e.values[s]}return r[e.argumentCallback?e.argumentCallback(t):t]}}function Nn(e){return function(t,n){var r=String(t),o=n||{},i=o.width,a=i&&e.matchPatterns[i]||e.matchPatterns[e.defaultMatchWidth],s=r.match(a);if(!s)return null;var l,u=s[0],c=i&&e.parsePatterns[i]||e.parsePatterns[e.defaultParseWidth];return l="[object Array]"===Object.prototype.toString.call(c)?c.findIndex((function(e){return e.test(r)})):function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}(c,(function(e){return e.test(r)})),l=e.valueCallback?e.valueCallback(l):l,{value:l=o.valueCallback?o.valueCallback(l):l,rest:r.slice(u.length)}}}var Dn,Pn={formatDistance:function(e,t,n){var r;return n=n||{},r="string"==typeof _n[e]?_n[e]:1===t?_n[e].one:_n[e].other.replace("{{count}}",t),n.addSuffix?n.comparison>0?"in "+r:r+" ago":r},formatLong:Tn,formatRelative:function(e,t,n,r){return Rn[e]},localize:{ordinalNumber:function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:An({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:An({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return Number(e)-1}}),month:An({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:An({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:An({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(Dn={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}},function(e,t){var n=String(e),r=t||{},o=n.match(Dn.matchPattern);if(!o)return null;var i=o[0],a=n.match(Dn.parsePattern);if(!a)return null;var s=Dn.valueCallback?Dn.valueCallback(a[0]):a[0];return{value:s=r.valueCallback?r.valueCallback(s):s,rest:n.slice(i.length)}}),era:Nn({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:Nn({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Nn({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:Nn({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:Nn({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};function Mn(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function In(e,t){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=En(e).getTime(),r=Mn(t);return new Date(n+r)}function Fn(e,t){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=Mn(t);return In(e,-n)}function Ln(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var Bn=function(e,t){var n=e.getUTCFullYear(),r=n>0?n:1-n;return Ln("yy"===t?r%100:r,t.length)},jn=function(e,t){var n=e.getUTCMonth();return"M"===t?String(n+1):Ln(n+1,2)},zn=function(e,t){return Ln(e.getUTCDate(),t.length)},Vn=function(e,t){return Ln(e.getUTCHours()%12||12,t.length)},Un=function(e,t){return Ln(e.getUTCHours(),t.length)},Hn=function(e,t){return Ln(e.getUTCMinutes(),t.length)},Gn=function(e,t){return Ln(e.getUTCSeconds(),t.length)},Wn=function(e,t){var n=t.length,r=e.getUTCMilliseconds();return Ln(Math.floor(r*Math.pow(10,n-3)),t.length)},qn=864e5;function Yn(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var t=1,n=En(e),r=n.getUTCDay(),o=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-o),n.setUTCHours(0,0,0,0),n}function Kn(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var t=En(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var o=Yn(r),i=new Date(0);i.setUTCFullYear(n,0,4),i.setUTCHours(0,0,0,0);var a=Yn(i);return t.getTime()>=o.getTime()?n+1:t.getTime()>=a.getTime()?n:n-1}function $n(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var t=Kn(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=Yn(n);return r}var Xn=6048e5;function Jn(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var t=En(e),n=Yn(t).getTime()-$n(t).getTime();return Math.round(n/Xn)+1}function Qn(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=t||{},r=n.locale,o=r&&r.options&&r.options.weekStartsOn,i=null==o?0:Mn(o),a=null==n.weekStartsOn?i:Mn(n.weekStartsOn);if(!(a>=0&&a<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var s=En(e),l=s.getUTCDay(),u=(l<a?7:0)+l-a;return s.setUTCDate(s.getUTCDate()-u),s.setUTCHours(0,0,0,0),s}function Zn(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=En(e,t),r=n.getUTCFullYear(),o=t||{},i=o.locale,a=i&&i.options&&i.options.firstWeekContainsDate,s=null==a?1:Mn(a),l=null==o.firstWeekContainsDate?s:Mn(o.firstWeekContainsDate);if(!(l>=1&&l<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var u=new Date(0);u.setUTCFullYear(r+1,0,l),u.setUTCHours(0,0,0,0);var c=Qn(u,t),d=new Date(0);d.setUTCFullYear(r,0,l),d.setUTCHours(0,0,0,0);var p=Qn(d,t);return n.getTime()>=c.getTime()?r+1:n.getTime()>=p.getTime()?r:r-1}function er(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=t||{},r=n.locale,o=r&&r.options&&r.options.firstWeekContainsDate,i=null==o?1:Mn(o),a=null==n.firstWeekContainsDate?i:Mn(n.firstWeekContainsDate),s=Zn(e,t),l=new Date(0);l.setUTCFullYear(s,0,a),l.setUTCHours(0,0,0,0);var u=Qn(l,t);return u}var tr=6048e5;function nr(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=En(e),r=Qn(n,t).getTime()-er(n,t).getTime();return Math.round(r/tr)+1}var rr="midnight",or="noon",ir="morning",ar="afternoon",sr="evening",lr="night",ur={G:function(e,t,n){var r=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){var r=e.getUTCFullYear(),o=r>0?r:1-r;return n.ordinalNumber(o,{unit:"year"})}return Bn(e,t)},Y:function(e,t,n,r){var o=Zn(e,r),i=o>0?o:1-o;return"YY"===t?Ln(i%100,2):"Yo"===t?n.ordinalNumber(i,{unit:"year"}):Ln(i,t.length)},R:function(e,t){return Ln(Kn(e),t.length)},u:function(e,t){return Ln(e.getUTCFullYear(),t.length)},Q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Ln(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Ln(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){var r=e.getUTCMonth();switch(t){case"M":case"MM":return jn(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){var r=e.getUTCMonth();switch(t){case"L":return String(r+1);case"LL":return Ln(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){var o=nr(e,r);return"wo"===t?n.ordinalNumber(o,{unit:"week"}):Ln(o,t.length)},I:function(e,t,n){var r=Jn(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):Ln(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):zn(e,t)},D:function(e,t,n){var r=function(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var t=En(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),o=n-r;return Math.floor(o/qn)+1}(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):Ln(r,t.length)},E:function(e,t,n){var r=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){var o=e.getUTCDay(),i=(o-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Ln(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});case"eeee":default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){var o=e.getUTCDay(),i=(o-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Ln(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});case"cccc":default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(e,t,n){var r=e.getUTCDay(),o=0===r?7:r;switch(t){case"i":return String(o);case"ii":return Ln(o,t.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){var r,o=e.getUTCHours();switch(r=12===o?or:0===o?rr:o/12>=1?"pm":"am",t){case"b":case"bb":case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){var r,o=e.getUTCHours();switch(r=o>=17?sr:o>=12?ar:o>=4?ir:lr,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){var r=e.getUTCHours()%12;return 0===r&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Vn(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Un(e,t)},K:function(e,t,n){var r=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):Ln(r,t.length)},k:function(e,t,n){var r=e.getUTCHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):Ln(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Hn(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Gn(e,t)},S:function(e,t){return Wn(e,t)},X:function(e,t,n,r){var o=(r._originalDate||e).getTimezoneOffset();if(0===o)return"Z";switch(t){case"X":return dr(o);case"XXXX":case"XX":return pr(o);case"XXXXX":case"XXX":default:return pr(o,":")}},x:function(e,t,n,r){var o=(r._originalDate||e).getTimezoneOffset();switch(t){case"x":return dr(o);case"xxxx":case"xx":return pr(o);case"xxxxx":case"xxx":default:return pr(o,":")}},O:function(e,t,n,r){var o=(r._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+cr(o,":");case"OOOO":default:return"GMT"+pr(o,":")}},z:function(e,t,n,r){var o=(r._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+cr(o,":");case"zzzz":default:return"GMT"+pr(o,":")}},t:function(e,t,n,r){var o=r._originalDate||e;return Ln(Math.floor(o.getTime()/1e3),t.length)},T:function(e,t,n,r){return Ln((r._originalDate||e).getTime(),t.length)}};function cr(e,t){var n=e>0?"-":"+",r=Math.abs(e),o=Math.floor(r/60),i=r%60;if(0===i)return n+String(o);var a=t||"";return n+String(o)+a+Ln(i,2)}function dr(e,t){return e%60==0?(e>0?"-":"+")+Ln(Math.abs(e)/60,2):pr(e,t)}function pr(e,t){var n=t||"",r=e>0?"-":"+",o=Math.abs(e);return r+Ln(Math.floor(o/60),2)+n+Ln(o%60,2)}function fr(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}}function hr(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}}var mr={p:hr,P:function(e,t){var n,r=e.match(/(P+)(p+)?/),o=r[1],i=r[2];if(!i)return fr(e,t);switch(o){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;case"PPPP":default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",fr(o,t)).replace("{{time}}",hr(i,t))}};function gr(e){var t=new Date(e.getTime()),n=t.getTimezoneOffset();return t.setSeconds(0,0),6e4*n+t.getTime()%6e4}var vr=["D","DD"],yr=["YY","YYYY"];function br(e){return-1!==vr.indexOf(e)}function wr(e){return-1!==yr.indexOf(e)}function kr(e){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` for formatting years; see: https://git.io/fxCyr");if("YY"===e)throw new RangeError("Use `yy` instead of `YY` for formatting years; see: https://git.io/fxCyr");if("D"===e)throw new RangeError("Use `d` instead of `D` for formatting days of the month; see: https://git.io/fxCyr");if("DD"===e)throw new RangeError("Use `dd` instead of `DD` for formatting days of the month; see: https://git.io/fxCyr")}var Cr=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,xr=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Er=/^'(.*?)'?$/,Sr=/''/g,_r=/[a-zA-Z]/;function Or(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var r=String(t),o=n||{},i=o.locale||Pn,a=i.options&&i.options.firstWeekContainsDate,s=null==a?1:Mn(a),l=null==o.firstWeekContainsDate?s:Mn(o.firstWeekContainsDate);if(!(l>=1&&l<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var u=i.options&&i.options.weekStartsOn,c=null==u?0:Mn(u),d=null==o.weekStartsOn?c:Mn(o.weekStartsOn);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!i.localize)throw new RangeError("locale must contain localize property");if(!i.formatLong)throw new RangeError("locale must contain formatLong property");var p=En(e);if(!Sn(p))throw new RangeError("Invalid time value");var f=gr(p),h=Fn(p,f),m={firstWeekContainsDate:l,weekStartsOn:d,locale:i,_originalDate:p},g=r.match(xr).map((function(e){var t=e[0];return"p"===t||"P"===t?(0,mr[t])(e,i.formatLong,m):e})).join("").match(Cr).map((function(e){if("''"===e)return"'";var t=e[0];if("'"===t)return Tr(e);var n=ur[t];if(n)return!o.useAdditionalWeekYearTokens&&wr(e)&&kr(e),!o.useAdditionalDayOfYearTokens&&br(e)&&kr(e),n(h,e,i.localize,m);if(t.match(_r))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return e})).join("");return g}function Tr(e){return e.match(Er)[1].replace(Sr,"'")}function Rr(e,t){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=Mn(t);return In(e,6e4*n)}var Ar=36e5;function Nr(e,t){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=Mn(t);return In(e,n*Ar)}function Dr(e,t){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=En(e),r=Mn(t);return n.setDate(n.getDate()+r),n}function Pr(e,t){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=Mn(t),r=7*n;return Dr(e,r)}function Mr(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var t=En(e),n=t.getFullYear(),r=t.getMonth(),o=new Date(0);return o.setFullYear(n,r+1,0),o.setHours(0,0,0,0),o.getDate()}function Ir(e,t){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=En(e),r=Mn(t),o=n.getMonth()+r,i=new Date(0);i.setFullYear(n.getFullYear(),o,1),i.setHours(0,0,0,0);var a=Mr(i);return n.setMonth(o,Math.min(a,n.getDate())),n}function Fr(e,t){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=Mn(t);return Ir(e,12*n)}function Lr(e,t){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=Mn(t);return Ir(e,-n)}function Br(e,t){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=Mn(t);return Fr(e,-n)}function jr(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var t=En(e),n=t.getSeconds();return n}function zr(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var t=En(e),n=t.getMinutes();return n}function Vr(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var t=En(e),n=t.getHours();return n}function Ur(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var t=En(e),n=t.getDay();return n}function Hr(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var t=En(e),n=t.getDate();return n}function Gr(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var t=En(e),n=t.getMonth();return n}function Wr(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var t=En(e),n=t.getFullYear();return n}function qr(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var t=En(e),n=t.getTime();return n}function Yr(e,t){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=En(e),r=Mn(t);return n.setMinutes(r),n}function Kr(e,t){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=En(e),r=Mn(t);return n.setHours(r),n}function $r(e,t){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=En(e),r=Mn(t),o=n.getFullYear(),i=n.getDate(),a=new Date(0);a.setFullYear(o,r,15),a.setHours(0,0,0,0);var s=Mr(a);return n.setMonth(r,Math.min(i,s)),n}function Xr(e,t){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=En(e),r=Mn(t);return isNaN(n)?new Date(NaN):(n.setFullYear(r),n)}function Jr(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var t,n;if(e&&"function"==typeof e.forEach)t=e;else{if("object"!=typeof e||null===e)return new Date(NaN);t=Array.prototype.slice.call(e)}return t.forEach((function(e){var t=En(e);(void 0===n||n>t||isNaN(t))&&(n=t)})),n||new Date(NaN)}function Qr(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var t,n;if(e&&"function"==typeof e.forEach)t=e;else{if("object"!=typeof e||null===e)return new Date(NaN);t=Array.prototype.slice.call(e)}return t.forEach((function(e){var t=En(e);(void 0===n||n<t||isNaN(t))&&(n=t)})),n||new Date(NaN)}function Zr(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var t=En(e);return t.setHours(0,0,0,0),t}var eo=864e5;function to(e,t){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=Zr(e),r=Zr(t),o=n.getTime()-gr(n),i=r.getTime()-gr(r);return Math.round((o-i)/eo)}function no(e,t){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=En(e),r=En(t),o=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return 12*o+i}function ro(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=t||{},r=n.locale,o=r&&r.options&&r.options.weekStartsOn,i=null==o?0:Mn(o),a=null==n.weekStartsOn?i:Mn(n.weekStartsOn);if(!(a>=0&&a<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var s=En(e),l=s.getDay(),u=(l<a?7:0)+l-a;return s.setDate(s.getDate()-u),s.setHours(0,0,0,0),s}var oo=6048e5;function io(e,t){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=En(e),r=En(t);return n.getTime()>r.getTime()}function ao(e,t){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=En(e),r=En(t);return n.getTime()<r.getTime()}function so(e,t){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=t||{},r=En(e).getTime(),o=En(n.start).getTime(),i=En(n.end).getTime();if(!(o<=i))throw new RangeError("Invalid interval");return r>=o&&r<=i}function lo(e,t){if(null==e)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t=t||{})t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function uo(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var r=n||{},o=r.locale,i=o&&o.options&&o.options.weekStartsOn,a=null==i?0:Mn(i),s=null==r.weekStartsOn?a:Mn(r.weekStartsOn);if(!(s>=0&&s<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var l=En(e),u=Mn(t),c=l.getUTCDay(),d=u%7,p=(d+7)%7,f=(p<s?7:0)+u-c;return l.setUTCDate(l.getUTCDate()+f),l}var co=/^(1[0-2]|0?\d)/,po=/^(3[0-1]|[0-2]?\d)/,fo=/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,ho=/^(5[0-3]|[0-4]?\d)/,mo=/^(2[0-3]|[0-1]?\d)/,go=/^(2[0-4]|[0-1]?\d)/,vo=/^(1[0-1]|0?\d)/,yo=/^(1[0-2]|0?\d)/,bo=/^[0-5]?\d/,wo=/^[0-5]?\d/,ko=/^\d/,Co=/^\d{1,2}/,xo=/^\d{1,3}/,Eo=/^\d{1,4}/,So=/^-?\d+/,_o=/^-?\d/,Oo=/^-?\d{1,2}/,To=/^-?\d{1,3}/,Ro=/^-?\d{1,4}/,Ao=/^([+-])(\d{2})(\d{2})?|Z/,No=/^([+-])(\d{2})(\d{2})|Z/,Do=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,Po=/^([+-])(\d{2}):(\d{2})|Z/,Mo=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function Io(e,t,n){var r=t.match(e);if(!r)return null;var o=parseInt(r[0],10);return{value:n?n(o):o,rest:t.slice(r[0].length)}}function Fo(e,t){var n=t.match(e);return n?"Z"===n[0]?{value:0,rest:t.slice(1)}:{value:("+"===n[1]?1:-1)*(36e5*(n[2]?parseInt(n[2],10):0)+6e4*(n[3]?parseInt(n[3],10):0)+1e3*(n[5]?parseInt(n[5],10):0)),rest:t.slice(n[0].length)}:null}function Lo(e,t){return Io(So,e,t)}function Bo(e,t,n){switch(e){case 1:return Io(ko,t,n);case 2:return Io(Co,t,n);case 3:return Io(xo,t,n);case 4:return Io(Eo,t,n);default:return Io(new RegExp("^\\d{1,"+e+"}"),t,n)}}function jo(e,t,n){switch(e){case 1:return Io(_o,t,n);case 2:return Io(Oo,t,n);case 3:return Io(To,t,n);case 4:return Io(Ro,t,n);default:return Io(new RegExp("^-?\\d{1,"+e+"}"),t,n)}}function zo(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function Vo(e,t){var n,r=t>0,o=r?t:1-t;if(o<=50)n=e||100;else{var i=o+50;n=e+100*Math.floor(i/100)-(e>=i%100?100:0)}return r?n:1-n}var Uo=[31,28,31,30,31,30,31,31,30,31,30,31],Ho=[31,29,31,30,31,30,31,31,30,31,30,31];function Go(e){return e%400==0||e%4==0&&e%100!=0}var Wo={G:{priority:140,parse:function(e,t,n,r){switch(t){case"G":case"GG":case"GGG":return n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"});case"GGGGG":return n.era(e,{width:"narrow"});case"GGGG":default:return n.era(e,{width:"wide"})||n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"})}},set:function(e,t,n,r){return t.era=n,e.setUTCFullYear(n,0,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["R","u","t","T"]},y:{priority:130,parse:function(e,t,n,r){var o=function(e){return{year:e,isTwoDigitYear:"yy"===t}};switch(t){case"y":return Bo(4,e,o);case"yo":return n.ordinalNumber(e,{unit:"year",valueCallback:o});default:return Bo(t.length,e,o)}},validate:function(e,t,n){return t.isTwoDigitYear||t.year>0},set:function(e,t,n,r){var o=e.getUTCFullYear();if(n.isTwoDigitYear){var i=Vo(n.year,o);return e.setUTCFullYear(i,0,1),e.setUTCHours(0,0,0,0),e}var a="era"in t&&1!==t.era?1-n.year:n.year;return e.setUTCFullYear(a,0,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","u","w","I","i","e","c","t","T"]},Y:{priority:130,parse:function(e,t,n,r){var o=function(e){return{year:e,isTwoDigitYear:"YY"===t}};switch(t){case"Y":return Bo(4,e,o);case"Yo":return n.ordinalNumber(e,{unit:"year",valueCallback:o});default:return Bo(t.length,e,o)}},validate:function(e,t,n){return t.isTwoDigitYear||t.year>0},set:function(e,t,n,r){var o=Zn(e,r);if(n.isTwoDigitYear){var i=Vo(n.year,o);return e.setUTCFullYear(i,0,r.firstWeekContainsDate),e.setUTCHours(0,0,0,0),Qn(e,r)}var a="era"in t&&1!==t.era?1-n.year:n.year;return e.setUTCFullYear(a,0,r.firstWeekContainsDate),e.setUTCHours(0,0,0,0),Qn(e,r)},incompatibleTokens:["y","R","u","Q","q","M","L","I","d","D","i","t","T"]},R:{priority:130,parse:function(e,t,n,r){return jo("R"===t?4:t.length,e)},set:function(e,t,n,r){var o=new Date(0);return o.setUTCFullYear(n,0,4),o.setUTCHours(0,0,0,0),Yn(o)},incompatibleTokens:["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]},u:{priority:130,parse:function(e,t,n,r){return jo("u"===t?4:t.length,e)},set:function(e,t,n,r){return e.setUTCFullYear(n,0,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["G","y","Y","R","w","I","i","e","c","t","T"]},Q:{priority:120,parse:function(e,t,n,r){switch(t){case"Q":case"QQ":return Bo(t.length,e);case"Qo":return n.ordinalNumber(e,{unit:"quarter"});case"QQQ":return n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(e,{width:"wide",context:"formatting"})||n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,n){return t>=1&&t<=4},set:function(e,t,n,r){return e.setUTCMonth(3*(n-1),1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]},q:{priority:120,parse:function(e,t,n,r){switch(t){case"q":case"qq":return Bo(t.length,e);case"qo":return n.ordinalNumber(e,{unit:"quarter"});case"qqq":return n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(e,{width:"wide",context:"standalone"})||n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"})}},validate:function(e,t,n){return t>=1&&t<=4},set:function(e,t,n,r){return e.setUTCMonth(3*(n-1),1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]},M:{priority:110,parse:function(e,t,n,r){var o=function(e){return e-1};switch(t){case"M":return Io(co,e,o);case"MM":return Bo(2,e,o);case"Mo":return n.ordinalNumber(e,{unit:"month",valueCallback:o});case"MMM":return n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(e,{width:"wide",context:"formatting"})||n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,n){return t>=0&&t<=11},set:function(e,t,n,r){return e.setUTCMonth(n,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]},L:{priority:110,parse:function(e,t,n,r){var o=function(e){return e-1};switch(t){case"L":return Io(co,e,o);case"LL":return Bo(2,e,o);case"Lo":return n.ordinalNumber(e,{unit:"month",valueCallback:o});case"LLL":return n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(e,{width:"wide",context:"standalone"})||n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"})}},validate:function(e,t,n){return t>=0&&t<=11},set:function(e,t,n,r){return e.setUTCMonth(n,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]},w:{priority:100,parse:function(e,t,n,r){switch(t){case"w":return Io(ho,e);case"wo":return n.ordinalNumber(e,{unit:"week"});default:return Bo(t.length,e)}},validate:function(e,t,n){return t>=1&&t<=53},set:function(e,t,n,r){return Qn(function(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var r=En(e),o=Mn(t),i=nr(r,n)-o;return r.setUTCDate(r.getUTCDate()-7*i),r}(e,n,r),r)},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","i","t","T"]},I:{priority:100,parse:function(e,t,n,r){switch(t){case"I":return Io(ho,e);case"Io":return n.ordinalNumber(e,{unit:"week"});default:return Bo(t.length,e)}},validate:function(e,t,n){return t>=1&&t<=53},set:function(e,t,n,r){return Yn(function(e,t){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=En(e),r=Mn(t),o=Jn(n)-r;return n.setUTCDate(n.getUTCDate()-7*o),n}(e,n,r),r)},incompatibleTokens:["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]},d:{priority:90,parse:function(e,t,n,r){switch(t){case"d":return Io(po,e);case"do":return n.ordinalNumber(e,{unit:"date"});default:return Bo(t.length,e)}},validate:function(e,t,n){var r=Go(e.getUTCFullYear()),o=e.getUTCMonth();return r?t>=1&&t<=Ho[o]:t>=1&&t<=Uo[o]},set:function(e,t,n,r){return e.setUTCDate(n),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","Q","w","I","D","i","e","c","t","T"]},D:{priority:90,parse:function(e,t,n,r){switch(t){case"D":case"DD":return Io(fo,e);case"Do":return n.ordinalNumber(e,{unit:"date"});default:return Bo(t.length,e)}},validate:function(e,t,n){return Go(e.getUTCFullYear())?t>=1&&t<=366:t>=1&&t<=365},set:function(e,t,n,r){return e.setUTCMonth(0,n),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]},E:{priority:90,parse:function(e,t,n,r){switch(t){case"E":case"EE":case"EEE":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEE":default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,n){return t>=0&&t<=6},set:function(e,t,n,r){return(e=uo(e,n,r)).setUTCHours(0,0,0,0),e},incompatibleTokens:["D","i","e","c","t","T"]},e:{priority:90,parse:function(e,t,n,r){var o=function(e){var t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"e":case"ee":return Bo(t.length,e,o);case"eo":return n.ordinalNumber(e,{unit:"day",valueCallback:o});case"eee":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeeee":return n.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeee":default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,n){return t>=0&&t<=6},set:function(e,t,n,r){return(e=uo(e,n,r)).setUTCHours(0,0,0,0),e},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]},c:{priority:90,parse:function(e,t,n,r){var o=function(e){var t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"c":case"cc":return Bo(t.length,e,o);case"co":return n.ordinalNumber(e,{unit:"day",valueCallback:o});case"ccc":return n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"ccccc":return n.day(e,{width:"narrow",context:"standalone"});case"cccccc":return n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"cccc":default:return n.day(e,{width:"wide",context:"standalone"})||n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"})}},validate:function(e,t,n){return t>=0&&t<=6},set:function(e,t,n,r){return(e=uo(e,n,r)).setUTCHours(0,0,0,0),e},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]},i:{priority:90,parse:function(e,t,n,r){var o=function(e){return 0===e?7:e};switch(t){case"i":case"ii":return Bo(t.length,e);case"io":return n.ordinalNumber(e,{unit:"day"});case"iii":return n.day(e,{width:"abbreviated",context:"formatting",valueCallback:o})||n.day(e,{width:"short",context:"formatting",valueCallback:o})||n.day(e,{width:"narrow",context:"formatting",valueCallback:o});case"iiiii":return n.day(e,{width:"narrow",context:"formatting",valueCallback:o});case"iiiiii":return n.day(e,{width:"short",context:"formatting",valueCallback:o})||n.day(e,{width:"narrow",context:"formatting",valueCallback:o});case"iiii":default:return n.day(e,{width:"wide",context:"formatting",valueCallback:o})||n.day(e,{width:"abbreviated",context:"formatting",valueCallback:o})||n.day(e,{width:"short",context:"formatting",valueCallback:o})||n.day(e,{width:"narrow",context:"formatting",valueCallback:o})}},validate:function(e,t,n){return t>=1&&t<=7},set:function(e,t,n,r){return(e=function(e,t){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=Mn(t);n%7==0&&(n-=7);var r=1,o=En(e),i=o.getUTCDay(),a=((n%7+7)%7<r?7:0)+n-i;return o.setUTCDate(o.getUTCDate()+a),o}(e,n,r)).setUTCHours(0,0,0,0),e},incompatibleTokens:["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]},a:{priority:80,parse:function(e,t,n,r){switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}},set:function(e,t,n,r){return e.setUTCHours(zo(n),0,0,0),e},incompatibleTokens:["b","B","H","K","k","t","T"]},b:{priority:80,parse:function(e,t,n,r){switch(t){case"b":case"bb":case"bbb":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}},set:function(e,t,n,r){return e.setUTCHours(zo(n),0,0,0),e},incompatibleTokens:["a","B","H","K","k","t","T"]},B:{priority:80,parse:function(e,t,n,r){switch(t){case"B":case"BB":case"BBB":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}},set:function(e,t,n,r){return e.setUTCHours(zo(n),0,0,0),e},incompatibleTokens:["a","b","t","T"]},h:{priority:70,parse:function(e,t,n,r){switch(t){case"h":return Io(yo,e);case"ho":return n.ordinalNumber(e,{unit:"hour"});default:return Bo(t.length,e)}},validate:function(e,t,n){return t>=1&&t<=12},set:function(e,t,n,r){var o=e.getUTCHours()>=12;return o&&n<12?e.setUTCHours(n+12,0,0,0):o||12!==n?e.setUTCHours(n,0,0,0):e.setUTCHours(0,0,0,0),e},incompatibleTokens:["H","K","k","t","T"]},H:{priority:70,parse:function(e,t,n,r){switch(t){case"H":return Io(mo,e);case"Ho":return n.ordinalNumber(e,{unit:"hour"});default:return Bo(t.length,e)}},validate:function(e,t,n){return t>=0&&t<=23},set:function(e,t,n,r){return e.setUTCHours(n,0,0,0),e},incompatibleTokens:["a","b","h","K","k","t","T"]},K:{priority:70,parse:function(e,t,n,r){switch(t){case"K":return Io(vo,e);case"Ko":return n.ordinalNumber(e,{unit:"hour"});default:return Bo(t.length,e)}},validate:function(e,t,n){return t>=0&&t<=11},set:function(e,t,n,r){return e.getUTCHours()>=12&&n<12?e.setUTCHours(n+12,0,0,0):e.setUTCHours(n,0,0,0),e},incompatibleTokens:["a","b","h","H","k","t","T"]},k:{priority:70,parse:function(e,t,n,r){switch(t){case"k":return Io(go,e);case"ko":return n.ordinalNumber(e,{unit:"hour"});default:return Bo(t.length,e)}},validate:function(e,t,n){return t>=1&&t<=24},set:function(e,t,n,r){var o=n<=24?n%24:n;return e.setUTCHours(o,0,0,0),e},incompatibleTokens:["a","b","h","H","K","t","T"]},m:{priority:60,parse:function(e,t,n,r){switch(t){case"m":return Io(bo,e);case"mo":return n.ordinalNumber(e,{unit:"minute"});default:return Bo(t.length,e)}},validate:function(e,t,n){return t>=0&&t<=59},set:function(e,t,n,r){return e.setUTCMinutes(n,0,0),e},incompatibleTokens:["t","T"]},s:{priority:50,parse:function(e,t,n,r){switch(t){case"s":return Io(wo,e);case"so":return n.ordinalNumber(e,{unit:"second"});default:return Bo(t.length,e)}},validate:function(e,t,n){return t>=0&&t<=59},set:function(e,t,n,r){return e.setUTCSeconds(n,0),e},incompatibleTokens:["t","T"]},S:{priority:30,parse:function(e,t,n,r){return Bo(t.length,e,(function(e){return Math.floor(e*Math.pow(10,3-t.length))}))},set:function(e,t,n,r){return e.setUTCMilliseconds(n),e},incompatibleTokens:["t","T"]},X:{priority:10,parse:function(e,t,n,r){switch(t){case"X":return Fo(Ao,e);case"XX":return Fo(No,e);case"XXXX":return Fo(Do,e);case"XXXXX":return Fo(Mo,e);case"XXX":default:return Fo(Po,e)}},set:function(e,t,n,r){return t.timestampIsSet?e:new Date(e.getTime()-n)},incompatibleTokens:["t","T","x"]},x:{priority:10,parse:function(e,t,n,r){switch(t){case"x":return Fo(Ao,e);case"xx":return Fo(No,e);case"xxxx":return Fo(Do,e);case"xxxxx":return Fo(Mo,e);case"xxx":default:return Fo(Po,e)}},set:function(e,t,n,r){return t.timestampIsSet?e:new Date(e.getTime()-n)},incompatibleTokens:["t","T","X"]},t:{priority:40,parse:function(e,t,n,r){return Lo(e)},set:function(e,t,n,r){return[new Date(1e3*n),{timestampIsSet:!0}]},incompatibleTokens:"*"},T:{priority:20,parse:function(e,t,n,r){return Lo(e)},set:function(e,t,n,r){return[new Date(n),{timestampIsSet:!0}]},incompatibleTokens:"*"}},qo=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Yo=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ko=/^'(.*?)'?$/,$o=/''/g,Xo=/\S/,Jo=/[a-zA-Z]/;function Qo(e,t,n,r){if(arguments.length<3)throw new TypeError("3 arguments required, but only "+arguments.length+" present");var o=String(e),i=String(t),a=r||{},s=a.locale||Pn;if(!s.match)throw new RangeError("locale must contain match property");var l=s.options&&s.options.firstWeekContainsDate,u=null==l?1:Mn(l),c=null==a.firstWeekContainsDate?u:Mn(a.firstWeekContainsDate);if(!(c>=1&&c<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var d=s.options&&s.options.weekStartsOn,p=null==d?0:Mn(d),f=null==a.weekStartsOn?p:Mn(a.weekStartsOn);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(""===i)return""===o?En(n):new Date(NaN);var h,m={firstWeekContainsDate:c,weekStartsOn:f,locale:s},g=[{priority:10,set:Zo,index:0}],v=i.match(Yo).map((function(e){var t=e[0];return"p"===t||"P"===t?(0,mr[t])(e,s.formatLong,m):e})).join("").match(qo),y=[];for(h=0;h<v.length;h++){var b=v[h];!a.useAdditionalWeekYearTokens&&wr(b)&&kr(b),!a.useAdditionalDayOfYearTokens&&br(b)&&kr(b);var w=b[0],k=Wo[w];if(k){var C=k.incompatibleTokens;if(Array.isArray(C)){for(var x=void 0,E=0;E<y.length;E++){var S=y[E].token;if(-1!==C.indexOf(S)||S===w){x=y[E];break}}if(x)throw new RangeError("The format string mustn't contain `".concat(x.fullToken,"` and `").concat(b,"` at the same time"))}else if("*"===k.incompatibleTokens&&y.length)throw new RangeError("The format string mustn't contain `".concat(b,"` and any other token at the same time"));y.push({token:w,fullToken:b});var _=k.parse(o,b,s.match,m);if(!_)return new Date(NaN);g.push({priority:k.priority,set:k.set,validate:k.validate,value:_.value,index:g.length}),o=_.rest}else{if(w.match(Jo))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");if("''"===b?b="'":"'"===w&&(b=ei(b)),0!==o.indexOf(b))return new Date(NaN);o=o.slice(b.length)}}if(o.length>0&&Xo.test(o))return new Date(NaN);var O=g.map((function(e){return e.priority})).sort((function(e,t){return t-e})).filter((function(e,t,n){return n.indexOf(e)===t})).map((function(e){return g.filter((function(t){return t.priority===e})).reverse()})).map((function(e){return e[0]})),T=En(n);if(isNaN(T))return new Date(NaN);var R=Fn(T,gr(T)),A={};for(h=0;h<O.length;h++){var N=O[h];if(N.validate&&!N.validate(R,N.value,m))return new Date(NaN);var D=N.set(R,A,N.value,m);D[0]?(R=D[0],lo(A,D[1])):R=D}return R}function Zo(e,t){if(t.timestampIsSet)return e;var n=new Date(0);return n.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),n.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),n}function ei(e){return e.match(Ko)[1].replace($o,"'")}var ti=36e5,ni={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},ri=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,oi=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,ii=/^([+-])(\d{2})(?::?(\d{2}))?$/;function ai(e){var t,n={},r=e.split(ni.dateTimeDelimiter);if(/:/.test(r[0])?(n.date=null,t=r[0]):(n.date=r[0],t=r[1],ni.timeZoneDelimiter.test(n.date)&&(n.date=e.split(ni.timeZoneDelimiter)[0],t=e.substr(n.date.length,e.length))),t){var o=ni.timezone.exec(t);o?(n.time=t.replace(o[1],""),n.timezone=o[1]):n.time=t}return n}function si(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:null};var o=r[1]&&parseInt(r[1]),i=r[2]&&parseInt(r[2]);return{year:null==i?o:100*i,restDateString:e.slice((r[1]||r[2]).length)}}function li(e,t){if(null===t)return null;var n=e.match(ri);if(!n)return null;var r=!!n[4],o=ui(n[1]),i=ui(n[2])-1,a=ui(n[3]),s=ui(n[4]),l=ui(n[5])-1;if(r)return function(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}(0,s,l)?function(e,t,n){var r=new Date(0);r.setUTCFullYear(e,0,4);var o=r.getUTCDay()||7,i=7*(t-1)+n+1-o;return r.setUTCDate(r.getUTCDate()+i),r}(t,s,l):new Date(NaN);var u=new Date(0);return function(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(fi[t]||(hi(e)?29:28))}(t,i,a)&&function(e,t){return t>=1&&t<=(hi(e)?366:365)}(t,o)?(u.setUTCFullYear(t,i,Math.max(o,a)),u):new Date(NaN)}function ui(e){return e?parseInt(e):1}function ci(e){var t=e.match(oi);if(!t)return null;var n=di(t[1]),r=di(t[2]),o=di(t[3]);return function(e,t,n){if(24===e)return 0===t&&0===n;return n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}(n,r,o)?n*ti+6e4*r+1e3*o:NaN}function di(e){return e&&parseFloat(e.replace(",","."))||0}function pi(e){if("Z"===e)return 0;var t=e.match(ii);if(!t)return 0;var n="+"===t[1]?-1:1,r=parseInt(t[2]),o=t[3]&&parseInt(t[3])||0;return function(e,t){return t>=0&&t<=59}(0,o)?n*(r*ti+6e4*o):NaN}var fi=[31,null,31,30,31,30,31,31,30,31,30,31];function hi(e){return e%400==0||e%4==0&&e%100}function mi(e,t,n){return e===t||(e.correspondingElement?e.correspondingElement.classList.contains(n):e.classList.contains(n))}var gi,vi,yi=(void 0===gi&&(gi=0),function(){return++gi}),bi={},wi={},ki=["touchstart","touchmove"];function Ci(e,t){var n=null;return-1!==ki.indexOf(t)&&vi&&(n={passive:!e.props.preventDefault}),n}function xi(e,t){var n,r,o=e.displayName||e.name||"Component";return r=n=function(n){var r,i;function a(e){var r;return(r=n.call(this,e)||this).__outsideClickHandler=function(e){if("function"!=typeof r.__clickOutsideHandlerProp){var t=r.getInstance();if("function"!=typeof t.props.handleClickOutside){if("function"!=typeof t.handleClickOutside)throw new Error("WrappedComponent: "+o+" lacks a handleClickOutside(event) function for processing outside click events.");t.handleClickOutside(e)}else t.props.handleClickOutside(e)}else r.__clickOutsideHandlerProp(e)},r.__getComponentNode=function(){var e=r.getInstance();return t&&"function"==typeof t.setClickOutsideRef?t.setClickOutsideRef()(e):"function"==typeof e.setClickOutsideRef?e.setClickOutsideRef():ReactDOM.findDOMNode(e)},r.enableOnClickOutside=function(){if("undefined"!=typeof document&&!wi[r._uid]){void 0===vi&&(vi=function(){if("undefined"!=typeof window&&"function"==typeof window.addEventListener){var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}}),n=function(){};return window.addEventListener("testPassiveEventSupport",n,t),window.removeEventListener("testPassiveEventSupport",n,t),e}}()),wi[r._uid]=!0;var e=r.props.eventTypes;e.forEach||(e=[e]),bi[r._uid]=function(e){var t;null!==r.componentNode&&(r.props.preventDefault&&e.preventDefault(),r.props.stopPropagation&&e.stopPropagation(),r.props.excludeScrollbar&&(t=e,document.documentElement.clientWidth<=t.clientX||document.documentElement.clientHeight<=t.clientY)||function(e,t,n){if(e===t)return!0;for(;e.parentNode;){if(mi(e,t,n))return!0;e=e.parentNode}return e}(e.target,r.componentNode,r.props.outsideClickIgnoreClass)===document&&r.__outsideClickHandler(e))},e.forEach((function(e){document.addEventListener(e,bi[r._uid],Ci(r,e))}))}},r.disableOnClickOutside=function(){delete wi[r._uid];var e=bi[r._uid];if(e&&"undefined"!=typeof document){var t=r.props.eventTypes;t.forEach||(t=[t]),t.forEach((function(t){return document.removeEventListener(t,e,Ci(r,t))})),delete bi[r._uid]}},r.getRef=function(e){return r.instanceRef=e},r._uid=yi(),r}i=n,(r=a).prototype=Object.create(i.prototype),r.prototype.constructor=r,r.__proto__=i;var s=a.prototype;return s.getInstance=function(){if(!e.prototype.isReactComponent)return this;var t=this.instanceRef;return t.getInstance?t.getInstance():t},s.componentDidMount=function(){if("undefined"!=typeof document&&document.createElement){var e=this.getInstance();if(t&&"function"==typeof t.handleClickOutside&&(this.__clickOutsideHandlerProp=t.handleClickOutside(e),"function"!=typeof this.__clickOutsideHandlerProp))throw new Error("WrappedComponent: "+o+" lacks a function for processing outside click events specified by the handleClickOutside config option.");this.componentNode=this.__getComponentNode(),this.props.disableOnClickOutside||this.enableOnClickOutside()}},s.componentDidUpdate=function(){this.componentNode=this.__getComponentNode()},s.componentWillUnmount=function(){this.disableOnClickOutside()},s.render=function(){var t=this.props;t.excludeScrollbar;var n=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(t,["excludeScrollbar"]);return e.prototype.isReactComponent?n.ref=this.getRef:n.wrappedRef=this.getRef,n.disableOnClickOutside=this.disableOnClickOutside,n.enableOnClickOutside=this.enableOnClickOutside,React.createElement(e,n)},a}(React.Component),n.displayName="OnClickOutside("+o+")",n.defaultProps={eventTypes:["mousedown","touchstart"],excludeScrollbar:t&&t.excludeScrollbar||!1,outsideClickIgnoreClass:"ignore-react-onclickoutside",preventDefault:!1,stopPropagation:!1},n.getClass=function(){return e.getClass?e.getClass():e},r}var Ei=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o},Si=Ne((function(e){function t(){return e.exports=t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},t.apply(this,arguments)}e.exports=t}));var _i=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e};var Oi=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t};var Ti,Ri=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},Ai=Object.prototype.toString,Ni=function(e){var t=Ai.call(e),n="[object Arguments]"===t;return n||(n="[object Array]"!==t&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===Ai.call(e.callee)),n};if(!Object.keys){var Di=Object.prototype.hasOwnProperty,Pi=Object.prototype.toString,Mi=Ni,Ii=Object.prototype.propertyIsEnumerable,Fi=!Ii.call({toString:null},"toString"),Li=Ii.call((function(){}),"prototype"),Bi=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],ji=function(e){var t=e.constructor;return t&&t.prototype===e},zi={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},Vi=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!zi["$"+e]&&Di.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{ji(window[e])}catch(e){return!0}}catch(e){return!0}return!1}();Ti=function(e){var t=null!==e&&"object"==typeof e,n="[object Function]"===Pi.call(e),r=Mi(e),o=t&&"[object String]"===Pi.call(e),i=[];if(!t&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var a=Li&&n;if(o&&e.length>0&&!Di.call(e,0))for(var s=0;s<e.length;++s)i.push(String(s));if(r&&e.length>0)for(var l=0;l<e.length;++l)i.push(String(l));else for(var u in e)a&&"prototype"===u||!Di.call(e,u)||i.push(String(u));if(Fi)for(var c=function(e){if("undefined"==typeof window||!Vi)return ji(e);try{return ji(e)}catch(e){return!1}}(e),d=0;d<Bi.length;++d)c&&"constructor"===Bi[d]||!Di.call(e,Bi[d])||i.push(Bi[d]);return i}}var Ui=Ti,Hi=Array.prototype.slice,Gi=Object.keys,Wi=Gi?function(e){return Gi(e)}:Ui,qi=Object.keys;Wi.shim=function(){Object.keys?function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2)||(Object.keys=function(e){return Ni(e)?qi(Hi.call(e)):qi(e)}):Object.keys=Wi;return Object.keys||Wi};var Yi=Wi,Ki="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,$i=Object.prototype.toString,Xi=function(e){return!(Ki&&e&&"object"==typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===$i.call(e)},Ji=function(e){return!!Xi(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==$i.call(e)&&"[object Function]"===$i.call(e.callee)},Qi=function(){return Xi(arguments)}();Xi.isLegacyArguments=Ji;var Zi=Qi?Xi:Ji,ea=function(e){return e!=e},ta=function(e,t){return 0===e&&0===t?1/e==1/t:e===t||!(!ea(e)||!ea(t))},na="Function.prototype.bind called on incompatible ",ra=Array.prototype.slice,oa=Object.prototype.toString,ia="[object Function]",aa=Function.prototype.bind||function(e){var t=this;if("function"!=typeof t||oa.call(t)!==ia)throw new TypeError(na+t);for(var n,r=ra.call(arguments,1),o=function(){if(this instanceof n){var o=t.apply(this,r.concat(ra.call(arguments)));return Object(o)===o?o:this}return t.apply(e,r.concat(ra.call(arguments)))},i=Math.max(0,t.length-r.length),a=[],s=0;s<i;s++)a.push("$"+s);if(n=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(o),t.prototype){var l=function(){};l.prototype=t.prototype,n.prototype=new l,l.prototype=null}return n},sa=aa.call(Function.call,Object.prototype.hasOwnProperty),la=RegExp.prototype.exec,ua=Object.getOwnPropertyDescriptor,ca=Object.prototype.toString,da="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,pa=function(e){if(!e||"object"!=typeof e)return!1;if(!da)return"[object RegExp]"===ca.call(e);var t=ua(e,"lastIndex");return!(!t||!sa(t,"value"))&&function(e){try{var t=e.lastIndex;return e.lastIndex=0,la.call(e),!0}catch(e){return!1}finally{e.lastIndex=t}}(e)},fa="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),ha=Object.prototype.toString,ma=Array.prototype.concat,ga=Object.defineProperty,va=ga&&function(){var e={};try{for(var t in ga(e,"x",{enumerable:!1,value:e}),e)return!1;return e.x===e}catch(e){return!1}}(),ya=function(e,t,n,r){(!(t in e)||function(e){return"function"==typeof e&&"[object Function]"===ha.call(e)}(r)&&r())&&(va?ga(e,t,{configurable:!0,enumerable:!1,value:n,writable:!0}):e[t]=n)},ba=function(e,t){var n=arguments.length>2?arguments[2]:{},r=Yi(t);fa&&(r=ma.call(r,Object.getOwnPropertySymbols(t)));for(var o=0;o<r.length;o+=1)ya(e,r[o],t[r[o]],n[r[o]])};ba.supportsDescriptors=!!va;var wa,ka=ba,Ca=Te.Symbol,xa=TypeError,Ea=Object.getOwnPropertyDescriptor;if(Ea)try{Ea({},"")}catch(e){Ea=null}var Sa=function(){throw new xa},_a=Ea?function(){try{return Sa}catch(e){try{return Ea(arguments,"callee").get}catch(e){return Sa}}}():Sa,Oa="function"==typeof Ca&&"function"==typeof Symbol&&"symbol"==typeof Ca("foo")&&"symbol"==typeof Symbol("bar")&&function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(42!==o.value||!0!==o.enumerable)return!1}return!0}(),Ta=Object.getPrototypeOf||function(e){return e.__proto__},Ra="undefined"==typeof Uint8Array?wa:Ta(Uint8Array),Aa={"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?wa:ArrayBuffer,"%ArrayBufferPrototype%":"undefined"==typeof ArrayBuffer?wa:ArrayBuffer.prototype,"%ArrayIteratorPrototype%":Oa?Ta([][Symbol.iterator]()):wa,"%ArrayPrototype%":Array.prototype,"%ArrayProto_entries%":Array.prototype.entries,"%ArrayProto_forEach%":Array.prototype.forEach,"%ArrayProto_keys%":Array.prototype.keys,"%ArrayProto_values%":Array.prototype.values,"%AsyncFromSyncIteratorPrototype%":wa,"%AsyncFunction%":undefined,"%AsyncFunctionPrototype%":wa,"%AsyncGenerator%":wa,"%AsyncGeneratorFunction%":undefined,"%AsyncGeneratorPrototype%":wa,"%AsyncIteratorPrototype%":wa,"%Atomics%":"undefined"==typeof Atomics?wa:Atomics,"%Boolean%":Boolean,"%BooleanPrototype%":Boolean.prototype,"%DataView%":"undefined"==typeof DataView?wa:DataView,"%DataViewPrototype%":"undefined"==typeof DataView?wa:DataView.prototype,"%Date%":Date,"%DatePrototype%":Date.prototype,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%ErrorPrototype%":Error.prototype,"%eval%":eval,"%EvalError%":EvalError,"%EvalErrorPrototype%":EvalError.prototype,"%Float32Array%":"undefined"==typeof Float32Array?wa:Float32Array,"%Float32ArrayPrototype%":"undefined"==typeof Float32Array?wa:Float32Array.prototype,"%Float64Array%":"undefined"==typeof Float64Array?wa:Float64Array,"%Float64ArrayPrototype%":"undefined"==typeof Float64Array?wa:Float64Array.prototype,"%Function%":Function,"%FunctionPrototype%":Function.prototype,"%Generator%":wa,"%GeneratorFunction%":undefined,"%GeneratorPrototype%":wa,"%Int8Array%":"undefined"==typeof Int8Array?wa:Int8Array,"%Int8ArrayPrototype%":"undefined"==typeof Int8Array?wa:Int8Array.prototype,"%Int16Array%":"undefined"==typeof Int16Array?wa:Int16Array,"%Int16ArrayPrototype%":"undefined"==typeof Int16Array?wa:Int8Array.prototype,"%Int32Array%":"undefined"==typeof Int32Array?wa:Int32Array,"%Int32ArrayPrototype%":"undefined"==typeof Int32Array?wa:Int32Array.prototype,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Oa?Ta(Ta([][Symbol.iterator]())):wa,"%JSON%":"object"==typeof JSON?JSON:wa,"%JSONParse%":"object"==typeof JSON?JSON.parse:wa,"%Map%":"undefined"==typeof Map?wa:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&Oa?Ta((new Map)[Symbol.iterator]()):wa,"%MapPrototype%":"undefined"==typeof Map?wa:Map.prototype,"%Math%":Math,"%Number%":Number,"%NumberPrototype%":Number.prototype,"%Object%":Object,"%ObjectPrototype%":Object.prototype,"%ObjProto_toString%":Object.prototype.toString,"%ObjProto_valueOf%":Object.prototype.valueOf,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?wa:Promise,"%PromisePrototype%":"undefined"==typeof Promise?wa:Promise.prototype,"%PromiseProto_then%":"undefined"==typeof Promise?wa:Promise.prototype.then,"%Promise_all%":"undefined"==typeof Promise?wa:Promise.all,"%Promise_reject%":"undefined"==typeof Promise?wa:Promise.reject,"%Promise_resolve%":"undefined"==typeof Promise?wa:Promise.resolve,"%Proxy%":"undefined"==typeof Proxy?wa:Proxy,"%RangeError%":RangeError,"%RangeErrorPrototype%":RangeError.prototype,"%ReferenceError%":ReferenceError,"%ReferenceErrorPrototype%":ReferenceError.prototype,"%Reflect%":"undefined"==typeof Reflect?wa:Reflect,"%RegExp%":RegExp,"%RegExpPrototype%":RegExp.prototype,"%Set%":"undefined"==typeof Set?wa:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&Oa?Ta((new Set)[Symbol.iterator]()):wa,"%SetPrototype%":"undefined"==typeof Set?wa:Set.prototype,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?wa:SharedArrayBuffer,"%SharedArrayBufferPrototype%":"undefined"==typeof SharedArrayBuffer?wa:SharedArrayBuffer.prototype,"%String%":String,"%StringIteratorPrototype%":Oa?Ta(""[Symbol.iterator]()):wa,"%StringPrototype%":String.prototype,"%Symbol%":Oa?Symbol:wa,"%SymbolPrototype%":Oa?Symbol.prototype:wa,"%SyntaxError%":SyntaxError,"%SyntaxErrorPrototype%":SyntaxError.prototype,"%ThrowTypeError%":_a,"%TypedArray%":Ra,"%TypedArrayPrototype%":Ra?Ra.prototype:wa,"%TypeError%":xa,"%TypeErrorPrototype%":xa.prototype,"%Uint8Array%":"undefined"==typeof Uint8Array?wa:Uint8Array,"%Uint8ArrayPrototype%":"undefined"==typeof Uint8Array?wa:Uint8Array.prototype,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?wa:Uint8ClampedArray,"%Uint8ClampedArrayPrototype%":"undefined"==typeof Uint8ClampedArray?wa:Uint8ClampedArray.prototype,"%Uint16Array%":"undefined"==typeof Uint16Array?wa:Uint16Array,"%Uint16ArrayPrototype%":"undefined"==typeof Uint16Array?wa:Uint16Array.prototype,"%Uint32Array%":"undefined"==typeof Uint32Array?wa:Uint32Array,"%Uint32ArrayPrototype%":"undefined"==typeof Uint32Array?wa:Uint32Array.prototype,"%URIError%":URIError,"%URIErrorPrototype%":URIError.prototype,"%WeakMap%":"undefined"==typeof WeakMap?wa:WeakMap,"%WeakMapPrototype%":"undefined"==typeof WeakMap?wa:WeakMap.prototype,"%WeakSet%":"undefined"==typeof WeakSet?wa:WeakSet,"%WeakSetPrototype%":"undefined"==typeof WeakSet?wa:WeakSet.prototype},Na=aa.call(Function.call,String.prototype.replace),Da=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Pa=/\\(\\)?/g,Ma=function(e){var t=[];return Na(e,Da,(function(e,n,r,o){t[t.length]=r?Na(o,Pa,"$1"):n||e})),t},Ia=function(e,t){if(!(e in Aa))throw new SyntaxError("intrinsic "+e+" does not exist!");if(void 0===Aa[e]&&!t)throw new xa("intrinsic "+e+" exists, but is not available. Please file an issue!");return Aa[e]},Fa=function(e,t){if("string"!=typeof e||0===e.length)throw new TypeError("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new TypeError('"allowMissing" argument must be a boolean');for(var n=Ma(e),r=Ia("%"+(n.length>0?n[0]:"")+"%",t),o=1;o<n.length;o+=1)if(null!=r)if(Ea&&o+1>=n.length){var i=Ea(r,n[o]);if(!t&&!(n[o]in r))throw new xa("base intrinsic for "+e+" exists, but the property is not available.");r=i?i.get||i.value:r[n[o]]}else r=r[n[o]];return r}("%Function%"),La=Fa.apply,Ba=Fa.call,ja=function(){return aa.apply(Ba,arguments)};ja.apply=function(){return aa.apply(La,arguments)};var za=Object,Va=TypeError,Ua=function(){if(null!=this&&this!==za(this))throw new Va("RegExp.prototype.flags getter called on non-object");var e="";return this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.dotAll&&(e+="s"),this.unicode&&(e+="u"),this.sticky&&(e+="y"),e},Ha=ka.supportsDescriptors,Ga=Object.getOwnPropertyDescriptor,Wa=TypeError,qa=function(){if(!Ha)throw new Wa("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");if("gim"===/a/gim.flags){var e=Ga(RegExp.prototype,"flags");if(e&&"function"==typeof e.get&&"boolean"==typeof/a/.dotAll)return e.get}return Ua},Ya=ka.supportsDescriptors,Ka=Object.getOwnPropertyDescriptor,$a=Object.defineProperty,Xa=TypeError,Ja=Object.getPrototypeOf,Qa=/a/,Za=ja(Ua);ka(Za,{getPolyfill:qa,implementation:Ua,shim:function(){if(!Ya||!Ja)throw new Xa("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var e=qa(),t=Ja(Qa),n=Ka(t,"flags");return n&&n.get===e||$a(t,"flags",{configurable:!0,enumerable:!1,get:e}),e}});var es=Za,ts=Date.prototype.getDay,ns=Object.prototype.toString,rs="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,os=function(e){return"object"==typeof e&&null!==e&&(rs?function(e){try{return ts.call(e),!0}catch(e){return!1}}(e):"[object Date]"===ns.call(e))},is=Date.prototype.getTime;function as(e,t,n){var r=n||{};return!!(r.strict?ta(e,t):e===t)||(!e||!t||"object"!=typeof e&&"object"!=typeof t?r.strict?ta(e,t):e==t:function(e,t,n){var r,o;if(typeof e!=typeof t)return!1;if(ss(e)||ss(t))return!1;if(e.prototype!==t.prototype)return!1;if(Zi(e)!==Zi(t))return!1;var i=pa(e),a=pa(t);if(i!==a)return!1;if(i||a)return e.source===t.source&&es(e)===es(t);if(os(e)&&os(t))return is.call(e)===is.call(t);var s=ls(e),l=ls(t);if(s!==l)return!1;if(s||l){if(e.length!==t.length)return!1;for(r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}if(typeof e!=typeof t)return!1;try{var u=Yi(e),c=Yi(t)}catch(e){return!1}if(u.length!==c.length)return!1;for(u.sort(),c.sort(),r=u.length-1;r>=0;r--)if(u[r]!=c[r])return!1;for(r=u.length-1;r>=0;r--)if(!as(e[o=u[r]],t[o],n))return!1;return!0}(e,t,r))}function ss(e){return null==e}function ls(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length)&&("function"==typeof e.copy&&"function"==typeof e.slice&&!(e.length>0&&"number"!=typeof e[0]))}for(var us=as,cs="undefined"!=typeof window&&"undefined"!=typeof document,ds=["Edge","Trident","Firefox"],ps=0,fs=0;fs<ds.length;fs+=1)if(cs&&navigator.userAgent.indexOf(ds[fs])>=0){ps=1;break}var hs=cs&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then((function(){t=!1,e()})))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout((function(){t=!1,e()}),ps))}};function ms(e){return e&&"[object Function]"==={}.toString.call(e)}function gs(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function vs(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function ys(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=gs(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/(auto|scroll|overlay)/.test(n+o+r)?e:ys(vs(e))}var bs=cs&&!(!window.MSInputMethodContext||!document.documentMode),ws=cs&&/MSIE 10/.test(navigator.userAgent);function ks(e){return 11===e?bs:10===e?ws:bs||ws}function Cs(e){if(!e)return document.documentElement;for(var t=ks(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===gs(n,"position")?Cs(n):n:e?e.ownerDocument.documentElement:document.documentElement}function xs(e){return null!==e.parentNode?xs(e.parentNode):e}function Es(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?e:t,o=n?t:e,i=document.createRange();i.setStart(r,0),i.setEnd(o,0);var a,s,l=i.commonAncestorContainer;if(e!==l&&t!==l||r.contains(o))return"BODY"===(s=(a=l).nodeName)||"HTML"!==s&&Cs(a.firstElementChild)!==a?Cs(l):l;var u=xs(e);return u.host?Es(u.host,t):Es(e,xs(t).host)}function Ss(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",n="top"===t?"scrollTop":"scrollLeft",r=e.nodeName;if("BODY"===r||"HTML"===r){var o=e.ownerDocument.documentElement,i=e.ownerDocument.scrollingElement||o;return i[n]}return e[n]}function _s(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Ss(t,"top"),o=Ss(t,"left"),i=n?-1:1;return e.top+=r*i,e.bottom+=r*i,e.left+=o*i,e.right+=o*i,e}function Os(e,t){var n="x"===t?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"],10)+parseFloat(e["border"+r+"Width"],10)}function Ts(e,t,n,r){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],ks(10)?parseInt(n["offset"+e])+parseInt(r["margin"+("Height"===e?"Top":"Left")])+parseInt(r["margin"+("Height"===e?"Bottom":"Right")]):0)}function Rs(e){var t=e.body,n=e.documentElement,r=ks(10)&&getComputedStyle(n);return{height:Ts("Height",t,n,r),width:Ts("Width",t,n,r)}}var As=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Ns=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Ds=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},Ps=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function Ms(e){return Ps({},e,{right:e.left+e.width,bottom:e.top+e.height})}function Is(e){var t={};try{if(ks(10)){t=e.getBoundingClientRect();var n=Ss(e,"top"),r=Ss(e,"left");t.top+=n,t.left+=r,t.bottom+=n,t.right+=r}else t=e.getBoundingClientRect()}catch(e){}var o={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},i="HTML"===e.nodeName?Rs(e.ownerDocument):{},a=i.width||e.clientWidth||o.right-o.left,s=i.height||e.clientHeight||o.bottom-o.top,l=e.offsetWidth-a,u=e.offsetHeight-s;if(l||u){var c=gs(e);l-=Os(c,"x"),u-=Os(c,"y"),o.width-=l,o.height-=u}return Ms(o)}function Fs(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=ks(10),o="HTML"===t.nodeName,i=Is(e),a=Is(t),s=ys(e),l=gs(t),u=parseFloat(l.borderTopWidth,10),c=parseFloat(l.borderLeftWidth,10);n&&o&&(a.top=Math.max(a.top,0),a.left=Math.max(a.left,0));var d=Ms({top:i.top-a.top-u,left:i.left-a.left-c,width:i.width,height:i.height});if(d.marginTop=0,d.marginLeft=0,!r&&o){var p=parseFloat(l.marginTop,10),f=parseFloat(l.marginLeft,10);d.top-=u-p,d.bottom-=u-p,d.left-=c-f,d.right-=c-f,d.marginTop=p,d.marginLeft=f}return(r&&!n?t.contains(s):t===s&&"BODY"!==s.nodeName)&&(d=_s(d,t)),d}function Ls(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,r=Fs(e,n),o=Math.max(n.clientWidth,window.innerWidth||0),i=Math.max(n.clientHeight,window.innerHeight||0),a=t?0:Ss(n),s=t?0:Ss(n,"left"),l={top:a-r.top+r.marginTop,left:s-r.left+r.marginLeft,width:o,height:i};return Ms(l)}function Bs(e){var t=e.nodeName;if("BODY"===t||"HTML"===t)return!1;if("fixed"===gs(e,"position"))return!0;var n=vs(e);return!!n&&Bs(n)}function js(e){if(!e||!e.parentElement||ks())return document.documentElement;for(var t=e.parentElement;t&&"none"===gs(t,"transform");)t=t.parentElement;return t||document.documentElement}function zs(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i={top:0,left:0},a=o?js(e):Es(e,t);if("viewport"===r)i=Ls(a,o);else{var s=void 0;"scrollParent"===r?"BODY"===(s=ys(vs(t))).nodeName&&(s=e.ownerDocument.documentElement):s="window"===r?e.ownerDocument.documentElement:r;var l=Fs(s,a,o);if("HTML"!==s.nodeName||Bs(a))i=l;else{var u=Rs(e.ownerDocument),c=u.height,d=u.width;i.top+=l.top-l.marginTop,i.bottom=c+l.top,i.left+=l.left-l.marginLeft,i.right=d+l.left}}var p="number"==typeof(n=n||0);return i.left+=p?n:n.left||0,i.top+=p?n:n.top||0,i.right-=p?n:n.right||0,i.bottom-=p?n:n.bottom||0,i}function Vs(e){return e.width*e.height}function Us(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var a=zs(n,r,i,o),s={top:{width:a.width,height:t.top-a.top},right:{width:a.right-t.right,height:a.height},bottom:{width:a.width,height:a.bottom-t.bottom},left:{width:t.left-a.left,height:a.height}},l=Object.keys(s).map((function(e){return Ps({key:e},s[e],{area:Vs(s[e])})})).sort((function(e,t){return t.area-e.area})),u=l.filter((function(e){var t=e.width,r=e.height;return t>=n.clientWidth&&r>=n.clientHeight})),c=u.length>0?u[0].key:l[0].key,d=e.split("-")[1];return c+(d?"-"+d:"")}function Hs(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=r?js(t):Es(t,n);return Fs(n,o,r)}function Gs(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),r=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+r,height:e.offsetHeight+n}}function Ws(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function qs(e,t,n){n=n.split("-")[0];var r=Gs(e),o={width:r.width,height:r.height},i=-1!==["right","left"].indexOf(n),a=i?"top":"left",s=i?"left":"top",l=i?"height":"width",u=i?"width":"height";return o[a]=t[a]+t[l]/2-r[l]/2,o[s]=n===s?t[s]-r[u]:t[Ws(s)],o}function Ys(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function Ks(e,t,n){return(void 0===n?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex((function(e){return e[t]===n}));var r=Ys(e,(function(e){return e[t]===n}));return e.indexOf(r)}(e,"name",n))).forEach((function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&ms(n)&&(t.offsets.popper=Ms(t.offsets.popper),t.offsets.reference=Ms(t.offsets.reference),t=n(t,e))})),t}function $s(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=Hs(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=Us(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=qs(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=Ks(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function Xs(e,t){return e.some((function(e){var n=e.name;return e.enabled&&n===t}))}function Js(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length;r++){var o=t[r],i=o?""+o+n:e;if(void 0!==document.body.style[i])return i}return null}function Qs(){return this.state.isDestroyed=!0,Xs(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[Js("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function Zs(e){var t=e.ownerDocument;return t?t.defaultView:window}function el(e,t,n,r){var o="BODY"===e.nodeName,i=o?e.ownerDocument.defaultView:e;i.addEventListener(t,n,{passive:!0}),o||el(ys(i.parentNode),t,n,r),r.push(i)}function tl(e,t,n,r){n.updateBound=r,Zs(e).addEventListener("resize",n.updateBound,{passive:!0});var o=ys(e);return el(o,"scroll",n.updateBound,n.scrollParents),n.scrollElement=o,n.eventsEnabled=!0,n}function nl(){this.state.eventsEnabled||(this.state=tl(this.reference,this.options,this.state,this.scheduleUpdate))}function rl(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,Zs(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.updateBound)})),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function ol(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function il(e,t){Object.keys(t).forEach((function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&ol(t[n])&&(r="px"),e.style[n]=t[n]+r}))}var al=cs&&/Firefox/i.test(navigator.userAgent);function sl(e,t,n){var r=Ys(e,(function(e){return e.name===t})),o=!!r&&e.some((function(e){return e.name===n&&e.enabled&&e.order<r.order}));if(!o){var i="`"+t+"`",a="`"+n+"`";console.warn(a+" modifier is required by "+i+" modifier in order to work, be sure to include it before "+i+"!")}return o}var ll=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],ul=ll.slice(3);function cl(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=ul.indexOf(e),r=ul.slice(n+1).concat(ul.slice(0,n));return t?r.reverse():r}var dl="flip",pl="clockwise",fl="counterclockwise";function hl(e,t,n,r){var o=[0,0],i=-1!==["right","left"].indexOf(r),a=e.split(/(\+|\-)/).map((function(e){return e.trim()})),s=a.indexOf(Ys(a,(function(e){return-1!==e.search(/,|\s/)})));a[s]&&-1===a[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,u=-1!==s?[a.slice(0,s).concat([a[s].split(l)[0]]),[a[s].split(l)[1]].concat(a.slice(s+1))]:[a];return(u=u.map((function(e,r){var o=(1===r?!i:i)?"height":"width",a=!1;return e.reduce((function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,a=!0,e):a?(e[e.length-1]+=t,a=!1,e):e.concat(t)}),[]).map((function(e){return function(e,t,n,r){var o=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),i=+o[1],a=o[2];if(!i)return e;if(0===a.indexOf("%")){var s=void 0;switch(a){case"%p":s=n;break;case"%":case"%r":default:s=r}return Ms(s)[t]/100*i}if("vh"===a||"vw"===a)return("vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*i;return i}(e,o,t,n)}))}))).forEach((function(e,t){e.forEach((function(n,r){ol(n)&&(o[t]+=n*("-"===e[r-1]?-1:1))}))})),o}var ml={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],r=t.split("-")[1];if(r){var o=e.offsets,i=o.reference,a=o.popper,s=-1!==["bottom","top"].indexOf(n),l=s?"left":"top",u=s?"width":"height",c={start:Ds({},l,i[l]),end:Ds({},l,i[l]+i[u]-a[u])};e.offsets.popper=Ps({},a,c[r])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n=t.offset,r=e.placement,o=e.offsets,i=o.popper,a=o.reference,s=r.split("-")[0],l=void 0;return l=ol(+n)?[+n,0]:hl(n,i,a,s),"left"===s?(i.top+=l[0],i.left-=l[1]):"right"===s?(i.top+=l[0],i.left+=l[1]):"top"===s?(i.left+=l[0],i.top-=l[1]):"bottom"===s&&(i.left+=l[0],i.top+=l[1]),e.popper=i,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||Cs(e.instance.popper);e.instance.reference===n&&(n=Cs(n));var r=Js("transform"),o=e.instance.popper.style,i=o.top,a=o.left,s=o[r];o.top="",o.left="",o[r]="";var l=zs(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);o.top=i,o.left=a,o[r]=s,t.boundaries=l;var u=t.priority,c=e.offsets.popper,d={primary:function(e){var n=c[e];return c[e]<l[e]&&!t.escapeWithReference&&(n=Math.max(c[e],l[e])),Ds({},e,n)},secondary:function(e){var n="right"===e?"left":"top",r=c[n];return c[e]>l[e]&&!t.escapeWithReference&&(r=Math.min(c[n],l[e]-("right"===e?c.width:c.height))),Ds({},n,r)}};return u.forEach((function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";c=Ps({},c,d[t](e))})),e.offsets.popper=c,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,r=t.reference,o=e.placement.split("-")[0],i=Math.floor,a=-1!==["top","bottom"].indexOf(o),s=a?"right":"bottom",l=a?"left":"top",u=a?"width":"height";return n[s]<i(r[l])&&(e.offsets.popper[l]=i(r[l])-n[u]),n[l]>i(r[s])&&(e.offsets.popper[l]=i(r[s])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!sl(e.instance.modifiers,"arrow","keepTogether"))return e;var r=t.element;if("string"==typeof r){if(!(r=e.instance.popper.querySelector(r)))return e}else if(!e.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var o=e.placement.split("-")[0],i=e.offsets,a=i.popper,s=i.reference,l=-1!==["left","right"].indexOf(o),u=l?"height":"width",c=l?"Top":"Left",d=c.toLowerCase(),p=l?"left":"top",f=l?"bottom":"right",h=Gs(r)[u];s[f]-h<a[d]&&(e.offsets.popper[d]-=a[d]-(s[f]-h)),s[d]+h>a[f]&&(e.offsets.popper[d]+=s[d]+h-a[f]),e.offsets.popper=Ms(e.offsets.popper);var m=s[d]+s[u]/2-h/2,g=gs(e.instance.popper),v=parseFloat(g["margin"+c],10),y=parseFloat(g["border"+c+"Width"],10),b=m-e.offsets.popper[d]-v-y;return b=Math.max(Math.min(a[u]-h,b),0),e.arrowElement=r,e.offsets.arrow=(Ds(n={},d,Math.round(b)),Ds(n,p,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(Xs(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=zs(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),r=e.placement.split("-")[0],o=Ws(r),i=e.placement.split("-")[1]||"",a=[];switch(t.behavior){case dl:a=[r,o];break;case pl:a=cl(r);break;case fl:a=cl(r,!0);break;default:a=t.behavior}return a.forEach((function(s,l){if(r!==s||a.length===l+1)return e;r=e.placement.split("-")[0],o=Ws(r);var u=e.offsets.popper,c=e.offsets.reference,d=Math.floor,p="left"===r&&d(u.right)>d(c.left)||"right"===r&&d(u.left)<d(c.right)||"top"===r&&d(u.bottom)>d(c.top)||"bottom"===r&&d(u.top)<d(c.bottom),f=d(u.left)<d(n.left),h=d(u.right)>d(n.right),m=d(u.top)<d(n.top),g=d(u.bottom)>d(n.bottom),v="left"===r&&f||"right"===r&&h||"top"===r&&m||"bottom"===r&&g,y=-1!==["top","bottom"].indexOf(r),b=!!t.flipVariations&&(y&&"start"===i&&f||y&&"end"===i&&h||!y&&"start"===i&&m||!y&&"end"===i&&g),w=!!t.flipVariationsByContent&&(y&&"start"===i&&h||y&&"end"===i&&f||!y&&"start"===i&&g||!y&&"end"===i&&m),k=b||w;(p||v||k)&&(e.flipped=!0,(p||v)&&(r=a[l+1]),k&&(i=function(e){return"end"===e?"start":"start"===e?"end":e}(i)),e.placement=r+(i?"-"+i:""),e.offsets.popper=Ps({},e.offsets.popper,qs(e.instance.popper,e.offsets.reference,e.placement)),e=Ks(e.instance.modifiers,e,"flip"))})),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],r=e.offsets,o=r.popper,i=r.reference,a=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return o[a?"left":"top"]=i[n]-(s?o[a?"width":"height"]:0),e.placement=Ws(t),e.offsets.popper=Ms(o),e}},hide:{order:800,enabled:!0,fn:function(e){if(!sl(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=Ys(e.instance.modifiers,(function(e){return"preventOverflow"===e.name})).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,r=t.y,o=e.offsets.popper,i=Ys(e.instance.modifiers,(function(e){return"applyStyle"===e.name})).gpuAcceleration;void 0!==i&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a=void 0!==i?i:t.gpuAcceleration,s=Cs(e.instance.popper),l=Is(s),u={position:o.position},c=function(e,t){var n=e.offsets,r=n.popper,o=n.reference,i=Math.round,a=Math.floor,s=function(e){return e},l=i(o.width),u=i(r.width),c=-1!==["left","right"].indexOf(e.placement),d=-1!==e.placement.indexOf("-"),p=t?c||d||l%2==u%2?i:a:s,f=t?i:s;return{left:p(l%2==1&&u%2==1&&!d&&t?r.left-1:r.left),top:f(r.top),bottom:f(r.bottom),right:p(r.right)}}(e,window.devicePixelRatio<2||!al),d="bottom"===n?"top":"bottom",p="right"===r?"left":"right",f=Js("transform"),h=void 0,m=void 0;if(m="bottom"===d?"HTML"===s.nodeName?-s.clientHeight+c.bottom:-l.height+c.bottom:c.top,h="right"===p?"HTML"===s.nodeName?-s.clientWidth+c.right:-l.width+c.right:c.left,a&&f)u[f]="translate3d("+h+"px, "+m+"px, 0)",u[d]=0,u[p]=0,u.willChange="transform";else{var g="bottom"===d?-1:1,v="right"===p?-1:1;u[d]=m*g,u[p]=h*v,u.willChange=d+", "+p}var y={"x-placement":e.placement};return e.attributes=Ps({},y,e.attributes),e.styles=Ps({},u,e.styles),e.arrowStyles=Ps({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,n;return il(e.instance.popper,e.styles),t=e.instance.popper,n=e.attributes,Object.keys(n).forEach((function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)})),e.arrowElement&&Object.keys(e.arrowStyles).length&&il(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,r,o){var i=Hs(o,t,e,n.positionFixed),a=Us(n.placement,i,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",a),il(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},gl=function(){function e(t,n){var r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};As(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=hs(this.update.bind(this)),this.options=Ps({},e.Defaults,o),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(Ps({},e.Defaults.modifiers,o.modifiers)).forEach((function(t){r.options.modifiers[t]=Ps({},e.Defaults.modifiers[t]||{},o.modifiers?o.modifiers[t]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(e){return Ps({name:e},r.options.modifiers[e])})).sort((function(e,t){return e.order-t.order})),this.modifiers.forEach((function(e){e.enabled&&ms(e.onLoad)&&e.onLoad(r.reference,r.popper,r.options,e,r.state)})),this.update();var i=this.options.eventsEnabled;i&&this.enableEventListeners(),this.state.eventsEnabled=i}return Ns(e,[{key:"update",value:function(){return $s.call(this)}},{key:"destroy",value:function(){return Qs.call(this)}},{key:"enableEventListeners",value:function(){return nl.call(this)}},{key:"disableEventListeners",value:function(){return rl.call(this)}}]),e}();gl.Utils=("undefined"!=typeof window?window:global).PopperUtils,gl.placements=ll,gl.Defaults=ml;var vl="__global_unique_id__",yl=function(){return Te[vl]=(Te[vl]||0)+1},bl=function(){};const wl=React;var kl=Ne((function(e,t){t.__esModule=!0,o(wl);var n=o(nn),r=o(yl);function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}o(bl);var l=1073741823;function u(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}t.default=function(e,t){var o,c,d="__create-react-context-"+(0,r.default)()+"__",p=function(e){function n(){var t,r;i(this,n);for(var o=arguments.length,s=Array(o),l=0;l<o;l++)s[l]=arguments[l];return t=r=a(this,e.call.apply(e,[this].concat(s))),r.emitter=u(r.props.value),a(r,t)}return s(n,e),n.prototype.getChildContext=function(){var e;return(e={})[d]=this.emitter,e},n.prototype.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n=this.props.value,r=e.value,o=void 0;!function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}(n,r)?(o="function"==typeof t?t(n,r):l,0!==(o|=0)&&this.emitter.set(e.value,o)):o=0}},n.prototype.render=function(){return this.props.children},n}(wl.Component);p.childContextTypes=((o={})[d]=n.default.object.isRequired,o);var f=function(t){function n(){var e,r;i(this,n);for(var o=arguments.length,s=Array(o),l=0;l<o;l++)s[l]=arguments[l];return e=r=a(this,t.call.apply(t,[this].concat(s))),r.state={value:r.getValue()},r.onUpdate=function(e,t){0!=((0|r.observedBits)&t)&&r.setState({value:r.getValue()})},a(r,e)}return s(n,t),n.prototype.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=null==t?l:t},n.prototype.componentDidMount=function(){this.context[d]&&this.context[d].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=null==e?l:e},n.prototype.componentWillUnmount=function(){this.context[d]&&this.context[d].off(this.onUpdate)},n.prototype.getValue=function(){return this.context[d]?this.context[d].get():e},n.prototype.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(wl.Component);return f.contextTypes=((c={})[d]=n.default.object,c),{Provider:p,Consumer:f}},e.exports=t.default})),Cl=Re(Ne((function(e,t){t.__esModule=!0;var n=o(wl),r=o(kl);function o(e){return e&&e.__esModule?e:{default:e}}t.default=n.default.createContext||r.default,e.exports=t.default}))),xl=Cl(),El=Cl(),Sl=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,Ri(_i(t),"referenceNode",void 0),Ri(_i(t),"setReferenceNode",(function(e){e&&t.referenceNode!==e&&(t.referenceNode=e,t.forceUpdate())})),t}Oi(t,e);var n=t.prototype;return n.componentWillUnmount=function(){this.referenceNode=null},n.render=function(){return React.createElement(xl.Provider,{value:this.referenceNode},React.createElement(El.Provider,{value:this.setReferenceNode},this.props.children))},t}(React.Component),_l=function(e){return Array.isArray(e)?e[0]:e},Ol=function(e){if("function"==typeof e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.apply(void 0,n)}},Tl=function(e,t){if("function"==typeof e)return Ol(e,t);null!=e&&(e.current=t)},Rl={position:"absolute",top:0,left:0,opacity:0,pointerEvents:"none"},Al={},Nl=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,Ri(_i(t),"state",{data:void 0,placement:void 0}),Ri(_i(t),"popperInstance",void 0),Ri(_i(t),"popperNode",null),Ri(_i(t),"arrowNode",null),Ri(_i(t),"setPopperNode",(function(e){e&&t.popperNode!==e&&(Tl(t.props.innerRef,e),t.popperNode=e,t.updatePopperInstance())})),Ri(_i(t),"setArrowNode",(function(e){t.arrowNode=e})),Ri(_i(t),"updateStateModifier",{enabled:!0,order:900,fn:function(e){var n=e.placement;return t.setState({data:e,placement:n}),e}}),Ri(_i(t),"getOptions",(function(){return{placement:t.props.placement,eventsEnabled:t.props.eventsEnabled,positionFixed:t.props.positionFixed,modifiers:Si({},t.props.modifiers,{arrow:Si({},t.props.modifiers&&t.props.modifiers.arrow,{enabled:!!t.arrowNode,element:t.arrowNode}),applyStyle:{enabled:!1},updateStateModifier:t.updateStateModifier})}})),Ri(_i(t),"getPopperStyle",(function(){return t.popperNode&&t.state.data?Si({position:t.state.data.offsets.popper.position},t.state.data.styles):Rl})),Ri(_i(t),"getPopperPlacement",(function(){return t.state.data?t.state.placement:void 0})),Ri(_i(t),"getArrowStyle",(function(){return t.arrowNode&&t.state.data?t.state.data.arrowStyles:Al})),Ri(_i(t),"getOutOfBoundariesState",(function(){return t.state.data?t.state.data.hide:void 0})),Ri(_i(t),"destroyPopperInstance",(function(){t.popperInstance&&(t.popperInstance.destroy(),t.popperInstance=null)})),Ri(_i(t),"updatePopperInstance",(function(){t.destroyPopperInstance();var e=_i(t).popperNode,n=t.props.referenceElement;n&&e&&(t.popperInstance=new gl(n,e,t.getOptions()))})),Ri(_i(t),"scheduleUpdate",(function(){t.popperInstance&&t.popperInstance.scheduleUpdate()})),t}Oi(t,e);var n=t.prototype;return n.componentDidUpdate=function(e,t){this.props.placement===e.placement&&this.props.referenceElement===e.referenceElement&&this.props.positionFixed===e.positionFixed&&us(this.props.modifiers,e.modifiers,{strict:!0})?this.props.eventsEnabled!==e.eventsEnabled&&this.popperInstance&&(this.props.eventsEnabled?this.popperInstance.enableEventListeners():this.popperInstance.disableEventListeners()):this.updatePopperInstance(),t.placement!==this.state.placement&&this.scheduleUpdate()},n.componentWillUnmount=function(){Tl(this.props.innerRef,null),this.destroyPopperInstance()},n.render=function(){return _l(this.props.children)({ref:this.setPopperNode,style:this.getPopperStyle(),placement:this.getPopperPlacement(),outOfBoundaries:this.getOutOfBoundariesState(),scheduleUpdate:this.scheduleUpdate,arrowProps:{ref:this.setArrowNode,style:this.getArrowStyle()}})},t}(React.Component);function Dl(e){var t=e.referenceElement,n=Ei(e,["referenceElement"]);return React.createElement(xl.Consumer,null,(function(e){return React.createElement(Nl,Si({referenceElement:void 0!==t?t:e},n))}))}Ri(Nl,"defaultProps",{placement:"bottom",eventsEnabled:!0,referenceElement:void 0,positionFixed:!1});var Pl=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,Ri(_i(t),"refHandler",(function(e){Tl(t.props.innerRef,e),Ol(t.props.setReferenceNode,e)})),t}Oi(t,e);var n=t.prototype;return n.componentWillUnmount=function(){Tl(this.props.innerRef,null)},n.render=function(){return bl(Boolean(this.props.setReferenceNode)),_l(this.props.children)({ref:this.refHandler})},t}(React.Component);function Ml(e){return React.createElement(El.Consumer,null,(function(t){return React.createElement(Pl,Si({setReferenceNode:t},e))}))}var Il,Fl=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e,t){function n(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}}function r(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o={p:r,P:function(e,t){var o,i=e.match(/(P+)(p+)?/),a=i[1],s=i[2];if(!s)return n(e,t);switch(a){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"})}return o.replace("{{date}}",n(a,t)).replace("{{time}}",r(s,t))}};t.default=o,e.exports=t.default})),Ll=(Il=Fl)&&Il.__esModule&&Object.prototype.hasOwnProperty.call(Il,"default")?Il.default:Il,Bl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jl=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},zl=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Vl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ul=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},Hl=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},Gl=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function Wl(e){var t=e?"string"==typeof e||e instanceof String?function(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=t||{},r=null==n.additionalDigits?2:Mn(n.additionalDigits);if(2!==r&&1!==r&&0!==r)throw new RangeError("additionalDigits must be 0, 1 or 2");if("string"!=typeof e&&"[object String]"!==Object.prototype.toString.call(e))return new Date(NaN);var o,i=ai(e);if(i.date){var a=si(i.date,r);o=li(a.restDateString,a.year)}if(isNaN(o)||!o)return new Date(NaN);var s,l=o.getTime(),u=0;if(i.time&&(u=ci(i.time),isNaN(u)||null===u))return new Date(NaN);if(i.timezone){if(s=pi(i.timezone),isNaN(s))return new Date(NaN)}else{var c=l+u,d=new Date(c);s=gr(d);var p=new Date(c);p.setDate(d.getDate()+1);var f=gr(p)-s;f>0&&(s+=f)}return new Date(l+u+s)}(e):En(e):new Date;return Yl(t)?t:null}function ql(e,t,n,r){var o=null,i=su(n)||au(),a=!0;return Array.isArray(t)?(t.forEach((function(t){var n=Qo(e,t,new Date,{locale:i});r&&(a=Yl(n)&&e===Or(n,t,{awareOfUnicodeTokens:!0})),Yl(n)&&a&&(o=n)})),o):(o=Qo(e,t,new Date,{locale:i}),r?a=Yl(o)&&e===Or(o,t,{awareOfUnicodeTokens:!0}):Yl(o)||(t=t.match(Gl).map((function(e){var t=e[0];if("p"===t||"P"===t){var n=Ll[t];return i?n(e,i.formatLong):t}return e})).join(""),e.length>0&&(o=Qo(e,t.slice(0,e.length),new Date)),Yl(o)||(o=new Date(e))),Yl(o)&&a?o:null)}function Yl(e){return Sn(e)&&io(e,new Date("1/1/1000"))}function Kl(e,t,n){if("en"===n)return Or(e,t,{awareOfUnicodeTokens:!0});var r=su(n);return n&&!r&&console.warn('A locale object was not found for the provided string ["'+n+'"].'),!r&&au()&&su(au())&&(r=su(au())),Or(e,t,{locale:r||null,awareOfUnicodeTokens:!0})}function $l(e,t){var n=t.hour,r=void 0===n?0:n,o=t.minute,i=void 0===o?0:o,a=t.second;return Kr(Yr(function(e,t){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=En(e),r=Mn(t);return n.setSeconds(r),n}(e,void 0===a?0:a),i),r)}function Xl(e){return function(e,t){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=En(e),r=Mn(t);n.setMonth(0),n.setDate(r)}(e,1),tu(function(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=t||{},r=n.locale,o=r&&r.options&&r.options.weekStartsOn,i=null==o?0:Mn(o),a=null==n.weekStartsOn?i:Mn(n.weekStartsOn);if(!(a>=0&&a<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var s=En(e),l=s.getDay(),u=6+(l<a?-7:0)-(l-a);return s.setDate(s.getDate()+u),s.setHours(23,59,59,999),s}(e),e)?function(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var r=ro(e,n),o=ro(t,n),i=r.getTime()-gr(r),a=o.getTime()-gr(o);return Math.round((i-a)/oo)}(e,function(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var t=En(e),n=new Date(0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}(e))+1:1}function Jl(e,t){return Kl(e,"ddd",t)}function Ql(e){return Zr(e)}function Zl(e,t){return ro(e,{locale:su(t||au())})}function eu(e){return function(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var t=En(e);return t.setDate(1),t.setHours(0,0,0,0),t}(e)}function tu(e,t){return e&&t?function(e,t){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=En(e),r=En(t);return n.getFullYear()===r.getFullYear()}(e,t):!e&&!t}function nu(e,t){return e&&t?function(e,t){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=En(e),r=En(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}(e,t):!e&&!t}function ru(e,t){return e&&t?function(e,t){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=Zr(e),r=Zr(t);return n.getTime()===r.getTime()}(e,t):!e&&!t}function ou(e,t){return e&&t?function(e,t){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=En(e),r=En(t);return n.getTime()===r.getTime()}(e,t):!e&&!t}function iu(e,t,n){var r=void 0;try{r=so(e,{start:t,end:n})}catch(e){r=!1}return r}function au(){return("undefined"!=typeof window?window:global).__localeId__}function su(e){if("string"==typeof e){var t="undefined"!=typeof window?window:global;return t.__localeData__?t.__localeData__[e]:null}return e}function lu(e,t){return Kl($r(Wl(),e),"LLL",t)}function uu(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minDate,r=t.maxDate,o=t.excludeDates,i=t.includeDates,a=t.filterDate;return pu(e,{minDate:n,maxDate:r})||o&&o.some((function(t){return ru(e,t)}))||i&&!i.some((function(t){return ru(e,t)}))||a&&!a(Wl(e))||!1}function cu(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minDate,r=t.maxDate,o=t.excludeDates,i=t.includeDates,a=t.filterDate;return pu(e,{minDate:n,maxDate:r})||o&&o.some((function(t){return nu(e,t)}))||i&&!i.some((function(t){return nu(e,t)}))||a&&!a(Wl(e))||!1}function du(e,t,n,r){var o=Wr(e),i=Gr(e),a=Wr(t),s=Gr(t),l=Wr(r);return o===a&&o===l?i<=n&&n<=s:o<a?l===o&&i<=n||l===a&&s>=n||l<a&&l>o:void 0}function pu(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minDate,r=t.maxDate;return n&&to(e,n)<0||r&&to(e,r)>0}function fu(e,t){for(var n=t.length,r=0;r<n;r++)if(Vr(t[r])===Vr(e)&&zr(t[r])===zr(e))return!0;return!1}function hu(e,t){var n=t.minTime,r=t.maxTime;if(!n||!r)throw new Error("Both minTime and maxTime props required");var o=Wl(),i=Kr(Yr(o,zr(e)),Vr(e)),a=Kr(Yr(o,zr(n)),Vr(n)),s=Kr(Yr(o,zr(r)),Vr(r)),l=void 0;try{l=!so(i,{start:a,end:s})}catch(e){l=!1}return l}function mu(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minDate,r=t.includeDates,o=Lr(e,1);return n&&no(n,o)>0||r&&r.every((function(e){return no(e,o)>0}))||!1}function gu(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.maxDate,r=t.includeDates,o=Ir(e,1);return n&&no(o,n)>0||r&&r.every((function(e){return no(o,e)>0}))||!1}function vu(e){var t=e.minDate,n=e.includeDates;return n&&t?Jr(n.filter((function(e){return to(e,t)>=0}))):n?Jr(n):t}function yu(e){var t=e.maxDate,n=e.includeDates;return n&&t?Qr(n.filter((function(e){return to(e,t)<=0}))):n?Qr(n):t}function bu(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"react-datepicker__day--highlighted",n=new Map,r=0,o=e.length;r<o;r++){var i=e[r];if(xn(i)){var a=Kl(i,"MM.dd.yyyy"),s=n.get(a)||[];s.includes(t)||(s.push(t),n.set(a,s))}else if("object"===(void 0===i?"undefined":Bl(i))){var l=Object.keys(i),u=l[0],c=i[l[0]];if("string"==typeof u&&c.constructor===Array)for(var d=0,p=c.length;d<p;d++){var f=Kl(c[d],"MM.dd.yyyy"),h=n.get(f)||[];h.includes(u)||(h.push(u),n.set(f,h))}}}return n}function wu(e,t,n,r,o){for(var i=o.length,a=[],s=0;s<i;s++){var l=Rr(Nr(e,Vr(o[s])),zr(o[s])),u=Rr(e,(n+1)*r);io(l,t)&&ao(l,u)&&a.push(o[s])}return a}function ku(e){return e<10?"0"+e:""+e}function Cu(e,t,n,r){for(var o=[],i=0;i<2*t+1;i++){var a=e+t-i,s=!0;n&&(s=Wr(n)<=a),r&&s&&(s=Wr(r)>=a),s&&o.push(a)}return o}var xu=xi(function(e){function t(n){jl(this,t);var r=Hl(this,e.call(this,n));r.renderOptions=function(){var e=r.props.year,t=r.state.yearsList.map((function(t){return React.createElement("div",{className:e===t?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:t,ref:t,onClick:r.onChange.bind(r,t)},e===t?React.createElement("span",{className:"react-datepicker__year-option--selected"},"✓"):"",t)})),n=r.props.minDate?Wr(r.props.minDate):null,o=r.props.maxDate?Wr(r.props.maxDate):null;return o&&r.state.yearsList.find((function(e){return e===o}))||t.unshift(React.createElement("div",{className:"react-datepicker__year-option",ref:"upcoming",key:"upcoming",onClick:r.incrementYears},React.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),n&&r.state.yearsList.find((function(e){return e===n}))||t.push(React.createElement("div",{className:"react-datepicker__year-option",ref:"previous",key:"previous",onClick:r.decrementYears},React.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),t},r.onChange=function(e){r.props.onChange(e)},r.handleClickOutside=function(){r.props.onCancel()},r.shiftYears=function(e){var t=r.state.yearsList.map((function(t){return t+e}));r.setState({yearsList:t})},r.incrementYears=function(){return r.shiftYears(1)},r.decrementYears=function(){return r.shiftYears(-1)};var o=n.yearDropdownItemNumber,i=n.scrollableYearDropdown,a=o||(i?10:5);return r.state={yearsList:Cu(r.props.year,a,r.props.minDate,r.props.maxDate)},r}return Ul(t,e),t.prototype.render=function(){var e=Cn({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return React.createElement("div",{className:e},this.renderOptions())},t}(React.Component)),Eu=function(e){function t(){var n,r;jl(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=Hl(this,e.call.apply(e,[this].concat(i))),r.state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var e=r.props.minDate?Wr(r.props.minDate):1900,t=r.props.maxDate?Wr(r.props.maxDate):2100,n=[],o=e;o<=t;o++)n.push(React.createElement("option",{key:o,value:o},o));return n},r.onSelectChange=function(e){r.onChange(e.target.value)},r.renderSelectMode=function(){return React.createElement("select",{value:r.props.year,className:"react-datepicker__year-select",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(e){return React.createElement("div",{key:"read",style:{visibility:e?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(e){return r.toggleDropdown(e)}},React.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),React.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},r.props.year))},r.renderDropdown=function(){return React.createElement(xu,{key:"dropdown",ref:"options",year:r.props.year,onChange:r.onChange,onCancel:r.toggleDropdown,minDate:r.props.minDate,maxDate:r.props.maxDate,scrollableYearDropdown:r.props.scrollableYearDropdown,yearDropdownItemNumber:r.props.yearDropdownItemNumber})},r.renderScrollMode=function(){var e=r.state.dropdownVisible,t=[r.renderReadView(!e)];return e&&t.unshift(r.renderDropdown()),t},r.onChange=function(e){r.toggleDropdown(),e!==r.props.year&&r.props.onChange(e)},r.toggleDropdown=function(e){r.setState({dropdownVisible:!r.state.dropdownVisible},(function(){r.props.adjustDateOnChange&&r.handleYearChange(r.props.date,e)}))},r.handleYearChange=function(e,t){r.onSelect(e,t),r.setOpen()},r.onSelect=function(e,t){r.props.onSelect&&r.props.onSelect(e,t)},r.setOpen=function(){r.props.setOpen&&r.props.setOpen(!0)},Hl(r,n)}return Ul(t,e),t.prototype.render=function(){var e=void 0;switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode();break;case"select":e=this.renderSelectMode()}return React.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--"+this.props.dropdownMode},e)},t}(React.Component),Su=xi(function(e){function t(){var n,r;jl(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=Hl(this,e.call.apply(e,[this].concat(i))),r.renderOptions=function(){return r.props.monthNames.map((function(e,t){return React.createElement("div",{className:r.props.month===t?"react-datepicker__month-option --selected_month":"react-datepicker__month-option",key:e,ref:e,onClick:r.onChange.bind(r,t)},r.props.month===t?React.createElement("span",{className:"react-datepicker__month-option--selected"},"✓"):"",e)}))},r.onChange=function(e){return r.props.onChange(e)},r.handleClickOutside=function(){return r.props.onCancel()},Hl(r,n)}return Ul(t,e),t.prototype.render=function(){return React.createElement("div",{className:"react-datepicker__month-dropdown"},this.renderOptions())},t}(React.Component)),_u=function(e){function t(){var n,r;jl(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=Hl(this,e.call.apply(e,[this].concat(i))),r.state={dropdownVisible:!1},r.renderSelectOptions=function(e){return e.map((function(e,t){return React.createElement("option",{key:t,value:t},e)}))},r.renderSelectMode=function(e){return React.createElement("select",{value:r.props.month,className:"react-datepicker__month-select",onChange:function(e){return r.onChange(e.target.value)}},r.renderSelectOptions(e))},r.renderReadView=function(e,t){return React.createElement("div",{key:"read",style:{visibility:e?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:r.toggleDropdown},React.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),React.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},t[r.props.month]))},r.renderDropdown=function(e){return React.createElement(Su,{key:"dropdown",ref:"options",month:r.props.month,monthNames:e,onChange:r.onChange,onCancel:r.toggleDropdown})},r.renderScrollMode=function(e){var t=r.state.dropdownVisible,n=[r.renderReadView(!t,e)];return t&&n.unshift(r.renderDropdown(e)),n},r.onChange=function(e){r.toggleDropdown(),e!==r.props.month&&r.props.onChange(e)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},Hl(r,n)}return Ul(t,e),t.prototype.render=function(){var e=this,t=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(t){return lu(t,e.props.locale)}:function(t){return function(e,t){return Kl($r(Wl(),e),"LLLL",t)}(t,e.props.locale)}),n=void 0;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode(t);break;case"select":n=this.renderSelectMode(t)}return React.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--"+this.props.dropdownMode},n)},t}(React.Component);function Ou(e,t){for(var n=[],r=eu(e),o=eu(t);!io(r,o);)n.push(Wl(r)),r=Ir(r,1);return n}var Tu=xi(function(e){function t(n){jl(this,t);var r=Hl(this,e.call(this,n));return r.renderOptions=function(){return r.state.monthYearsList.map((function(e){var t=qr(e),n=tu(r.props.date,e)&&nu(r.props.date,e);return React.createElement("div",{className:n?"react-datepicker__month-year-option --selected_month-year":"react-datepicker__month-year-option",key:t,ref:t,onClick:r.onChange.bind(r,t)},n?React.createElement("span",{className:"react-datepicker__month-year-option--selected"},"✓"):"",Kl(e,r.props.dateFormat))}))},r.onChange=function(e){return r.props.onChange(e)},r.handleClickOutside=function(){r.props.onCancel()},r.state={monthYearsList:Ou(r.props.minDate,r.props.maxDate)},r}return Ul(t,e),t.prototype.render=function(){var e=Cn({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return React.createElement("div",{className:e},this.renderOptions())},t}(React.Component)),Ru=function(e){function t(){var n,r;jl(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=Hl(this,e.call.apply(e,[this].concat(i))),r.state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var e=eu(r.props.minDate),t=eu(r.props.maxDate),n=[];!io(e,t);){var o=qr(e);n.push(React.createElement("option",{key:o,value:o},Kl(e,r.props.dateFormat,r.props.locale))),e=Ir(e,1)}return n},r.onSelectChange=function(e){r.onChange(e.target.value)},r.renderSelectMode=function(){return React.createElement("select",{value:qr(eu(r.props.date)),className:"react-datepicker__month-year-select",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(e){var t=Kl(r.props.date,r.props.dateFormat,r.props.locale);return React.createElement("div",{key:"read",style:{visibility:e?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:function(e){return r.toggleDropdown(e)}},React.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),React.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},t))},r.renderDropdown=function(){return React.createElement(Tu,{key:"dropdown",ref:"options",date:r.props.date,dateFormat:r.props.dateFormat,onChange:r.onChange,onCancel:r.toggleDropdown,minDate:r.props.minDate,maxDate:r.props.maxDate,scrollableMonthYearDropdown:r.props.scrollableMonthYearDropdown})},r.renderScrollMode=function(){var e=r.state.dropdownVisible,t=[r.renderReadView(!e)];return e&&t.unshift(r.renderDropdown()),t},r.onChange=function(e){r.toggleDropdown();var t=Wl(parseInt(e));tu(r.props.date,t)&&nu(r.props.date,t)||r.props.onChange(t)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},Hl(r,n)}return Ul(t,e),t.prototype.render=function(){var e=void 0;switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode();break;case"select":e=this.renderSelectMode()}return React.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--"+this.props.dropdownMode},e)},t}(React.Component),Au=function(e){function t(){var n,r;jl(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=Hl(this,e.call.apply(e,[this].concat(i))),r.handleClick=function(e){!r.isDisabled()&&r.props.onClick&&r.props.onClick(e)},r.handleMouseEnter=function(e){!r.isDisabled()&&r.props.onMouseEnter&&r.props.onMouseEnter(e)},r.isSameDay=function(e){return ru(r.props.day,e)},r.isKeyboardSelected=function(){return!r.props.disabledKeyboardNavigation&&!r.props.inline&&!r.isSameDay(r.props.selected)&&r.isSameDay(r.props.preSelection)},r.isDisabled=function(){return uu(r.props.day,r.props)},r.getHighLightedClass=function(e){var t=r.props,n=t.day,o=t.highlightDates;if(!o)return!1;var i=Kl(n,"MM.dd.yyyy");return o.get(i)},r.isInRange=function(){var e=r.props,t=e.day,n=e.startDate,o=e.endDate;return!(!n||!o)&&iu(t,n,o)},r.isInSelectingRange=function(){var e=r.props,t=e.day,n=e.selectsStart,o=e.selectsEnd,i=e.selectingDate,a=e.startDate,s=e.endDate;return!(!n&&!o||!i||r.isDisabled())&&(n&&s&&(ao(i,s)||ou(i,s))?iu(t,i,s):!(!o||!a||!io(i,a)&&!ou(i,a))&&iu(t,a,i))},r.isSelectingRangeStart=function(){if(!r.isInSelectingRange())return!1;var e=r.props,t=e.day,n=e.selectingDate,o=e.startDate;return ru(t,e.selectsStart?n:o)},r.isSelectingRangeEnd=function(){if(!r.isInSelectingRange())return!1;var e=r.props,t=e.day,n=e.selectingDate,o=e.endDate;return ru(t,e.selectsEnd?n:o)},r.isRangeStart=function(){var e=r.props,t=e.day,n=e.startDate,o=e.endDate;return!(!n||!o)&&ru(n,t)},r.isRangeEnd=function(){var e=r.props,t=e.day,n=e.startDate,o=e.endDate;return!(!n||!o)&&ru(o,t)},r.isWeekend=function(){var e=Ur(r.props.day);return 0===e||6===e},r.isOutsideMonth=function(){return void 0!==r.props.month&&r.props.month!==Gr(r.props.day)},r.getClassNames=function(e){var t=r.props.dayClassName?r.props.dayClassName(e):void 0;return Cn("react-datepicker__day",t,"react-datepicker__day--"+Jl(r.props.day),{"react-datepicker__day--disabled":r.isDisabled(),"react-datepicker__day--selected":r.isSameDay(r.props.selected),"react-datepicker__day--keyboard-selected":r.isKeyboardSelected(),"react-datepicker__day--range-start":r.isRangeStart(),"react-datepicker__day--range-end":r.isRangeEnd(),"react-datepicker__day--in-range":r.isInRange(),"react-datepicker__day--in-selecting-range":r.isInSelectingRange(),"react-datepicker__day--selecting-range-start":r.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":r.isSelectingRangeEnd(),"react-datepicker__day--today":r.isSameDay(Wl()),"react-datepicker__day--weekend":r.isWeekend(),"react-datepicker__day--outside-month":r.isOutsideMonth()},r.getHighLightedClass("react-datepicker__day--highlighted"))},Hl(r,n)}return Ul(t,e),t.prototype.render=function(){return React.createElement("div",{className:this.getClassNames(this.props.day),onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,"aria-label":"day-"+Hr(this.props.day),role:"option"},this.props.renderDayContents?this.props.renderDayContents(Hr(this.props.day),this.props.day):Hr(this.props.day))},t}(React.Component),Nu=function(e){function t(){var n,r;jl(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=Hl(this,e.call.apply(e,[this].concat(i))),r.handleClick=function(e){r.props.onClick&&r.props.onClick(e)},Hl(r,n)}return Ul(t,e),t.prototype.render=function(){var e={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!this.props.onClick};return React.createElement("div",{className:Cn(e),"aria-label":"week-"+this.props.weekNumber,onClick:this.handleClick},this.props.weekNumber)},t}(React.Component),Du=function(e){function t(){var n,r;jl(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=Hl(this,e.call.apply(e,[this].concat(i))),r.handleDayClick=function(e,t){r.props.onDayClick&&r.props.onDayClick(e,t)},r.handleDayMouseEnter=function(e){r.props.onDayMouseEnter&&r.props.onDayMouseEnter(e)},r.handleWeekClick=function(e,t,n){"function"==typeof r.props.onWeekSelect&&r.props.onWeekSelect(e,t,n),r.props.shouldCloseOnSelect&&r.props.setOpen(!1)},r.formatWeekNumber=function(e){return r.props.formatWeekNumber?r.props.formatWeekNumber(e):Xl(e)},r.renderDays=function(){var e=Zl(r.props.day,r.props.locale),t=[],n=r.formatWeekNumber(e);if(r.props.showWeekNumber){var o=r.props.onWeekSelect?r.handleWeekClick.bind(r,e,n):void 0;t.push(React.createElement(Nu,{key:"W",weekNumber:n,onClick:o}))}return t.concat([0,1,2,3,4,5,6].map((function(t){var n=Dr(e,t);return React.createElement(Au,{key:t,day:n,month:r.props.month,onClick:r.handleDayClick.bind(r,n),onMouseEnter:r.handleDayMouseEnter.bind(r,n),minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,inline:r.props.inline,highlightDates:r.props.highlightDates,selectingDate:r.props.selectingDate,filterDate:r.props.filterDate,preSelection:r.props.preSelection,selected:r.props.selected,selectsStart:r.props.selectsStart,selectsEnd:r.props.selectsEnd,startDate:r.props.startDate,endDate:r.props.endDate,dayClassName:r.props.dayClassName,renderDayContents:r.props.renderDayContents,disabledKeyboardNavigation:r.props.disabledKeyboardNavigation})})))},Hl(r,n)}return Ul(t,e),t.prototype.render=function(){return React.createElement("div",{className:"react-datepicker__week"},this.renderDays())},zl(t,null,[{key:"defaultProps",get:function(){return{shouldCloseOnSelect:!0}}}]),t}(React.Component),Pu=function(e){function t(){var n,r;jl(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=Hl(this,e.call.apply(e,[this].concat(i))),r.handleDayClick=function(e,t){r.props.onDayClick&&r.props.onDayClick(e,t,r.props.orderInDisplay)},r.handleDayMouseEnter=function(e){r.props.onDayMouseEnter&&r.props.onDayMouseEnter(e)},r.handleMouseLeave=function(){r.props.onMouseLeave&&r.props.onMouseLeave()},r.isRangeStart=function(e){var t=r.props,n=t.day,o=t.startDate,i=t.endDate;return!(!o||!i)&&nu($r(n,e),o)},r.isRangeEnd=function(e){var t=r.props,n=t.day,o=t.startDate,i=t.endDate;return!(!o||!i)&&nu($r(n,e),i)},r.isWeekInMonth=function(e){var t=r.props.day,n=Dr(e,6);return nu(e,t)||nu(n,t)},r.renderWeeks=function(){for(var e=[],t=r.props.fixedHeight,n=Zl(eu(r.props.day),r.props.locale),o=0,i=!1;e.push(React.createElement(Du,{key:o,day:n,month:Gr(r.props.day),onDayClick:r.handleDayClick,onDayMouseEnter:r.handleDayMouseEnter,onWeekSelect:r.props.onWeekSelect,formatWeekNumber:r.props.formatWeekNumber,locale:r.props.locale,minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,inline:r.props.inline,highlightDates:r.props.highlightDates,selectingDate:r.props.selectingDate,filterDate:r.props.filterDate,preSelection:r.props.preSelection,selected:r.props.selected,selectsStart:r.props.selectsStart,selectsEnd:r.props.selectsEnd,showWeekNumber:r.props.showWeekNumbers,startDate:r.props.startDate,endDate:r.props.endDate,dayClassName:r.props.dayClassName,setOpen:r.props.setOpen,shouldCloseOnSelect:r.props.shouldCloseOnSelect,disabledKeyboardNavigation:r.props.disabledKeyboardNavigation,renderDayContents:r.props.renderDayContents})),!i;){o++,n=Pr(n,1);var a=t&&o>=6,s=!t&&!r.isWeekInMonth(n);if(a||s){if(!r.props.peekNextMonth)break;i=!0}}return e},r.onMonthClick=function(e,t){r.handleDayClick(eu($r(r.props.day,t)))},r.getMonthClassNames=function(e){var t=r.props,n=t.day,o=t.startDate,i=t.endDate,a=t.selected,s=t.minDate,l=t.maxDate;return Cn("react-datepicker__month-text","react-datepicker__month-"+e,{"react-datepicker__month--disabled":(s||l)&&cu($r(n,e),r.props),"react-datepicker__month--selected":Gr(n)===e&&Wr(n)===Wr(a),"react-datepicker__month--in-range":du(o,i,e,n),"react-datepicker__month--range-start":r.isRangeStart(e),"react-datepicker__month--range-end":r.isRangeEnd(e)})},r.renderMonths=function(){return[[0,1,2],[3,4,5],[6,7,8],[9,10,11]].map((function(e,t){return React.createElement("div",{className:"react-datepicker__month-wrapper",key:t},e.map((function(e,t){return React.createElement("div",{key:t,onClick:function(t){r.onMonthClick(t.target,e)},className:r.getMonthClassNames(e)},lu(e,r.props.locale))})))}))},r.getClassNames=function(){var e=r.props,t=e.selectingDate,n=e.selectsStart,o=e.selectsEnd,i=e.showMonthYearPicker;return Cn("react-datepicker__month",{"react-datepicker__month--selecting-range":t&&(n||o)},{"react-datepicker__monthPicker":i})},Hl(r,n)}return Ul(t,e),t.prototype.render=function(){var e=this.props.showMonthYearPicker;return React.createElement("div",{className:this.getClassNames(),onMouseLeave:this.handleMouseLeave,role:"listbox","aria-label":"month-"+Kl(this.props.day,"yyyy-MM")},e?this.renderMonths():this.renderWeeks())},t}(React.Component),Mu=function(e){function t(){var n,r;jl(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=Hl(this,e.call.apply(e,[this].concat(i))),r.state={height:null},r.handleClick=function(e){(r.props.minTime||r.props.maxTime)&&hu(e,r.props)||r.props.excludeTimes&&fu(e,r.props.excludeTimes)||r.props.includeTimes&&!fu(e,r.props.includeTimes)||r.props.onChange(e)},r.liClasses=function(e,t,n){var o=["react-datepicker__time-list-item"];return t===Vr(e)&&n===zr(e)&&o.push("react-datepicker__time-list-item--selected"),((r.props.minTime||r.props.maxTime)&&hu(e,r.props)||r.props.excludeTimes&&fu(e,r.props.excludeTimes)||r.props.includeTimes&&!fu(e,r.props.includeTimes))&&o.push("react-datepicker__time-list-item--disabled"),r.props.injectTimes&&(60*Vr(e)+zr(e))%r.props.intervals!=0&&o.push("react-datepicker__time-list-item--injected"),o.join(" ")},r.renderTimes=function(){for(var e=[],t=r.props.format?r.props.format:"p",n=r.props.intervals,o=r.props.selected?r.props.selected:Wl(),i=Vr(o),a=zr(o),s=Ql(Wl()),l=1440/n,u=r.props.injectTimes&&r.props.injectTimes.sort((function(e,t){return e-t})),c=0;c<l;c++){var d=Rr(s,c*n);if(e.push(d),u){var p=wu(s,d,c,n,u);e=e.concat(p)}}return e.map((function(e,n){return React.createElement("li",{key:n,onClick:r.handleClick.bind(r,e),className:r.liClasses(e,i,a),ref:function(t){(i===Vr(e)&&a===zr(e)||i===Vr(e)&&!r.centerLi)&&(r.centerLi=t)}},Kl(e,t,r.props.locale))}))},Hl(r,n)}return Ul(t,e),t.prototype.componentDidMount=function(){this.list.scrollTop=t.calcCenterPosition(this.props.monthRef?this.props.monthRef.clientHeight-this.header.clientHeight:this.list.clientHeight,this.centerLi),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},t.prototype.render=function(){var e=this,t=this.state.height;return React.createElement("div",{className:"react-datepicker__time-container "+(this.props.todayButton?"react-datepicker__time-container--with-today-button":"")},React.createElement("div",{className:"react-datepicker__header react-datepicker__header--time",ref:function(t){e.header=t}},React.createElement("div",{className:"react-datepicker-time__header"},this.props.timeCaption)),React.createElement("div",{className:"react-datepicker__time"},React.createElement("div",{className:"react-datepicker__time-box"},React.createElement("ul",{className:"react-datepicker__time-list",ref:function(t){e.list=t},style:t?{height:t}:{}},this.renderTimes.bind(this)()))))},zl(t,null,[{key:"defaultProps",get:function(){return{intervals:30,onTimeChange:function(){},todayButton:null,timeCaption:"Time"}}}]),t}(React.Component);Mu.calcCenterPosition=function(e,t){return t.offsetTop-(e/2-t.clientHeight/2)};var Iu=function(e){function t(n){jl(this,t);var r=Hl(this,e.call(this,n));return r.onTimeChange=function(e){r.setState({time:e});var t=new Date;t.setHours(e.split(":")[0]),t.setMinutes(e.split(":")[1]),r.props.onChange(t)},r.state={time:r.props.timeString},r}return Ul(t,e),t.prototype.render=function(){var e=this,t=this.state.time,n=this.props.timeString;return React.createElement("div",{className:"react-datepicker__input-time-container"},React.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),React.createElement("div",{className:"react-datepicker-time__input-container"},React.createElement("div",{className:"react-datepicker-time__input"},React.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",required:!0,value:t,onChange:function(t){e.onTimeChange(t.target.value||n)}}))))},t}(React.Component);function Fu(e){var t=e.className,n=e.children,r=e.arrowProps,o=void 0===r?{}:r;return React.createElement("div",{className:t},React.createElement("div",Vl({className:"react-datepicker__triangle"},o)),n)}var Lu=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],Bu=function(e){function t(n){jl(this,t);var r=Hl(this,e.call(this,n));return r.handleClickOutside=function(e){r.props.onClickOutside(e)},r.handleDropdownFocus=function(e){(function(){var e=((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).className||"").split(/\s+/);return Lu.some((function(t){return e.indexOf(t)>=0}))})(e.target)&&r.props.onDropdownFocus()},r.getDateInView=function(){var e=r.props,t=e.preSelection,n=e.selected,o=e.openToDate,i=vu(r.props),a=yu(r.props),s=Wl(),l=o||n||t;return l||(i&&ao(s,i)?i:a&&io(s,a)?a:s)},r.increaseMonth=function(){r.setState({date:Ir(r.state.date,1)},(function(){return r.handleMonthChange(r.state.date)}))},r.decreaseMonth=function(){r.setState({date:Lr(r.state.date,1)},(function(){return r.handleMonthChange(r.state.date)}))},r.handleDayClick=function(e,t,n){return r.props.onSelect(e,t,n)},r.handleDayMouseEnter=function(e){r.setState({selectingDate:e}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(e)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:null}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearChange=function(e){r.props.onYearChange&&r.props.onYearChange(e)},r.handleMonthChange=function(e){r.props.onMonthChange&&r.props.onMonthChange(e),r.props.adjustDateOnChange&&(r.props.onSelect&&r.props.onSelect(e),r.props.setOpen&&r.props.setOpen(!0))},r.handleMonthYearChange=function(e){r.handleYearChange(e),r.handleMonthChange(e)},r.changeYear=function(e){r.setState({date:Xr(r.state.date,e)},(function(){return r.handleYearChange(r.state.date)}))},r.changeMonth=function(e){r.setState({date:$r(r.state.date,e)},(function(){return r.handleMonthChange(r.state.date)}))},r.changeMonthYear=function(e){r.setState({date:Xr($r(r.state.date,Gr(e)),Wr(e))},(function(){return r.handleMonthYearChange(r.state.date)}))},r.header=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.state.date,t=Zl(e,r.props.locale),n=[];return r.props.showWeekNumbers&&n.push(React.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),n.concat([0,1,2,3,4,5,6].map((function(e){var n=Dr(t,e),o=r.formatWeekday(n,r.props.locale);return React.createElement("div",{key:e,className:"react-datepicker__day-name"},o)})))},r.formatWeekday=function(e,t){return r.props.formatWeekDay?function(e,t,n){return t(Kl(e,"EEEE",n))}(e,r.props.formatWeekDay,t):r.props.useWeekdaysShort?function(e,t){return Kl(e,"EEE",t)}(e,t):function(e,t){return Kl(e,"EEEEEE",t)}(e,t)},r.decreaseYear=function(){r.setState({date:Br(r.state.date,1)},(function(){return r.handleYearChange(r.state.date)}))},r.renderPreviousButton=function(){if(!r.props.renderCustomHeader){var e=mu(r.state.date,r.props);if((r.props.forceShowMonthNavigation||r.props.showDisabledMonthNavigation||!e)&&!r.props.showTimeSelectOnly){var t=["react-datepicker__navigation","react-datepicker__navigation--previous"],n=r.decreaseMonth;return r.props.showMonthYearPicker&&(n=r.decreaseYear),e&&r.props.showDisabledMonthNavigation&&(t.push("react-datepicker__navigation--previous--disabled"),n=null),React.createElement("button",{type:"button",className:t.join(" "),onClick:n},r.props.showMonthYearPicker?r.props.previousYearButtonLabel:r.props.previousMonthButtonLabel)}}},r.increaseYear=function(){r.setState({date:Fr(r.state.date,1)},(function(){return r.handleYearChange(r.state.date)}))},r.renderNextButton=function(){if(!r.props.renderCustomHeader){var e=gu(r.state.date,r.props);if((r.props.forceShowMonthNavigation||r.props.showDisabledMonthNavigation||!e)&&!r.props.showTimeSelectOnly){var t=["react-datepicker__navigation","react-datepicker__navigation--next"];r.props.showTimeSelect&&t.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&t.push("react-datepicker__navigation--next--with-today-button");var n=r.increaseMonth;return r.props.showMonthYearPicker&&(n=r.increaseYear),e&&r.props.showDisabledMonthNavigation&&(t.push("react-datepicker__navigation--next--disabled"),n=null),React.createElement("button",{type:"button",className:t.join(" "),onClick:n},r.props.showMonthYearPicker?r.props.nextYearButtonLabel:r.props.nextMonthButtonLabel)}}},r.renderCurrentMonth=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.state.date,t=["react-datepicker__current-month"];return r.props.showYearDropdown&&t.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&t.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&t.push("react-datepicker__current-month--hasMonthYearDropdown"),React.createElement("div",{className:t.join(" ")},Kl(e,r.props.dateFormat,r.props.locale))},r.renderYearDropdown=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(r.props.showYearDropdown&&!e)return React.createElement(Eu,{adjustDateOnChange:r.props.adjustDateOnChange,date:r.state.date,onSelect:r.props.onSelect,setOpen:r.props.setOpen,dropdownMode:r.props.dropdownMode,onChange:r.changeYear,minDate:r.props.minDate,maxDate:r.props.maxDate,year:Wr(r.state.date),scrollableYearDropdown:r.props.scrollableYearDropdown,yearDropdownItemNumber:r.props.yearDropdownItemNumber})},r.renderMonthDropdown=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(r.props.showMonthDropdown&&!e)return React.createElement(_u,{dropdownMode:r.props.dropdownMode,locale:r.props.locale,onChange:r.changeMonth,month:Gr(r.state.date),useShortMonthInDropdown:r.props.useShortMonthInDropdown})},r.renderMonthYearDropdown=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(r.props.showMonthYearDropdown&&!e)return React.createElement(Ru,{dropdownMode:r.props.dropdownMode,locale:r.props.locale,dateFormat:r.props.dateFormat,onChange:r.changeMonthYear,minDate:r.props.minDate,maxDate:r.props.maxDate,date:r.state.date,scrollableMonthYearDropdown:r.props.scrollableMonthYearDropdown})},r.renderTodayButton=function(){if(r.props.todayButton&&!r.props.showTimeSelectOnly)return React.createElement("div",{className:"react-datepicker__today-button",onClick:function(e){return r.props.onSelect(Zr(Wl()),e)}},r.props.todayButton)},r.renderDefaultHeader=function(e){var t=e.monthDate,n=e.i;return React.createElement("div",{className:"react-datepicker__header"},r.renderCurrentMonth(t),React.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--"+r.props.dropdownMode,onFocus:r.handleDropdownFocus},r.renderMonthDropdown(0!==n),r.renderMonthYearDropdown(0!==n),r.renderYearDropdown(0!==n)),React.createElement("div",{className:"react-datepicker__day-names"},r.header(t)))},r.renderCustomHeader=function(e){var t=e.monthDate;if(0!==e.i)return null;var n=mu(r.state.date,r.props),o=gu(r.state.date,r.props);return React.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},r.props.renderCustomHeader(Vl({},r.state,{changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,prevMonthButtonDisabled:n,nextMonthButtonDisabled:o})),React.createElement("div",{className:"react-datepicker__day-names"},r.header(t)))},r.renderYearHeader=function(){return React.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},Wr(r.state.date))},r.renderMonths=function(){if(!r.props.showTimeSelectOnly){for(var e=[],t=0;t<r.props.monthsShown;++t){var n=t-r.props.monthSelectedIn,o=Ir(r.state.date,n),i="month-"+t;e.push(React.createElement("div",{key:i,ref:function(e){r.monthContainer=e},className:"react-datepicker__month-container"},r.props.showMonthYearPicker?r.renderYearHeader({monthDate:o,i:t}):r.props.renderCustomHeader?r.renderCustomHeader({monthDate:o,i:t}):r.renderDefaultHeader({monthDate:o,i:t}),React.createElement(Pu,{onChange:r.changeMonthYear,day:o,dayClassName:r.props.dayClassName,onDayClick:r.handleDayClick,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,onWeekSelect:r.props.onWeekSelect,orderInDisplay:t,formatWeekNumber:r.props.formatWeekNumber,locale:r.props.locale,minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,highlightDates:r.props.highlightDates,selectingDate:r.state.selectingDate,includeDates:r.props.includeDates,inline:r.props.inline,fixedHeight:r.props.fixedHeight,filterDate:r.props.filterDate,preSelection:r.props.preSelection,selected:r.props.selected,selectsStart:r.props.selectsStart,selectsEnd:r.props.selectsEnd,showWeekNumbers:r.props.showWeekNumbers,startDate:r.props.startDate,endDate:r.props.endDate,peekNextMonth:r.props.peekNextMonth,setOpen:r.props.setOpen,shouldCloseOnSelect:r.props.shouldCloseOnSelect,renderDayContents:r.props.renderDayContents,disabledKeyboardNavigation:r.props.disabledKeyboardNavigation,showMonthYearPicker:r.props.showMonthYearPicker})))}return e}},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return React.createElement(Mu,{selected:r.props.selected,onChange:r.props.onTimeChange,format:r.props.timeFormat,includeTimes:r.props.includeTimes,intervals:r.props.timeIntervals,minTime:r.props.minTime,maxTime:r.props.maxTime,excludeTimes:r.props.excludeTimes,timeCaption:r.props.timeCaption,todayButton:r.props.todayButton,showMonthDropdown:r.props.showMonthDropdown,showMonthYearDropdown:r.props.showMonthYearDropdown,showYearDropdown:r.props.showYearDropdown,withPortal:r.props.withPortal,monthRef:r.state.monthContainer,injectTimes:r.props.injectTimes,locale:r.props.locale})},r.renderInputTimeSection=function(){var e=new Date(r.props.selected),t=ku(e.getHours())+":"+ku(e.getMinutes());if(r.props.showTimeInput)return React.createElement(Iu,{timeString:t,timeInputLabel:r.props.timeInputLabel,onChange:r.props.onTimeChange})},r.state={date:r.getDateInView(),selectingDate:null,monthContainer:null},r}return Ul(t,e),zl(t,null,[{key:"defaultProps",get:function(){return{onDropdownFocus:function(){},monthsShown:1,monthSelectedIn:0,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month"}}}]),t.prototype.componentDidMount=function(){var e=this;this.props.showTimeSelect&&(this.assignMonthContainer=void e.setState({monthContainer:e.monthContainer}))},t.prototype.componentDidUpdate=function(e){this.props.preSelection&&!ru(this.props.preSelection,e.preSelection)?this.setState({date:this.props.preSelection}):this.props.openToDate&&!ru(this.props.openToDate,e.openToDate)&&this.setState({date:this.props.openToDate})},t.prototype.render=function(){var e=this.props.container||Fu;return React.createElement(e,{className:Cn("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly})},this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.props.children)},t}(React.Component),ju=function(e){function t(){return jl(this,t),Hl(this,e.apply(this,arguments))}return Ul(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.hidePopper,r=e.popperComponent,o=e.popperModifiers,i=e.popperPlacement,a=e.popperProps,s=e.targetComponent,l=void 0;if(!n){var u=Cn("react-datepicker-popper",t);l=React.createElement(Dl,Vl({modifiers:o,placement:i},a),(function(e){var t=e.ref,n=e.style,o=e.placement,i=e.arrowProps;return React.createElement("div",Vl({ref:t,style:n},{className:u,"data-placement":o}),React.cloneElement(r,{arrowProps:i}))}))}return this.props.popperContainer&&(l=React.createElement(this.props.popperContainer,{},l)),React.createElement(Sl,null,React.createElement(Ml,null,(function(e){var t=e.ref;return React.createElement("div",{ref:t,className:"react-datepicker-wrapper"},s)})),l)},zl(t,null,[{key:"defaultProps",get:function(){return{hidePopper:!0,popperModifiers:{preventOverflow:{enabled:!0,escapeWithReference:!0,boundariesElement:"viewport"}},popperProps:{},popperPlacement:"bottom-start"}}}]),t}(React.Component),zu="react-datepicker-ignore-onclickoutside",Vu=xi(Bu);var Uu="Date input not valid.",Hu=function(e){function t(n){jl(this,t);var r=Hl(this,e.call(this,n));return r.getPreSelection=function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:Wl()},r.calcInitialState=function(){var e=r.getPreSelection(),t=vu(r.props),n=yu(r.props),o=t&&ao(e,t)?t:n&&io(e,n)?n:e;return{open:r.props.startOpen||!1,preventFocus:!1,preSelection:r.props.selected?r.props.selected:o,highlightDates:bu(r.props.highlightDates),focused:!1}},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.setFocus=function(){r.input&&r.input.focus&&r.input.focus()},r.setBlur=function(){r.input&&r.input.blur&&r.input.blur(),r.cancelFocusInput()},r.setOpen=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];r.setState({open:e,preSelection:e&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:Wu},(function(){e||r.setState((function(e){return{focused:!!t&&e.focused}}),(function(){!t&&r.setBlur(),r.setState({inputValue:null})}))}))},r.inputOk=function(){return xn(r.state.preSelection)},r.isCalendarOpen=function(){return void 0===r.props.open?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(e){r.state.preventFocus||(r.props.onFocus(e),r.props.preventOpenOnFocus||r.props.readOnly||r.setOpen(!0)),r.setState({focused:!0})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=null},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout((function(){return r.setFocus()}),1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.handleBlur=function(e){!r.state.open||r.props.withPortal||r.props.showTimeInput?r.props.onBlur(e):r.deferFocusInput(),r.setState({focused:!1})},r.handleCalendarClickOutside=function(e){r.props.inline||r.setOpen(!1),r.props.onClickOutside(e),r.props.withPortal&&e.preventDefault()},r.handleChange=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=t[0];if(!r.props.onChangeRaw||(r.props.onChangeRaw.apply(r,t),"function"==typeof o.isDefaultPrevented&&!o.isDefaultPrevented())){r.setState({inputValue:o.target.value,lastPreSelectChange:Gu});var i=ql(o.target.value,r.props.dateFormat,r.props.locale,r.props.strictParsing);!i&&o.target.value||r.setSelected(i,o,!0)}},r.handleSelect=function(e,t,n){r.setState({preventFocus:!0},(function(){return r.preventFocusTimeout=setTimeout((function(){return r.setState({preventFocus:!1})}),50),r.preventFocusTimeout})),r.setSelected(e,t,void 0,n),!r.props.shouldCloseOnSelect||r.props.showTimeSelect?r.setPreSelection(e):r.props.inline||r.setOpen(!1)},r.setSelected=function(e,t,n,o){var i=e;if(null===i||!uu(i,r.props)){if(!ou(r.props.selected,i)||r.props.allowSameDay){if(null!==i){if(r.props.selected){var a=r.props.selected;n&&(a=Wl(i)),i=$l(i,{hour:Vr(a),minute:zr(a),second:jr(a)})}r.props.inline||r.setState({preSelection:i}),r.props.inline&&r.props.monthsShown>1&&!r.props.inlineFocusSelectedMonth&&r.setState({monthSelectedIn:o})}r.props.onChange(i,t)}r.props.onSelect(i,t),n||r.setState({inputValue:null})}},r.setPreSelection=function(e){var t=void 0!==r.props.minDate,n=void 0!==r.props.maxDate,o=!0;e&&(t&&n?o=iu(e,r.props.minDate,r.props.maxDate):t?o=io(e,r.props.minDate):n&&(o=ao(e,r.props.maxDate))),o&&r.setState({preSelection:e})},r.handleTimeChange=function(e){var t=$l(r.props.selected?r.props.selected:r.getPreSelection(),{hour:Vr(e),minute:zr(e)});r.setState({preSelection:t}),r.props.onChange(t),r.props.shouldCloseOnSelect&&r.setOpen(!1),r.props.showTimeInput&&r.setOpen(!0),r.setState({inputValue:null})},r.onInputClick=function(){r.props.disabled||r.props.readOnly||r.setOpen(!0),r.props.onInputClick()},r.onInputKeyDown=function(e){r.props.onKeyDown(e);var t=e.key;if(r.state.open||r.props.inline||r.props.preventOpenOnFocus){var n=Wl(r.state.preSelection);if("Enter"===t)e.preventDefault(),r.inputOk()&&r.state.lastPreSelectChange===Wu?(r.handleSelect(n,e),!r.props.shouldCloseOnSelect&&r.setPreSelection(n)):r.setOpen(!1);else if("Escape"===t)e.preventDefault(),r.setOpen(!1),r.inputOk()||r.props.onInputError({code:1,msg:Uu});else if("Tab"===t)r.setOpen(!1,!0);else if(!r.props.disabledKeyboardNavigation){var o=void 0;switch(t){case"ArrowLeft":o=function(e,t){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=Mn(t);return Dr(e,-n)}(n,1);break;case"ArrowRight":o=Dr(n,1);break;case"ArrowUp":o=function(e,t){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=Mn(t);return Pr(e,-n)}(n,1);break;case"ArrowDown":o=Pr(n,1);break;case"PageUp":o=Lr(n,1);break;case"PageDown":o=Ir(n,1);break;case"Home":o=Br(n,1);break;case"End":o=Fr(n,1)}if(!o)return void(r.props.onInputError&&r.props.onInputError({code:1,msg:Uu}));e.preventDefault(),r.setState({lastPreSelectChange:Wu}),r.props.adjustDateOnChange&&r.setSelected(o),r.setPreSelection(o)}}else"ArrowDown"!==t&&"ArrowUp"!==t||r.onInputClick()},r.onClearClick=function(e){e&&e.preventDefault&&e.preventDefault(),r.props.onChange(null,e),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.renderCalendar=function(){return r.props.inline||r.isCalendarOpen()?React.createElement(Vu,{ref:function(e){r.calendar=e},locale:r.props.locale,adjustDateOnChange:r.props.adjustDateOnChange,setOpen:r.setOpen,shouldCloseOnSelect:r.props.shouldCloseOnSelect,dateFormat:r.props.dateFormatCalendar,useWeekdaysShort:r.props.useWeekdaysShort,formatWeekDay:r.props.formatWeekDay,dropdownMode:r.props.dropdownMode,selected:r.props.selected,preSelection:r.state.preSelection,onSelect:r.handleSelect,onWeekSelect:r.props.onWeekSelect,openToDate:r.props.openToDate,minDate:r.props.minDate,maxDate:r.props.maxDate,selectsStart:r.props.selectsStart,selectsEnd:r.props.selectsEnd,startDate:r.props.startDate,endDate:r.props.endDate,excludeDates:r.props.excludeDates,filterDate:r.props.filterDate,onClickOutside:r.handleCalendarClickOutside,formatWeekNumber:r.props.formatWeekNumber,highlightDates:r.state.highlightDates,includeDates:r.props.includeDates,includeTimes:r.props.includeTimes,injectTimes:r.props.injectTimes,inline:r.props.inline,peekNextMonth:r.props.peekNextMonth,showMonthDropdown:r.props.showMonthDropdown,useShortMonthInDropdown:r.props.useShortMonthInDropdown,showMonthYearDropdown:r.props.showMonthYearDropdown,showWeekNumbers:r.props.showWeekNumbers,showYearDropdown:r.props.showYearDropdown,withPortal:r.props.withPortal,forceShowMonthNavigation:r.props.forceShowMonthNavigation,showDisabledMonthNavigation:r.props.showDisabledMonthNavigation,scrollableYearDropdown:r.props.scrollableYearDropdown,scrollableMonthYearDropdown:r.props.scrollableMonthYearDropdown,todayButton:r.props.todayButton,weekLabel:r.props.weekLabel,outsideClickIgnoreClass:zu,fixedHeight:r.props.fixedHeight,monthsShown:r.props.monthsShown,monthSelectedIn:r.state.monthSelectedIn,onDropdownFocus:r.handleDropdownFocus,onMonthChange:r.props.onMonthChange,onYearChange:r.props.onYearChange,dayClassName:r.props.dayClassName,showTimeSelect:r.props.showTimeSelect,showTimeSelectOnly:r.props.showTimeSelectOnly,onTimeChange:r.handleTimeChange,timeFormat:r.props.timeFormat,timeIntervals:r.props.timeIntervals,minTime:r.props.minTime,maxTime:r.props.maxTime,excludeTimes:r.props.excludeTimes,timeCaption:r.props.timeCaption,className:r.props.calendarClassName,container:r.props.calendarContainer,yearDropdownItemNumber:r.props.yearDropdownItemNumber,previousMonthButtonLabel:r.props.previousMonthButtonLabel,nextMonthButtonLabel:r.props.nextMonthButtonLabel,timeInputLabel:r.props.timeInputLabel,disabledKeyboardNavigation:r.props.disabledKeyboardNavigation,renderCustomHeader:r.props.renderCustomHeader,popperProps:r.props.popperProps,renderDayContents:r.props.renderDayContents,onDayMouseEnter:r.props.onDayMouseEnter,onMonthMouseLeave:r.props.onMonthMouseLeave,showTimeInput:r.props.showTimeInput,showMonthYearPicker:r.props.showMonthYearPicker},r.props.children):null},r.renderDateInput=function(){var e,t,n=Cn(r.props.className,((e={})[zu]=r.state.open,e)),o=r.props.customInput||React.createElement("input",{type:"text"}),i=r.props.customInputRef||"ref",a="string"==typeof r.props.value?r.props.value:"string"==typeof r.state.inputValue?r.state.inputValue:function(e,t){var n=t.dateFormat,r=t.locale;return e&&Kl(e,Array.isArray(n)?n[0]:n,r)||""}(r.props.selected,r.props);return React.cloneElement(o,((t={})[i]=function(e){r.input=e},t.value=a,t.onBlur=r.handleBlur,t.onChange=r.handleChange,t.onClick=r.onInputClick,t.onFocus=r.handleFocus,t.onKeyDown=r.onInputKeyDown,t.id=r.props.id,t.name=r.props.name,t.autoFocus=r.props.autoFocus,t.placeholder=r.props.placeholderText,t.disabled=r.props.disabled,t.autoComplete=r.props.autoComplete,t.className=n,t.title=r.props.title,t.readOnly=r.props.readOnly,t.required=r.props.required,t.tabIndex=r.props.tabIndex,t))},r.renderClearButton=function(){return r.props.isClearable&&null!=r.props.selected?React.createElement("button",{type:"button",className:"react-datepicker__close-icon",onClick:r.onClearClick,title:r.props.clearButtonTitle,tabIndex:-1}):null},r.state=r.calcInitialState(),r}return Ul(t,e),zl(t,null,[{key:"defaultProps",get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",onChange:function(){},disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",onFocus:function(){},onBlur:function(){},onKeyDown:function(){},onInputClick:function(){},onSelect:function(){},onClickOutside:function(){},onMonthChange:function(){},preventOpenOnFocus:!1,onYearChange:function(){},onInputError:function(){},monthsShown:1,readOnly:!1,withPortal:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showMonthYearPicker:!1,strictParsing:!1,timeIntervals:30,timeCaption:"Time",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next month",timeInputLabel:"Time",renderDayContents:function(e){return e},inlineFocusSelectedMonth:!1}}}]),t.prototype.componentDidUpdate=function(e,t){var n,r;e.inline&&(n=e.selected,r=this.props.selected,n&&r?Gr(n)!==Gr(r)||Wr(n)!==Wr(r):n!==r)&&this.setPreSelection(this.props.selected),void 0!==this.state.monthSelectedIn&&e.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),e.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:bu(this.props.highlightDates)}),t.focused||ou(e.selected,this.props.selected)||this.setState({inputValue:null})},t.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout()},t.prototype.render=function(){var e=this.renderCalendar();return this.props.inline&&!this.props.withPortal?e:this.props.withPortal?React.createElement("div",null,this.props.inline?null:React.createElement("div",{className:"react-datepicker__input-container"},this.renderDateInput(),this.renderClearButton()),this.state.open||this.props.inline?React.createElement("div",{className:"react-datepicker__portal"},e):null):React.createElement(ju,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),popperModifiers:this.props.popperModifiers,targetComponent:React.createElement("div",{className:"react-datepicker__input-container"},this.renderDateInput(),this.renderClearButton()),popperContainer:this.props.popperContainer,popperComponent:e,popperPlacement:this.props.popperPlacement,popperProps:this.props.popperProps})},t}(React.Component),Gu="input",Wu="navigate";class qu{static UnixToDate(e,t=0){if(e>0){let n=new Date(1e3*(e+t));return n=new Date(n.setMinutes(n.getMinutes()+n.getTimezoneOffset())),n}return null}static DateToUnix(e,t=0){return(e.getTime()-t)/1e3+-1*e.getTimezoneOffset()*60}}class Yu extends yn{GetComparator(e=!1){return React.createElement("select",{className:this.GetComparisonClass(),value:this.Condition.ConditionLineOptions.Comparison,onChange:e=>this.ComparisonChanged(e.target.value.toString()),style:{height:"auto",padding:0,width:"100%"}},React.createElement("option",{value:r.ComparisonTypeEnum.Equal},RNTranslate("Equal to")),React.createElement("option",{value:r.ComparisonTypeEnum.NotEqual},RNTranslate("Not Equal to")),!e&&React.createElement("option",{value:r.ComparisonTypeEnum.IsEmpty},RNTranslate("Is Empty")),!e&&React.createElement("option",{value:r.ComparisonTypeEnum.IsNotEmpty},RNTranslate("Is Not Empty")),React.createElement("option",{value:r.ComparisonTypeEnum.GreaterThan},RNTranslate("Greater Than")),React.createElement("option",{value:r.ComparisonTypeEnum.GreaterOrEqualThan},RNTranslate("Greater or Equal Than")),React.createElement("option",{value:r.ComparisonTypeEnum.LessThan},RNTranslate("Less Than")),React.createElement("option",{value:r.ComparisonTypeEnum.LessOrEqualThan},RNTranslate("Less or Equal Than")))}InitializeValues(){this.Condition.ConditionLineOptions.Comparison=r.ComparisonTypeEnum.Equal}GetValueInput(){let e=this.Condition.props.ConditionLineOptions.Comparison;return React.createElement(Hu,{className:"condition-datepicker "+this.GetValueClass(),dateFormat:"dd/MMM/yyyy",selected:qu.UnixToDate(this.Condition.props.ConditionLineOptions.Value),onChange:e=>this.ValueChanged(e),style:{minWidth:150,width:"100%",height:25,padding:"5px 6px"},type:"text",disabled:e==r.ComparisonTypeEnum.IsEmpty||e==r.ComparisonTypeEnum.IsNotEmpty,popperContainer:this.GetContainer})}ComparisonChanged(e){this.Condition.ConditionLineOptions.Comparison=r.ComparisonTypeEnum[e],this.Condition.forceUpdate()}ValueChanged(e){this.Condition.ConditionLineOptions.Value=qu.DateToUnix(e),this.Condition.forceUpdate()}GetContainer(e){const t=document.getElementsByTagName("body");return ReactDOM.createPortal(e.children,t[0])}}class Ku extends yn{GetComparator(e=!1){return React.createElement("select",{className:this.GetComparisonClass(),value:this.Condition.ConditionLineOptions.Comparison,onChange:e=>this.ComparisonChanged(e.target.value.toString()),style:{height:"auto",padding:0,width:"100%"}},React.createElement("option",{value:r.ComparisonTypeEnum.Equal},RNTranslate("Equal to")),React.createElement("option",{value:r.ComparisonTypeEnum.NotEqual},RNTranslate("Not Equal to")),!e&&React.createElement("option",{value:r.ComparisonTypeEnum.IsEmpty},RNTranslate("Is Empty")),!e&&React.createElement("option",{value:r.ComparisonTypeEnum.IsNotEmpty},RNTranslate("Is Not Empty")),React.createElement("option",{value:r.ComparisonTypeEnum.GreaterThan},RNTranslate("Greater Than")),React.createElement("option",{value:r.ComparisonTypeEnum.GreaterOrEqualThan},RNTranslate("Greater or Equal Than")),React.createElement("option",{value:r.ComparisonTypeEnum.LessThan},RNTranslate("Less Than")),React.createElement("option",{value:r.ComparisonTypeEnum.LessOrEqualThan},RNTranslate("Less or Equal Than")))}InitializeValues(){this.Condition.ConditionLineOptions.Comparison=r.ComparisonTypeEnum.Equal}GetValueInput(){let e=this.Condition.props.ConditionLineOptions.Comparison;return React.createElement(Hu,{className:"condition-datepicker "+this.GetValueClass(),showTimeSelect:!0,selected:qu.UnixToDate(this.Condition.props.ConditionLineOptions.Value),onChange:e=>this.ValueChanged(e),dateFormat:"dd/MMM/yyyy h:mm aa",style:{minWidth:150,width:"100%",height:25,padding:"5px 6px"},type:"text",disabled:e==r.ComparisonTypeEnum.IsEmpty||e==r.ComparisonTypeEnum.IsNotEmpty,popperContainer:this.GetContainer})}ComparisonChanged(e){this.Condition.ConditionLineOptions.Comparison=r.ComparisonTypeEnum[e],this.Condition.forceUpdate()}ValueChanged(e){this.Condition.ConditionLineOptions.Value=qu.DateToUnix(e),this.Condition.forceUpdate()}GetContainer(e){const t=document.getElementsByTagName("body");return ReactDOM.createPortal(e.children,t[0])}}class $u extends yn{GetComparator(e=!1){return React.createElement("select",{className:this.GetComparisonClass(),value:this.Condition.ConditionLineOptions.Comparison,onChange:e=>this.ComparisonChanged(e.target.value.toString()),style:{height:"auto",padding:0,marginLeft:5,width:"100%"}},React.createElement("option",{value:r.ComparisonTypeEnum.Equal},RNTranslate("Equal to")),React.createElement("option",{value:r.ComparisonTypeEnum.NotEqual},RNTranslate("Not Equal to")),!e&&React.createElement("option",{value:r.ComparisonTypeEnum.IsEmpty},RNTranslate("Is Empty")),!e&&React.createElement("option",{value:r.ComparisonTypeEnum.IsNotEmpty},RNTranslate("Is Not Empty")),React.createElement("option",{value:r.ComparisonTypeEnum.GreaterThan},RNTranslate("Greater Than")),React.createElement("option",{value:r.ComparisonTypeEnum.GreaterOrEqualThan},RNTranslate("Greater or Equal Than")),React.createElement("option",{value:r.ComparisonTypeEnum.LessThan},RNTranslate("Less Than")),React.createElement("option",{value:r.ComparisonTypeEnum.LessOrEqualThan},RNTranslate("Less or Equal Than")))}InitializeValues(){this.Condition.ConditionLineOptions.Comparison=r.ComparisonTypeEnum.Equal}GetValueInput(){let e=this.Condition.props.ConditionLineOptions.Comparison;return React.createElement(Hu,{className:"condition-datepicker "+this.GetValueClass(),dateFormat:"h:mm aa",showTimeSelect:!0,showTimeSelectOnly:!0,selected:qu.UnixToDate(this.Condition.props.ConditionLineOptions.Value),onChange:e=>this.ValueChanged(e),style:{marginLeft:5,minWidth:150,width:"100%",height:25,padding:"5px 6px"},type:"text",disabled:e==r.ComparisonTypeEnum.IsEmpty||e==r.ComparisonTypeEnum.IsNotEmpty,popperContainer:this.GetContainer})}ComparisonChanged(e){this.Condition.ConditionLineOptions.Comparison=r.ComparisonTypeEnum[e],this.Condition.forceUpdate()}ValueChanged(e){this.Condition.ConditionLineOptions.Value=qu.DateToUnix(e),this.Condition.forceUpdate()}GetContainer(e){const t=document.getElementsByTagName("body");return ReactDOM.createPortal(e.children,t[0])}}class Xu extends yn{GetComparator(e=!1){return React.createElement("select",{className:this.GetComparisonClass(),value:this.Condition.ConditionLineOptions.Comparison,onChange:e=>this.ComparisonChanged(e.target.value.toString()),style:{height:"auto",padding:0,width:"100%"}},React.createElement("option",{value:r.ComparisonTypeEnum.Equal},RNTranslate("Equal to")),React.createElement("option",{value:r.ComparisonTypeEnum.NotEqual},RNTranslate("Not Equal to")),!e&&React.createElement("option",{value:r.ComparisonTypeEnum.IsEmpty},RNTranslate("Is Empty")),!e&&React.createElement("option",{value:r.ComparisonTypeEnum.IsNotEmpty},RNTranslate("Is Not Empty")),React.createElement("option",{value:r.ComparisonTypeEnum.GreaterThan},RNTranslate("Greater Than")),React.createElement("option",{value:r.ComparisonTypeEnum.GreaterOrEqualThan},RNTranslate("Greater or Equal Than")),React.createElement("option",{value:r.ComparisonTypeEnum.LessThan},RNTranslate("Less Than")),React.createElement("option",{value:r.ComparisonTypeEnum.LessOrEqualThan},RNTranslate("Less or Equal Than")))}InitializeValues(){this.Condition.ConditionLineOptions.Comparison=r.ComparisonTypeEnum.Equal}GetValueInput(){let e=this.Condition.props.ConditionLineOptions.Comparison;return React.createElement("input",{className:this.GetValueClass(),value:this.Condition.props.ConditionLineOptions.Value,onChange:e=>this.ValueChanged(e.target.value),style:{minWidth:"100%",maxWidth:200,height:25,width:"100%"},type:"number",disabled:e==r.ComparisonTypeEnum.IsEmpty||e==r.ComparisonTypeEnum.IsNotEmpty})}ComparisonChanged(e){this.Condition.ConditionLineOptions.Comparison=r.ComparisonTypeEnum[e],this.Condition.forceUpdate()}ValueChanged(e){this.Condition.ConditionLineOptions.Value=e,this.Condition.forceUpdate()}}class Ju extends yn{GetComparator(e=!1){return React.createElement("select",{className:this.GetComparisonClass(),value:this.Condition.ConditionLineOptions.Comparison,onChange:e=>this.ComparisonChanged(e.target.value.toString()),style:{height:"auto",padding:0,width:"100%"}},!e&&React.createElement("option",{value:r.ComparisonTypeEnum.IsChecked},RNTranslate("Is checked")),!e&&React.createElement("option",{value:r.ComparisonTypeEnum.IsNotChecked},RNTranslate("Is not checked")))}InitializeValues(){this.Condition.ConditionLineOptions.Comparison=r.ComparisonTypeEnum.Equal}GetValueInput(){let e=this.Condition.props.ConditionLineOptions.Comparison;return React.createElement("input",{className:this.GetValueClass(),value:this.Condition.props.ConditionLineOptions.Value,onChange:e=>this.ValueChanged(e.target.value),style:{minWidth:"100%",maxWidth:200,height:25},type:"text",disabled:e==r.ComparisonTypeEnum.IsEmpty||e==r.ComparisonTypeEnum.IsNotEmpty})}ComparisonChanged(e){this.Condition.ConditionLineOptions.Comparison=r.ComparisonTypeEnum[e],this.Condition.forceUpdate()}ValueChanged(e){this.Condition.ConditionLineOptions.Value=e,this.Condition.forceUpdate()}}var Qu={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function Zu(e){function t(e,r,l,u,p){for(var f,h,m,g,w,C=0,x=0,E=0,S=0,_=0,D=0,M=m=f=0,F=0,L=0,B=0,j=0,z=l.length,V=z-1,U="",H="",G="",W="";F<z;){if(h=l.charCodeAt(F),F===V&&0!==x+S+E+C&&(0!==x&&(h=47===x?10:47),S=E=C=0,z++,V++),0===x+S+E+C){if(F===V&&(0<L&&(U=U.replace(d,"")),0<U.trim().length)){switch(h){case 32:case 9:case 59:case 13:case 10:break;default:U+=l.charAt(F)}h=59}switch(h){case 123:for(f=(U=U.trim()).charCodeAt(0),m=1,j=++F;F<z;){switch(h=l.charCodeAt(F)){case 123:m++;break;case 125:m--;break;case 47:switch(h=l.charCodeAt(F+1)){case 42:case 47:e:{for(M=F+1;M<V;++M)switch(l.charCodeAt(M)){case 47:if(42===h&&42===l.charCodeAt(M-1)&&F+2!==M){F=M+1;break e}break;case 10:if(47===h){F=M+1;break e}}F=M}}break;case 91:h++;case 40:h++;case 34:case 39:for(;F++<V&&l.charCodeAt(F)!==h;);}if(0===m)break;F++}switch(m=l.substring(j,F),0===f&&(f=(U=U.replace(c,"").trim()).charCodeAt(0)),f){case 64:switch(0<L&&(U=U.replace(d,"")),h=U.charCodeAt(1)){case 100:case 109:case 115:case 45:L=r;break;default:L=N}if(j=(m=t(r,L,m,h,p+1)).length,0<P&&(w=s(3,m,L=n(N,U,B),r,T,O,j,h,p,u),U=L.join(""),void 0!==w&&0===(j=(m=w.trim()).length)&&(h=0,m="")),0<j)switch(h){case 115:U=U.replace(k,a);case 100:case 109:case 45:m=U+"{"+m+"}";break;case 107:m=(U=U.replace(v,"$1 $2"))+"{"+m+"}",m=1===A||2===A&&i("@"+m,3)?"@-webkit-"+m+"@"+m:"@"+m;break;default:m=U+m,112===u&&(H+=m,m="")}else m="";break;default:m=t(r,n(r,U,B),m,u,p+1)}G+=m,m=B=L=M=f=0,U="",h=l.charCodeAt(++F);break;case 125:case 59:if(1<(j=(U=(0<L?U.replace(d,""):U).trim()).length))switch(0===M&&(f=U.charCodeAt(0),45===f||96<f&&123>f)&&(j=(U=U.replace(" ",":")).length),0<P&&void 0!==(w=s(1,U,r,e,T,O,H.length,u,p,u))&&0===(j=(U=w.trim()).length)&&(U="\0\0"),f=U.charCodeAt(0),h=U.charCodeAt(1),f){case 0:break;case 64:if(105===h||99===h){W+=U+l.charAt(F);break}default:58!==U.charCodeAt(j-1)&&(H+=o(U,f,h,U.charCodeAt(2)))}B=L=M=f=0,U="",h=l.charCodeAt(++F)}}switch(h){case 13:case 10:47===x?x=0:0===1+f&&107!==u&&0<U.length&&(L=1,U+="\0"),0<P*I&&s(0,U,r,e,T,O,H.length,u,p,u),O=1,T++;break;case 59:case 125:if(0===x+S+E+C){O++;break}default:switch(O++,g=l.charAt(F),h){case 9:case 32:if(0===S+C+x)switch(_){case 44:case 58:case 9:case 32:g="";break;default:32!==h&&(g=" ")}break;case 0:g="\\0";break;case 12:g="\\f";break;case 11:g="\\v";break;case 38:0===S+x+C&&(L=B=1,g="\f"+g);break;case 108:if(0===S+x+C+R&&0<M)switch(F-M){case 2:112===_&&58===l.charCodeAt(F-3)&&(R=_);case 8:111===D&&(R=D)}break;case 58:0===S+x+C&&(M=F);break;case 44:0===x+E+S+C&&(L=1,g+="\r");break;case 34:case 39:0===x&&(S=S===h?0:0===S?h:S);break;case 91:0===S+x+E&&C++;break;case 93:0===S+x+E&&C--;break;case 41:0===S+x+C&&E--;break;case 40:if(0===S+x+C){if(0===f)switch(2*_+3*D){case 533:break;default:f=1}E++}break;case 64:0===x+E+S+C+M+m&&(m=1);break;case 42:case 47:if(!(0<S+C+E))switch(x){case 0:switch(2*h+3*l.charCodeAt(F+1)){case 235:x=47;break;case 220:j=F,x=42}break;case 42:47===h&&42===_&&j+2!==F&&(33===l.charCodeAt(j+2)&&(H+=l.substring(j,F+1)),g="",x=0)}}0===x&&(U+=g)}D=_,_=h,F++}if(0<(j=H.length)){if(L=r,0<P&&(void 0!==(w=s(2,H,L,e,T,O,j,u,p,u))&&0===(H=w).length))return W+H+G;if(H=L.join(",")+"{"+H+"}",0!=A*R){switch(2!==A||i(H,2)||(R=0),R){case 111:H=H.replace(b,":-moz-$1")+H;break;case 112:H=H.replace(y,"::-webkit-input-$1")+H.replace(y,"::-moz-$1")+H.replace(y,":-ms-input-$1")+H}R=0}}return W+H+G}function n(e,t,n){var o=t.trim().split(m);t=o;var i=o.length,a=e.length;switch(a){case 0:case 1:var s=0;for(e=0===a?"":e[0]+" ";s<i;++s)t[s]=r(e,t[s],n).trim();break;default:var l=s=0;for(t=[];s<i;++s)for(var u=0;u<a;++u)t[l++]=r(e[u]+" ",o[s],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(g,"$1"+e.trim());case 58:return e.trim()+t.replace(g,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(g,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function o(e,t,n,r){var a=e+";",s=2*t+3*n+4*r;if(944===s){e=a.indexOf(":",9)+1;var l=a.substring(e,a.length-1).trim();return l=a.substring(0,e).trim()+l+";",1===A||2===A&&i(l,1)?"-webkit-"+l+l:l}if(0===A||2===A&&!i(a,1))return a;switch(s){case 1015:return 97===a.charCodeAt(10)?"-webkit-"+a+a:a;case 951:return 116===a.charCodeAt(3)?"-webkit-"+a+a:a;case 963:return 110===a.charCodeAt(5)?"-webkit-"+a+a:a;case 1009:if(100!==a.charCodeAt(4))break;case 969:case 942:return"-webkit-"+a+a;case 978:return"-webkit-"+a+"-moz-"+a+a;case 1019:case 983:return"-webkit-"+a+"-moz-"+a+"-ms-"+a+a;case 883:if(45===a.charCodeAt(8))return"-webkit-"+a+a;if(0<a.indexOf("image-set(",11))return a.replace(_,"$1-webkit-$2")+a;break;case 932:if(45===a.charCodeAt(4))switch(a.charCodeAt(5)){case 103:return"-webkit-box-"+a.replace("-grow","")+"-webkit-"+a+"-ms-"+a.replace("grow","positive")+a;case 115:return"-webkit-"+a+"-ms-"+a.replace("shrink","negative")+a;case 98:return"-webkit-"+a+"-ms-"+a.replace("basis","preferred-size")+a}return"-webkit-"+a+"-ms-"+a+a;case 964:return"-webkit-"+a+"-ms-flex-"+a+a;case 1023:if(99!==a.charCodeAt(8))break;return"-webkit-box-pack"+(l=a.substring(a.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+a+"-ms-flex-pack"+l+a;case 1005:return f.test(a)?a.replace(p,":-webkit-")+a.replace(p,":-moz-")+a:a;case 1e3:switch(t=(l=a.substring(13).trim()).indexOf("-")+1,l.charCodeAt(0)+l.charCodeAt(t)){case 226:l=a.replace(w,"tb");break;case 232:l=a.replace(w,"tb-rl");break;case 220:l=a.replace(w,"lr");break;default:return a}return"-webkit-"+a+"-ms-"+l+a;case 1017:if(-1===a.indexOf("sticky",9))break;case 975:switch(t=(a=e).length-10,s=(l=(33===a.charCodeAt(t)?a.substring(0,t):a).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|l.charCodeAt(7))){case 203:if(111>l.charCodeAt(8))break;case 115:a=a.replace(l,"-webkit-"+l)+";"+a;break;case 207:case 102:a=a.replace(l,"-webkit-"+(102<s?"inline-":"")+"box")+";"+a.replace(l,"-webkit-"+l)+";"+a.replace(l,"-ms-"+l+"box")+";"+a}return a+";";case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:return l=a.replace("-items",""),"-webkit-"+a+"-webkit-box-"+l+"-ms-flex-"+l+a;case 115:return"-webkit-"+a+"-ms-flex-item-"+a.replace(x,"")+a;default:return"-webkit-"+a+"-ms-flex-line-pack"+a.replace("align-content","").replace(x,"")+a}break;case 973:case 989:if(45!==a.charCodeAt(3)||122===a.charCodeAt(4))break;case 931:case 953:if(!0===S.test(e))return 115===(l=e.substring(e.indexOf(":")+1)).charCodeAt(0)?o(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):a.replace(l,"-webkit-"+l)+a.replace(l,"-moz-"+l.replace("fill-",""))+a;break;case 962:if(a="-webkit-"+a+(102===a.charCodeAt(5)?"-ms-"+a:"")+a,211===n+r&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10))return a.substring(0,a.indexOf(";",27)+1).replace(h,"$1-webkit-$2")+a}return a}function i(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),M(2!==t?r:r.replace(E,"$1"),n,t)}function a(e,t){var n=o(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(C," or ($1)").substring(4):"("+t+")"}function s(e,t,n,r,o,i,a,s,l,c){for(var d,p=0,f=t;p<P;++p)switch(d=D[p].call(u,e,f,n,r,o,i,a,s,l,c)){case void 0:case!1:case!0:case null:break;default:f=d}if(f!==t)return f}function l(e){return void 0!==(e=e.prefix)&&(M=null,e?"function"!=typeof e?A=1:(A=2,M=e):A=0),l}function u(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<P){var o=s(-1,n,r,r,T,O,0,0,0,0);void 0!==o&&"string"==typeof o&&(n=o)}var i=t(N,r,n,0,0);return 0<P&&(void 0!==(o=s(-2,i,r,r,T,O,i.length,0,0,0))&&(i=o)),"",R=0,O=T=1,i}var c=/^\0+/g,d=/[\0\r\f]/g,p=/: */g,f=/zoo|gra/,h=/([,: ])(transform)/g,m=/,\r+?/g,g=/([\t\r\n ])*\f?&/g,v=/@(k\w+)\s*(\S*)\s*/,y=/::(place)/g,b=/:(read-only)/g,w=/[svh]\w+-[tblr]{2}/,k=/\(\s*(.*)\s*\)/g,C=/([\s\S]*?);/g,x=/-self|flex-/g,E=/[^]*?(:[rp][el]a[\w-]+)[^]*/,S=/stretch|:\s*\w+\-(?:conte|avail)/,_=/([^-])(image-set\()/,O=1,T=1,R=0,A=1,N=[],D=[],P=0,M=null,I=0;return u.use=function e(t){switch(t){case void 0:case null:P=D.length=0;break;default:switch(t.constructor){case Array:for(var n=0,r=t.length;n<r;++n)e(t[n]);break;case Function:D[P++]=t;break;case Boolean:I=0|!!t}}return e},u.set=l,void 0!==e&&l(e),u}var ec=Ne((function(e,t){e.exports=function(e){var t="/*|*/",n=t+"}";function r(t){if(t)try{e(t+"}")}catch(e){}}return function(o,i,a,s,l,u,c,d,p,f){switch(o){case 1:if(0===p&&64===i.charCodeAt(0))return e(i+";"),"";break;case 2:if(0===d)return i+t;break;case 3:switch(d){case 102:case 112:return e(a[0]+i),"";default:return i+(0===f?t:"")}case-2:i.split(n).forEach(r)}}}})),tc=/[A-Z]|^ms/g,nc=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){return e.replace(tc,"-$&").toLowerCase()})),rc=function(e,t){return null==t||"boolean"==typeof t?"":1===Qu[e]||45===e.charCodeAt(1)||isNaN(t)||0===t?t:t+"px"},oc=function e(t){for(var n=t.length,r=0,o="";r<n;r++){var i=t[r];if(null!=i){var a=void 0;switch(typeof i){case"boolean":break;case"function":a=e([i()]);break;case"object":if(Array.isArray(i))a=e(i);else for(var s in a="",i)i[s]&&s&&(a&&(a+=" "),a+=s);break;default:a=i}a&&(o&&(o+=" "),o+=a)}}return o},ic="undefined"!=typeof document;function ac(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key||""),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),(void 0!==e.container?e.container:document.head).appendChild(t),t}var sc=function(){function e(e){this.isSpeedy=!0,this.tags=[],this.ctr=0,this.opts=e}var t=e.prototype;return t.inject=function(){if(this.injected)throw new Error("already injected!");this.tags[0]=ac(this.opts),this.injected=!0},t.speedy=function(e){if(0!==this.ctr)throw new Error("cannot change speedy now");this.isSpeedy=!!e},t.insert=function(e,t){if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(this.tags[this.tags.length-1]);try{n.insertRule(e,n.cssRules.length)}catch(e){}}else{var r=ac(this.opts);this.tags.push(r),r.appendChild(document.createTextNode(e+(t||"")))}this.ctr++,this.ctr%65e3==0&&this.tags.push(ac(this.opts))},t.flush=function(){this.tags.forEach((function(e){return e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0,this.injected=!1},e}();var lc=function(e,t){if(void 0!==e.__SECRET_EMOTION__)return e.__SECRET_EMOTION__;void 0===t&&(t={});var n,r,o=t.key||"css",i=ec((function(e){n+=e,ic&&s.insert(e,u)}));void 0!==t.prefix&&(r={prefix:t.prefix});var a={registered:{},inserted:{},nonce:t.nonce,key:o},s=new sc(t);ic&&s.inject();var l=new Zu(r);l.use(t.stylisPlugins)(i);var u="";function c(e,t){if(null==e)return"";switch(typeof e){case"boolean":return"";case"function":if(void 0!==e.__emotion_styles){var n=e.toString();return n}return c.call(this,void 0===this?e():e(this.mergedProps,this.context),t);case"object":return h.call(this,e);default:var r=a.registered[e];return!1===t&&void 0!==r?r:e}}var d,p,f=new WeakMap;function h(e){if(f.has(e))return f.get(e);var t="";return Array.isArray(e)?e.forEach((function(e){t+=c.call(this,e,!1)}),this):Object.keys(e).forEach((function(n){"object"!=typeof e[n]?void 0!==a.registered[e[n]]?t+=n+"{"+a.registered[e[n]]+"}":t+=nc(n)+":"+rc(n,e[n])+";":Array.isArray(e[n])&&"string"==typeof e[n][0]&&void 0===a.registered[e[n][0]]?e[n].forEach((function(e){t+=nc(n)+":"+rc(n,e)+";"})):t+=n+"{"+c.call(this,e[n],!1)+"}"}),this),f.set(e,t),t}var m=/label:\s*([^\s;\n{]+)\s*;/g,g=function(e,t){return function(e){for(var t,n=e.length,r=n^n,o=0;n>=4;)t=1540483477*(65535&(t=255&e.charCodeAt(o)|(255&e.charCodeAt(++o))<<8|(255&e.charCodeAt(++o))<<16|(255&e.charCodeAt(++o))<<24))+((1540483477*(t>>>16)&65535)<<16),r=1540483477*(65535&r)+((1540483477*(r>>>16)&65535)<<16)^(t=1540483477*(65535&(t^=t>>>24))+((1540483477*(t>>>16)&65535)<<16)),n-=4,++o;switch(n){case 3:r^=(255&e.charCodeAt(o+2))<<16;case 2:r^=(255&e.charCodeAt(o+1))<<8;case 1:r=1540483477*(65535&(r^=255&e.charCodeAt(o)))+((1540483477*(r>>>16)&65535)<<16)}return r=1540483477*(65535&(r^=r>>>13))+((1540483477*(r>>>16)&65535)<<16),((r^=r>>>15)>>>0).toString(36)}(e+t)+t},v=function(e){var t=!0,n="",r="";null==e||void 0===e.raw?(t=!1,n+=c.call(this,e,!1)):n+=e[0];for(var o=arguments.length,i=new Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];return i.forEach((function(r,o){n+=c.call(this,r,46===n.charCodeAt(n.length-1)),!0===t&&void 0!==e[o+1]&&(n+=e[o+1])}),this),p=n,n=n.replace(m,(function(e,t){return r+="-"+t,""})),d=g(n,r),n};function y(e,t){void 0===a.inserted[d]&&(n="",l(e,t),a.inserted[d]=n)}var b=function(){var e=v.apply(this,arguments),t=o+"-"+d;return void 0===a.registered[t]&&(a.registered[t]=p),y("."+t,e),t};function w(e,t){var n="";return t.split(" ").forEach((function(t){void 0!==a.registered[t]?e.push(t):n+=t+" "})),n}function k(e,t){var n=[],r=w(n,e);return n.length<2?e:r+b(n,t)}function C(e){a.inserted[e]=!0}if(ic){var x=document.querySelectorAll("[data-emotion-"+o+"]");Array.prototype.forEach.call(x,(function(e){s.tags[0].parentNode.insertBefore(e,s.tags[0]),e.getAttribute("data-emotion-"+o).split(" ").forEach(C)}))}var E={flush:function(){ic&&(s.flush(),s.inject()),a.inserted={},a.registered={}},hydrate:function(e){e.forEach(C)},cx:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return k(oc(t))},merge:k,getRegisteredStyles:w,injectGlobal:function(){var e=v.apply(this,arguments);y("",e)},keyframes:function(){var e=v.apply(this,arguments),t="animation-"+d;return y("","@keyframes "+t+"{"+e+"}"),t},css:b,sheet:s,caches:a};return e.__SECRET_EMOTION__=E,E}("undefined"!=typeof global?global:{});lc.flush,lc.hydrate,lc.cx,lc.merge,lc.getRegisteredStyles;var uc=lc.injectGlobal;lc.keyframes;var cc=lc.css;lc.sheet,lc.caches;for(var dc=Ne((function(e){(function(){var t,n,r,o,i,a;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!=typeof process&&null!==process&&process.hrtime?(e.exports=function(){return(t()-i)/1e6},n=process.hrtime,o=(t=function(){var e;return 1e9*(e=n())[0]+e[1]})(),a=1e9*process.uptime(),i=o-a):Date.now?(e.exports=function(){return Date.now()-r},r=Date.now()):(e.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(Te)})),pc="undefined"==typeof window?Te:window,fc=["moz","webkit"],hc="AnimationFrame",mc=pc["request"+hc],gc=pc["cancel"+hc]||pc["cancelRequest"+hc],vc=0;!mc&&vc<fc.length;vc++)mc=pc[fc[vc]+"Request"+hc],gc=pc[fc[vc]+"Cancel"+hc]||pc[fc[vc]+"CancelRequest"+hc];if(!mc||!gc){var yc=0,bc=0,wc=[];mc=function(e){if(0===wc.length){var t=dc(),n=Math.max(0,16.666666666666668-(t-yc));yc=n+t,setTimeout((function(){var e=wc.slice(0);wc.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(yc)}catch(e){setTimeout((function(){throw e}),0)}}),Math.round(n))}return wc.push({handle:++bc,callback:e,cancelled:!1}),bc},gc=function(e){for(var t=0;t<wc.length;t++)wc[t].handle===e&&(wc[t].cancelled=!0)}}var kc=function(e){return mc.call(pc,e)};kc.cancel=function(){gc.apply(pc,arguments)},kc.polyfill=function(e){e||(e=pc),e.requestAnimationFrame=mc,e.cancelAnimationFrame=gc};var Cc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xc=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Ec=_c(wl),Sc=_c(nn);function _c(e){return e&&e.__esModule?e:{default:e}}var Oc={position:"absolute",top:0,left:0,visibility:"hidden",height:0,overflow:"scroll",whiteSpace:"pre"},Tc=["extraWidth","injectStyles","inputClassName","inputRef","inputStyle","minWidth","onAutosize","placeholderIsMinWidth"],Rc=function(e,t){t.style.fontSize=e.fontSize,t.style.fontFamily=e.fontFamily,t.style.fontWeight=e.fontWeight,t.style.fontStyle=e.fontStyle,t.style.letterSpacing=e.letterSpacing,t.style.textTransform=e.textTransform},Ac=!("undefined"==typeof window||!window.navigator)&&/MSIE |Trident\/|Edge\//.test(window.navigator.userAgent),Nc=function(){return Ac?"_"+Math.random().toString(36).substr(2,12):void 0},Dc=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.inputRef=function(e){n.input=e,"function"==typeof n.props.inputRef&&n.props.inputRef(e)},n.placeHolderSizerRef=function(e){n.placeHolderSizer=e},n.sizerRef=function(e){n.sizer=e},n.state={inputWidth:e.minWidth,inputId:e.id||Nc()},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),xc(t,[{key:"componentDidMount",value:function(){this.mounted=!0,this.copyInputStyles(),this.updateInputWidth()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.id;t!==this.props.id&&this.setState({inputId:t||Nc()})}},{key:"componentDidUpdate",value:function(e,t){t.inputWidth!==this.state.inputWidth&&"function"==typeof this.props.onAutosize&&this.props.onAutosize(this.state.inputWidth),this.updateInputWidth()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"copyInputStyles",value:function(){if(this.mounted&&window.getComputedStyle){var e=this.input&&window.getComputedStyle(this.input);e&&(Rc(e,this.sizer),this.placeHolderSizer&&Rc(e,this.placeHolderSizer))}}},{key:"updateInputWidth",value:function(){if(this.mounted&&this.sizer&&void 0!==this.sizer.scrollWidth){var e=void 0;e=this.props.placeholder&&(!this.props.value||this.props.value&&this.props.placeholderIsMinWidth)?Math.max(this.sizer.scrollWidth,this.placeHolderSizer.scrollWidth)+2:this.sizer.scrollWidth+2,(e+="number"===this.props.type&&void 0===this.props.extraWidth?16:parseInt(this.props.extraWidth)||0)<this.props.minWidth&&(e=this.props.minWidth),e!==this.state.inputWidth&&this.setState({inputWidth:e})}}},{key:"getInput",value:function(){return this.input}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"select",value:function(){this.input.select()}},{key:"renderStyles",value:function(){var e=this.props.injectStyles;return Ac&&e?Ec.default.createElement("style",{dangerouslySetInnerHTML:{__html:"input#"+this.state.inputId+"::-ms-clear {display: none;}"}}):null}},{key:"render",value:function(){var e=[this.props.defaultValue,this.props.value,""].reduce((function(e,t){return null!=e?e:t})),t=Cc({},this.props.style);t.display||(t.display="inline-block");var n=Cc({boxSizing:"content-box",width:this.state.inputWidth+"px"},this.props.inputStyle),r=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(this.props,[]);return function(e){Tc.forEach((function(t){return delete e[t]}))}(r),r.className=this.props.inputClassName,r.id=this.state.inputId,r.style=n,Ec.default.createElement("div",{className:this.props.className,style:t},this.renderStyles(),Ec.default.createElement("input",Cc({},r,{ref:this.inputRef})),Ec.default.createElement("div",{ref:this.sizerRef,style:Oc},e),this.props.placeholder?Ec.default.createElement("div",{ref:this.placeHolderSizerRef,style:Oc},this.props.placeholder):null)}}]),t}(wl.Component);Dc.propTypes={className:Sc.default.string,defaultValue:Sc.default.any,extraWidth:Sc.default.oneOfType([Sc.default.number,Sc.default.string]),id:Sc.default.string,injectStyles:Sc.default.bool,inputClassName:Sc.default.string,inputRef:Sc.default.func,inputStyle:Sc.default.object,minWidth:Sc.default.oneOfType([Sc.default.number,Sc.default.string]),onAutosize:Sc.default.func,onChange:Sc.default.func,placeholder:Sc.default.string,placeholderIsMinWidth:Sc.default.bool,style:Sc.default.object,value:Sc.default.any},Dc.defaultProps={minWidth:1,injectStyles:!0};var Pc=Dc,Mc=function(e,t){return e===t};function Ic(e,t){var n;void 0===t&&(t=Mc);var r,o=[],i=!1,a=function(e,n){return t(e,o[n])};return function(){for(var t=arguments.length,s=new Array(t),l=0;l<t;l++)s[l]=arguments[l];return i&&n===this&&s.length===o.length&&s.every(a)||(r=e.apply(this,s),i=!0,n=this,o=s),r}}var Fc=function(e){return e&&e.__esModule?e:{default:e}},Lc=Ne((function(e,t){t.__esModule=!0,t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")},e.exports=t.default})),Bc=Ne((function(e,t){t.__esModule=!0,t.default=function(e,t){e.classList?e.classList.add(t):(0,n.default)(e,t)||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))};var n=Fc(Lc);e.exports=t.default}));function jc(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var zc=function(e,t){e.classList?e.classList.remove(t):"string"==typeof e.className?e.className=jc(e.className,t):e.setAttribute("class",jc(e.className&&e.className.baseVal||"",t))};function Vc(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function Uc(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!=n?n:null}.bind(this))}function Hc(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}Vc.__suppressDeprecationWarning=!0,Uc.__suppressDeprecationWarning=!0,Hc.__suppressDeprecationWarning=!0;const Gc=ReactDOM;var Wc=Ae(Object.freeze({__proto__:null,polyfill:function(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var n=null,r=null,o=null;if("function"==typeof t.componentWillMount?n="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?r="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(r="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?o="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(o="UNSAFE_componentWillUpdate"),null!==n||null!==r||null!==o){var i=e.displayName||e.name,a="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+i+" uses "+a+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==r?"\n  "+r:"")+(null!==o?"\n  "+o:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=Vc,t.componentWillReceiveProps=Uc),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=Hc;var s=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;s.call(this,e,t,r)}}return e}})),qc=Ne((function(e,t){t.__esModule=!0,t.default=t.EXITING=t.ENTERED=t.ENTERING=t.EXITED=t.UNMOUNTED=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(nn),r=i(wl),o=i(Gc);function i(e){return e&&e.__esModule?e:{default:e}}var a="unmounted";t.UNMOUNTED=a;var s="exited";t.EXITED=s;var l="entering";t.ENTERING=l;var u="entered";t.ENTERED=u;var c="exiting";t.EXITING=c;var d=function(e){var t,n;function i(t,n){var r;r=e.call(this,t,n)||this;var o,i=n.transitionGroup,c=i&&!i.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?c?(o=s,r.appearStatus=l):o=u:o=t.unmountOnExit||t.mountOnEnter?a:s,r.state={status:o},r.nextCallback=null,r}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var d=i.prototype;return d.getChildContext=function(){return{transitionGroup:null}},i.getDerivedStateFromProps=function(e,t){return e.in&&t.status===a?{status:s}:null},d.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},d.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==l&&n!==u&&(t=l):n!==l&&n!==u||(t=c)}this.updateStatus(!1,t)},d.componentWillUnmount=function(){this.cancelNextCallback()},d.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!=typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},d.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){this.cancelNextCallback();var n=o.default.findDOMNode(this);t===l?this.performEnter(n,e):this.performExit(n)}else this.props.unmountOnExit&&this.state.status===s&&this.setState({status:a})},d.performEnter=function(e,t){var n=this,r=this.props.enter,o=this.context.transitionGroup?this.context.transitionGroup.isMounting:t,i=this.getTimeouts(),a=o?i.appear:i.enter;t||r?(this.props.onEnter(e,o),this.safeSetState({status:l},(function(){n.props.onEntering(e,o),n.onTransitionEnd(e,a,(function(){n.safeSetState({status:u},(function(){n.props.onEntered(e,o)}))}))}))):this.safeSetState({status:u},(function(){n.props.onEntered(e)}))},d.performExit=function(e){var t=this,n=this.props.exit,r=this.getTimeouts();n?(this.props.onExit(e),this.safeSetState({status:c},(function(){t.props.onExiting(e),t.onTransitionEnd(e,r.exit,(function(){t.safeSetState({status:s},(function(){t.props.onExited(e)}))}))}))):this.safeSetState({status:s},(function(){t.props.onExited(e)}))},d.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},d.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},d.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},d.onTransitionEnd=function(e,t,n){this.setNextCallback(n);var r=null==t&&!this.props.addEndListener;e&&!r?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},d.render=function(){var e=this.state.status;if(e===a)return null;var t=this.props,n=t.children,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(t,["children"]);if(delete o.in,delete o.mountOnEnter,delete o.unmountOnExit,delete o.appear,delete o.enter,delete o.exit,delete o.timeout,delete o.addEndListener,delete o.onEnter,delete o.onEntering,delete o.onEntered,delete o.onExit,delete o.onExiting,delete o.onExited,"function"==typeof n)return n(e,o);var i=r.default.Children.only(n);return r.default.cloneElement(i,o)},i}(r.default.Component);function p(){}d.contextTypes={transitionGroup:n.object},d.childContextTypes={transitionGroup:function(){}},d.propTypes={},d.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:p,onEntering:p,onEntered:p,onExit:p,onExiting:p,onExited:p},d.UNMOUNTED=0,d.EXITED=1,d.ENTERING=2,d.ENTERED=3,d.EXITING=4;var f=(0,Wc.polyfill)(d);t.default=f})),Yc=Ne((function(e,t){t.__esModule=!0,t.default=void 0,function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(nn);var n=a(Bc),r=a(zc),o=a(wl),i=a(qc);function a(e){return e&&e.__esModule?e:{default:e}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var l=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,n.default)(e,t)}))},u=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,r.default)(e,t)}))},c=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).onEnter=function(e,n){var r=t.getClassNames(n?"appear":"enter").className;t.removeClasses(e,"exit"),l(e,r),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.getClassNames(n?"appear":"enter").activeClassName;t.reflowAndAddClass(e,r),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.getClassNames("appear").doneClassName,o=t.getClassNames("enter").doneClassName,i=n?r+" "+o:o;t.removeClasses(e,n?"appear":"enter"),l(e,i),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.getClassNames("exit").className;t.removeClasses(e,"appear"),t.removeClasses(e,"enter"),l(e,n),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.getClassNames("exit").activeClassName;t.reflowAndAddClass(e,n),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.getClassNames("exit").doneClassName;t.removeClasses(e,"exit"),l(e,n),t.props.onExited&&t.props.onExited(e)},t.getClassNames=function(e){var n=t.props.classNames,r="string"==typeof n,o=r?(r&&n?n+"-":"")+e:n[e];return{className:o,activeClassName:r?o+"-active":n[e+"Active"],doneClassName:r?o+"-done":n[e+"Done"]}},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.removeClasses=function(e,t){var n=this.getClassNames(t),r=n.className,o=n.activeClassName,i=n.doneClassName;r&&u(e,r),o&&u(e,o),i&&u(e,i)},a.reflowAndAddClass=function(e,t){t&&(e&&e.scrollTop,l(e,t))},a.render=function(){var e=s({},this.props);return delete e.classNames,o.default.createElement(i.default,s({},e,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},r}(o.default.Component);c.defaultProps={classNames:""},c.propTypes={};var d=c;t.default=d,e.exports=t.default})),Kc=Qc,$c=Zc,Xc=function(e,t){return Qc(e.children,(function(n){return(0,wl.cloneElement)(n,{onExited:t.bind(null,n),in:!0,appear:ed(n,"appear",e),enter:ed(n,"enter",e),exit:ed(n,"exit",e)})}))},Jc=function(e,t,n){var r=Qc(e.children),o=Zc(t,r);return Object.keys(o).forEach((function(i){var a=o[i];if((0,wl.isValidElement)(a)){var s=i in t,l=i in r,u=t[i],c=(0,wl.isValidElement)(u)&&!u.props.in;!l||s&&!c?l||!s||c?l&&s&&(0,wl.isValidElement)(u)&&(o[i]=(0,wl.cloneElement)(a,{onExited:n.bind(null,a),in:u.props.in,exit:ed(a,"exit",e),enter:ed(a,"enter",e)})):o[i]=(0,wl.cloneElement)(a,{in:!1}):o[i]=(0,wl.cloneElement)(a,{onExited:n.bind(null,a),in:!0,exit:ed(a,"exit",e),enter:ed(a,"enter",e)})}})),o};function Qc(e,t){var n=Object.create(null);return e&&wl.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,wl.isValidElement)(e)?t(e):e}(e)})),n}function Zc(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,o=Object.create(null),i=[];for(var a in e)a in t?i.length&&(o[a]=i,i=[]):i.push(a);var s={};for(var l in t){if(o[l])for(r=0;r<o[l].length;r++){var u=o[l][r];s[o[l][r]]=n(u)}s[l]=n(l)}for(r=0;r<i.length;r++)s[i[r]]=n(i[r]);return s}function ed(e,t,n){return null!=n[t]?n[t]:e.props[t]}var td=Object.defineProperty({getChildMapping:Kc,mergeChildMappings:$c,getInitialChildMapping:Xc,getNextChildMapping:Jc},"__esModule",{value:!0}),nd=Ne((function(e,t){t.__esModule=!0,t.default=void 0;var n=o(nn),r=o(wl);function o(e){return e&&e.__esModule?e:{default:e}}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var s=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},l=function(e){var t,n;function o(t,n){var r,o=(r=e.call(this,t,n)||this).handleExited.bind(a(a(r)));return r.state={handleExited:o,firstRender:!0},r}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l=o.prototype;return l.getChildContext=function(){return{transitionGroup:{isMounting:!this.appeared}}},l.componentDidMount=function(){this.appeared=!0,this.mounted=!0},l.componentWillUnmount=function(){this.mounted=!1},o.getDerivedStateFromProps=function(e,t){var n=t.children,r=t.handleExited;return{children:t.firstRender?(0,td.getInitialChildMapping)(e,r):(0,td.getNextChildMapping)(e,n,r),firstRender:!1}},l.handleExited=function(e,t){var n=(0,td.getChildMapping)(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=i({},t.children);return delete n[e.key],{children:n}})))},l.render=function(){var e=this.props,t=e.component,n=e.childFactory,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,["component","childFactory"]),i=s(this.state.children).map(n);return delete o.appear,delete o.enter,delete o.exit,null===t?i:r.default.createElement(t,o,i)},o}(r.default.Component);l.childContextTypes={transitionGroup:n.default.object.isRequired},l.propTypes={},l.defaultProps={component:"div",childFactory:function(e){return e}};var u=(0,Wc.polyfill)(l);t.default=u,e.exports=t.default})),rd=Ne((function(e,t){t.__esModule=!0,t.default=void 0,o(nn);var n=o(wl),r=o(nd);function o(e){return e&&e.__esModule?e:{default:e}}var i=function(e){var t,o;function i(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).handleEnter=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEnter",0,n)},t.handleEntering=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEntering",0,n)},t.handleEntered=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEntered",0,n)},t.handleExit=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExit",1,n)},t.handleExiting=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExiting",1,n)},t.handleExited=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExited",1,n)},t}o=e,(t=i).prototype=Object.create(o.prototype),t.prototype.constructor=t,t.__proto__=o;var a=i.prototype;return a.handleLifecycle=function(e,t,r){var o,i=this.props.children,a=n.default.Children.toArray(i)[t];a.props[e]&&(o=a.props)[e].apply(o,r),this.props[e]&&this.props[e]((0,Gc.findDOMNode)(this))},a.render=function(){var e=this.props,t=e.children,o=e.in,i=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,["children","in"]),a=n.default.Children.toArray(t),s=a[0],l=a[1];return delete i.onEnter,delete i.onEntering,delete i.onEntered,delete i.onExit,delete i.onExiting,delete i.onExited,n.default.createElement(r.default,i,o?n.default.cloneElement(s,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):n.default.cloneElement(l,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},i}(n.default.Component);i.propTypes={};var a=i;t.default=a,e.exports=t.default})),od=sd(Yc),id=sd(rd),ad=sd(nd);function sd(e){return e&&e.__esModule?e:{default:e}}var ld={Transition:sd(qc).default,TransitionGroup:ad.default,ReplaceTransition:id.default,CSSTransition:od.default},ud="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cd=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},dd=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),pd=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},fd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hd=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},md=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},gd=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},vd=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},yd=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},bd=Array.isArray,wd=Object.keys,kd=Object.prototype.hasOwnProperty;function Cd(e,t){if(e===t)return!0;if(e&&t&&"object"==(void 0===e?"undefined":ud(e))&&"object"==(void 0===t?"undefined":ud(t))){var n,r,o,i=bd(e),a=bd(t);if(i&&a){if((r=e.length)!=t.length)return!1;for(n=r;0!=n--;)if(!Cd(e[n],t[n]))return!1;return!0}if(i!=a)return!1;var s=e instanceof Date,l=t instanceof Date;if(s!=l)return!1;if(s&&l)return e.getTime()==t.getTime();var u=e instanceof RegExp,c=t instanceof RegExp;if(u!=c)return!1;if(u&&c)return e.toString()==t.toString();var d=wd(e);if((r=d.length)!==wd(t).length)return!1;for(n=r;0!=n--;)if(!kd.call(t,d[n]))return!1;for(n=r;0!=n--;)if(!("_owner"===(o=d[n])&&e.$$typeof||Cd(e[o],t[o])))return!1;return!0}return e!=e&&t!=t}function xd(e,t){try{return Cd(e,t)}catch(e){if(e.message&&e.message.match(/stack|recursion/i))return console.warn("Warning: react-fast-compare does not handle circular references.",e.name,e.message),!1;throw e}}var Ed=[{base:"A",letters:/[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F]/g},{base:"AA",letters:/[\uA732]/g},{base:"AE",letters:/[\u00C6\u01FC\u01E2]/g},{base:"AO",letters:/[\uA734]/g},{base:"AU",letters:/[\uA736]/g},{base:"AV",letters:/[\uA738\uA73A]/g},{base:"AY",letters:/[\uA73C]/g},{base:"B",letters:/[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181]/g},{base:"C",letters:/[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E]/g},{base:"D",letters:/[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779]/g},{base:"DZ",letters:/[\u01F1\u01C4]/g},{base:"Dz",letters:/[\u01F2\u01C5]/g},{base:"E",letters:/[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E]/g},{base:"F",letters:/[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B]/g},{base:"G",letters:/[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E]/g},{base:"H",letters:/[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D]/g},{base:"I",letters:/[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197]/g},{base:"J",letters:/[\u004A\u24BF\uFF2A\u0134\u0248]/g},{base:"K",letters:/[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2]/g},{base:"L",letters:/[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780]/g},{base:"LJ",letters:/[\u01C7]/g},{base:"Lj",letters:/[\u01C8]/g},{base:"M",letters:/[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C]/g},{base:"N",letters:/[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4]/g},{base:"NJ",letters:/[\u01CA]/g},{base:"Nj",letters:/[\u01CB]/g},{base:"O",letters:/[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C]/g},{base:"OI",letters:/[\u01A2]/g},{base:"OO",letters:/[\uA74E]/g},{base:"OU",letters:/[\u0222]/g},{base:"P",letters:/[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754]/g},{base:"Q",letters:/[\u0051\u24C6\uFF31\uA756\uA758\u024A]/g},{base:"R",letters:/[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782]/g},{base:"S",letters:/[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784]/g},{base:"T",letters:/[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786]/g},{base:"TZ",letters:/[\uA728]/g},{base:"U",letters:/[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244]/g},{base:"V",letters:/[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245]/g},{base:"VY",letters:/[\uA760]/g},{base:"W",letters:/[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72]/g},{base:"X",letters:/[\u0058\u24CD\uFF38\u1E8A\u1E8C]/g},{base:"Y",letters:/[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE]/g},{base:"Z",letters:/[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762]/g},{base:"a",letters:/[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250]/g},{base:"aa",letters:/[\uA733]/g},{base:"ae",letters:/[\u00E6\u01FD\u01E3]/g},{base:"ao",letters:/[\uA735]/g},{base:"au",letters:/[\uA737]/g},{base:"av",letters:/[\uA739\uA73B]/g},{base:"ay",letters:/[\uA73D]/g},{base:"b",letters:/[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253]/g},{base:"c",letters:/[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184]/g},{base:"d",letters:/[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A]/g},{base:"dz",letters:/[\u01F3\u01C6]/g},{base:"e",letters:/[\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD]/g},{base:"f",letters:/[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C]/g},{base:"g",letters:/[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F]/g},{base:"h",letters:/[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265]/g},{base:"hv",letters:/[\u0195]/g},{base:"i",letters:/[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131]/g},{base:"j",letters:/[\u006A\u24D9\uFF4A\u0135\u01F0\u0249]/g},{base:"k",letters:/[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3]/g},{base:"l",letters:/[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747]/g},{base:"lj",letters:/[\u01C9]/g},{base:"m",letters:/[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F]/g},{base:"n",letters:/[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5]/g},{base:"nj",letters:/[\u01CC]/g},{base:"o",letters:/[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275]/g},{base:"oi",letters:/[\u01A3]/g},{base:"ou",letters:/[\u0223]/g},{base:"oo",letters:/[\uA74F]/g},{base:"p",letters:/[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755]/g},{base:"q",letters:/[\u0071\u24E0\uFF51\u024B\uA757\uA759]/g},{base:"r",letters:/[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783]/g},{base:"s",letters:/[\u0073\u24E2\uFF53\u00DF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B]/g},{base:"t",letters:/[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787]/g},{base:"tz",letters:/[\uA729]/g},{base:"u",letters:/[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289]/g},{base:"v",letters:/[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C]/g},{base:"vy",letters:/[\uA761]/g},{base:"w",letters:/[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73]/g},{base:"x",letters:/[\u0078\u24E7\uFF58\u1E8B\u1E8D]/g},{base:"y",letters:/[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF]/g},{base:"z",letters:/[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763]/g}],Sd=function(e){for(var t=0;t<Ed.length;t++)e=e.replace(Ed[t].letters,Ed[t].base);return e},_d=function(e){return e.replace(/^\s+|\s+$/g,"")},Od=function(e){return e.label+" "+e.value},Td=function(e){return React.createElement("span",fd({className:cc({zIndex:9999,border:0,clip:"rect(1px, 1px, 1px, 1px)",height:1,width:1,position:"absolute",overflow:"hidden",padding:0,whiteSpace:"nowrap",backgroundColor:"red",color:"blue"})},e))},Rd=function(e){function t(){return cd(this,t),gd(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return hd(t,e),dd(t,[{key:"render",value:function(){var e=this.props;e.in,e.out,e.onExited,e.appear,e.enter,e.exit;var t=e.innerRef,n=md(e,["in","out","onExited","appear","enter","exit","innerRef"]);return React.createElement("input",fd({ref:t},n,{className:cc({background:0,border:0,fontSize:"inherit",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(0)"})}))}}]),t}(React.Component),Ad=function(e){function t(){return cd(this,t),gd(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return hd(t,e),dd(t,[{key:"componentDidMount",value:function(){this.props.innerRef(ReactDOM.findDOMNode(this))}},{key:"componentWillUnmount",value:function(){this.props.innerRef(null)}},{key:"render",value:function(){return this.props.children}}]),t}(React.Component),Nd=["boxSizing","height","overflow","paddingRight","position"],Dd={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function Pd(e){e.preventDefault()}function Md(e){e.stopPropagation()}function Id(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;0===e?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function Fd(){return"ontouchstart"in window||navigator.maxTouchPoints}var Ld=!("undefined"==typeof window||!window.document||!window.document.createElement),Bd=0,jd=function(e){function t(){var e,n,r;cd(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=gd(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.originalStyles={},r.listenerOptions={capture:!1,passive:!1},gd(r,n)}return hd(t,e),dd(t,[{key:"componentDidMount",value:function(){var e=this;if(Ld){var t=this.props,n=t.accountForScrollbars,r=t.touchScrollTarget,o=document.body,i=o&&o.style;if(n&&Nd.forEach((function(t){var n=i&&i[t];e.originalStyles[t]=n})),n&&Bd<1){var a=parseInt(this.originalStyles.paddingRight,10)||0,s=document.body?document.body.clientWidth:0,l=window.innerWidth-s+a||0;Object.keys(Dd).forEach((function(e){var t=Dd[e];i&&(i[e]=t)})),i&&(i.paddingRight=l+"px")}o&&Fd()&&(o.addEventListener("touchmove",Pd,this.listenerOptions),r&&(r.addEventListener("touchstart",Id,this.listenerOptions),r.addEventListener("touchmove",Md,this.listenerOptions))),Bd+=1}}},{key:"componentWillUnmount",value:function(){var e=this;if(Ld){var t=this.props,n=t.accountForScrollbars,r=t.touchScrollTarget,o=document.body,i=o&&o.style;Bd=Math.max(Bd-1,0),n&&Bd<1&&Nd.forEach((function(t){var n=e.originalStyles[t];i&&(i[t]=n)})),o&&Fd()&&(o.removeEventListener("touchmove",Pd,this.listenerOptions),r&&(r.removeEventListener("touchstart",Id,this.listenerOptions),r.removeEventListener("touchmove",Md,this.listenerOptions)))}}},{key:"render",value:function(){return null}}]),t}(React.Component);jd.defaultProps={accountForScrollbars:!0};var zd=function(e){function t(){var e,n,r;cd(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=gd(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.state={touchScrollTarget:null},r.getScrollTarget=function(e){e!==r.state.touchScrollTarget&&r.setState({touchScrollTarget:e})},r.blurSelectInput=function(){document.activeElement&&document.activeElement.blur()},gd(r,n)}return hd(t,e),dd(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.isEnabled,r=this.state.touchScrollTarget;return n?React.createElement("div",null,React.createElement("div",{onClick:this.blurSelectInput,className:cc({position:"fixed",left:0,bottom:0,right:0,top:0})}),React.createElement(Ad,{innerRef:this.getScrollTarget},t),r?React.createElement(jd,{touchScrollTarget:r}):null):t}}]),t}(React.PureComponent),Vd=function(e){function t(){var e,n,r;cd(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=gd(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.isBottom=!1,r.isTop=!1,r.cancelScroll=function(e){e.preventDefault(),e.stopPropagation()},r.handleEventDelta=function(e,t){var n=r.props,o=n.onBottomArrive,i=n.onBottomLeave,a=n.onTopArrive,s=n.onTopLeave,l=r.scrollTarget,u=l.scrollTop,c=l.scrollHeight,d=l.clientHeight,p=r.scrollTarget,f=t>0,h=c-d-u,m=!1;h>t&&r.isBottom&&(i&&i(e),r.isBottom=!1),f&&r.isTop&&(s&&s(e),r.isTop=!1),f&&t>h?(o&&!r.isBottom&&o(e),p.scrollTop=c,m=!0,r.isBottom=!0):!f&&-t>u&&(a&&!r.isTop&&a(e),p.scrollTop=0,m=!0,r.isTop=!0),m&&r.cancelScroll(e)},r.onWheel=function(e){r.handleEventDelta(e,e.deltaY)},r.onTouchStart=function(e){r.touchStart=e.changedTouches[0].clientY},r.onTouchMove=function(e){var t=r.touchStart-e.changedTouches[0].clientY;r.handleEventDelta(e,t)},r.getScrollTarget=function(e){r.scrollTarget=e},gd(r,n)}return hd(t,e),dd(t,[{key:"componentDidMount",value:function(){this.startListening(this.scrollTarget)}},{key:"componentWillUnmount",value:function(){this.stopListening(this.scrollTarget)}},{key:"startListening",value:function(e){e.scrollHeight<=e.clientHeight||("function"==typeof e.addEventListener&&e.addEventListener("wheel",this.onWheel,!1),"function"==typeof e.addEventListener&&e.addEventListener("touchstart",this.onTouchStart,!1),"function"==typeof e.addEventListener&&e.addEventListener("touchmove",this.onTouchMove,!1))}},{key:"stopListening",value:function(e){e.scrollHeight<=e.clientHeight||("function"==typeof e.removeEventListener&&e.removeEventListener("wheel",this.onWheel,!1),"function"==typeof e.removeEventListener&&e.removeEventListener("touchstart",this.onTouchStart,!1),"function"==typeof e.removeEventListener&&e.removeEventListener("touchmove",this.onTouchMove,!1))}},{key:"render",value:function(){return React.createElement(Ad,{innerRef:this.getScrollTarget},this.props.children)}}]),t}(React.Component),Ud=function(e){function t(){return cd(this,t),gd(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return hd(t,e),dd(t,[{key:"render",value:function(){var e=this.props,t=e.isEnabled,n=md(e,["isEnabled"]);return t?React.createElement(Vd,n):this.props.children}}]),t}(React.Component);Ud.defaultProps={isEnabled:!0};var Hd=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.isSearchable,r=t.isMulti,o=t.label;switch(e){case"menu":return"Use Up and Down to choose options, press Backspace to select the currently focused option, press Escape to exit the menu, press Tab to select the option and exit the menu.";case"input":return(o||"Select")+" is focused "+(n?",type to refine list":"")+", press Down to open the menu, "+(r?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Enter to remove the currently focused value"}},Gd=function(e,t){var n=t.value;if(n)switch(e){case"deselect-option":case"pop-value":case"remove-value":return"option "+n+", deselected.";case"select-option":return"option "+n+", selected."}},Wd=function(){};function qd(e,t){return t?"-"===t[0]?e+t:e+"__"+t:e}function Yd(e,t,n,r){var o=[t,r];if(n&&e)for(var i in n)n.hasOwnProperty(i)&&n[i]&&o.push(""+qd(e,i));return o.filter((function(e){return e})).map((function(e){return String(e).trim()})).join(" ")}var Kd=function(e){return Array.isArray(e)?e.filter(Boolean):"object"===(void 0===e?"undefined":ud(e))&&null!==e?[e]:[]};function $d(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function Xd(e){return $d(e)?window.pageYOffset:e.scrollTop}function Jd(e,t){$d(e)?window.scrollTo(0,t):e.scrollTop=t}function Qd(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t}function Zd(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Wd,o=Xd(e),i=t-o,a=10,s=0;function l(){var t=Qd(s+=a,o,i,n);Jd(e,t),s<n?kc(l):r(e)}l()}function ep(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}}var tp="#222",np="#2684FF",rp="#B2D4FF",op="#DEEBFF",ip="#DE350B",ap="#FFBDAD",sp="hsl(0, 0%, 100%)",lp="hsl(0, 0%, 98%)",up="hsl(0, 0%, 95%)",cp="hsl(0, 0%, 90%)",dp="hsl(0, 0%, 80%)",pp="hsl(0, 0%, 70%)",fp="hsl(0, 0%, 60%)",hp="hsl(0, 0%, 50%)",mp="hsl(0, 0%, 40%)",gp="hsl(0, 0%, 0%)",vp="hsla(0, 0%, 0%, 0.1)",yp={baseUnit:4,controlHeight:38,menuGutter:8},bp=function(e){function t(){return cd(this,t),gd(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return hd(t,e),dd(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,r=e.cx,o=e.isMulti,i=e.getStyles,a=e.hasValue;return React.createElement("div",{className:r(cc(i("valueContainer",this.props)),{"value-container":!0,"value-container--is-multi":o,"value-container--has-value":a},n)},t)}}]),t}(React.Component),wp=function(e){var t=e.size,n=md(e,["size"]);return React.createElement("svg",fd({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",className:cc({display:"inline-block",fill:"currentColor",lineHeight:1,stroke:"currentColor",strokeWidth:0})},n))},kp=function(e){return React.createElement(wp,fd({size:20},e),React.createElement("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},Cp=function(e){return React.createElement(wp,fd({size:20},e),React.createElement("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},xp=function(e){var t=e.isFocused;return{color:t?mp:dp,display:"flex",padding:2*yp.baseUnit,transition:"color 150ms",":hover":{color:t?gp:fp}}},Ep=xp,Sp=xp,_p="react-select-loading-indicator",Op=function(e){var t=e.color,n=e.delay,r=e.offset;return React.createElement("span",{className:cc({animationDuration:"1s",animationDelay:n+"ms",animationIterationCount:"infinite",animationName:_p,animationTimingFunction:"ease-in-out",backgroundColor:t,borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":null,height:"1em",verticalAlign:"top",width:"1em"})})};uc("@keyframes ",_p,"{0%,80%,100%{opacity:0;}40%{opacity:1;}};");var Tp=function(e){var t=e.className,n=e.cx,r=e.getStyles,o=e.innerProps,i=e.isFocused,a=e.isRtl,s=i?tp:dp;return React.createElement("div",fd({},o,{className:n(cc(r("loadingIndicator",e)),{indicator:!0,"loading-indicator":!0},t)}),React.createElement(Op,{color:s,delay:0,offset:a}),React.createElement(Op,{color:s,delay:160,offset:!0}),React.createElement(Op,{color:s,delay:320,offset:!a}))};Tp.defaultProps={size:4};var Rp=function(e){return{background:0,border:0,fontSize:"inherit",opacity:e?0:1,outline:0,padding:0,color:"inherit"}};function Ap(e){var t=e.maxHeight,n=e.menuEl,r=e.minHeight,o=e.placement,i=e.shouldScroll,a=e.isFixedPosition,s=function(e){var t=getComputedStyle(e),n="absolute"===t.position,r=/(auto|scroll)/,o=document.documentElement;if("fixed"===t.position)return o;for(var i=e;i=i.parentElement;)if(t=getComputedStyle(i),(!n||"static"!==t.position)&&r.test(t.overflow+t.overflowY+t.overflowX))return i;return o}(n),l={placement:"bottom",maxHeight:t};if(!n||!n.offsetParent)return l;var u=s.getBoundingClientRect().height,c=n.getBoundingClientRect(),d=c.bottom,p=c.height,f=c.top,h=n.offsetParent.getBoundingClientRect().top,m=window.innerHeight,g=Xd(s),v=yp.menuGutter,y=h-v,b=m-f,w=y+g,k=u-g-f,C=d-m+g+v,x=g+f-v,E=160;switch(o){case"auto":case"bottom":if(b>=p)return{placement:"bottom",maxHeight:t};if(k>=p&&!a)return i&&Zd(s,C,E),{placement:"bottom",maxHeight:t};if(!a&&k>=r||a&&b>=r)return i&&Zd(s,C,E),{placement:"bottom",maxHeight:a?b-v:k-v};if("auto"===o||a){var S=t;return(!a&&w>=r||a&&y>=r)&&(S=a?y-v-yp.controlHeight:w-v-yp.controlHeight),{placement:"top",maxHeight:S}}if("bottom"===o)return Jd(s,C),{placement:"bottom",maxHeight:t};break;case"top":if(y>=p)return{placement:"top",maxHeight:t};if(w>=p&&!a)return i&&Zd(s,x,E),{placement:"top",maxHeight:t};if(!a&&w>=r||a&&y>=r){var _=t;return(!a&&w>=r||a&&y>=r)&&(_=a?y-v:w-v),i&&Zd(s,x,E),{placement:"top",maxHeight:_}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'+o+'".')}return l}var Np=function(e){return"auto"===e?"bottom":e},Dp=function(e){function t(){var e,n,r;cd(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=gd(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.state={maxHeight:r.props.maxMenuHeight,placement:null},r.getPlacement=function(e){var t=r.props,n=t.minMenuHeight,o=t.maxMenuHeight,i=t.menuPlacement,a=t.menuPosition,s=t.menuShouldScrollIntoView,l=r.context.getPortalPlacement;if(e){var u="fixed"===a,c=Ap({maxHeight:o,menuEl:e,minHeight:n,placement:i,shouldScroll:s&&!u,isFixedPosition:u});l&&l(c),r.setState(c)}},r.getState=function(){var e=r.props.menuPlacement,t=r.state.placement||Np(e);return fd({},r.props,{placement:t,maxHeight:r.state.maxHeight})},gd(r,n)}return hd(t,e),dd(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,r=e.cx,o=e.getStyles,i=e.innerProps;return React.createElement("div",fd({className:r(cc(o("menu",this.getState())),{menu:!0},n),ref:this.getPlacement},i),t)}}]),t}(React.Component);Dp.contextTypes={getPortalPlacement:nn.func};var Pp=function(){return{color:fp,padding:2*yp.baseUnit+"px "+3*yp.baseUnit+"px",textAlign:"center"}},Mp=Pp,Ip=Pp,Fp=function(e){var t=e.children,n=e.className,r=e.cx,o=e.getStyles,i=e.innerProps;return React.createElement("div",fd({className:r(cc(o("noOptionsMessage",e)),{"menu-notice":!0,"menu-notice--no-options":!0},n)},i),t)};Fp.defaultProps={children:"No options"};var Lp=function(e){var t=e.children,n=e.className,r=e.cx,o=e.getStyles,i=e.innerProps;return React.createElement("div",fd({className:r(cc(o("loadingMessage",e)),{"menu-notice":!0,"menu-notice--loading":!0},n)},i),t)};Lp.defaultProps={children:"Loading..."};var Bp=function(e){function t(){var e,n,r;cd(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=gd(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.state={placement:null},r.getPortalPlacement=function(e){var t=e.placement;t!==Np(r.props.menuPlacement)&&r.setState({placement:t})},gd(r,n)}return hd(t,e),dd(t,[{key:"getChildContext",value:function(){return{getPortalPlacement:this.getPortalPlacement}}},{key:"render",value:function(){var e=this.props,t=e.appendTo,n=e.children,r=e.controlElement,o=e.menuPlacement,i=e.menuPosition,a=e.getStyles,s="fixed"===i;if(!t&&!s||!r)return null;var l=this.state.placement||Np(o),u=function(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}(r),c=s?0:window.pageYOffset,d={offset:u[l]+c,position:i,rect:u},p=React.createElement("div",{className:cc(a("menuPortal",d))},n);return t?ReactDOM.createPortal(p,t):p}}]),t}(React.Component);Bp.childContextTypes={getPortalPlacement:nn.func};var jp=function(e){var t=e.children,n=e.innerProps;return React.createElement("div",n,t)},zp=jp,Vp=jp,Up=function(e){function t(){return cd(this,t),gd(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return hd(t,e),dd(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.innerProps;return React.createElement("div",n,t)}}]),t}(React.Component);Up.defaultProps={children:React.createElement(kp,{size:14})};var Hp=function(e){function t(){return cd(this,t),gd(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return hd(t,e),dd(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,r=e.components,o=e.cx,i=e.data,a=e.getStyles,s=e.innerProps,l=e.isDisabled,u=e.removeProps,c=e.selectProps,d=r.Container,p=r.Label,f=r.Remove,h=fd({className:o(cc(a("multiValue",this.props)),{"multi-value":!0,"multi-value--is-disabled":l},n)},s),m={className:o(cc(a("multiValueLabel",this.props)),{"multi-value__label":!0},n)},g=fd({className:o(cc(a("multiValueRemove",this.props)),{"multi-value__remove":!0},n)},u);return React.createElement(d,{data:i,innerProps:h,selectProps:c},React.createElement(p,{data:i,innerProps:m,selectProps:c},t),React.createElement(f,{data:i,innerProps:g,selectProps:c}))}}]),t}(React.Component);Hp.defaultProps={cropWithEllipsis:!0};var Gp={ClearIndicator:function(e){var t=e.children,n=void 0===t?React.createElement(kp,null):t,r=e.className,o=e.cx,i=e.getStyles,a=e.innerProps;return React.createElement("div",fd({},a,{className:o(cc(i("clearIndicator",e)),{indicator:!0,"clear-indicator":!0},r)}),n)},Control:function(e){var t=e.children,n=e.cx,r=e.getStyles,o=e.className,i=e.isDisabled,a=e.isFocused,s=e.innerRef,l=e.innerProps;return React.createElement("div",fd({ref:s,className:n(cc(r("control",e)),{control:!0,"control--is-disabled":i,"control--is-focused":a},o)},l),t)},DropdownIndicator:function(e){var t=e.children,n=void 0===t?React.createElement(Cp,null):t,r=e.className,o=e.cx,i=e.getStyles,a=e.innerProps;return React.createElement("div",fd({},a,{className:o(cc(i("dropdownIndicator",e)),{indicator:!0,"dropdown-indicator":!0},r)}),n)},DownChevron:Cp,CrossIcon:kp,Group:function(e){var t=e.children,n=e.className,r=e.cx,o=e.getStyles,i=e.Heading,a=e.label;return React.createElement("div",{className:r(cc(o("group",e)),{group:!0},n)},React.createElement(i,{getStyles:o,cx:r},a),React.createElement("div",null,t))},GroupHeading:function(e){var t=e.className,n=e.cx,r=e.getStyles,o=md(e,["className","cx","getStyles"]);return React.createElement("div",fd({className:n(cc(r("groupHeading",e)),{"group-heading":!0},t)},o))},IndicatorsContainer:function(e){var t=e.children,n=e.className,r=e.cx,o=e.getStyles;return React.createElement("div",{className:r(cc(o("indicatorsContainer",e)),{indicators:!0},n)},t)},IndicatorSeparator:function(e){var t=e.className,n=e.cx,r=e.getStyles,o=e.innerProps;return React.createElement("span",fd({},o,{className:n(cc(r("indicatorSeparator",e)),{"indicator-separator":!0},t)}))},Input:function(e){var t=e.className,n=e.cx,r=e.getStyles,o=e.innerRef,i=e.isHidden,a=e.isDisabled,s=md(e,["className","cx","getStyles","innerRef","isHidden","isDisabled"]);return React.createElement("div",{className:cc(r("input",s))},React.createElement(Pc,fd({className:n(null,{input:!0},t),inputRef:o,inputStyle:Rp(i),disabled:a},s)))},LoadingIndicator:Tp,Menu:Dp,MenuList:function(e){var t=e.children,n=e.className,r=e.cx,o=e.getStyles,i=e.isMulti,a=e.innerRef;return React.createElement("div",{className:r(cc(o("menuList",e)),{"menu-list":!0,"menu-list--is-multi":i},n),ref:a},t)},MenuPortal:Bp,LoadingMessage:Lp,NoOptionsMessage:Fp,MultiValue:Hp,MultiValueContainer:zp,MultiValueLabel:Vp,MultiValueRemove:Up,Option:function(e){var t=e.children,n=e.className,r=e.cx,o=e.getStyles,i=e.isDisabled,a=e.isFocused,s=e.isSelected,l=e.innerRef,u=e.innerProps;return React.createElement("div",fd({ref:l,className:r(cc(o("option",e)),{option:!0,"option--is-disabled":i,"option--is-focused":a,"option--is-selected":s},n)},u),t)},Placeholder:function(e){var t=e.children,n=e.className,r=e.cx,o=e.getStyles,i=e.innerProps;return React.createElement("div",fd({className:r(cc(o("placeholder",e)),{placeholder:!0},n)},i),t)},SelectContainer:function(e){var t=e.children,n=e.className,r=e.cx,o=e.getStyles,i=e.innerProps,a=e.isDisabled,s=e.isRtl;return React.createElement("div",fd({className:r(cc(o("container",e)),{"--is-disabled":a,"--is-rtl":s},n)},i),t)},SingleValue:function(e){var t=e.children,n=e.className,r=e.cx,o=e.getStyles,i=e.isDisabled,a=e.innerProps;return React.createElement("div",fd({className:r(cc(o("singleValue",e)),{"single-value":!0,"single-value--is-disabled":i},n)},a),t)},ValueContainer:bp},Wp=function(e){return fd({},Gp,e.components)},qp={clearIndicator:Sp,container:function(e){var t=e.isDisabled;return{direction:e.isRtl?"rtl":null,pointerEvents:t?"none":null,position:"relative"}},control:function(e){var t=e.isDisabled,n=e.isFocused;return{alignItems:"center",backgroundColor:t?up:n?sp:lp,borderColor:t?cp:n?np:dp,borderRadius:4,borderStyle:"solid",borderWidth:1,boxShadow:n?"0 0 0 1px "+np:null,cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:yp.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms","&:hover":{borderColor:n?np:pp}}},dropdownIndicator:Ep,group:function(){return{paddingBottom:2*yp.baseUnit,paddingTop:2*yp.baseUnit}},groupHeading:function(){return{color:"#999",cursor:"default",display:"block",fontSize:"75%",fontWeight:"500",marginBottom:"0.25em",paddingLeft:3*yp.baseUnit,paddingRight:3*yp.baseUnit,textTransform:"uppercase"}},indicatorsContainer:function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},indicatorSeparator:function(e){return{alignSelf:"stretch",backgroundColor:e.isDisabled?cp:dp,marginBottom:2*yp.baseUnit,marginTop:2*yp.baseUnit,width:1}},input:function(e){var t=e.isDisabled;return{margin:yp.baseUnit/2,paddingBottom:yp.baseUnit/2,paddingTop:yp.baseUnit/2,visibility:t?"hidden":"visible",color:tp}},loadingIndicator:function(e){var t=e.isFocused,n=e.size;return{color:t?mp:dp,display:"flex",padding:2*yp.baseUnit,transition:"color 150ms",alignSelf:"center",fontSize:n,lineHeight:1,marginRight:n,textAlign:"center",verticalAlign:"middle"}},loadingMessage:Ip,menu:function(e){var t,n=e.placement;return pd(t={},function(e){return e?{bottom:"top",top:"bottom"}[e]:"bottom"}(n),"100%"),pd(t,"backgroundColor",sp),pd(t,"borderRadius",4),pd(t,"boxShadow","0 0 0 1px "+vp+", 0 4px 11px "+vp),pd(t,"marginBottom",yp.menuGutter),pd(t,"marginTop",yp.menuGutter),pd(t,"position","absolute"),pd(t,"width","100%"),pd(t,"zIndex",1),t},menuList:function(e){return{maxHeight:e.maxHeight,overflowY:"auto",paddingBottom:yp.baseUnit,paddingTop:yp.baseUnit,position:"relative",WebkitOverflowScrolling:"touch"}},menuPortal:function(e){var t=e.rect,n=e.offset,r=e.position;return{left:t.left,position:r,top:n,width:t.width,zIndex:1}},multiValue:function(){return{backgroundColor:cp,borderRadius:2,display:"flex",margin:yp.baseUnit/2,minWidth:0}},multiValueLabel:function(e){var t=e.cropWithEllipsis;return{borderRadius:2,color:tp,fontSize:"85%",overflow:"hidden",padding:3,paddingLeft:6,textOverflow:t?"ellipsis":null,whiteSpace:"nowrap"}},multiValueRemove:function(e){return{alignItems:"center",borderRadius:2,backgroundColor:e.isFocused&&ap,display:"flex",paddingLeft:yp.baseUnit,paddingRight:yp.baseUnit,":hover":{backgroundColor:ap,color:ip}}},noOptionsMessage:Mp,option:function(e){var t=e.isDisabled,n=e.isFocused,r=e.isSelected;return{backgroundColor:r?np:n?op:"transparent",color:t?dp:r?sp:"inherit",cursor:"default",display:"block",fontSize:"inherit",padding:2*yp.baseUnit+"px "+3*yp.baseUnit+"px",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",":active":{backgroundColor:r?np:rp}}},placeholder:function(){return{color:hp,marginLeft:yp.baseUnit/2,marginRight:yp.baseUnit/2,position:"absolute",top:"50%",transform:"translateY(-50%)"}},singleValue:function(e){return{color:e.isDisabled?fp:tp,marginLeft:yp.baseUnit/2,marginRight:yp.baseUnit/2,maxWidth:"calc(100% - "+2*yp.baseUnit+"px)",overflow:"hidden",position:"absolute",textOverflow:"ellipsis",whiteSpace:"nowrap",top:"50%",transform:"translateY(-50%)"}},valueContainer:function(){return{alignItems:"center",display:"flex",flex:1,flexWrap:"wrap",padding:yp.baseUnit/2+"px "+2*yp.baseUnit+"px",WebkitOverflowScrolling:"touch",position:"relative"}}},Yp={backspaceRemovesValue:!0,blurInputOnSelect:ep(),captureMenuScroll:!ep(),closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:function(e){return function(t,n){var r=fd({ignoreCase:!0,ignoreAccents:!0,stringify:Od,trim:!0,matchFrom:"any"},e),o=r.ignoreCase,i=r.ignoreAccents,a=r.stringify,s=r.trim,l=r.matchFrom,u=s?_d(n):n,c=s?_d(a(t)):a(t);return o&&(u=u.toLowerCase(),c=c.toLowerCase()),i&&(u=Sd(u),c=Sd(c)),"start"===l?c.substr(0,u.length)===u:c.indexOf(u)>-1}}(),formatGroupLabel:function(e){return e.label},getOptionLabel:function(e){return e.label},getOptionValue:function(e){return e.value},isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:function(e){return!!e.isDisabled},loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!function(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(e){return!1}}(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return t+" result"+(1!==t?"s":"")+" available"},styles:{},tabIndex:"0",tabSelectsValue:!0},Kp=1,$p=function(e){function t(e){cd(this,t);var n=gd(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));Xp.call(n);var r=e.value;n.cacheComponents=Ic(n.cacheComponents,xd).bind(n),n.cacheComponents(e.components),n.instancePrefix="react-select-"+(n.props.instanceId||++Kp);var o=Kd(r),i=n.buildMenuOptions(e,o);return n.state.menuOptions=i,n.state.selectValue=o,n}return hd(t,e),dd(t,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput()}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=t.options,r=t.value,o=t.inputValue;if(this.cacheComponents(e.components),e.value!==r||e.options!==n||e.inputValue!==o){var i=Kd(e.value),a=this.buildMenuOptions(e,i),s=this.getNextFocusedValue(i),l=this.getNextFocusedOption(a.focusable);this.setState({menuOptions:a,selectValue:i,focusedOption:l,focusedValue:s})}null!=this.inputIsHiddenAfterUpdate&&(this.setState({inputIsHidden:this.inputIsHiddenAfterUpdate}),delete this.inputIsHiddenAfterUpdate)}},{key:"componentDidUpdate",value:function(e){var t,n,r,o,i,a=this.props,s=a.isDisabled,l=a.menuIsOpen,u=this.state.isFocused;(u&&!s&&e.isDisabled||u&&l&&!e.menuIsOpen)&&this.focusInput(),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(t=this.menuListRef,n=this.focusedOptionRef,r=t.getBoundingClientRect(),o=n.getBoundingClientRect(),i=n.offsetHeight/3,o.bottom+i>r.bottom?Jd(t,Math.min(n.offsetTop+n.clientHeight-t.offsetHeight+i,t.scrollHeight)):o.top-i<r.top&&Jd(t,Math.max(n.offsetTop-i,0))),this.scrollToFocusedOptionOnUpdate=!1}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){var e=this.props,t=e.isSearchable,n=e.isMulti;this.announceAriaLiveContext({event:"input",context:{isSearchable:t,isMulti:n}}),this.onInputChange("",{action:"menu-close"}),this.props.onMenuClose()}},{key:"onInputChange",value:function(e,t){this.props.onInputChange(e,t)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(e){var t=this.state,n=t.menuOptions,r=t.selectValue,o=this.props.isMulti,i="first"===e?0:n.focusable.length-1;if(!o){var a=n.focusable.indexOf(r[0]);a>-1&&(i=a)}this.scrollToFocusedOptionOnUpdate=!0,this.inputIsHiddenAfterUpdate=!1,this.onMenuOpen(),this.setState({focusedValue:null,focusedOption:n.focusable[i]}),this.announceAriaLiveContext({event:"menu"})}},{key:"focusValue",value:function(e){var t=this.props,n=t.isMulti,r=t.isSearchable,o=this.state,i=o.selectValue,a=o.focusedValue;if(n){this.setState({focusedOption:null});var s=i.indexOf(a);a||(s=-1,this.announceAriaLiveContext({event:"value"}));var l=i.length-1,u=-1;if(i.length){switch(e){case"previous":u=0===s?0:-1===s?l:s-1;break;case"next":s>-1&&s<l&&(u=s+1)}-1===u&&this.announceAriaLiveContext({event:"input",context:{isSearchable:r,isMulti:n}}),this.setState({inputIsHidden:-1!==u,focusedValue:i[u]})}}}},{key:"focusOption",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"first",t=this.props.pageSize,n=this.state,r=n.focusedOption,o=n.menuOptions,i=o.focusable;if(i.length){var a=0,s=i.indexOf(r);r||(s=-1,this.announceAriaLiveContext({event:"menu"})),"up"===e?a=s>0?s-1:i.length-1:"down"===e?a=(s+1)%i.length:"pageup"===e?(a=s-t)<0&&(a=0):"pagedown"===e?(a=s+t)>i.length-1&&(a=i.length-1):"last"===e&&(a=i.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:i[a],focusedValue:null})}}},{key:"getCommonProps",value:function(){var e=this.clearValue,t=this.getStyles,n=this.setValue,r=this.selectOption,o=this.props,i=o.classNamePrefix,a=o.isMulti,s=o.isRtl,l=o.options,u=this.state.selectValue,c=this.hasValue(),d=i;return{cx:Yd.bind(null,d),clearValue:e,getStyles:t,getValue:function(){return u},hasValue:c,isMulti:a,isRtl:s,options:l,selectOption:r,setValue:n,selectProps:o}}},{key:"getNextFocusedValue",value:function(e){if(this.clearFocusValueOnUpdate)return this.clearFocusValueOnUpdate=!1,null;var t=this.state,n=t.focusedValue,r=t.selectValue.indexOf(n);if(r>-1){if(e.indexOf(n)>-1)return n;if(r<e.length)return e[r]}return null}},{key:"getNextFocusedOption",value:function(e){var t=this.state.focusedOption;return t&&e.indexOf(t)>-1?t:e[0]}},{key:"hasValue",value:function(){return this.state.selectValue.length>0}},{key:"hasOptions",value:function(){return!!this.state.menuOptions.render.length}},{key:"countOptions",value:function(){return this.state.menuOptions.focusable.length}},{key:"isClearable",value:function(){var e=this.props,t=e.isClearable,n=e.isMulti;return void 0===t?n:t}},{key:"isOptionDisabled",value:function(e,t){return"function"==typeof this.props.isOptionDisabled&&this.props.isOptionDisabled(e,t)}},{key:"isOptionSelected",value:function(e,t){var n=this;if(t.indexOf(e)>-1)return!0;if("function"==typeof this.props.isOptionSelected)return this.props.isOptionSelected(e,t);var r=this.getOptionValue(e);return t.some((function(e){return n.getOptionValue(e)===r}))}},{key:"filterOption",value:function(e,t){return!this.props.filterOption||this.props.filterOption(e,t)}},{key:"formatOptionLabel",value:function(e,t){if("function"==typeof this.props.formatOptionLabel){var n=this.props.inputValue,r=this.state.selectValue;return this.props.formatOptionLabel(e,{context:t,inputValue:n,selectValue:r})}return this.getOptionLabel(e)}},{key:"formatGroupLabel",value:function(e){return this.props.formatGroupLabel(e)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"buildMenuOptions",value:function(e,t){var n=this,r=e.inputValue,o=void 0===r?"":r,i=e.options,a=function(e,r){var i=n.isOptionDisabled(e,t),a=n.isOptionSelected(e,t),s=n.getOptionLabel(e),l=n.getOptionValue(e);if(!(n.shouldHideSelectedOptions()&&a||!n.filterOption({label:s,value:l,data:e},o))){var u=i?void 0:function(){return n.onOptionHover(e)},c=i?void 0:function(){return n.selectOption(e)},d=n.getElementId("option")+"-"+r;return{innerProps:{id:d,onClick:c,onMouseMove:u,onMouseOver:u,role:"option",tabIndex:-1},data:e,isDisabled:i,isSelected:a,key:d,label:s,type:"option",value:l}}};return i.reduce((function(e,t,r){if(t.options){n.hasGroups||(n.hasGroups=!0);var o=t.options.map((function(t,n){var o=a(t,r+"-"+n);return o&&!o.isDisabled&&e.focusable.push(t),o})).filter(Boolean);if(o.length){var i=n.getElementId("group")+"-"+r;e.render.push({type:"group",key:i,data:t,options:o})}}else{var s=a(t,""+r);s&&(e.render.push(s),s.isDisabled||e.focusable.push(t))}return e}),{render:[],focusable:[]})}},{key:"constructAriaLiveMessage",value:function(){var e=this.state,t=e.ariaLiveContext,n=e.selectValue,r=e.focusedValue,o=e.focusedOption,i=this.props,a=i.options,s=i.menuIsOpen,l=i.inputValue,u=i.screenReaderStatus;return(r?function(e){var t=e.focusedValue,n=e.getOptionLabel,r=e.selectValue;return"value "+n(t)+" focused, "+(r.indexOf(t)+1)+" of "+r.length+"."}({focusedValue:r,getOptionLabel:this.getOptionLabel,selectValue:n}):"")+" "+(o&&s?function(e){var t=e.focusedOption,n=e.getOptionLabel,r=e.options;return"option "+n(t)+" focused, "+(r.indexOf(t)+1)+" of "+r.length+"."}({focusedOption:o,getOptionLabel:this.getOptionLabel,options:a}):"")+" "+function(e){var t=e.inputValue;return e.screenReaderMessage+(t?" for search term "+t:"")+"."}({inputValue:l,screenReaderMessage:u({count:this.countOptions()})})+" "+t}},{key:"renderInput",value:function(){var e=this.props,t=e.isDisabled,n=e.isSearchable,r=e.inputId,o=e.inputValue,i=e.tabIndex,a=this.components.Input,s=this.state.inputIsHidden,l=r||this.getElementId("input");if(!n)return React.createElement(Rd,{id:l,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Wd,onFocus:this.onInputFocus,readOnly:!0,tabIndex:i,value:""});var u={"aria-autocomplete":"list","aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"]},c=this.commonProps.cx;return React.createElement(a,fd({autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",cx:c,getStyles:this.getStyles,id:l,innerRef:this.getInputRef,isDisabled:t,isHidden:s,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:i,type:"text",value:o},u))}},{key:"renderPlaceholderOrValue",value:function(){var e=this,t=this.components,n=t.MultiValue,r=t.MultiValueContainer,o=t.MultiValueLabel,i=t.MultiValueRemove,a=t.SingleValue,s=t.Placeholder,l=this.commonProps,u=this.props,c=u.controlShouldRenderValue,d=u.isDisabled,p=u.isMulti,f=u.inputValue,h=u.placeholder,m=this.state,g=m.selectValue,v=m.focusedValue;if(!this.hasValue()||!c)return f?null:React.createElement(s,fd({},l,{key:"placeholder",isDisabled:d}),h);if(p)return g.map((function(t){var a=t===v;return React.createElement(n,fd({},l,{components:{Container:r,Label:o,Remove:i},isFocused:a,isDisabled:d,key:e.getOptionValue(t),removeProps:{onClick:function(){return e.removeValue(t)},onTouchEnd:function(){return e.removeValue(t)},onMouseDown:function(e){e.preventDefault(),e.stopPropagation()}},data:t}),e.formatOptionLabel(t,"value"))}));if(f)return null;var y=g[0];return React.createElement(a,fd({},l,{data:y,isDisabled:d}),this.formatOptionLabel(y,"value"))}},{key:"renderClearIndicator",value:function(){var e=this.components.ClearIndicator,t=this.commonProps,n=this.props,r=n.isDisabled,o=n.isLoading,i=this.state.isFocused;if(!this.isClearable()||!e||r||!this.hasValue()||o)return null;var a={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return React.createElement(e,fd({},t,{innerProps:a,isFocused:i}))}},{key:"renderLoadingIndicator",value:function(){var e=this.components.LoadingIndicator,t=this.commonProps,n=this.props,r=n.isDisabled,o=n.isLoading,i=this.state.isFocused;if(!e||!o)return null;return React.createElement(e,fd({},t,{innerProps:{"aria-hidden":"true"},isDisabled:r,isFocused:i}))}},{key:"renderIndicatorSeparator",value:function(){var e=this.components,t=e.DropdownIndicator,n=e.IndicatorSeparator;if(!t||!n)return null;var r=this.commonProps,o=this.props.isDisabled,i=this.state.isFocused;return React.createElement(n,fd({},r,{isDisabled:o,isFocused:i}))}},{key:"renderDropdownIndicator",value:function(){var e=this.components.DropdownIndicator;if(!e)return null;var t=this.commonProps,n=this.props.isDisabled,r=this.state.isFocused,o={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return React.createElement(e,fd({},t,{innerProps:o,isDisabled:n,isFocused:r}))}},{key:"renderMenu",value:function(){var e=this,t=this.components,n=t.Group,r=t.GroupHeading,o=t.Menu,i=t.MenuList,a=t.MenuPortal,s=t.LoadingMessage,l=t.NoOptionsMessage,u=t.Option,c=this.commonProps,d=this.state,p=d.focusedOption,f=d.menuOptions,h=this.props,m=h.captureMenuScroll,g=h.inputValue,v=h.isLoading,y=h.loadingMessage,b=h.minMenuHeight,w=h.maxMenuHeight,k=h.menuIsOpen,C=h.menuPlacement,x=h.menuPosition,E=h.menuPortalTarget,S=h.menuShouldBlockScroll,_=h.menuShouldScrollIntoView,O=h.noOptionsMessage,T=h.onMenuScrollToTop,R=h.onMenuScrollToBottom;if(!k)return null;var A=function(t){var n=p===t.data;return t.innerRef=n?e.getFocusedOptionRef:void 0,React.createElement(u,fd({},c,t,{isFocused:n}),e.formatOptionLabel(t.data,"menu"))},N=void 0;if(this.hasOptions())N=f.render.map((function(t){if("group"===t.type){t.type;var o=md(t,["type"]),i=t.key+"-heading";return React.createElement(n,fd({},c,o,{Heading:r,headingProps:{id:i},label:e.formatGroupLabel(t.data)}),t.options.map((function(e){return A(e)})))}if("option"===t.type)return A(t)}));else if(v){var D=y({inputValue:g});if(null===D)return null;N=React.createElement(s,c,D)}else{var P=O({inputValue:g});if(null===P)return null;N=React.createElement(l,c,P)}var M=React.createElement("div",null,React.createElement(o,fd({},c,{innerProps:{onMouseDown:this.onMenuMouseDown,onMouseMove:this.onMenuMouseMove},isLoading:v,minMenuHeight:b,maxMenuHeight:w,menuPlacement:C,menuPosition:x,menuShouldScrollIntoView:_}),React.createElement(Ud,{isEnabled:m,onTopArrive:T,onBottomArrive:R},React.createElement(zd,{isEnabled:S},React.createElement(i,fd({},c,{innerRef:this.getMenuListRef,isLoading:v,maxHeight:w}),N)))));return E||"fixed"===x?React.createElement(a,fd({},c,{appendTo:E,controlElement:this.controlRef,menuPlacement:C,menuPosition:x}),M):M}},{key:"renderFormField",value:function(){var e=this,t=this.props,n=t.delimiter,r=t.isDisabled,o=t.isMulti,i=t.name,a=this.state.selectValue;if(i&&!r){if(o){if(n){var s=a.map((function(t){return e.getOptionValue(t)})).join(n);return React.createElement("input",{name:i,type:"hidden",value:s})}return React.createElement("div",null,a.map((function(t,n){return React.createElement("input",{key:"i-"+n,name:i,type:"hidden",value:e.getOptionValue(t)})})))}var l=a[0]?this.getOptionValue(a[0]):"";return React.createElement("input",{name:i,type:"hidden",value:l})}}},{key:"renderLiveRegion",value:function(){return this.state.isFocused?React.createElement(Td,{"aria-live":"assertive"},React.createElement("p",{id:"aria-selection-event"}," ",this.state.ariaLiveSelection),React.createElement("p",{id:"aria-context"}," ",this.constructAriaLiveMessage())):null}},{key:"render",value:function(){var e=this.components,t=e.Control,n=e.IndicatorsContainer,r=e.SelectContainer,o=e.ValueContainer,i=this.props,a=i.className,s=i.id,l=i.isDisabled,u=this.state.isFocused,c=this.commonProps=this.getCommonProps();return React.createElement(r,fd({},c,{className:a,innerProps:{id:s,onKeyDown:this.onKeyDown},isDisabled:l,isFocused:u}),this.renderLiveRegion(),React.createElement(t,fd({},c,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:l,isFocused:u}),React.createElement(o,fd({},c,{isDisabled:l}),this.renderPlaceholderOrValue(),this.renderInput()),React.createElement(n,fd({},c,{isDisabled:l}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}]),t}(React.Component);$p.defaultProps=Yp;var Xp=function(){var e=this;this.state={ariaLiveSelection:"",ariaLiveContext:"",focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,isComposing:!1,menuOptions:{render:[],focusable:[]},selectValue:[]},this.blockOptionHover=!1,this.clearFocusValueOnUpdate=!1,this.hasGroups=!1,this.initialTouchX=0,this.initialTouchY=0,this.instancePrefix="",this.openAfterFocus=!1,this.scrollToFocusedOptionOnUpdate=!1,this.controlRef=null,this.getControlRef=function(t){e.controlRef=t},this.focusedOptionRef=null,this.getFocusedOptionRef=function(t){e.focusedOptionRef=t},this.menuListRef=null,this.getMenuListRef=function(t){e.menuListRef=t},this.inputRef=null,this.getInputRef=function(t){e.inputRef=t},this.cacheComponents=function(t){e.components=Wp({components:t})},this.focus=this.focusInput,this.blur=this.blurInput,this.setValue=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"set-value",r=arguments[2],o=e.props,i=o.closeMenuOnSelect,a=o.isMulti,s=o.onChange;e.onInputChange("",{action:"set-value"}),i&&(e.inputIsHiddenAfterUpdate=!a,e.onMenuClose()),e.clearFocusValueOnUpdate=!0,s(t,{action:n,option:r})},this.selectOption=function(t){var n=e.props,r=n.blurInputOnSelect;if(n.isMulti){var o=e.state.selectValue;if(e.isOptionSelected(t,o)){var i=e.getOptionValue(t);e.setValue(o.filter((function(t){return e.getOptionValue(t)!==i})),"deselect-option",t),e.announceAriaLiveSelection({event:"deselect-option",context:{value:e.getOptionLabel(t)}})}else e.setValue([].concat(yd(o),[t]),"select-option",t),e.announceAriaLiveSelection({event:"select-option",context:{value:e.getOptionLabel(t)}})}else e.setValue(t,"select-option"),e.announceAriaLiveSelection({event:"select-option",context:{value:e.getOptionLabel(t)}});r&&e.blurInput()},this.removeValue=function(t){var n=e.props.onChange,r=e.state.selectValue,o=e.getOptionValue(t);n(r.filter((function(t){return e.getOptionValue(t)!==o})),{action:"remove-value",removedValue:t}),e.announceAriaLiveSelection({event:"remove-value",context:{value:t?e.getOptionLabel(t):void 0}}),e.focusInput()},this.clearValue=function(){var t=e.props,n=t.isMulti;(0,t.onChange)(n?[]:null,{action:"clear"})},this.popValue=function(){var t=e.props.onChange,n=e.state.selectValue,r=n[n.length-1];e.announceAriaLiveSelection({event:"pop-value",context:{value:r?e.getOptionLabel(r):void 0}}),t(n.slice(0,n.length-1),{action:"pop-value",removedValue:r})},this.getOptionLabel=function(t){return e.props.getOptionLabel(t)},this.getOptionValue=function(t){return e.props.getOptionValue(t)},this.getStyles=function(t,n){var r=qp[t](n);r.boxSizing="border-box";var o=e.props.styles[t];return o?o(r,n):r},this.getElementId=function(t){return e.instancePrefix+"-"+t},this.getActiveDescendentId=function(){var t=e.props.menuIsOpen,n=e.state,r=n.menuOptions,o=n.focusedOption;if(o&&t){var i=r.focusable.indexOf(o),a=r.render[i];return a&&a.key}},this.announceAriaLiveSelection=function(t){var n=t.event,r=t.context;e.setState({ariaLiveSelection:Gd(n,r)})},this.announceAriaLiveContext=function(t){var n=t.event,r=t.context;e.setState({ariaLiveContext:Hd(n,fd({},r,{label:e.props["aria-label"]}))})},this.onMenuMouseDown=function(t){0===t.button&&(t.stopPropagation(),t.preventDefault(),e.focusInput())},this.onMenuMouseMove=function(t){e.blockOptionHover=!1},this.onControlMouseDown=function(t){var n=e.props.openMenuOnClick;e.state.isFocused?e.props.menuIsOpen?e.onMenuClose():e.openMenu("first"):(n&&(e.openAfterFocus=!0),e.focusInput()),"INPUT"!==t.target.tagName&&t.preventDefault()},this.onDropdownIndicatorMouseDown=function(t){if(!(t&&"mousedown"===t.type&&0!==t.button||e.props.isDisabled)){var n=e.props,r=n.isMulti,o=n.menuIsOpen;e.focusInput(),o?(e.inputIsHiddenAfterUpdate=!r,e.onMenuClose()):e.openMenu("first"),t.preventDefault(),t.stopPropagation()}},this.onClearIndicatorMouseDown=function(t){t&&"mousedown"===t.type&&0!==t.button||(e.clearValue(),t.stopPropagation(),e.openAfterFocus=!1,setTimeout((function(){return e.focusInput()})))},this.onScroll=function(t){"boolean"==typeof e.props.closeMenuOnScroll?t.target instanceof HTMLElement&&$d(t.target)&&e.props.onMenuClose():"function"==typeof e.props.closeMenuOnScroll&&e.props.closeMenuOnScroll(t)&&e.props.onMenuClose()},this.onCompositionStart=function(){e.setState({isComposing:!0})},this.onCompositionEnd=function(){e.setState({isComposing:!1})},this.onTouchStart=function(t){var n=vd(t.touches,1)[0];e.initialTouchX=n.clientX,e.initialTouchY=n.clientY,e.userIsDragging=!1},this.onTouchMove=function(t){var n=vd(t.touches,1)[0],r=Math.abs(n.clientX-e.initialTouchX),o=Math.abs(n.clientY-e.initialTouchY);e.userIsDragging=r>5||o>5},this.onTouchEnd=function(t){if(!e.userIsDragging){var n=t.target;e.controlRef&&!e.controlRef.contains(n)&&e.menuListRef&&!e.menuListRef.contains(n)&&e.blurInput(),e.initialTouchX=0,e.initialTouchY=0}},this.onControlTouchEnd=function(t){e.userIsDragging||e.onControlMouseDown(t)},this.onClearIndicatorTouchEnd=function(t){e.userIsDragging||e.onClearIndicatorMouseDown(t)},this.onDropdownIndicatorTouchEnd=function(t){e.userIsDragging||e.onDropdownIndicatorMouseDown(t)},this.handleInputChange=function(t){var n=t.currentTarget.value;e.inputIsHiddenAfterUpdate=!1,e.onInputChange(n,{action:"input-change"}),e.onMenuOpen()},this.onInputFocus=function(t){var n=e.props,r=n.isSearchable,o=n.isMulti;e.props.onFocus&&e.props.onFocus(t),e.inputIsHiddenAfterUpdate=!1,e.announceAriaLiveContext({event:"input",context:{isSearchable:r,isMulti:o}}),e.setState({isFocused:!0}),(e.openAfterFocus||e.props.openMenuOnFocus)&&e.openMenu("first"),e.openAfterFocus=!1},this.onInputBlur=function(t){e.props.onBlur&&e.props.onBlur(t),e.onInputChange("",{action:"input-blur"}),e.onMenuClose(),e.setState({focusedValue:null,isFocused:!1})},this.onOptionHover=function(t){e.blockOptionHover||e.state.focusedOption===t||e.setState({focusedOption:t})},this.shouldHideSelectedOptions=function(){var t=e.props,n=t.hideSelectedOptions,r=t.isMulti;return void 0===n?r:n},this.onKeyDown=function(t){var n=e.props,r=n.isMulti,o=n.backspaceRemovesValue,i=n.escapeClearsValue,a=n.inputValue,s=n.isClearable,l=n.isDisabled,u=n.menuIsOpen,c=n.onKeyDown,d=n.tabSelectsValue,p=n.openMenuOnFocus,f=e.state,h=f.isComposing,m=f.focusedOption,g=f.focusedValue,v=f.selectValue;if(!(l||"function"==typeof c&&(c(t),t.defaultPrevented))){switch(e.blockOptionHover=!0,t.key){case"ArrowLeft":if(!r||a)return;e.focusValue("previous");break;case"ArrowRight":if(!r||a)return;e.focusValue("next");break;case"Backspace":if(a)return;if(g)e.removeValue(g);else{if(!o)return;e.popValue()}break;case"Tab":if(t.shiftKey||!u||!d||!m||p&&e.isOptionSelected(m,v))return;e.selectOption(m);break;case"Enter":if(u){if(!m)return;if(h)return;e.selectOption(m)}else e.focusOption("first");break;case"Escape":u?(e.inputIsHiddenAfterUpdate=!1,e.onInputChange("",{action:"menu-close"}),e.onMenuClose()):s&&i&&e.clearValue();break;case" ":if(a)return;if(!u){e.openMenu("first");break}if(!m)return;e.selectOption(m);break;case"ArrowUp":u?e.focusOption("up"):e.openMenu("last");break;case"ArrowDown":u?e.focusOption("down"):e.openMenu("first");break;case"PageUp":if(!u)return;e.focusOption("pageup");break;case"PageDown":if(!u)return;e.focusOption("pagedown");break;case"Home":if(!u)return;e.focusOption("first");break;case"End":if(!u)return;e.focusOption("last");break;default:return}t.preventDefault()}}},Jp=function(e){var t,n;return n=t=function(t){function n(){var e,t,r;cd(this,n);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return t=r=gd(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(i))),r.state={inputValue:void 0!==r.props.inputValue?r.props.inputValue:r.props.defaultInputValue,menuIsOpen:void 0!==r.props.menuIsOpen?r.props.menuIsOpen:r.props.defaultMenuIsOpen,value:void 0!==r.props.value?r.props.value:r.props.defaultValue},r.onChange=function(e,t){r.callProp("onChange",e,t),r.setState({value:e})},r.onInputChange=function(e,t){var n=r.callProp("onInputChange",e,t);r.setState({inputValue:void 0!==n?n:e})},r.onMenuOpen=function(){r.callProp("onMenuOpen"),r.setState({menuIsOpen:!0})},r.onMenuClose=function(){r.callProp("onMenuClose"),r.setState({menuIsOpen:!1})},gd(r,t)}return hd(n,t),dd(n,[{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"getProp",value:function(e){return void 0!==this.props[e]?this.props[e]:this.state[e]}},{key:"callProp",value:function(e){if("function"==typeof this.props[e]){for(var t,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return(t=this.props)[e].apply(t,yd(r))}}},{key:"render",value:function(){var t=this;return React.createElement(e,fd({},this.props,{ref:function(e){t.select=e},inputValue:this.getProp("inputValue"),menuIsOpen:this.getProp("menuIsOpen"),onChange:this.onChange,onInputChange:this.onInputChange,onMenuClose:this.onMenuClose,onMenuOpen:this.onMenuOpen,value:this.getProp("value")}))}}]),n}(React.Component),t.defaultProps={defaultInputValue:"",defaultMenuIsOpen:!1,defaultValue:null},n},Qp={cacheOptions:!1,defaultOptions:!1},Zp=function(e){var t,n;return n=t=function(t){function n(e){cd(this,n);var t=gd(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.mounted=!1,t.optionsCache={},t.handleInputChange=function(e,n){var r=t.props,o=r.cacheOptions,i=function(e,t,n){if(n){var r=n(e,t);if("string"==typeof r)return r}return e}(e,n,r.onInputChange);if(!i)return delete t.lastRequest,void t.setState({inputValue:"",loadedInputValue:"",loadedOptions:[],isLoading:!1,passEmptyOptions:!1});if(o&&t.optionsCache[i])t.setState({inputValue:i,loadedInputValue:i,loadedOptions:t.optionsCache[i],isLoading:!1,passEmptyOptions:!1});else{var a=t.lastRequest={};t.setState({inputValue:i,isLoading:!0,passEmptyOptions:!t.state.loadedInputValue},(function(){t.loadOptions(i,(function(e){t.mounted&&(e&&(t.optionsCache[i]=e),a===t.lastRequest&&(delete t.lastRequest,t.setState({isLoading:!1,loadedInputValue:i,loadedOptions:e||[],passEmptyOptions:!1})))}))}))}return i},t.state={defaultOptions:Array.isArray(e.defaultOptions)?e.defaultOptions:void 0,inputValue:"",isLoading:!0===e.defaultOptions,loadedOptions:[],passEmptyOptions:!1},t}return hd(n,t),dd(n,[{key:"componentDidMount",value:function(){var e=this;this.mounted=!0,!0===this.props.defaultOptions&&this.loadOptions("",(function(t){if(e.mounted){var n=!!e.lastRequest;e.setState({defaultOptions:t||[],isLoading:n})}}))}},{key:"componentWillReceiveProps",value:function(e){e.cacheOptions!==this.props.cacheOptions&&(this.optionsCache={}),e.defaultOptions!==this.props.defaultOptions&&this.setState({defaultOptions:Array.isArray(e.defaultOptions)?e.defaultOptions:void 0})}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"loadOptions",value:function(e,t){var n=this.props.loadOptions;if(!n)return t();var r=n(e,t);r&&"function"==typeof r.then&&r.then(t,(function(){return t()}))}},{key:"render",value:function(){var t=this,n=this.props;n.loadOptions;var r=md(n,["loadOptions"]),o=this.state,i=o.defaultOptions,a=o.inputValue,s=o.isLoading,l=o.loadedInputValue,u=o.loadedOptions,c=o.passEmptyOptions?[]:a&&l?u:i||[];return React.createElement(e,fd({},r,{filterOption:this.props.filterOption||null,ref:function(e){t.select=e},options:c,isLoading:s,onInputChange:this.handleInputChange}))}}]),n}(React.Component),t.defaultProps=Qp,n},ef=Zp(Jp($p)),tf=function(e,t){var n=e.toLowerCase();return t.value.toLowerCase()===n||t.label.toLowerCase()===n},nf=fd({allowCreateWhileLoading:!1,createOptionPosition:"last"},{formatCreateLabel:function(e){return'Create "'+e+'"'},isValidNewOption:function(e,t,n){return!(!e||t.some((function(t){return tf(e,t)}))||n.some((function(t){return tf(e,t)})))},getNewOptionData:function(e,t){return{label:t,value:e,__isNew__:!0}}}),rf=function(e){var t,n;return n=t=function(t){function n(e){cd(this,n);var t=gd(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));t.onChange=function(e,n){var r=t.props,o=r.getNewOptionData,i=r.inputValue,a=r.isMulti,s=r.onChange,l=r.onCreateOption,u=r.value;if("select-option"!==n.action)return s(e,n);var c=t.state.newOption,d=Array.isArray(e)?e:[e];if(d[d.length-1]!==c)s(e,n);else if(l)l(i);else{var p=o(i,i),f={action:"create-option"};s(a?[].concat(yd(Kd(u)),[p]):p,f)}};var r=e.options||[];return t.state={newOption:void 0,options:r},t}return hd(n,t),dd(n,[{key:"componentWillReceiveProps",value:function(e){var t=e.allowCreateWhileLoading,n=e.createOptionPosition,r=e.formatCreateLabel,o=e.getNewOptionData,i=e.inputValue,a=e.isLoading,s=e.isValidNewOption,l=e.value,u=e.options||[],c=this.state.newOption;c=s(i,Kd(l),u)?o(i,r(i)):void 0,this.setState({newOption:c,options:!t&&a||!c?u:"first"===n?[c].concat(yd(u)):[].concat(yd(u),[c])})}},{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"render",value:function(){var t=this,n=md(this.props,[]),r=this.state.options;return React.createElement(e,fd({},n,{ref:function(e){t.select=e},options:r,onChange:this.onChange}))}}]),n}(React.Component),t.defaultProps=nf,n};Jp(rf($p)),Zp(Jp(rf($p)));var of=function(e){var t=e.component,n=e.duration,r=void 0===n?1:n,o=e.in;e.onExited;var i=md(e,["component","duration","in","onExited"]),a={entering:{opacity:0},entered:{opacity:1,transition:"opacity "+r+"ms"},exiting:{opacity:0},exited:{opacity:0}};return React.createElement(ld.Transition,{mountOnEnter:!0,unmountOnExit:!0,in:o,timeout:r},(function(e){var n={style:fd({},a[e])};return React.createElement(t,fd({innerProps:n},i))}))},af=function(e){function t(){var e,n,r;cd(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=gd(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.duration=260,r.state={width:"auto"},r.transition={exiting:{width:0,transition:"width "+r.duration+"ms ease-out"},exited:{width:0}},r.getWidth=function(e){if(e&&isNaN(r.state.width)){var t=e.getBoundingClientRect().width;r.setState({width:t})}},r.getStyle=function(e){return{overflow:"hidden",whiteSpace:"nowrap",width:e}},r.getTransition=function(e){return r.transition[e]},gd(r,n)}return hd(t,e),dd(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.children,r=t.in,o=this.state.width;return React.createElement(ld.Transition,{enter:!1,mountOnEnter:!0,unmountOnExit:!0,in:r,timeout:this.duration},(function(t){var r=fd({},e.getStyle(o),e.getTransition(t));return React.createElement("div",{ref:e.getWidth,style:r},n)}))}}]),t}(React.Component),sf=function(e){return function(t){var n=t.in,r=t.onExited,o=md(t,["in","onExited"]);return React.createElement(af,{in:n,onExited:r},React.createElement(e,fd({cropWithEllipsis:n},o)))}},lf=function(e){return function(t){return React.createElement(of,fd({component:e,duration:t.isMulti?260:1},t))}},uf=function(e){return function(t){return React.createElement(of,fd({component:e},t))}},cf=function(e){return function(t){return React.createElement(ld.TransitionGroup,fd({component:e},t))}},df=function(e){var t,n=Wp({components:e}),r=n.Input,o=n.MultiValue,i=n.Placeholder,a=n.SingleValue,s=n.ValueContainer,l=md(n,["Input","MultiValue","Placeholder","SingleValue","ValueContainer"]);return fd({Input:(t=r,function(e){e.in,e.onExited,e.appear,e.enter,e.exit;var n=e.innerRef,r=md(e,["in","onExited","appear","enter","exit","innerRef"]);return React.createElement(t,fd({innerRef:n},r))}),MultiValue:sf(o),Placeholder:lf(i),SingleValue:uf(a),ValueContainer:cf(s)},l)},pf=df();pf.Input,pf.MultiValue,pf.Placeholder,pf.SingleValue,pf.ValueContainer,Ic(df,xd);var ff=Jp($p);function hf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hf(n,!0).forEach((function(t){babelHelpers.defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hf(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class gf extends yn{GetComparator(e=!1){return React.createElement("select",{className:this.GetComparisonClass(),value:this.Condition.ConditionLineOptions.Comparison,onChange:e=>this.ComparisonChanged(e.target.value.toString()),style:{height:"auto",padding:0,width:"100%"}},React.createElement("option",{value:r.ComparisonTypeEnum.Contains},RNTranslate("Contains")),React.createElement("option",{value:r.ComparisonTypeEnum.NotContains},RNTranslate("Not Contains")),!e&&React.createElement("option",{value:r.ComparisonTypeEnum.IsEmpty},RNTranslate("Is Empty")),!e&&React.createElement("option",{value:r.ComparisonTypeEnum.IsNotEmpty},RNTranslate("Is Not Empty")))}InitializeValues(){this.Condition.ConditionLineOptions.Comparison=r.ComparisonTypeEnum.Contains}GetValueInput(){this.Condition.ConditionLineOptions;const e={control:e=>mf({},e,{width:"100%",minHeight:25}),dropdownIndicator:e=>mf({},e,{padding:0}),indicatorsContainer:e=>mf({},e,{minHeight:23,padding:0}),input:e=>mf({},e,{height:20,lineHeight:"20px",minHeight:20}),multiValue:e=>mf({},e,{marginTop:0,minHeight:22}),singleValue:e=>mf({},e,{backgroundColor:"red"}),valueContainer:e=>mf({minHeight:23},e),placeholder:e=>mf({},e,{minHeight:25}),menuPortal:e=>mf({},e,{zIndex:1e11}),menu:e=>(e.label="menu-multiselect-option",mf({},e,{margin:0,padding:2}))};let t=this.GetAvailableOptions(),n=t.filter((e=>this.Condition.props.ConditionLineOptions.Value.indexOf(e.value)>=0)),o=this.Condition.props.ConditionLineOptions.Comparison;return React.createElement(ff,{value:n,styles:e,onChange:e=>{this.OnChange(e)},menuPosition:"absolute",menuPortalTarget:document.body,options:t,classNamePrefix:"rnMultipleComparisonSelect",className:"rnMultipleComparisonSelect "+this.GetValueClass(),isSearchable:!0,isMulti:!0,isDisabled:o==r.ComparisonTypeEnum.IsEmpty||o==r.ComparisonTypeEnum.IsNotEmpty})}ComparisonChanged(e){this.Condition.ConditionLineOptions.Comparison=r.ComparisonTypeEnum[e],this.Condition.forceUpdate()}ValueChanged(e){this.Condition.ConditionLineOptions.Value=e,this.Condition.forceUpdate()}GetAvailableOptions(){let e=[];if(this.Condition.props.ConditionLineOptions.Type==r.ConditionLineTypeEnum.Standard){let t=this.ConditionField;if(null==t||!(t instanceof l.MultipleFormField))return e;for(let n of t.Items)e.push({label:n.Label,value:n.Value})}return e}OnChange(e){this.Condition.props.ConditionLineOptions.Value=e.map((e=>e.value)),this.Condition.forceUpdate()}ValueIsValid(){return this.Condition.props.ConditionLineOptions.Comparison==r.ComparisonTypeEnum.IsEmpty||this.Condition.props.ConditionLineOptions.Comparison==r.ComparisonTypeEnum.IsNotEmpty||o.Sanitizer.SanitizeStringArray(this.Condition.props.ConditionLineOptions.Value).length>0}SanitizeValue(){this.Condition.props.ConditionLineOptions.Value=o.Sanitizer.SanitizeStringArray(this.Condition.props.ConditionLineOptions.Value)}}function vf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vf(n,!0).forEach((function(t){babelHelpers.defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vf(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class bf extends yn{constructor(){super(),this.LoadUsers=this.LoadUsers.bind(this)}GetComparator(e=!1){return React.createElement("select",{className:this.GetComparisonClass(),value:this.Condition.ConditionLineOptions.Comparison,onChange:e=>this.ComparisonChanged(e.target.value.toString()),style:{height:"auto",padding:0,width:"100%"}},React.createElement("option",{value:""},"Select an option"),!e&&React.createElement("option",{value:r.ComparisonTypeEnum.UserViewingThePage},RNTranslate("User viewing the page")),React.createElement("option",{value:r.ComparisonTypeEnum.UserIs},RNTranslate("Is")),React.createElement("option",{value:r.ComparisonTypeEnum.UserIsNot},RNTranslate("Is Not")),React.createElement("option",{value:r.ComparisonTypeEnum.HasRole},RNTranslate("Has role")),React.createElement("option",{value:r.ComparisonTypeEnum.HasNotRole},RNTranslate("Doesn't have role")))}InitializeValues(){this.Condition.ConditionLineOptions.Comparison=r.ComparisonTypeEnum.None}GetValueInput(){this.Condition.ConditionLineOptions;const e={control:e=>yf({},e,{width:"100%",minHeight:25}),dropdownIndicator:e=>yf({},e,{padding:0}),indicatorsContainer:e=>yf({},e,{minHeight:23,padding:0}),input:e=>yf({},e,{height:20,lineHeight:"20px",minHeight:20}),multiValue:e=>yf({},e,{marginTop:0,minHeight:22}),singleValue:e=>yf({},e,{backgroundColor:"red"}),valueContainer:e=>yf({minHeight:23},e),placeholder:e=>yf({},e,{minHeight:25}),menuPortal:e=>yf({},e,{zIndex:1e11}),menu:e=>(e.label="menu-multiselect-option",yf({},e,{margin:0,padding:2}))};let t=o.Sanitizer.SanitizeStringArray(this.Condition.props.ConditionLineOptions.Value),n=null,i=null;switch(this.Condition.props.ConditionLineOptions.Comparison){case r.ComparisonTypeEnum.UserViewingThePage:return null;case r.ComparisonTypeEnum.UserIs:case r.ComparisonTypeEnum.UserIsNot:return i=t.map((e=>({value:e,label:bf.CachedUsers.get(e)}))),React.createElement(ef,{defaultOptions:!0,styles:e,value:i,isMulti:!0,onChange:e=>{this.OnChange(e)},placeholder:"Name or email",loadOptions:this.LoadUsers,classNamePrefix:"rnUserDynamic",className:this.GetValueClass()});case r.ComparisonTypeEnum.HasNotRole:case r.ComparisonTypeEnum.HasRole:return n=rnBuilderVar.Roles.map((e=>({label:e.Label,value:e.Id}))),i=n.filter((e=>t.indexOf(e.value)>=0)),React.createElement(ff,{value:i,styles:e,onChange:e=>{this.OnChange(e)},menuPosition:"absolute",menuPortalTarget:document.body,options:n,classNamePrefix:"rnMultipleComparisonSelect",className:"rnMultipleComparisonSelect "+this.GetValueClass(),isSearchable:!0,isMulti:!0})}}async LoadUsers(e){let t=null;if(""==e){let e=[],n=o.Sanitizer.SanitizeStringArray(this.Condition.props.ConditionLineOptions.Value);for(let t of n)null==bf.CachedUsers.get(t)&&e.push(t);if(!(e.length>0))return;t=await u.WpAjaxPost.Post("GetUserById",{Ids:e})}else t=await u.WpAjaxPost.Post("GetUsers",{input:e});if(null==t)return[];t=t.map((e=>{let t=o.Sanitizer.SanitizeString(e.FirstName),n=o.Sanitizer.SanitizeString(e.LastName),r=o.Sanitizer.SanitizeString(e.Email),i=(t+" "+n).trim()+`(${r})`;return bf.CachedUsers.set(e.ID,i),{label:i,value:e.ID}}));for(let e of o.Sanitizer.SanitizeStringArray(this.Condition.props.ConditionLineOptions.Value))bf.CachedUsers.has(e)||bf.CachedUsers.set(e,"Invalid user id");return""==e&&this.Condition.forceUpdate(),t}ComparisonChanged(e){this.Condition.ConditionLineOptions.Comparison=r.ComparisonTypeEnum[e],this.Condition.ConditionLineOptions.Value=[],this.Condition.forceUpdate()}ValueChanged(e){this.Condition.ConditionLineOptions.Value=e,this.Condition.forceUpdate()}GetAvailableOptions(){let e=[];if(this.Condition.props.ConditionLineOptions.Type==r.ConditionLineTypeEnum.Standard){let t=this.ConditionField;if(null==t||!(t instanceof l.MultipleFormField))return e;for(let n of t.Items)e.push({label:n.Label,value:n.Value})}return e}ValueIsValid(){return this.Condition.ConditionLineOptions.Comparison==r.ComparisonTypeEnum.UserViewingThePage||o.Sanitizer.SanitizeStringArray(this.Condition.ConditionLineOptions.Value).length>0}OnChange(e){this.Condition.props.ConditionLineOptions.Value=e.map((e=>e.value)),this.Condition.forceUpdate()}SanitizeValue(){this.Condition.props.ConditionLineOptions.Value=o.Sanitizer.SanitizeStringArray(this.Condition.props.ConditionLineOptions.Value)}}bf.CachedUsers=new Map;class wf extends yn{constructor(){super()}GetComparator(){return React.createElement("select",{className:this.GetComparisonClass(),value:this.Condition.ConditionLineOptions.Comparison,onChange:e=>this.ComparisonChanged(e.target.value.toString()),style:{height:"auto",padding:0,width:"100%"}},React.createElement("option",{value:r.ComparisonTypeEnum.None},"Select an option"),React.createElement("option",{value:r.ComparisonTypeEnum.LastXEntries},RNTranslate("Last x entries submitted")),React.createElement("option",{value:r.ComparisonTypeEnum.LastXEntriesByUser},RNTranslate("Last x entries submitted by user viewing the page")),React.createElement("option",{value:r.ComparisonTypeEnum.Equal},RNTranslate("Equal To")),React.createElement("option",{value:r.ComparisonTypeEnum.NotEqual},RNTranslate("Not Equal To")),React.createElement("option",{value:r.ComparisonTypeEnum.GreaterThan},RNTranslate("Greater than")),React.createElement("option",{value:r.ComparisonTypeEnum.GreaterOrEqualThan},RNTranslate("Greater or equal than")),React.createElement("option",{value:r.ComparisonTypeEnum.LessThan},RNTranslate("Less than")),React.createElement("option",{value:r.ComparisonTypeEnum.LessOrEqualThan},RNTranslate("Less or equal than")))}InitializeValues(){this.Condition.ConditionLineOptions.Comparison=r.ComparisonTypeEnum.Equal}GetValueInput(){let e=this.Condition.props.ConditionLineOptions.Comparison,t="Entry Id";return e!=r.ComparisonTypeEnum.LastXEntries&&e!=r.ComparisonTypeEnum.LastXEntriesByUser||(t="Number of entries"),e==r.ComparisonTypeEnum.None&&(t="Select a comparison"),React.createElement("input",{className:this.GetValueClass(),placeholder:t,value:this.Condition.props.ConditionLineOptions.Value,onChange:e=>this.ValueChanged(e.target.value),style:{minWidth:"100%",maxWidth:200,height:25},type:"number"})}ComparisonChanged(e){this.Condition.ConditionLineOptions.Comparison=r.ComparisonTypeEnum[e],this.Condition.ConditionLineOptions.Value="",this.Condition.forceUpdate()}ValueChanged(e){this.Condition.ConditionLineOptions.Value=e,this.Condition.forceUpdate()}SanitizeValue(){super.SanitizeValue()}}wf.CachedUsers=new Map;class kf{static GetComparator(e){switch(e.props.ConditionLineOptions.Type){case r.ConditionLineTypeEnum.None:return(new bn).Initialize(e);case r.ConditionLineTypeEnum.Standard:let t=null;switch(e.props.ConditionLineOptions.SubType){case r.FieldTypeEnum.List:case r.FieldTypeEnum.Text:t=new wn;break;case r.FieldTypeEnum.None:t=new bn;break;case r.FieldTypeEnum.Composed:t=new kn;break;case r.FieldTypeEnum.DateTime:t=new Ku;break;case r.FieldTypeEnum.Date:t=new Yu;break;case r.FieldTypeEnum.Time:t=new $u;break;case r.FieldTypeEnum.Multiple:t=new gf;break;case r.FieldTypeEnum.Number:t=new Xu;break;case r.FieldTypeEnum.Toggle:t=new Ju;break;case r.FieldTypeEnum.User:t=new bf;break;case r.FieldTypeEnum.EntryId:t=new wf}return null!=t&&t.Initialize(e),t}}}class Cf extends React.Component{constructor(e){super(e),this.state={ShowValidations:!1},this.Refresh=this.Refresh.bind(this)}get DataSource(){return this.props.ConditionGroup.props.ConditionBuilder.props.DataSource}Refresh(){this.forceUpdate()}componentDidMount(){}componentWillUnmount(){}render(){var e;if(null==(null===(e=this.DataSource.GetForm())||void 0===e?void 0:e.Fields))return React.createElement("p",null,"Please select a form first");let t=kf.GetComparator(this);return this.LastComparator=t,null==t?null:(t.SanitizeValue(),t.Render())}get ConditionLineOptions(){return this.props.ConditionLineOptions}get ConditionGroup(){return this.props.ConditionGroup}Validate(){var e;let t=null===(e=this.LastComparator)||void 0===e?void 0:e.Validate();return!1!==t&&t}}Cf.defaultProps={};class xf extends React.Component{constructor(e){super(e),this.state={},this.ConditionLines=[]}render(){return this.ConditionLines=new Array(this.props.ConditionGroup.ConditionLines.length),React.createElement("div",{className:"rnConditionGroup",style:{marginBottom:10,tableLayout:"fixed",width:"100%"}},React.createElement("div",null,this.props.ConditionGroup.ConditionLines.map(((e,t)=>React.createElement(Cf,{ref:e=>{null!=e&&(this.ConditionLines[t]=e)},OnFieldChanged:()=>this.props.OnFieldChanged(),OnRemoveLine:e=>this.RemoveLine(e),OnAddLine:e=>this.AddLineBellow(e),key:e.Id,ConditionGroup:this,ConditionLineOptions:e})))))}AddLineBellow(e){let t=this.props.ConditionGroup.ConditionLines.indexOf(e);t<0||(this.props.ConditionGroup.ConditionLines.splice(t+1,0,(new r.ConditionLineOptions).Merge()),this.props.OnFieldChanged(),this.forceUpdate())}RemoveLine(e){let t=this.props.ConditionGroup.ConditionLines.indexOf(e);t<0||(this.props.ConditionGroup.ConditionLines.splice(t,1),0!=this.props.ConditionGroup.ConditionLines.length?(this.props.OnFieldChanged(),this.forceUpdate()):this.props.OnRemoveGroup(this.props.ConditionGroup))}get ConditionBuilder(){return this.props.ConditionBuilder}Validate(){for(let e of this.ConditionLines)if(!1===e.Validate())return!1;return!0}}xf.defaultProps={};var Ef=Ne((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="plus",r=[],o="f067",i="M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z";t.definition={prefix:"fas",iconName:n,icon:[448,512,r,o,i]},t.faPlus=t.definition,t.prefix="fas",t.iconName=n,t.width=448,t.height=512,t.ligatures=r,t.unicode=o,t.svgPathData=i}));function Sf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sf(n,!0).forEach((function(t){babelHelpers.defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sf(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class Of extends React.Component{constructor(e){super(e),this.ConditionGroups=[],this.state={}}componentDidMount(){}NoFilterMessage(){return React.createElement("div",{style:{textAlign:"center"}},React.createElement("p",{style:{margin:0}},"You haven't create any filter yet (which means the page will use all the records of this form if needed)"),React.createElement("button",{onClick:()=>this.CreateGroup(),className:"rnbtn rnbtn-primary",style:{marginTop:5,display:"inline-flex",alignItems:"center"}},React.createElement(t.FontAwesomeIcon,{icon:Ef.faPlus,style:{marginRight:3}})," Click here to add your first filter"))}render(){return this.ConditionGroups=new Array(this.props.Condition.ConditionGroups.length),0==this.ConditionGroups.length?this.NoFilterMessage():React.createElement("div",{style:_f({marginTop:15},this.props.Styles)},this.props.Condition.ConditionGroups.map(((e,t)=>React.createElement("div",{key:e.Id,style:{marginBottom:10}},React.createElement(xf,{ref:e=>{null!=e&&(this.ConditionGroups[t]=e)},OnFieldChanged:()=>this.RecalculateElementsUsed(),OnRemoveGroup:()=>this.RemoveGroup(e),ConditionBuilder:this,ConditionGroup:e}),t<this.props.Condition.ConditionGroups.length-1?React.createElement("span",{style:{fontWeight:"bold"}},RNTranslate("or")):null))),React.createElement("div",{style:{marginTop:10}},this.props.Condition.ConditionGroups.length>0&&React.createElement("label",{style:{fontWeight:"bold"}},RNTranslate("or")),React.createElement("div",{style:{marginTop:10}},React.createElement("button",{onClick:e=>{e.preventDefault(),this.CreateGroup()},className:"rnbtn rnbtn-primary"},RNTranslate("Add new group")))))}get Options(){return this.props.Condition}CreateGroup(){this.props.Condition.ConditionGroups.push((new r.ConditionGroupOptions).Merge({ConditionLines:[{}]})),this.forceUpdate()}RemoveGroup(e){let t=this.props.Condition.ConditionGroups.indexOf(e);t<0||(this.props.Condition.ConditionGroups.splice(t,1),this.RecalculateElementsUsed(),this.forceUpdate())}RecalculateElementsUsed(){this.Options.ElementsUsed=[];for(let e of this.Options.ConditionGroups)for(let t of e.ConditionLines)t.Type==r.ConditionLineTypeEnum.Standard&&this.Options.ElementsUsed.push((new r.ElementUsedOptions).Merge({Type:r.ElementUsedTypeEnum.Field,Id:t.FieldId}))}Validate(){for(const e of this.ConditionGroups)if(!e.Validate())return!1;return!0}}Of.defaultProps={};var Tf=Ne((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="question-circle",r=[],o="f059",i="M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z";t.definition={prefix:"fas",iconName:n,icon:[512,512,r,o,i]},t.faQuestionCircle=t.definition,t.prefix="fas",t.iconName=n,t.width=512,t.height=512,t.ligatures=r,t.unicode=o,t.svgPathData=i})),Rf=Ne((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.isBrowser=void 0;var n=i(wl),r=i(nn),o=i(Gc);function i(e){return e&&e.__esModule?e:{default:e}}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d="function"==typeof o.default.createPortal,p="undefined"!=typeof window;t.isBrowser=p;var f=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=l(this,u(t).call(this,e)),p&&(n.container=document.createElement("div"),document.body.appendChild(n.container),n.renderLayer()),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,e),n=t,(r=[{key:"componentDidUpdate",value:function(){this.renderLayer()}},{key:"componentWillUnmount",value:function(){d||o.default.unmountComponentAtNode(this.container),document.body.removeChild(this.container)}},{key:"renderLayer",value:function(){d||o.default.unstable_renderSubtreeIntoContainer(this,this.props.children,this.container)}},{key:"render",value:function(){return d?o.default.createPortal(this.props.children,this.container):null}}])&&s(n.prototype,r),i&&s(n,i),t}(n.default.Component);f.propTypes={children:r.default.node.isRequired};var h=f;t.default=h})),Af=Ne((function(e,t){function n(e,t,n,r){var o=t.getBoundingClientRect(),i=Math.min(o.left,document.documentElement.clientWidth-o.right);return e.offsetWidth+t.offsetWidth+n+r+i<document.documentElement.clientWidth}function r(e,t,n){var r=e.getBoundingClientRect(),o=r.bottom>window.innerHeight,i=r.top<0;if(i&&o)return!0;if(e.offsetHeight>t.offsetHeight){var a=e.offsetHeight/2,s=n.arrowSize+Nf.minArrowPadding,l=r.bottom-window.innerHeight,u=-r.top;return a-l>=s&&a-u>=s}return!o&&!i}function o(e,t,n){var r=(0,Nf.getScrollLeft)(),o=t.left-r>n,i=t.left+2*e.arrowSize<r+document.documentElement.clientWidth-n;return!o||!i}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t,i,a,s,l,u,c){if(!a)return t;var d=a.getBoundingClientRect(),p=(0,Nf.getArrowSpacing)(s),f=i.offsetHeight+p+l,h=window.innerHeight-d.bottom,m=d.top,g=h>=f,v=m>=f;switch(t){case"right":return n(i,a,p,l)&&r(a,i,s)?document.documentElement.clientWidth-d.right<i.offsetWidth+p+l?"left":"right":e("up",i,a,p,l,u,!0);case"left":return n(i,a,p,l)&&r(a,i,s)?d.left<i.offsetWidth+p+l?"right":"left":e("up",i,a,p,l,u,!0);case"up":if(!c&&u&&o(s,u,l))return e("left",i,a,p,l,u,!0);if(!v){if(g)return"down";if(!c&&n(i,a,p,l))return e("right",i,a,p,l,u,!0)}return"up";case"down":default:if(!c&&u&&o(s,u,l))return e("right",i,a,p,l,u,!0);if(!g){if(v)return"up";if(!c&&n(i,a,p,l))return e("right",i,a,p,l,u,!0)}return"down"}}})),Nf=Ne((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getScrollLeft=l,t.getArrowSpacing=c,t.default=function(e,t,n,i,s,l){var c=function(e){var t=e.split("-");if(t.length>1)return t[1];return"middle"}(e),h=e.split("-")[0],m=h;if(!t&&n){var g=l.arrow&&f(i,n,h,s,l);m=(0,r.default)(h,n,i,l,a,g)}var v,y=u();if(n){var b=n.style.width?0:1;v=Math.min(n.offsetWidth,y)+b}return{tip:o({},"up"===m||"down"===m?d(n,i,s,m,c,l):p(n,i,s,m,c,l),{maxWidth:y,width:v}),arrow:f(i,n,m,s,l),realDirection:m}},t.minArrowPadding=void 0;var n,r=(n=Af)&&n.__esModule?n:{default:n};function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.minArrowPadding=5;var a=10;function s(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}function l(){return window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0}function u(){return"undefined"!=typeof document?document.documentElement.clientWidth-20:1e3}function c(e){var t=e.arrow?e.arrowSize:3;return"number"==typeof e.distance?e.distance:t}function d(e,t,n,r,o,i){var d,p=-1e7,f=n.showTip?void 0:"translateX(-10000000px)",h=c(i);if(e){var m=l(),g=t.getBoundingClientRect(),v=g.left+m,y=Math.round(t.offsetWidth/2),b=Math.min(u(),e.offsetWidth),w=v+y,k=w-i.arrowSize,C=w+i.arrowSize;if("start"===o)p=i.arrow?Math.min(k,v):v;else if("end"===o){var x=Math.max(C,v+t.offsetWidth),E=i.arrow?x:v+t.offsetWidth;p=Math.max(E-b,a+m)}else{var S=v+y-Math.round(b/2),_=a+m;p=Math.max(S,_)}var O=p+b-(m+document.documentElement.clientWidth-a);O>0&&(p-=O),d="up"===r?g.top+s()-(e.offsetHeight+h):g.bottom+s()+h}return{left:p,top:d,transform:f}}function p(e,t,n,r,o,i){var u=-1e7,d=0,p=n.showTip?void 0:"translateX(-10000000px)",f=c(i),h=i.arrow?5:0;if(e){var m=s(),g=l(),v=t.getBoundingClientRect(),y=v.top+m,b=Math.round(t.offsetHeight/2),w=y+b-i.arrowSize,k=v.top+m+b+i.arrowSize;if("start"===o)d=i.arrow?Math.min(y,w):y;else if("end"===o){var C=v.bottom+m-e.offsetHeight;d=i.arrow?Math.max(C,k-e.offsetHeight):C}else{var x=Math.max(y+b-Math.round(e.offsetHeight/2),a+m);d=Math.min(x,w-h)}var E=d-m+e.offsetHeight+a-window.innerHeight;E>0&&(d=Math.max(d-E,k+h-e.offsetHeight)),u="right"===r?v.right+f+g:v.left-f-e.offsetWidth+g}return{left:u,top:d,transform:p}}function f(e,t,n,r,i){if(!e||!i.arrow)return{top:"0",left:"-10000000px"};var a=e.getBoundingClientRect(),u=Math.round(e.offsetHeight/2),d=Math.round(e.offsetWidth/2),p=s(),f=l(),h=c(i),m={};switch(n){case"right":return m.borderTop="".concat(i.arrowSize,"px solid transparent"),m.borderBottom="".concat(i.arrowSize,"px solid transparent"),i.background?m.borderRight="".concat(i.arrowSize,"px solid ").concat(i.background):(m.borderRightWidth="".concat(i.arrowSize,"px"),m.borderRightStyle="solid"),o({},m,{top:r.showTip&&t?a.top+p+u-i.arrowSize:"-10000000px",left:a.right+f+h-i.arrowSize});case"left":return m.borderTop="".concat(i.arrowSize,"px solid transparent"),m.borderBottom="".concat(i.arrowSize,"px solid transparent"),i.background?m.borderLeft="".concat(i.arrowSize,"px solid ").concat(i.background):(m.borderLeftWidth="".concat(i.arrowSize,"px"),m.borderLeftStyle="solid"),o({},m,{top:r.showTip&&t?a.top+p+u-i.arrowSize:"-10000000px",left:a.left+f-h-1});case"up":return m.borderLeft="".concat(i.arrowSize,"px solid transparent"),m.borderRight="".concat(i.arrowSize,"px solid transparent"),i.background?m.borderTop="".concat(i.arrowSize,"px solid ").concat(i.background):(m.borderTopWidth="".concat(i.arrowSize,"px"),m.borderTopStyle="solid"),o({},m,{left:r.showTip&&t?a.left+f+d-i.arrowSize:"-10000000px",top:a.top+p-h});case"down":default:return m.borderLeft="".concat(i.arrowSize,"px solid transparent"),m.borderRight="".concat(i.arrowSize,"px solid transparent"),i.background?m.borderBottom="10px solid ".concat(i.background):(m.borderBottomWidth="".concat(i.arrowSize,"px"),m.borderBottomStyle="solid"),o({},m,{left:r.showTip&&t?a.left+f+d-i.arrowSize:"-10000000px",top:a.bottom+p+h-i.arrowSize})}}})),Df=Re(Ne((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(wl),r=a(nn),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(Rf),i=a(Nf);function a(e){return e&&e.__esModule?e:{default:e}}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){m(e,t,n[t])}))}return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),e}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g="#333",v=function(e){return e.stopPropagation()},y=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=function(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?d(e):t}(this,c(t).call(this)),m(d(e),"debounceTimeout",!1),m(d(e),"hoverTimeout",!1),e.state={showTip:!1,hasHover:!1,ignoreShow:!1,hasBeenShown:!1},e.showTip=e.showTip.bind(d(e)),e.hideTip=e.hideTip.bind(d(e)),e.checkHover=e.checkHover.bind(d(e)),e.toggleTip=e.toggleTip.bind(d(e)),e.startHover=e.startHover.bind(d(e)),e.endHover=e.endHover.bind(d(e)),e.listenResizeScroll=e.listenResizeScroll.bind(d(e)),e.handleResizeScroll=e.handleResizeScroll.bind(d(e)),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,e),f(t,null,[{key:"getDerivedStateFromProps",value:function(e){return o.isBrowser&&e.isOpen?{hasBeenShown:!0}:null}}]),f(t,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.setState({isOpen:!0}),window.addEventListener("resize",this.listenResizeScroll),window.addEventListener("scroll",this.listenResizeScroll)}},{key:"componentDidUpdate",value:function(e,t){if(!this.state.hasBeenShown&&this.props.isOpen)return this.setState({hasBeenShown:!0}),setTimeout(this.showTip,0);!t.hasBeenShown&&this.state.hasBeenShown&&this.showTip()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.listenResizeScroll),window.removeEventListener("scroll",this.listenResizeScroll),clearTimeout(this.debounceTimeout),clearTimeout(this.hoverTimeout)}},{key:"listenResizeScroll",value:function(){clearTimeout(this.debounceTimeout),this.debounceTimeout=setTimeout(this.handleResizeScroll,100)}},{key:"handleResizeScroll",value:function(){if(this.state.showTip){var e=5*Math.round(document.documentElement.clientWidth/5);this.setState({clientWidth:e})}}},{key:"toggleTip",value:function(){this.state.showTip?this.hideTip():this.showTip()}},{key:"showTip",value:function(){if(!this.state.hasBeenShown)return this.setState({hasBeenShown:!0});this.setState({showTip:!0})}},{key:"hideTip",value:function(){this.setState({hasHover:!1}),this.setState({showTip:!1})}},{key:"startHover",value:function(){this.state.ignoreShow||(this.setState({hasHover:!0}),clearTimeout(this.hoverTimeout),this.hoverTimeout=setTimeout(this.checkHover,this.props.hoverDelay))}},{key:"endHover",value:function(){this.setState({hasHover:!1}),clearTimeout(this.hoverTimeout),this.hoverTimeout=setTimeout(this.checkHover,this.props.mouseOutDelay||this.props.hoverDelay)}},{key:"checkHover",value:function(){this.state.hasHover?this.showTip():this.hideTip()}},{key:"render",value:function(){var e,t=this,r=this.props,a=r.arrow,s=r.arrowSize,c=r.background,d=r.className,p=r.children,f=r.color,h=r.content,m=r.direction,y=r.distance,b=r.eventOff,w=r.eventOn,k=r.eventToggle,C=r.forceDirection,x=r.isOpen,E=r.mouseOutDelay,S=r.padding,_=r.styles,O=r.tagName,T=r.tipContentHover,R=r.tipContentClassName,A=r.useDefaultStyles,N=r.useHover,D=null!=x,P=D?x:this.state.showTip,M={style:u({position:"relative"},_),ref:function(e){t.target=e},className:d},I={onClick:v};if(b&&(M[b]=this.hideTip),w&&(M[w]=this.showTip),k?M[k]=this.toggleTip:N&&!D&&(M.onMouseEnter=this.startHover,M.onMouseLeave=T||E?this.endHover:this.hideTip,M.onTouchStart=this.toggleTip,T&&(I.onMouseEnter=this.startHover,I.onMouseLeave=this.endHover,I.onTouchStart=v)),this.state.hasBeenShown){var F=(0,i.default)(m,C,this.tip,this.target,u({},this.state,{showTip:P}),{background:A?g:c,arrow:a,arrowSize:s,distance:y}),L=u({},F.tip,{background:A?g:c,color:A?"#fff":f,padding:S,boxSizing:"border-box",zIndex:1e3,position:"absolute",display:"inline-block"}),B=u({},F.arrow,{position:"absolute",width:"0px",height:"0px",zIndex:1001});e=n.default.createElement(o.default,null,n.default.createElement("div",l({},I,{className:void 0!==R?R:d}),n.default.createElement("span",{className:"react-tooltip-lite",style:L,ref:function(e){t.tip=e}},h),n.default.createElement("span",{className:"react-tooltip-lite-arrow react-tooltip-lite-".concat(F.realDirection,"-arrow"),style:B})))}return n.default.createElement(O,M,p,e)}}]),t}(n.default.Component);m(y,"propTypes",{arrow:r.default.bool,arrowSize:r.default.number,background:r.default.string,children:r.default.node.isRequired,className:r.default.string,color:r.default.string,content:r.default.node.isRequired,direction:r.default.string,distance:r.default.number,eventOff:r.default.string,eventOn:r.default.string,eventToggle:r.default.string,forceDirection:r.default.bool,hoverDelay:r.default.number,isOpen:r.default.bool,mouseOutDelay:r.default.number,padding:r.default.string,styles:r.default.object,tagName:r.default.string,tipContentHover:r.default.bool,tipContentClassName:r.default.string,useDefaultStyles:r.default.bool,useHover:r.default.bool}),m(y,"defaultProps",{arrow:!0,arrowSize:10,background:"",className:"",color:"",direction:"up",distance:void 0,eventOff:void 0,eventOn:void 0,eventToggle:void 0,forceDirection:!1,hoverDelay:200,isOpen:void 0,mouseOutDelay:void 0,padding:"10px",styles:{},tagName:"div",tipContentHover:!1,tipContentClassName:void 0,useDefaultStyles:!1,useHover:!0});var b=y;t.default=b})));class Pf extends Oe{constructor(e,t){super(e,t),this.disposer=null,this.validators=null}componentWillReceiveProps(e,t){super.componentWillReceiveProps(e,t),e.ErrorMessage==this.props.ErrorMessage&&e.IsValid==this.props.IsValid||this.setState({ErrorMessage:e.ErrorMessage,IsValid:e.IsValid})}render(){return null}SetValue(e,t=null){null!=this.props.Store&&(void 0!==this.props.Store["Set"+this.props.PropertyName]?this.props.Store["Set"+this.props.PropertyName](e):this.props.Store.SetValue(this.props.PropertyName,e)),null!=this.props.Store&&this.forceUpdate(),je.ExecuteMethodPropIfDefined(this.props.onChange,null!=t?t:e)}componentDidMount(){null!=this.props.Store&&this.props.Store.AddField(this)}componentWillUnmount(){null!=this.props.Store&&this.props.Store.RemoveField(this)}GetTooltip(e){return null==e?null:React.createElement(Df,{content:e,background:"black",color:"white",styles:{display:"inline-block",zIndex:1e5}},React.createElement("span",{style:{marginLeft:2,cursor:"pointer"}},React.createElement(gn,{icon:Tf.faQuestionCircle})))}Validate(){null==this.validators&&(this.validators=this.GetValidators());let e=!0,t="";for(let n of this.validators)n.Execute()||(e=!1,t=n.ErrorMessage);return this.state.IsValid==e&&this.state.ErrorMessage==t||this.setState({IsValid:e,ErrorMessage:t}),e}GetValidationSection(){return!this.state.IsValid&&""!=this.state.ErrorMessage&&React.createElement("div",{className:"invalid-feedback"},this.state.ErrorMessage)}GetArrayValue(){if(null==this.props.Store)return this.props.Value;let e=this.props.Store.GetValue(this.props.PropertyName),t=[];for(let n=0;n<e.length;n++)t.push(e[n]);return t}GetObjectValue(e=null,t=null){if(null===t&&(t=this.props.PropertyName),null===e&&(e=this.props.Store),null==e)return this.props.Value;return e.GetValue(t)}GetStringValue(e=null,t=null){if(null===t&&(t=this.props.PropertyName),null===e&&(e=this.props.Store),null==e)return this.props.Value;let n=e.GetValue(t);return null==n?"":n.toString()}GetValue(e=null,t=null){if(null===t&&(t=this.props.PropertyName),null===e&&(e=this.props.Store),null==e)return this.props.Value;let n=e.GetValue(t);return null==n?null:n}GetBoolValue(){let e=0;if(e=null==this.props.Store?this.props.Value:this.props.Store.GetValue(this.props.PropertyName),null==e)return!1;let t=parseInt(e);return isNaN(t)?1==e:1==t}GetNumericValue(){let e=0;if(e=null==this.props.Store?this.props.Value:this.props.Store.GetValue(this.props.PropertyName),null==e)return 0;let t=parseInt(e);return isNaN(t)?0:t}GetDateValue(){let e=this.GetNumericValue();return 0==e?null:qu.UnixToDate(e)}}Pf.defaultProps={};class Mf{constructor(){this.ErrorMessage=""}}class If extends Mf{constructor(e,t,n,r){super(),this.prop=e,this.propertyTrigger=t,this.executer=n,this.ErrorMessage=r}Execute(){return!je.GetPropertyValue(this.prop,this.propertyTrigger,!1)||this.executer()}}function Ff(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ff(n,!0).forEach((function(t){babelHelpers.defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ff(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class Bf extends Pf{constructor(e,t){super(e,t),this.state={IsValid:!e.IsValid||e.IsValid,ErrorMessage:e.ErrorMessage?e.ErrorMessage:""},this.styles={menuPortal:e=>Lf({},e,{zIndex:1000001}),singleValue:e=>Lf({},e,{lineHeight:22}),control:e=>Lf({},e,{minHeight:33.5}),input:e=>Lf({},e,{margin:0,padding:0}),container:e=>Lf({},e,{margin:0,padding:0}),indicatorsContainer:e=>Lf({},e,{margin:0,padding:0,height:30}),valueContainer:e=>Lf({},e,{margin:0,padding:"0 12px"})}}render(){let e=[];for(let t of React.Children.toArray(this.props.children))e.push({value:t.props.value,label:t.props.children,item:void 0!==t.props["data-item"]?t.props["data-item"]:null});return React.createElement("div",{className:this.props.className+" rncontrol "+(this.state.IsValid?"":"has-errors"),style:this.props.style},React.createElement("label",{style:{width:"100%"}},this.props.Label," ",this.props.LabelControl),React.createElement(ff,{classNamePrefix:"rnSelect",placeholder:this.props.placeholder,isDisabled:this.props.disabled,styles:this.styles,menuPortalTarget:document.body,menuPlacement:"auto",menuPosition:"absolute",className:"rnSelect",isSearchable:!0,options:e,isMulti:this.props.isMulti,defaultValue:this.GetSelectedOption(e),value:this.GetSelectedOption(e),onChange:e=>{this.props.isMulti?this.SetValue(e.map((e=>e.value)),e):this.SetValue(e.value,e.item)}}),this.GetValidationSection())}GetSelectedOption(e){if(this.props.isMulti){let t=this.GetArrayValue();return e.filter((e=>t.indexOf(e.value)>=0))}return e.filter((e=>e.value==this.GetStringValue()))}GetValidators(){return[new If(this.props,"Required",(()=>this.GetNumericValue()>0),"Required field")]}}Bf.defaultProps={isMulti:!1,disabled:!1,className:"",placeholder:"Select..."};var jf=Ne((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="filter",r=[],o="f0b0",i="M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z";t.definition={prefix:"fas",iconName:n,icon:[512,512,r,o,i]},t.faFilter=t.definition,t.prefix="fas",t.iconName=n,t.width=512,t.height=512,t.ligatures=r,t.unicode=o,t.svgPathData=i}));class zf extends React.Component{constructor(e){super(e),this.state={},this.RenderConditionBuilder=this.RenderConditionBuilder.bind(this)}componentDidMount(){c.EventManager.Subscribe("SelectedFormChanged",(()=>{0==this.props.DataSource.Options.Condition.ConditionGroups.length&&this.props.DataSource.Options.Condition.ConditionGroups.push((new r.ConditionGroupOptions).Merge({ConditionLines:[{}]})),this.forceUpdate()}),this)}componentWillUnmount(){c.EventManager.UnsubscribeEvent("SelectedFormChanged",this)}RenderConditionBuilder(e){this.ConditionBuilder=e}render(){return React.createElement("div",null,React.createElement(Bf,{className:"cbSelectAForm",Label:"Select a form",Value:this.props.DataSource.Options.FormId,onChange:e=>this.OnChange(e)},this.props.DataSource.PageModel.Forms.map((e=>React.createElement("option",{value:e.Id},e.Name)))),React.createElement("fieldset",{style:{border:"1px solid #dfdfdf",padding:10,borderRadius:5}},React.createElement("legend",{style:{fontWeight:"bold",marginLeft:2}},React.createElement(t.FontAwesomeIcon,{icon:jf.faFilter})," Filters"),null==this.props.DataSource.GetForm()?React.createElement("p",{style:{margin:0}},"Please select a form first"):React.createElement(Of,{ref:this.RenderConditionBuilder,DataSource:this.props.DataSource,Styles:{marginTop:5},Condition:this.props.DataSource.Options.Condition})))}OnChange(e){this.props.DataSource.SetFormId(o.Sanitizer.SanitizeNumber(e)),this.forceUpdate()}Validate(){var e;return null===(e=this.ConditionBuilder)||void 0===e?void 0:e.Validate()}AddFilter(){this.props.DataSource.Options.Condition.ConditionGroups.push((new r.ConditionGroupOptions).Merge({ConditionLines:[{}]})),this.forceUpdate()}}zf.defaultProps={};var Vf=Ne((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="puzzle-piece",r=[],o="f12e",i="M519.442 288.651c-41.519 0-59.5 31.593-82.058 31.593C377.409 320.244 432 144 432 144s-196.288 80-196.288-3.297c0-35.827 36.288-46.25 36.288-85.985C272 19.216 243.885 0 210.539 0c-34.654 0-66.366 18.891-66.366 56.346 0 41.364 31.711 59.277 31.711 81.75C175.885 207.719 0 166.758 0 166.758v333.237s178.635 41.047 178.635-28.662c0-22.473-40-40.107-40-81.471 0-37.456 29.25-56.346 63.577-56.346 33.673 0 61.788 19.216 61.788 54.717 0 39.735-36.288 50.158-36.288 85.985 0 60.803 129.675 25.73 181.23 25.73 0 0-34.725-120.101 25.827-120.101 35.962 0 46.423 36.152 86.308 36.152C556.712 416 576 387.99 576 354.443c0-34.199-18.962-65.792-56.558-65.792z";t.definition={prefix:"fas",iconName:n,icon:[576,512,r,o,i]},t.faPuzzlePiece=t.definition,t.prefix="fas",t.iconName=n,t.width=576,t.height=512,t.ligatures=r,t.unicode=o,t.svgPathData=i}));class Uf extends React.Component{constructor(e){super(e),this.state={ShowValidations:!1},this.Refresh=this.Refresh.bind(this)}get DataSource(){return this.props.ConditionGroup.props.ConditionBuilder.props.DataSource}Refresh(){this.forceUpdate()}componentDidMount(){}componentWillUnmount(){}render(){var e;if(null==(null===(e=this.DataSource.GetForm())||void 0===e?void 0:e.Fields))return React.createElement("p",null,"Please select a form first");let t=kf.GetComparator(this);return this.LastComparator=t,null==t?null:(t.SanitizeValue(),this.RenderLine(t))}get ConditionLineOptions(){return this.props.ConditionLineOptions}get ConditionGroup(){return this.props.ConditionGroup}Validate(){var e;let t=null===(e=this.LastComparator)||void 0===e?void 0:e.Validate();return!1!==t&&t}FieldChanged(e,t,n){let i;if(this.props.ConditionLineOptions.PathId="",r.ConditionLineTypeEnum[t]==r.ConditionLineTypeEnum.Standard){var a;let e=n.getAttribute("data-field-id"),t=null===(a=this.DataSource.GetForm())||void 0===a?void 0:a.GetField(e);i=null==t?r.FieldTypeEnum.None:t.Type,this.props.ConditionLineOptions.FieldId=e,this.props.ConditionLineOptions.PathId=n.getAttribute("data-path-id"),t.Type==r.FieldTypeEnum.Multiple?this.props.ConditionLineOptions.Value=o.Sanitizer.SanitizeStringArray(this.props.ConditionLineOptions.Value):this.props.ConditionLineOptions.Value=o.Sanitizer.SanitizeString(this.props.ConditionLineOptions.Value)}r.ConditionLineTypeEnum[t]==r.ConditionLineTypeEnum.None&&(this.props.ConditionLineOptions.FieldId=""),this.props.ConditionLineOptions.Comparison=r.ComparisonTypeEnum.None,this.props.ConditionLineOptions.Type=r.ConditionLineTypeEnum[t],this.props.ConditionLineOptions.SubType=i,this.props.OnFieldChanged(),this.forceUpdate()}RenderLine(e){var t;let n=null===(t=this.DataSource.GetForm())||void 0===t?void 0:t.Fields.filter((e=>e.UseInConditions));if(null==n)return React.createElement("p",null,"Please select a form first");let o=this.props.ConditionLineOptions.FieldId+"_"+this.props.ConditionLineOptions.PathId;""==this.props.ConditionLineOptions.PathId&&(o="");let i=e.GetValueInput();return React.createElement("div",null,React.createElement("div",{className:"conditionLine",style:{display:"flex",alignItems:"flex-start",marginBottom:"5px",padding:5}},React.createElement("div",{style:{width:"calc(30% - 100px)"},className:"conditionColumn"},React.createElement("select",{value:o,style:{height:"auto",padding:0,width:"100%"},onChange:e=>this.FieldChanged(e.target.value,e.target[e.target.selectedIndex].getAttribute("data-linetype").toString(),e.target[e.target.selectedIndex])},React.createElement("option",{"data-linetype":r.ConditionLineTypeEnum.None.toString(),id:""},RNTranslate("Select a field")),React.createElement("optgroup",{label:RNTranslate("Fields")},n.map((e=>e.GetDataSections("Filter").map(((t,n)=>React.createElement("option",{"data-path-id":t.PathId,"data-field-id":e.Id,"data-linetype":r.ConditionLineTypeEnum.Standard.toString(),key:t.Id+"_"+e.Id,value:e.Id+"_"+t.PathId},(n>0?"    ":"")+t.Label)))))))),React.createElement("div",{style:{width:"20%"}},React.createElement("input",{onChange:e=>{this.props.ConditionLineOptions.ParameterName=e.target.value,this.forceUpdate()},disabled:""==this.props.ConditionLineOptions.FieldId,value:this.props.ConditionLineOptions.ParameterName,type:"text",style:{height:"auto",padding:1,width:"100%"}})),React.createElement("div",{style:{width:"20%"},className:"conditionColumn"},e.GetComparator(!0)),React.createElement("div",{style:{width:100,textAlign:"center",display:"flex",alignItems:"center",justifyContent:"center",height:30}},React.createElement("input",{onChange:e=>{this.props.ConditionLineOptions.IsRequired=e.target.checked,this.props.ConditionLineOptions.Value="",this.forceUpdate()},type:"checkbox",disabled:""==this.props.ConditionLineOptions.FieldId,checked:this.props.ConditionLineOptions.IsRequired})),React.createElement("div",{style:{width:"calc(30% - 80px)"},className:"conditionColumn"},this.props.ConditionLineOptions.IsRequired&&React.createElement("span",{style:{textAlign:"center",display:"flex",alignItems:"center",justifyContent:"center",height:30}},"Default value not needed"),!this.props.ConditionLineOptions.IsRequired&&i),React.createElement("div",{style:{width:"80px"},className:"conditionColumn"},React.createElement("button",{onClick:e=>{e.preventDefault(),this.props.OnAddLine(this.props.ConditionLineOptions)},className:"rnbtn rnbtn-light",style:{padding:"1px 5px"}},RNTranslate("AND")),React.createElement("span",{className:"ConditionRemove",style:{lineHeight:"25px",verticalAlign:"middle",cursor:"pointer"},onClick:e=>{e.preventDefault(),this.props.OnRemoveLine(this.props.ConditionLineOptions)}},React.createElement(gn,{icon:Be.faTimes,style:{marginLeft:5}})))))}}Uf.defaultProps={};class Hf extends React.Component{constructor(e){super(e),this.state={},this.ConditionLines=[]}render(){return this.ConditionLines=new Array(this.props.ConditionGroup.ConditionLines.length),React.createElement("div",{className:"rnConditionGroup",style:{marginBottom:10,tableLayout:"fixed",width:"100%"}},React.createElement("div",null,this.props.ConditionGroup.ConditionLines.map(((e,t)=>React.createElement(Uf,{ref:e=>{null!=e&&(this.ConditionLines[t]=e)},OnFieldChanged:()=>this.props.OnFieldChanged(),OnRemoveLine:e=>this.RemoveLine(e),OnAddLine:e=>this.AddLineBellow(e),key:e.Id,ConditionGroup:this,ConditionLineOptions:e})))))}AddLineBellow(e){let t=this.props.ConditionGroup.ConditionLines.indexOf(e);t<0||(this.props.ConditionGroup.ConditionLines.splice(t+1,0,(new r.ParameterConditionLineOptions).Merge()),this.props.OnFieldChanged(),this.forceUpdate())}RemoveLine(e){let t=this.props.ConditionGroup.ConditionLines.indexOf(e);t<0||(this.props.ConditionGroup.ConditionLines.splice(t,1),0!=this.props.ConditionGroup.ConditionLines.length?(this.props.OnFieldChanged(),this.forceUpdate()):this.props.OnRemoveGroup(this.props.ConditionGroup))}get ConditionBuilder(){return this.props.ConditionBuilder}Validate(){for(let e of this.ConditionLines)if(!1===e.Validate())return!1;return!0}}function Gf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gf(n,!0).forEach((function(t){babelHelpers.defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gf(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Hf.defaultProps={};class qf extends React.Component{constructor(e){super(e),this.ConditionGroups=[],this.state={}}componentDidMount(){}NoFilterMessage(){return React.createElement("div",{style:{textAlign:"center"}},React.createElement("p",{style:{margin:0}},"You haven't create any parameter yet"),React.createElement("button",{onClick:()=>this.CreateGroup(),className:"rnbtn rnbtn-primary",style:{marginTop:5,display:"inline-flex",alignItems:"center"}},React.createElement(t.FontAwesomeIcon,{icon:Ef.faPlus,style:{marginRight:3}})," Click here to add your first parameter"))}render(){return this.ConditionGroups=new Array(this.props.Condition.ConditionGroups.length),0==this.ConditionGroups.length?this.NoFilterMessage():React.createElement("div",{style:Wf({marginTop:15},this.props.Styles)},React.createElement("div",{style:{display:"flex",padding:5}},React.createElement("div",{style:{width:"calc(30% - 100px)",fontWeight:"bold"}},"Field"),React.createElement("div",{style:{width:"20%",fontWeight:"bold"}},"Parameter Name"),React.createElement("div",{style:{width:"20%",fontWeight:"bold"}},"Comparator"),React.createElement("div",{style:{width:100,fontWeight:"bold",textAlign:"center"}},"Is Required"),React.createElement("div",{style:{width:"30%",fontWeight:"bold"}},"Default Value")),this.props.Condition.ConditionGroups.map(((e,t)=>React.createElement("div",{key:e.Id,style:{marginBottom:10}},React.createElement(Hf,{ref:e=>{null!=e&&(this.ConditionGroups[t]=e)},OnFieldChanged:()=>this.RecalculateElementsUsed(),OnRemoveGroup:()=>this.RemoveGroup(e),ConditionBuilder:this,ConditionGroup:e}),t<this.props.Condition.ConditionGroups.length-1?React.createElement("span",{style:{fontWeight:"bold"}},RNTranslate("or")):null))),React.createElement("div",{style:{marginTop:10}},this.props.Condition.ConditionGroups.length>0&&React.createElement("label",{style:{fontWeight:"bold"}},RNTranslate("or")),React.createElement("div",{style:{marginTop:10}},React.createElement("button",{onClick:e=>{e.preventDefault(),this.CreateGroup()},className:"rnbtn rnbtn-primary"},RNTranslate("Add new group")))))}get Options(){return this.props.Condition}CreateGroup(){this.props.Condition.ConditionGroups.push((new r.ParameterConditionGroupOptions).Merge({ConditionLines:[{}]})),this.forceUpdate()}RemoveGroup(e){let t=this.props.Condition.ConditionGroups.indexOf(e);t<0||(this.props.Condition.ConditionGroups.splice(t,1),this.RecalculateElementsUsed(),this.forceUpdate())}RecalculateElementsUsed(){this.Options.ElementsUsed=[];for(let e of this.Options.ConditionGroups)for(let t of e.ConditionLines)t.Type==r.ConditionLineTypeEnum.Standard&&this.Options.ElementsUsed.push((new r.ElementUsedOptions).Merge({Type:r.ElementUsedTypeEnum.Field,Id:t.FieldId}))}Validate(){for(const e of this.ConditionGroups)if(!e.Validate())return!1;return!0}}qf.defaultProps={};class Yf extends React.Component{constructor(e){super(e),this.state={}}render(){return React.createElement("div",null,React.createElement("p",null,"Parameters are similar to filters but they can be passed as parameters in the url which is useful to connect multiple pages together or to create a link that will filter the data with values defined in the link"),this.GetContent())}GetContent(){let e=this.props.Page.DataSources[0];return this.GetFilterFields(),""==rnBuilderVar.IsPR?React.createElement("p",{style:{textAlign:"center"}},"Sorry parameters are only available in the full version"):React.createElement("fieldset",{style:{border:"1px solid #dfdfdf",padding:10,borderRadius:5}},React.createElement("legend",{style:{fontWeight:"bold",marginLeft:2}},React.createElement(t.FontAwesomeIcon,{icon:Vf.faPuzzlePiece})," Parameters"),null==e||null==e.GetForm()?React.createElement("p",{style:{margin:0}},"Please select a form first"):React.createElement(qf,{DataSource:e,Styles:{marginTop:5},Condition:e.Options.ParameterCondition}))}GetFilterFields(){let e=this.props.Page.DataSources[0];if(null==e)return[];let t=[];for(let n of e.Options.Condition.ConditionGroups)for(let r of n.ConditionLines){let n=e.GetFieldByColumnId(r.FieldId);if(null==n)continue;let o={FieldId:n.Id,PathId:"",Label:n.Label},i=n.GetDataSections("Filter").find((e=>e.PathId==r.PathId));null!=i&&(o.Label+=" "+i.Label),t.some((e=>e.FieldId==r.FieldId&&e.PathId==e.PathId))||t.push(o)}return t}}Yf.defaultProps={};var Kf=Ne((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="sort-alpha-down",r=[],o="f15d",i="M176 352h-48V48a16 16 0 0 0-16-16H80a16 16 0 0 0-16 16v304H16c-14.19 0-21.36 17.24-11.29 27.31l80 96a16 16 0 0 0 22.62 0l80-96C197.35 369.26 190.22 352 176 352zm240-64H288a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h56l-61.26 70.45A32 32 0 0 0 272 446.37V464a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16h-56l61.26-70.45A32 32 0 0 0 432 321.63V304a16 16 0 0 0-16-16zm31.06-85.38l-59.27-160A16 16 0 0 0 372.72 32h-41.44a16 16 0 0 0-15.07 10.62l-59.27 160A16 16 0 0 0 272 224h24.83a16 16 0 0 0 15.23-11.08l4.42-12.92h71l4.41 12.92A16 16 0 0 0 407.16 224H432a16 16 0 0 0 15.06-21.38zM335.61 144L352 96l16.39 48z";t.definition={prefix:"fas",iconName:n,icon:[448,512,r,o,i]},t.faSortAlphaDown=t.definition,t.prefix="fas",t.iconName=n,t.width=448,t.height=512,t.ligatures=r,t.unicode=o,t.svgPathData=i})),$f=Ne((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="arrows-alt",r=[],o="f0b2",i="M352.201 425.775l-79.196 79.196c-9.373 9.373-24.568 9.373-33.941 0l-79.196-79.196c-15.119-15.119-4.411-40.971 16.971-40.97h51.162L228 284H127.196v51.162c0 21.382-25.851 32.09-40.971 16.971L7.029 272.937c-9.373-9.373-9.373-24.569 0-33.941L86.225 159.8c15.119-15.119 40.971-4.411 40.971 16.971V228H228V127.196h-51.23c-21.382 0-32.09-25.851-16.971-40.971l79.196-79.196c9.373-9.373 24.568-9.373 33.941 0l79.196 79.196c15.119 15.119 4.411 40.971-16.971 40.971h-51.162V228h100.804v-51.162c0-21.382 25.851-32.09 40.97-16.971l79.196 79.196c9.373 9.373 9.373 24.569 0 33.941L425.773 352.2c-15.119 15.119-40.971 4.411-40.97-16.971V284H284v100.804h51.23c21.382 0 32.09 25.851 16.971 40.971z";t.definition={prefix:"fas",iconName:n,icon:[512,512,r,o,i]},t.faArrowsAlt=t.definition,t.prefix="fas",t.iconName=n,t.width=512,t.height=512,t.ligatures=r,t.unicode=o,t.svgPathData=i}));class Xf extends React.Component{constructor(e){super(e),this.state={}}render(){var e;let n=null===(e=this.props.DataSource.GetForm())||void 0===e?void 0:e.Fields.filter((e=>e.UseInConditions));return this.props.SortItem.FieldId,this.props.SortItem.PathId,React.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",marginBottom:10},"data-item-id":this.props.SortItem.Id,className:"sortableItem"},React.createElement("div",{style:{width:20}},React.createElement(t.FontAwesomeIcon,{className:"arrowDirection",icon:$f.faArrowsAlt,style:{fontSize:18}})),React.createElement("div",{style:{width:10}}," "),React.createElement("div",{style:{width:200}},React.createElement("select",{value:this.props.SortItem.FieldId+"_"+this.props.SortItem.PathId,style:{height:"auto",padding:0,width:"100%"},onChange:e=>this.FieldChanged(e.target.value,e.target[e.target.selectedIndex])},React.createElement("option",{"data-linetype":r.ConditionLineTypeEnum.None.toString(),id:""},RNTranslate("Select a field")),React.createElement("optgroup",{label:RNTranslate("Fields")},n.map((e=>e.GetDataSections("Display").map(((t,n)=>React.createElement("option",{"data-path-id":t.PathId,"data-field-id":e.Id,"data-linetype":r.ConditionLineTypeEnum.Standard.toString(),key:t.Id+"_"+e.Id,value:e.Id+"_"+t.PathId},(n>0?"    ":"")+t.Label)))))))),React.createElement("div",{style:{width:10}}," "),React.createElement("div",{style:{width:200}},React.createElement("select",{style:{width:"100%",height:"auto"},value:this.props.SortItem.Orientation,onChange:e=>{this.props.SortItem.Orientation=e.target.value,this.forceUpdate()}},React.createElement("option",{value:"asc"},"Ascendant"),React.createElement("option",{value:"desc"},"Descendant"))),React.createElement("div",{style:{width:10}}," "),React.createElement("div",{style:{width:20}},React.createElement(t.FontAwesomeIcon,{className:"sortItemDelete",onClick:()=>this.props.OnRemove(),icon:Be.faTimes,style:{fontSize:20,cursor:"pointer"}})))}FieldChanged(e,t){var n,r;let o=t.getAttribute("data-field-id"),i=null===(n=this.props.DataSource.GetForm())||void 0===n?void 0:n.GetField(o);this.props.SortItem.FieldId=null==i?"":o,this.props.SortItem.PathId=null!==(r=t.getAttribute("data-path-id"))&&void 0!==r?r:"",this.forceUpdate()}}function Jf(e){return(Jf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zf(){return(Zf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function eh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Qf(e,t,n[t])}))}return e}function th(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}Xf.defaultProps={};function nh(e){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var rh=nh(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),oh=nh(/Edge/i),ih=nh(/firefox/i),ah=nh(/safari/i)&&!nh(/chrome/i)&&!nh(/android/i),sh=nh(/iP(ad|od|hone)/i),lh=nh(/chrome/i)&&nh(/android/i),uh={capture:!1,passive:!1};function ch(e,t,n){e.addEventListener(t,n,!rh&&uh)}function dh(e,t,n){e.removeEventListener(t,n,!rh&&uh)}function ph(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(e){return!1}return!1}}function fh(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function hh(e,t,n,r){if(e){n=n||document;do{if(null!=t&&(">"===t[0]?e.parentNode===n&&ph(e,t):ph(e,t))||r&&e===n)return e;if(e===n)break}while(e=fh(e))}return null}var mh,gh=/\s+/g;function vh(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var r=(" "+e.className+" ").replace(gh," ").replace(" "+t+" "," ");e.className=(r+(n?" "+t:"")).replace(gh," ")}}function yh(e,t,n){var r=e&&e.style;if(r){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in r||-1!==t.indexOf("webkit")||(t="-webkit-"+t),r[t]=n+("string"==typeof n?"":"px")}}function bh(e,t){var n="";if("string"==typeof e)n=e;else do{var r=yh(e,"transform");r&&"none"!==r&&(n=r+" "+n)}while(!t&&(e=e.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(n)}function wh(e,t,n){if(e){var r=e.getElementsByTagName(t),o=0,i=r.length;if(n)for(;o<i;o++)n(r[o],o);return r}return[]}function kh(){var e=document.scrollingElement;return e||document.documentElement}function Ch(e,t,n,r,o){if(e.getBoundingClientRect||e===window){var i,a,s,l,u,c,d;if(e!==window&&e.parentNode&&e!==kh()?(a=(i=e.getBoundingClientRect()).top,s=i.left,l=i.bottom,u=i.right,c=i.height,d=i.width):(a=0,s=0,l=window.innerHeight,u=window.innerWidth,c=window.innerHeight,d=window.innerWidth),(t||n)&&e!==window&&(o=o||e.parentNode,!rh))do{if(o&&o.getBoundingClientRect&&("none"!==yh(o,"transform")||n&&"static"!==yh(o,"position"))){var p=o.getBoundingClientRect();a-=p.top+parseInt(yh(o,"border-top-width")),s-=p.left+parseInt(yh(o,"border-left-width")),l=a+i.height,u=s+i.width;break}}while(o=o.parentNode);if(r&&e!==window){var f=bh(o||e),h=f&&f.a,m=f&&f.d;f&&(l=(a/=m)+(c/=m),u=(s/=h)+(d/=h))}return{top:a,left:s,bottom:l,right:u,width:d,height:c}}}function xh(e,t,n){for(var r=Th(e,!0),o=Ch(e)[t];r;){var i=Ch(r)[n];if(!("top"===n||"left"===n?o>=i:o<=i))return r;if(r===kh())break;r=Th(r,!1)}return!1}function Eh(e,t,n){for(var r=0,o=0,i=e.children;o<i.length;){if("none"!==i[o].style.display&&i[o]!==Am.ghost&&i[o]!==Am.dragged&&hh(i[o],n.draggable,e,!1)){if(r===t)return i[o];r++}o++}return null}function Sh(e,t){for(var n=e.lastElementChild;n&&(n===Am.ghost||"none"===yh(n,"display")||t&&!ph(n,t));)n=n.previousElementSibling;return n||null}function _h(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===Am.clone||t&&!ph(e,t)||n++;return n}function Oh(e){var t=0,n=0,r=kh();if(e)do{var o=bh(e),i=o.a,a=o.d;t+=e.scrollLeft*i,n+=e.scrollTop*a}while(e!==r&&(e=e.parentNode));return[t,n]}function Th(e,t){if(!e||!e.getBoundingClientRect)return kh();var n=e,r=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var o=yh(n);if(n.clientWidth<n.scrollWidth&&("auto"==o.overflowX||"scroll"==o.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==o.overflowY||"scroll"==o.overflowY)){if(!n.getBoundingClientRect||n===document.body)return kh();if(r||t)return n;r=!0}}}while(n=n.parentNode);return kh()}function Rh(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function Ah(e,t){return function(){if(!mh){var n=arguments,r=this;1===n.length?e.call(r,n[0]):e.apply(r,n),mh=setTimeout((function(){mh=void 0}),t)}}}function Nh(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function Dh(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}var Ph="Sortable"+(new Date).getTime();function Mh(){var e,t=[];return{captureAnimationState:function(){(t=[],this.options.animation)&&[].slice.call(this.el.children).forEach((function(e){if("none"!==yh(e,"display")&&e!==Am.ghost){t.push({target:e,rect:Ch(e)});var n=eh({},t[t.length-1].rect);if(e.thisAnimationDuration){var r=bh(e,!0);r&&(n.top-=r.f,n.left-=r.e)}e.fromRect=n}}))},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(function(e,t){for(var n in e)if(e.hasOwnProperty(n))for(var r in t)if(t.hasOwnProperty(r)&&t[r]===e[n][r])return Number(n);return-1}(t,{target:e}),1)},animateAll:function(n){var r=this;if(!this.options.animation)return clearTimeout(e),void("function"==typeof n&&n());var o=!1,i=0;t.forEach((function(e){var t=0,n=e.target,a=n.fromRect,s=Ch(n),l=n.prevFromRect,u=n.prevToRect,c=e.rect,d=bh(n,!0);d&&(s.top-=d.f,s.left-=d.e),n.toRect=s,n.thisAnimationDuration&&Rh(l,s)&&!Rh(a,s)&&(c.top-s.top)/(c.left-s.left)==(a.top-s.top)/(a.left-s.left)&&(t=function(e,t,n,r){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*r.animation}(c,l,u,r.options)),Rh(s,a)||(n.prevFromRect=a,n.prevToRect=s,t||(t=r.options.animation),r.animate(n,c,s,t)),t&&(o=!0,i=Math.max(i,t),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout((function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null}),t),n.thisAnimationDuration=t)})),clearTimeout(e),o?e=setTimeout((function(){"function"==typeof n&&n()}),i):"function"==typeof n&&n(),t=[]},animate:function(e,t,n,r){if(r){yh(e,"transition",""),yh(e,"transform","");var o=bh(this.el),i=o&&o.a,a=o&&o.d,s=(t.left-n.left)/(i||1),l=(t.top-n.top)/(a||1);e.animatingX=!!s,e.animatingY=!!l,yh(e,"transform","translate3d("+s+"px,"+l+"px,0)"),this.forRepaintDummy=function(e){return e.offsetWidth}(e),yh(e,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),yh(e,"transform","translate3d(0,0,0)"),"number"==typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){yh(e,"transition",""),yh(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),r)}}}}var Ih=[],Fh={initializeByDefault:!0},Lh={mount:function(e){for(var t in Fh)Fh.hasOwnProperty(t)&&!(t in e)&&(e[t]=Fh[t]);Ih.forEach((function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")})),Ih.push(e)},pluginEvent:function(e,t,n){var r=this;this.eventCanceled=!1,n.cancel=function(){r.eventCanceled=!0};var o=e+"Global";Ih.forEach((function(r){t[r.pluginName]&&(t[r.pluginName][o]&&t[r.pluginName][o](eh({sortable:t},n)),t.options[r.pluginName]&&t[r.pluginName][e]&&t[r.pluginName][e](eh({sortable:t},n)))}))},initializePlugins:function(e,t,n,r){for(var o in Ih.forEach((function(r){var o=r.pluginName;if(e.options[o]||r.initializeByDefault){var i=new r(e,t,e.options);i.sortable=e,i.options=e.options,e[o]=i,Zf(n,i.defaults)}})),e.options)if(e.options.hasOwnProperty(o)){var i=this.modifyOption(e,o,e.options[o]);void 0!==i&&(e.options[o]=i)}},getEventProperties:function(e,t){var n={};return Ih.forEach((function(r){"function"==typeof r.eventProperties&&Zf(n,r.eventProperties.call(t[r.pluginName],e))})),n},modifyOption:function(e,t,n){var r;return Ih.forEach((function(o){e[o.pluginName]&&o.optionListeners&&"function"==typeof o.optionListeners[t]&&(r=o.optionListeners[t].call(e[o.pluginName],n))})),r}};var Bh=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.evt,o=th(n,["evt"]);Lh.pluginEvent.bind(Am)(e,t,eh({dragEl:zh,parentEl:Vh,ghostEl:Uh,rootEl:Hh,nextEl:Gh,lastDownEl:Wh,cloneEl:qh,cloneHidden:Yh,dragStarted:am,putSortable:Zh,activeSortable:Am.active,originalEvent:r,oldIndex:Kh,oldDraggableIndex:Xh,newIndex:$h,newDraggableIndex:Jh,hideGhostForTarget:_m,unhideGhostForTarget:Om,cloneNowHidden:function(){Yh=!0},cloneNowShown:function(){Yh=!1},dispatchSortableEvent:function(e){jh({sortable:t,name:e,originalEvent:r})}},o))};function jh(e){!function(e){var t=e.sortable,n=e.rootEl,r=e.name,o=e.targetEl,i=e.cloneEl,a=e.toEl,s=e.fromEl,l=e.oldIndex,u=e.newIndex,c=e.oldDraggableIndex,d=e.newDraggableIndex,p=e.originalEvent,f=e.putSortable,h=e.extraEventProperties;if(t=t||n&&n[Ph]){var m,g=t.options,v="on"+r.charAt(0).toUpperCase()+r.substr(1);!window.CustomEvent||rh||oh?(m=document.createEvent("Event")).initEvent(r,!0,!0):m=new CustomEvent(r,{bubbles:!0,cancelable:!0}),m.to=a||n,m.from=s||n,m.item=o||n,m.clone=i,m.oldIndex=l,m.newIndex=u,m.oldDraggableIndex=c,m.newDraggableIndex=d,m.originalEvent=p,m.pullMode=f?f.lastPutMode:void 0;var y=eh({},h,Lh.getEventProperties(r,t));for(var b in y)m[b]=y[b];n&&n.dispatchEvent(m),g[v]&&g[v].call(t,m)}}(eh({putSortable:Zh,cloneEl:qh,targetEl:zh,rootEl:Hh,oldIndex:Kh,oldDraggableIndex:Xh,newIndex:$h,newDraggableIndex:Jh},e))}var zh,Vh,Uh,Hh,Gh,Wh,qh,Yh,Kh,$h,Xh,Jh,Qh,Zh,em,tm,nm,rm,om,im,am,sm,lm,um,cm,dm=!1,pm=!1,fm=[],hm=!1,mm=!1,gm=[],vm=!1,ym=[],bm="undefined"!=typeof document,wm=sh,km=oh||rh?"cssFloat":"float",Cm=bm&&!lh&&!sh&&"draggable"in document.createElement("div"),xm=function(){if(bm){if(rh)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),Em=function(e,t){var n=yh(e),r=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),o=Eh(e,0,t),i=Eh(e,1,t),a=o&&yh(o),s=i&&yh(i),l=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+Ch(o).width,u=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+Ch(i).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&a.float&&"none"!==a.float){var c="left"===a.float?"left":"right";return!i||"both"!==s.clear&&s.clear!==c?"horizontal":"vertical"}return o&&("block"===a.display||"flex"===a.display||"table"===a.display||"grid"===a.display||l>=r&&"none"===n[km]||i&&"none"===n[km]&&l+u>r)?"vertical":"horizontal"},Sm=function(e){function t(e,n){return function(r,o,i,a){var s=r.options.group.name&&o.options.group.name&&r.options.group.name===o.options.group.name;if(null==e&&(n||s))return!0;if(null==e||!1===e)return!1;if(n&&"clone"===e)return e;if("function"==typeof e)return t(e(r,o,i,a),n)(r,o,i,a);var l=(n?r:o).options.group.name;return!0===e||"string"==typeof e&&e===l||e.join&&e.indexOf(l)>-1}}var n={},r=e.group;r&&"object"==Jf(r)||(r={name:r}),n.name=r.name,n.checkPull=t(r.pull,!0),n.checkPut=t(r.put),n.revertClone=r.revertClone,e.group=n},_m=function(){!xm&&Uh&&yh(Uh,"display","none")},Om=function(){!xm&&Uh&&yh(Uh,"display","")};bm&&document.addEventListener("click",(function(e){if(pm)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),pm=!1,!1}),!0);var Tm=function(e){if(zh){var t=function(e,t){var n;return fm.some((function(r){if(!Sh(r)){var o=Ch(r),i=r[Ph].options.emptyInsertThreshold,a=e>=o.left-i&&e<=o.right+i,s=t>=o.top-i&&t<=o.bottom+i;return i&&a&&s?n=r:void 0}})),n}((e=e.touches?e.touches[0]:e).clientX,e.clientY);if(t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[Ph]._onDragOver(n)}}},Rm=function(e){zh&&zh.parentNode[Ph]._isOutsideThisEl(e.target)};function Am(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=Zf({},t),e[Ph]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Em(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Am.supportPointer&&"PointerEvent"in window&&!ah,emptyInsertThreshold:5};for(var r in Lh.initializePlugins(this,e,n),n)!(r in t)&&(t[r]=n[r]);for(var o in Sm(t),this)"_"===o.charAt(0)&&"function"==typeof this[o]&&(this[o]=this[o].bind(this));this.nativeDraggable=!t.forceFallback&&Cm,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?ch(e,"pointerdown",this._onTapStart):(ch(e,"mousedown",this._onTapStart),ch(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(ch(e,"dragover",this),ch(e,"dragenter",this)),fm.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),Zf(this,Mh())}function Nm(e,t,n,r,o,i,a,s){var l,u,c=e[Ph],d=c.options.onMove;return!window.CustomEvent||rh||oh?(l=document.createEvent("Event")).initEvent("move",!0,!0):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=t,l.from=e,l.dragged=n,l.draggedRect=r,l.related=o||t,l.relatedRect=i||Ch(t),l.willInsertAfter=s,l.originalEvent=a,e.dispatchEvent(l),d&&(u=d.call(c,l,a)),u}function Dm(e){e.draggable=!1}function Pm(){vm=!1}function Mm(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,r=0;n--;)r+=t.charCodeAt(n);return r.toString(36)}function Im(e){return setTimeout(e,0)}function Fm(e){return clearTimeout(e)}Am.prototype={constructor:Am,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(sm=null)},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,zh):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,r=this.options,o=r.preventOnFilter,i=e.type,a=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,s=(a||e).target,l=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||s,u=r.filter;if(function(e){ym.length=0;var t=e.getElementsByTagName("input"),n=t.length;for(;n--;){var r=t[n];r.checked&&ym.push(r)}}(n),!zh&&!(/mousedown|pointerdown/.test(i)&&0!==e.button||r.disabled)&&!l.isContentEditable&&(this.nativeDraggable||!ah||!s||"SELECT"!==s.tagName.toUpperCase())&&!((s=hh(s,r.draggable,n,!1))&&s.animated||Wh===s)){if(Kh=_h(s),Xh=_h(s,r.draggable),"function"==typeof u){if(u.call(this,e,s,this))return jh({sortable:t,rootEl:l,name:"filter",targetEl:s,toEl:n,fromEl:n}),Bh("filter",t,{evt:e}),void(o&&e.cancelable&&e.preventDefault())}else if(u&&(u=u.split(",").some((function(r){if(r=hh(l,r.trim(),n,!1))return jh({sortable:t,rootEl:r,name:"filter",targetEl:s,fromEl:n,toEl:n}),Bh("filter",t,{evt:e}),!0}))))return void(o&&e.cancelable&&e.preventDefault());r.handle&&!hh(l,r.handle,n,!1)||this._prepareDragStart(e,a,s)}}},_prepareDragStart:function(e,t,n){var r,o=this,i=o.el,a=o.options,s=i.ownerDocument;if(n&&!zh&&n.parentNode===i){var l=Ch(n);if(Hh=i,Vh=(zh=n).parentNode,Gh=zh.nextSibling,Wh=n,Qh=a.group,Am.dragged=zh,em={target:zh,clientX:(t||e).clientX,clientY:(t||e).clientY},om=em.clientX-l.left,im=em.clientY-l.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,zh.style["will-change"]="all",r=function(){Bh("delayEnded",o,{evt:e}),Am.eventCanceled?o._onDrop():(o._disableDelayedDragEvents(),!ih&&o.nativeDraggable&&(zh.draggable=!0),o._triggerDragStart(e,t),jh({sortable:o,name:"choose",originalEvent:e}),vh(zh,a.chosenClass,!0))},a.ignore.split(",").forEach((function(e){wh(zh,e.trim(),Dm)})),ch(s,"dragover",Tm),ch(s,"mousemove",Tm),ch(s,"touchmove",Tm),ch(s,"mouseup",o._onDrop),ch(s,"touchend",o._onDrop),ch(s,"touchcancel",o._onDrop),ih&&this.nativeDraggable&&(this.options.touchStartThreshold=4,zh.draggable=!0),Bh("delayStart",this,{evt:e}),!a.delay||a.delayOnTouchOnly&&!t||this.nativeDraggable&&(oh||rh))r();else{if(Am.eventCanceled)return void this._onDrop();ch(s,"mouseup",o._disableDelayedDrag),ch(s,"touchend",o._disableDelayedDrag),ch(s,"touchcancel",o._disableDelayedDrag),ch(s,"mousemove",o._delayedDragTouchMoveHandler),ch(s,"touchmove",o._delayedDragTouchMoveHandler),a.supportPointer&&ch(s,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(r,a.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){zh&&Dm(zh),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;dh(e,"mouseup",this._disableDelayedDrag),dh(e,"touchend",this._disableDelayedDrag),dh(e,"touchcancel",this._disableDelayedDrag),dh(e,"mousemove",this._delayedDragTouchMoveHandler),dh(e,"touchmove",this._delayedDragTouchMoveHandler),dh(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?ch(document,"pointermove",this._onTouchMove):ch(document,t?"touchmove":"mousemove",this._onTouchMove):(ch(zh,"dragend",this),ch(Hh,"dragstart",this._onDragStart));try{document.selection?Im((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(e,t){if(dm=!1,Hh&&zh){Bh("dragStarted",this,{evt:t}),this.nativeDraggable&&ch(document,"dragover",Rm);var n=this.options;!e&&vh(zh,n.dragClass,!1),vh(zh,n.ghostClass,!0),Am.active=this,e&&this._appendGhost(),jh({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(tm){this._lastX=tm.clientX,this._lastY=tm.clientY,_m();for(var e=document.elementFromPoint(tm.clientX,tm.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(tm.clientX,tm.clientY))!==t;)t=e;if(zh.parentNode[Ph]._isOutsideThisEl(e),t)do{if(t[Ph]){if(t[Ph]._onDragOver({clientX:tm.clientX,clientY:tm.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);Om()}},_onTouchMove:function(e){if(em){var t=this.options,n=t.fallbackTolerance,r=t.fallbackOffset,o=e.touches?e.touches[0]:e,i=Uh&&bh(Uh,!0),a=Uh&&i&&i.a,s=Uh&&i&&i.d,l=wm&&cm&&Oh(cm),u=(o.clientX-em.clientX+r.x)/(a||1)+(l?l[0]-gm[0]:0)/(a||1),c=(o.clientY-em.clientY+r.y)/(s||1)+(l?l[1]-gm[1]:0)/(s||1);if(!Am.active&&!dm){if(n&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(Uh){i?(i.e+=u-(nm||0),i.f+=c-(rm||0)):i={a:1,b:0,c:0,d:1,e:u,f:c};var d="matrix(".concat(i.a,",").concat(i.b,",").concat(i.c,",").concat(i.d,",").concat(i.e,",").concat(i.f,")");yh(Uh,"webkitTransform",d),yh(Uh,"mozTransform",d),yh(Uh,"msTransform",d),yh(Uh,"transform",d),nm=u,rm=c,tm=o}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!Uh){var e=this.options.fallbackOnBody?document.body:Hh,t=Ch(zh,!0,wm,!0,e),n=this.options;if(wm){for(cm=e;"static"===yh(cm,"position")&&"none"===yh(cm,"transform")&&cm!==document;)cm=cm.parentNode;cm!==document.body&&cm!==document.documentElement?(cm===document&&(cm=kh()),t.top+=cm.scrollTop,t.left+=cm.scrollLeft):cm=kh(),gm=Oh(cm)}vh(Uh=zh.cloneNode(!0),n.ghostClass,!1),vh(Uh,n.fallbackClass,!0),vh(Uh,n.dragClass,!0),yh(Uh,"transition",""),yh(Uh,"transform",""),yh(Uh,"box-sizing","border-box"),yh(Uh,"margin",0),yh(Uh,"top",t.top),yh(Uh,"left",t.left),yh(Uh,"width",t.width),yh(Uh,"height",t.height),yh(Uh,"opacity","0.8"),yh(Uh,"position",wm?"absolute":"fixed"),yh(Uh,"zIndex","100000"),yh(Uh,"pointerEvents","none"),Am.ghost=Uh,e.appendChild(Uh),yh(Uh,"transform-origin",om/parseInt(Uh.style.width)*100+"% "+im/parseInt(Uh.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,r=e.dataTransfer,o=n.options;Bh("dragStart",this,{evt:e}),Am.eventCanceled?this._onDrop():(Bh("setupClone",this),Am.eventCanceled||((qh=Dh(zh)).draggable=!1,qh.style["will-change"]="",this._hideClone(),vh(qh,this.options.chosenClass,!1),Am.clone=qh),n.cloneId=Im((function(){Bh("clone",n),Am.eventCanceled||(n.options.removeCloneOnHide||Hh.insertBefore(qh,zh),n._hideClone(),jh({sortable:n,name:"clone"}))})),!t&&vh(zh,o.dragClass,!0),t?(pm=!0,n._loopId=setInterval(n._emulateDragOver,50)):(dh(document,"mouseup",n._onDrop),dh(document,"touchend",n._onDrop),dh(document,"touchcancel",n._onDrop),r&&(r.effectAllowed="move",o.setData&&o.setData.call(n,r,zh)),ch(document,"drop",n),yh(zh,"transform","translateZ(0)")),dm=!0,n._dragStartId=Im(n._dragStarted.bind(n,t,e)),ch(document,"selectstart",n),am=!0,ah&&yh(document.body,"user-select","none"))},_onDragOver:function(e){var t,n,r,o,i=this.el,a=e.target,s=this.options,l=s.group,u=Am.active,c=Qh===l,d=s.sort,p=Zh||u,f=this,h=!1;if(!vm){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),a=hh(a,s.draggable,i,!0),T("dragOver"),Am.eventCanceled)return h;if(zh.contains(e.target)||a.animated&&a.animatingX&&a.animatingY||f._ignoreWhileAnimating===a)return A(!1);if(pm=!1,u&&!s.disabled&&(c?d||(r=!Hh.contains(zh)):Zh===this||(this.lastPutMode=Qh.checkPull(this,u,zh,e))&&l.checkPut(this,u,zh,e))){if(o="vertical"===this._getDirection(e,a),t=Ch(zh),T("dragOverValid"),Am.eventCanceled)return h;if(r)return Vh=Hh,R(),this._hideClone(),T("revert"),Am.eventCanceled||(Gh?Hh.insertBefore(zh,Gh):Hh.appendChild(zh)),A(!0);var m=Sh(i,s.draggable);if(!m||function(e,t,n){var r=Ch(Sh(n.el,n.options.draggable)),o=10;return t?e.clientX>r.right+o||e.clientX<=r.right&&e.clientY>r.bottom&&e.clientX>=r.left:e.clientX>r.right&&e.clientY>r.top||e.clientX<=r.right&&e.clientY>r.bottom+o}(e,o,this)&&!m.animated){if(m===zh)return A(!1);if(m&&i===e.target&&(a=m),a&&(n=Ch(a)),!1!==Nm(Hh,i,zh,t,a,n,e,!!a))return R(),i.appendChild(zh),Vh=i,N(),A(!0)}else if(a.parentNode===i){n=Ch(a);var g,v,y,b=zh.parentNode!==i,w=!function(e,t,n){var r=n?e.left:e.top,o=n?e.right:e.bottom,i=n?e.width:e.height,a=n?t.left:t.top,s=n?t.right:t.bottom,l=n?t.width:t.height;return r===a||o===s||r+i/2===a+l/2}(zh.animated&&zh.toRect||t,a.animated&&a.toRect||n,o),k=o?"top":"left",C=xh(a,"top","top")||xh(zh,"top","top"),x=C?C.scrollTop:void 0;if(sm!==a&&(v=n[k],hm=!1,mm=!w&&s.invertSwap||b),0!==(g=function(e,t,n,r,o,i,a,s){var l=r?e.clientY:e.clientX,u=r?n.height:n.width,c=r?n.top:n.left,d=r?n.bottom:n.right,p=!1;if(!a)if(s&&um<u*o){if(!hm&&(1===lm?l>c+u*i/2:l<d-u*i/2)&&(hm=!0),hm)p=!0;else if(1===lm?l<c+um:l>d-um)return-lm}else if(l>c+u*(1-o)/2&&l<d-u*(1-o)/2)return function(e){return _h(zh)<_h(e)?1:-1}(t);if((p=p||a)&&(l<c+u*i/2||l>d-u*i/2))return l>c+u/2?1:-1;return 0}(e,a,n,o,w?1:s.swapThreshold,null==s.invertedSwapThreshold?s.swapThreshold:s.invertedSwapThreshold,mm,sm===a))){var E=_h(zh);do{E-=g,y=Vh.children[E]}while(y&&("none"===yh(y,"display")||y===Uh))}if(0===g||y===a)return A(!1);sm=a,lm=g;var S=a.nextElementSibling,_=!1,O=Nm(Hh,i,zh,t,a,n,e,_=1===g);if(!1!==O)return 1!==O&&-1!==O||(_=1===O),vm=!0,setTimeout(Pm,30),R(),_&&!S?i.appendChild(zh):a.parentNode.insertBefore(zh,_?S:a),C&&Nh(C,0,x-C.scrollTop),Vh=zh.parentNode,void 0===v||mm||(um=Math.abs(v-Ch(a)[k])),N(),A(!0)}if(i.contains(zh))return A(!1)}return!1}function T(s,l){Bh(s,f,eh({evt:e,isOwner:c,axis:o?"vertical":"horizontal",revert:r,dragRect:t,targetRect:n,canSort:d,fromSortable:p,target:a,completed:A,onMove:function(n,r){return Nm(Hh,i,zh,t,n,Ch(n),e,r)},changed:N},l))}function R(){T("dragOverAnimationCapture"),f.captureAnimationState(),f!==p&&p.captureAnimationState()}function A(t){return T("dragOverCompleted",{insertion:t}),t&&(c?u._hideClone():u._showClone(f),f!==p&&(vh(zh,Zh?Zh.options.ghostClass:u.options.ghostClass,!1),vh(zh,s.ghostClass,!0)),Zh!==f&&f!==Am.active?Zh=f:f===Am.active&&Zh&&(Zh=null),p===f&&(f._ignoreWhileAnimating=a),f.animateAll((function(){T("dragOverAnimationComplete"),f._ignoreWhileAnimating=null})),f!==p&&(p.animateAll(),p._ignoreWhileAnimating=null)),(a===zh&&!zh.animated||a===i&&!a.animated)&&(sm=null),s.dragoverBubble||e.rootEl||a===document||(zh.parentNode[Ph]._isOutsideThisEl(e.target),!t&&Tm(e)),!s.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),h=!0}function N(){$h=_h(zh),Jh=_h(zh,s.draggable),jh({sortable:f,name:"change",toEl:i,newIndex:$h,newDraggableIndex:Jh,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){dh(document,"mousemove",this._onTouchMove),dh(document,"touchmove",this._onTouchMove),dh(document,"pointermove",this._onTouchMove),dh(document,"dragover",Tm),dh(document,"mousemove",Tm),dh(document,"touchmove",Tm)},_offUpEvents:function(){var e=this.el.ownerDocument;dh(e,"mouseup",this._onDrop),dh(e,"touchend",this._onDrop),dh(e,"pointerup",this._onDrop),dh(e,"touchcancel",this._onDrop),dh(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;$h=_h(zh),Jh=_h(zh,n.draggable),Bh("drop",this,{evt:e}),Vh=zh&&zh.parentNode,$h=_h(zh),Jh=_h(zh,n.draggable),Am.eventCanceled||(dm=!1,mm=!1,hm=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Fm(this.cloneId),Fm(this._dragStartId),this.nativeDraggable&&(dh(document,"drop",this),dh(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),ah&&yh(document.body,"user-select",""),yh(zh,"transform",""),e&&(am&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),Uh&&Uh.parentNode&&Uh.parentNode.removeChild(Uh),(Hh===Vh||Zh&&"clone"!==Zh.lastPutMode)&&qh&&qh.parentNode&&qh.parentNode.removeChild(qh),zh&&(this.nativeDraggable&&dh(zh,"dragend",this),Dm(zh),zh.style["will-change"]="",am&&!dm&&vh(zh,Zh?Zh.options.ghostClass:this.options.ghostClass,!1),vh(zh,this.options.chosenClass,!1),jh({sortable:this,name:"unchoose",toEl:Vh,newIndex:null,newDraggableIndex:null,originalEvent:e}),Hh!==Vh?($h>=0&&(jh({rootEl:Vh,name:"add",toEl:Vh,fromEl:Hh,originalEvent:e}),jh({sortable:this,name:"remove",toEl:Vh,originalEvent:e}),jh({rootEl:Vh,name:"sort",toEl:Vh,fromEl:Hh,originalEvent:e}),jh({sortable:this,name:"sort",toEl:Vh,originalEvent:e})),Zh&&Zh.save()):$h!==Kh&&$h>=0&&(jh({sortable:this,name:"update",toEl:Vh,originalEvent:e}),jh({sortable:this,name:"sort",toEl:Vh,originalEvent:e})),Am.active&&(null!=$h&&-1!==$h||($h=Kh,Jh=Xh),jh({sortable:this,name:"end",toEl:Vh,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){Bh("nulling",this),Hh=zh=Vh=Uh=Gh=qh=Wh=Yh=em=tm=am=$h=Jh=Kh=Xh=sm=lm=Zh=Qh=Am.dragged=Am.ghost=Am.clone=Am.active=null,ym.forEach((function(e){e.checked=!0})),ym.length=nm=rm=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":zh&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move");e.cancelable&&e.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],n=this.el.children,r=0,o=n.length,i=this.options;r<o;r++)hh(e=n[r],i.draggable,this.el,!1)&&t.push(e.getAttribute(i.dataIdAttr)||Mm(e));return t},sort:function(e,t){var n={},r=this.el;this.toArray().forEach((function(e,t){var o=r.children[t];hh(o,this.options.draggable,r,!1)&&(n[e]=o)}),this),t&&this.captureAnimationState(),e.forEach((function(e){n[e]&&(r.removeChild(n[e]),r.appendChild(n[e]))})),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return hh(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];var r=Lh.modifyOption(this,e,t);n[e]=void 0!==r?r:t,"group"===e&&Sm(n)},destroy:function(){Bh("destroy",this);var e=this.el;e[Ph]=null,dh(e,"mousedown",this._onTapStart),dh(e,"touchstart",this._onTapStart),dh(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(dh(e,"dragover",this),dh(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),fm.splice(fm.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Yh){if(Bh("hideClone",this),Am.eventCanceled)return;yh(qh,"display","none"),this.options.removeCloneOnHide&&qh.parentNode&&qh.parentNode.removeChild(qh),Yh=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(Yh){if(Bh("showClone",this),Am.eventCanceled)return;zh.parentNode!=Hh||this.options.group.revertClone?Gh?Hh.insertBefore(qh,Gh):Hh.appendChild(qh):Hh.insertBefore(qh,zh),this.options.group.revertClone&&this.animate(zh,qh),yh(qh,"display",""),Yh=!1}}else this._hideClone()}},bm&&ch(document,"touchmove",(function(e){(Am.active||dm)&&e.cancelable&&e.preventDefault()})),Am.utils={on:ch,off:dh,css:yh,find:wh,is:function(e,t){return!!hh(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},throttle:Ah,closest:hh,toggleClass:vh,clone:Dh,index:_h,nextTick:Im,cancelNextTick:Fm,detectDirection:Em,getChild:Eh},Am.get=function(e){return e[Ph]},Am.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(Am.utils=eh({},Am.utils,e.utils)),Lh.mount(e)}))},Am.create=function(e,t){return new Am(e,t)},Am.version="1.13.0";var Lm,Bm,jm,zm,Vm,Um,Hm=[],Gm=!1;function Wm(){Hm.forEach((function(e){clearInterval(e.pid)})),Hm=[]}function qm(){clearInterval(Um)}var Ym=Ah((function(e,t,n,r){if(t.scroll){var o,i=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,s=t.scrollSensitivity,l=t.scrollSpeed,u=kh(),c=!1;Bm!==n&&(Bm=n,Wm(),Lm=t.scroll,o=t.scrollFn,!0===Lm&&(Lm=Th(n,!0)));var d=0,p=Lm;do{var f=p,h=Ch(f),m=h.top,g=h.bottom,v=h.left,y=h.right,b=h.width,w=h.height,k=void 0,C=void 0,x=f.scrollWidth,E=f.scrollHeight,S=yh(f),_=f.scrollLeft,O=f.scrollTop;f===u?(k=b<x&&("auto"===S.overflowX||"scroll"===S.overflowX||"visible"===S.overflowX),C=w<E&&("auto"===S.overflowY||"scroll"===S.overflowY||"visible"===S.overflowY)):(k=b<x&&("auto"===S.overflowX||"scroll"===S.overflowX),C=w<E&&("auto"===S.overflowY||"scroll"===S.overflowY));var T=k&&(Math.abs(y-i)<=s&&_+b<x)-(Math.abs(v-i)<=s&&!!_),R=C&&(Math.abs(g-a)<=s&&O+w<E)-(Math.abs(m-a)<=s&&!!O);if(!Hm[d])for(var A=0;A<=d;A++)Hm[A]||(Hm[A]={});Hm[d].vx==T&&Hm[d].vy==R&&Hm[d].el===f||(Hm[d].el=f,Hm[d].vx=T,Hm[d].vy=R,clearInterval(Hm[d].pid),0==T&&0==R||(c=!0,Hm[d].pid=setInterval(function(){r&&0===this.layer&&Am.active._onTouchMove(Vm);var t=Hm[this.layer].vy?Hm[this.layer].vy*l:0,n=Hm[this.layer].vx?Hm[this.layer].vx*l:0;"function"==typeof o&&"continue"!==o.call(Am.dragged.parentNode[Ph],n,t,e,Vm,Hm[this.layer].el)||Nh(Hm[this.layer].el,n,t)}.bind({layer:d}),24))),d++}while(t.bubbleScroll&&p!==u&&(p=Th(p,!1)));Gm=c}}),30),Km=function(e){var t=e.originalEvent,n=e.putSortable,r=e.dragEl,o=e.activeSortable,i=e.dispatchSortableEvent,a=e.hideGhostForTarget,s=e.unhideGhostForTarget;if(t){var l=n||o;a();var u=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,c=document.elementFromPoint(u.clientX,u.clientY);s(),l&&!l.el.contains(c)&&(i("spill"),this.onSpill({dragEl:r,putSortable:n}))}};function $m(){}function Xm(){}$m.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var r=Eh(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(t,r):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:Km},Zf($m,{pluginName:"revertOnSpill"}),Xm.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable||this.sortable;n.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),n.animateAll()},drop:Km},Zf(Xm,{pluginName:"removeOnSpill"}),Am.mount(new function(){function e(){for(var e in this.defaults={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?ch(document,"dragover",this._handleAutoScroll):this.options.supportPointer?ch(document,"pointermove",this._handleFallbackAutoScroll):t.touches?ch(document,"touchmove",this._handleFallbackAutoScroll):ch(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?dh(document,"dragover",this._handleAutoScroll):(dh(document,"pointermove",this._handleFallbackAutoScroll),dh(document,"touchmove",this._handleFallbackAutoScroll),dh(document,"mousemove",this._handleFallbackAutoScroll)),qm(),Wm(),clearTimeout(mh),mh=void 0},nulling:function(){Vm=Bm=Lm=Gm=Um=jm=zm=null,Hm.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var n=this,r=(e.touches?e.touches[0]:e).clientX,o=(e.touches?e.touches[0]:e).clientY,i=document.elementFromPoint(r,o);if(Vm=e,t||oh||rh||ah){Ym(e,this.options,i,t);var a=Th(i,!0);!Gm||Um&&r===jm&&o===zm||(Um&&qm(),Um=setInterval((function(){var i=Th(document.elementFromPoint(r,o),!0);i!==a&&(a=i,Wm()),Ym(e,n.options,i,t)}),10),jm=r,zm=o)}else{if(!this.options.bubbleScroll||Th(i,!0)===kh())return void Wm();Ym(e,this.options,Th(i,!1),!1)}}},Zf(e,{pluginName:"scroll",initializeByDefault:!0})}),Am.mount(Xm,$m);class Jm extends React.Component{constructor(e){super(e),this.state={},this.SortContainerRendered=this.SortContainerRendered.bind(this)}SortContainerRendered(e){null!=e&&new Am(e,{handle:".arrowDirection",animation:150,onEnd:t=>{let n=[];e.querySelectorAll(".sortableItem").forEach((e=>{let t=e.getAttribute("data-item-id"),r=this.DataSource.Options.Sort.find((e=>e.Id==t));null!=r&&n.push(r)})),this.DataSource.Options.Sort=n,this.forceUpdate()}})}render(){let e=this.props.Page.DataSources[0];return""==rnBuilderVar.IsPR?React.createElement("p",{style:{textAlign:"center"}},"Sorry sorting rows is only available in the full version"):React.createElement("fieldset",{style:{border:"1px solid #dfdfdf",padding:10,borderRadius:5}},React.createElement("legend",{style:{fontWeight:"bold",marginLeft:2}},React.createElement(t.FontAwesomeIcon,{icon:Vf.faPuzzlePiece})," Parameters"),null==e||null==e.GetForm()?React.createElement("p",{style:{margin:0}},"Please select a form first"):this.GetSortContent())}GetSortContent(){let e=this.props.Page.DataSources[0];return 0==e.Options.Sort.length?React.createElement("div",{style:{textAlign:"center"}},React.createElement("p",{style:{textAlign:"center"}},"No sorting has been defined yet"),React.createElement("button",{onClick:()=>this.CreateSortItem(),className:"rnbtn rnbtn-primary",style:{marginTop:5,display:"inline-flex",alignItems:"center"}},React.createElement(t.FontAwesomeIcon,{icon:Ef.faPlus,style:{marginRight:3}})," Click here to sort the records by a field")):React.createElement("div",null,React.createElement("div",{style:{display:"flex",justifyContent:"center"}},React.createElement("div",{style:{width:20}}),React.createElement("div",{style:{width:10}}," "),React.createElement("div",{style:{fontWeight:"bold",width:200,textAlign:"center",padding:10}},"Field"),React.createElement("div",{style:{width:10}}," "),React.createElement("div",{style:{fontWeight:"bold",width:200,textAlign:"center",padding:10}},"Direction"),React.createElement("div",{style:{width:10}}," "),React.createElement("div",{style:{width:20}}," ")),React.createElement("div",{ref:this.SortContainerRendered},e.Options.Sort.map((t=>React.createElement(Xf,{key:t.Id,DataSource:e,OnRemove:()=>this.Remove(t),SortItem:t})))),React.createElement("div",{style:{textAlign:"center",marginTop:5}},React.createElement("button",{onClick:()=>this.CreateSortItem(),style:{display:"inline-flex",alignItems:"center"},className:"rnbtn rnbtn-primary"},React.createElement(t.FontAwesomeIcon,{icon:Ef.faPlus,style:{marginRight:4}}),"Sort by an additional field")))}get DataSource(){return this.props.Page.DataSources[0]}CreateSortItem(){this.DataSource.Options.Sort.push((new d.SortItemOptions).Merge()),this.forceUpdate()}Remove(e){this.DataSource.Options.Sort.indexOf(e)<0||(this.DataSource.Options.Sort.splice(this.DataSource.Options.Sort.indexOf(e),1),this.forceUpdate())}}Jm.defaultProps={};class Qm extends et{constructor(e){super(e),this.state={IsOpen:!0,IsBusy:!1,TabToOpen:"Filter"}}GetAdditionalProperties(){return{Title:"Template Settings",Icon:React.createElement(t.FontAwesomeIcon,{icon:Fe.faCog}),Styles:{width:900,maxWidth:"80%"},EnableCancel:!1,EnableApply:!0,ApplyTitle:"Done",OnApply:()=>{this.props.PageBuilder.Page.InitializeDataSources(),this.SendResult(!0),this.props.PageBuilder.Refresh()}}}SubRenderer(){return React.createElement(ot,{TabToOpen:this.state.TabToOpen,TabToOpenChanged:e=>this.setState({TabToOpen:e})},React.createElement(ot.Item,{Title:"Filter",Id:"Filter",Icon:React.createElement(t.FontAwesomeIcon,{icon:jf.faFilter})},React.createElement(zf,{DataSource:this.props.PageBuilder.Page.DataSources[0]})),React.createElement(ot.Item,{Title:"Parameters",Id:"Parameters",Icon:React.createElement(t.FontAwesomeIcon,{icon:Vf.faPuzzlePiece})},React.createElement(Yf,{Page:this.props.PageBuilder.Page,GoToFilterTab:()=>{this.setState({TabToOpen:"Filter"})}})),React.createElement(ot.Item,{Title:"Sort",Id:"Sort",Icon:React.createElement(t.FontAwesomeIcon,{icon:Kf.faSortAlphaDown})},React.createElement(Jm,{Page:this.props.PageBuilder.Page})))}}Qm.defaultProps={};class Zm extends React.Component{constructor(e){super(e),this.state={IsBusy:!1}}render(){return React.createElement("div",{style:{height:70,padding:10,display:"flex",backgroundColor:"#fefefe"}},React.createElement("div",{style:{display:"flex",alignItems:"center"}},React.createElement(Ie,{IsBusy:this.state.IsBusy,style:{marginRight:5},OnClick:()=>this.Save()},"Save"),React.createElement("button",{onClick:()=>this.OpenTemplateSettings(),className:"rnbtn rnbtn-primary",style:{display:"flex",alignItems:"center",marginRight:5}},React.createElement(t.FontAwesomeIcon,{style:{marginRight:3},icon:Fe.faCog})," Template Settings"),React.createElement("button",{onClick:e=>this.props.PageBuilder.Preview(e),className:"rnbtn rnbtn-info btnPreview",style:{display:"flex",alignItems:"center"}},React.createElement(t.FontAwesomeIcon,{style:{marginRight:3},icon:Le.faSearch})," Preview")),React.createElement("div",{style:{display:"inline-flex",flexGrow:1,alignItems:"center",margin:"0 10px"}},React.createElement("h4",{style:{fontSize:18,fontWeight:"bold"}},"Editing:"),React.createElement("input",{value:this.props.PageBuilder.Options.Name,onChange:e=>{this.props.PageBuilder.Options.Name=e.target.value,this.forceUpdate()},className:"calculatedFormName",placeholder:"Please define a name for your template",style:{width:400,flexGrow:1,backgroundColor:"transparent",cursor:"pointer",fontSize:30,fontWeight:"bold"}})),React.createElement("a",{href:"",id:"ExitButton",onClick:e=>{e.preventDefault(),window.location.href=rnBuilderVar.TemplateURL},style:{fontSize:30,float:"right",display:"flex",alignItems:"center"}},React.createElement(t.FontAwesomeIcon,{icon:Be.faTimes})))}async Save(){this.setState({IsBusy:!0}),await this.props.PageBuilder.Save(),this.setState({IsBusy:!1})}OpenTemplateSettings(){Ze.Show(React.createElement(Qm,{PageBuilder:this.props.PageBuilder}))}}Zm.defaultProps={};var eg=Ne((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="drafting-compass",r=[],o="f568",i="M457.01 344.42c-25.05 20.33-52.63 37.18-82.54 49.05l54.38 94.19 53.95 23.04c9.81 4.19 20.89-2.21 22.17-12.8l7.02-58.25-54.98-95.23zm42.49-94.56c4.86-7.67 1.89-17.99-6.05-22.39l-28.07-15.57c-7.48-4.15-16.61-1.46-21.26 5.72C403.01 281.15 332.25 320 256 320c-23.93 0-47.23-4.25-69.41-11.53l67.36-116.68c.7.02 1.34.21 2.04.21s1.35-.19 2.04-.21l51.09 88.5c31.23-8.96 59.56-25.75 82.61-48.92l-51.79-89.71C347.39 128.03 352 112.63 352 96c0-53.02-42.98-96-96-96s-96 42.98-96 96c0 16.63 4.61 32.03 12.05 45.66l-68.3 118.31c-12.55-11.61-23.96-24.59-33.68-39-4.79-7.1-13.97-9.62-21.38-5.33l-27.75 16.07c-7.85 4.54-10.63 14.9-5.64 22.47 15.57 23.64 34.69 44.21 55.98 62.02L0 439.66l7.02 58.25c1.28 10.59 12.36 16.99 22.17 12.8l53.95-23.04 70.8-122.63C186.13 377.28 220.62 384 256 384c99.05 0 190.88-51.01 243.5-134.14zM256 64c17.67 0 32 14.33 32 32s-14.33 32-32 32-32-14.33-32-32 14.33-32 32-32z";t.definition={prefix:"fas",iconName:n,icon:[512,512,r,o,i]},t.faDraftingCompass=t.definition,t.prefix="fas",t.iconName=n,t.width=512,t.height=512,t.ligatures=r,t.unicode=o,t.svgPathData=i}));class tg{static SetDragObject(e,t=null){tg.DragObject={Type:e,Object:t}}static IsDraggingType(e){var t;return(null===(t=tg.DragObject)||void 0===t?void 0:t.Type)==e}static GetDragObject(){return tg.DragObject.Object}static RemoveDragObject(){tg.DragObject=null}}class ng{constructor(e){this.Block=e}get Model(){return this.Block.props.Model}DragStart(e){e.stopPropagation(),null!=this.Block.Model.Instance&&(this.ClonedImage=this.Block.Model.Instance.cloneNode(!0),this.ClonedImage.classList.add("Selected"),this.ClonedImage.style.width="200px",this.ClonedImage.style.position="absolute",this.ClonedImage.style.left="0",this.ClonedImage.style.top="-100%",this.ClonedImage.style.zIndex=10,document.body.appendChild(this.ClonedImage),tg.SetDragObject("Field",{Type:this.Model.Options.Type,Id:this.Model.Options.Id}),void 0!==e.dataTransfer.setDragImage&&e.dataTransfer.setDragImage(this.ClonedImage,25,25),c.EventManager.Publish("DragBlockStart"))}DragEnd(e){e.stopPropagation(),c.EventManager.Publish("DragBlockEnd")}DragEnter(e){if(e.stopPropagation(),!tg.IsDraggingType("Field"))return;if(tg.IsDraggingType("Field")&&(e.preventDefault(),c.EventManager.Publish("DragOver",null)),e.preventDefault(),null!=this.LastProcessedPosition&&this.LastProcessedPosition.PageY==e.pageY&&this.LastProcessedPosition.PageX==e.pageX)return;this.LastProcessedPosition={PageX:e.pageX,PageY:e.pageY};let t=this.Model.Page.Ruler;this.Model.Container.IsField?t.style.borderColor="blue":t.style.borderColor="red","none"==t.style.display?(t.style.display="block",t.style.transition=""):t.style.transition="top 200ms ease-in-out,left 200ms ease-in-out,width 200ms ease-in-out,height 200ms ease-in-out";let n=this.GetDragToElement(e);if("none"==n.Position?t.style.display="none":t.style.display="block",null==n.Element)return;if(ng.LastDragHint={Block:n.Element,Position:n.Position},null==t)return;if(null==n)return t.style.display="none",void(t.style.transition="");let r=0,o=n.Element.Instance;for(;!o.classList.contains("rnPage");)r+=o.offsetTop,o=o.parentNode;r=n.Element.Instance.getBoundingClientRect().top-o.getBoundingClientRect().top,"top"!=n.Position&&"bottom"!=n.Position||(t.style.borderTop="2px dashed red",t.style.borderLeftStyle="none",t.style.width=n.Element.Row.Instance.getBoundingClientRect().width+"px",t.style.height="2px",t.style.left=n.Element.Row.Instance.getBoundingClientRect().left-o.getBoundingClientRect().left+"px","top"==n.Position?t.style.top=r-2.5+"px":t.style.top=r+2.5+n.Element.Row.Instance.getBoundingClientRect().height+"px"),"left"!=n.Position&&"right"!=n.Position||(t.style.borderLeft="2px dashed red",t.style.borderTopStyle="none",t.style.top=r+"px",t.style.width="2px",t.style.height=n.Element.Row.Instance.getBoundingClientRect().height+"px","left"==n.Position?t.style.left=n.Element.Instance.getBoundingClientRect().left-o.getBoundingClientRect().left+"px":t.style.left=n.Element.Instance.getBoundingClientRect().left+n.Element.Instance.getBoundingClientRect().width+-o.getBoundingClientRect().left+"px")}GetDragToElement(e){let t,n,r=this.Model.Container.RootContainer.GetBlocks(!0),o=e.pageY,i=e.pageX,a=null;for(let e of r){let r=e.Instance.getBoundingClientRect(),s=r.top+window.scrollY,l=r.left+window.scrollX;if(s<o&&s+r.height+5>o&&l<i&&l+r.width>i){t=e;let a=15;n=l+a>i?"left":i>l+r.width-a?"right":o<s+(r.height+5)/2?"top":"bottom"}a=e}return{PreviousRow:a,Element:t,Position:this.MovementWillBeDone(t,n)?n:"none"}}Drop(e){if(e.stopPropagation(),!tg.IsDraggingType("Field"))return;this.Model.Page.Ruler.style.display="none";let t=tg.GetDragObject().Id,n=ng.LastDragHint;if(null==n)return;let r=null;if(0!=t&&(r=this.Model.Container.RootContainer.GetBlockById(parseInt(t),!0)),0==t||null!=r&&(n.Block!=r||1!=r.Parent.Parent.Columns.length&&"right"!=n.Position&&"left"!=n.Position)){if(null!=r)r.MoveTo(n.Block,n.Position);else{let e=this.Model.RowIndex,t=this.Model.ColIndex;"top"==n.Position||"bottom"==n.Position?this.Model.Container.AddNewBlock(tg.GetDragObject().Type,e+("bottom"==n.Position?1:0),0,!0):this.Model.Container.AddNewBlock(tg.GetDragObject().Type,e,t+("right"==n.Position?1:0),!1)}ng.LastDragHint=null}}MovementWillBeDone(e,t){let n=tg.GetDragObject().Id;if(null==e)return!1;if(e.Options.Id==n){if(("top"==t||"bottom"==t)&&1==this.Model.Row.Columns.length)return!1;if("left"==t||"right"==t)return!1}if("top"==t){let t=0==e.Row.Index?null:e.Container.Rows[e.Row.Index-1];if(null!=t&&1==t.Columns.length&&t.Columns[0].Block.Options.Id==n)return!1}if("bottom"==t){let t=e.Row.Index==e.Container.Rows.length-1?null:e.Container.Rows[e.Row.Index+1];if(null!=t&&1==t.Columns.length&&t.Columns[0].Block.Options.Id==n)return!1}if("left"==t&&e.ColIndex>0){let t=e.Row.Columns[e.ColIndex-1];if(null!=t&&t.Block.Options.Id==n)return!1}if("right"==t&&e.ColIndex<e.Row.Columns.length-1){let t=e.Row.Columns[e.ColIndex+1];if(null!=t&&t.Block.Options.Id==n)return!1}return!0}}ng.LastDragHint=null;class rg extends React.Component{constructor(e){super(e),this.DragCounter=0,this.state={IsDragging:!1,IsHovering:!1}}componentDidMount(){c.EventManager.Subscribe("DragBlockStart",(()=>this.setState({IsDragging:!0})),this),c.EventManager.Subscribe("DragBlockEnd",(()=>{this.setState({IsDragging:!1,IsHovering:!1}),this.DragCounter=0,null!=this.props.Model.Ruler&&(this.props.Model.Ruler.style.display="none")}),this)}componentWillUnmount(){c.EventManager.UnsubscribeEvent("DragBlockStart",this),c.EventManager.UnsubscribeEvent("DragBlockEnd",this)}render(){return React.createElement("div",{className:"DesignerContent "+(this.state.IsDragging?"IsDragging":"")+" "+(this.state.IsHovering?"IsHovering":""),onDragEnter:e=>this.DragEnter(e),onDragOver:e=>this.DragOver(e),onDragLeave:e=>this.DragLeave(e),onDrop:e=>this.Drop(e)},this.props.Model.Render())}DragEnter(e){e.preventDefault(),this.DragCounter++,this.setState({IsHovering:!0})}DragOver(e){e.preventDefault()}DragLeave(e){this.DragCounter--,0==this.DragCounter&&this.setState({IsHovering:!1})}Drop(e){e.preventDefault(),c.EventManager.Publish("DragBlockEnd");let t=tg.GetDragObject().Id,n=0,r=0,o=!0,i=null,a=null;if(null==ng.LastDragHint?this.props.Model.Rows.length>0&&null!=this.props.Model.Rows[0].Instance&&this.props.Model.Rows[0].Instance.getBoundingClientRect().top>e.pageY+window.scrollY?(n=0,i=this.props.Model.Rows[0].Columns[0].Block,a="top"):(n=this.props.Model.Rows.length,this.props.Model.Rows.length>0&&(i=this.props.Model.Rows[this.props.Model.Rows.length-1].Columns[0].Block),a="bottom"):(n=ng.LastDragHint.Block.Row.Index+("bottom"==ng.LastDragHint.Position?1:0),r=ng.LastDragHint.Block.Column.Index,i=ng.LastDragHint.Block,a=ng.LastDragHint.Position,o="top"==ng.LastDragHint.Position||"bottom"==ng.LastDragHint.Position),null==t||0==t)this.props.Model.AddNewBlock(tg.GetDragObject().Type,n,r,o);else{let e=this.props.Model.GetBlockById(t,!0);null!=e&&e.MoveTo(i,a)}ng.LastDragHint=null}}rg.defaultProps={};var og,ig=Ne((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="list",r=[],o="f03a",i="M80 368H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm0-320H16A16 16 0 0 0 0 64v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16V64a16 16 0 0 0-16-16zm0 160H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm416 176H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z";t.definition={prefix:"fas",iconName:n,icon:[512,512,r,o,i]},t.faList=t.definition,t.prefix="fas",t.iconName=n,t.width=512,t.height=512,t.ligatures=r,t.unicode=o,t.svgPathData=i})),ag=[{GroupName:"Standard",Fields:[{Label:"Form Field",Type:"FormField",IsPR:!1,URL:rnBuilderVar.PluginURL+"images/FieldIcons/fields.png"},{Label:"Text",Type:"Text",IsPR:!1,URL:rnBuilderVar.PluginURL+"images/FieldIcons/text.png"},{Label:"Image",Type:"Image",IsPR:!1,URL:rnBuilderVar.PluginURL+"images/FieldIcons/image.png"},{Label:"Navigator",Type:"Navigator",IsPR:!1,URL:rnBuilderVar.PluginURL+"images/FieldIcons/navigate.png"},{Label:"Grid",Type:"Grid",IsPR:!1,URL:rnBuilderVar.PluginURL+"images/FieldIcons/grid.png"}]},{GroupName:"Advanced (Full Version Only)",Fields:[{Label:"Searchable Bar",Type:"SearchBar",IsPR:!0,URL:rnBuilderVar.PluginURL+"images/FieldIcons/search.png"},{Label:"List",Type:"List",IsPR:!0,URL:rnBuilderVar.PluginURL+"images/FieldIcons/list.png"},{Label:"Calendar",Type:"Calendar",IsPR:!0,URL:rnBuilderVar.PluginURL+"images/FieldIcons/calendar.png"},{Label:"Form",Type:"Form",IsPR:!0,URL:rnBuilderVar.PluginURL+"images/FieldIcons/form.png"}]}],sg=Ne((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="chevron-right",r=[],o="f054",i="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z";t.definition={prefix:"fas",iconName:n,icon:[320,512,r,o,i]},t.faChevronRight=t.definition,t.prefix="fas",t.iconName=n,t.width=320,t.height=512,t.ligatures=r,t.unicode=o,t.svgPathData=i}));function lg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ug(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lg(n,!0).forEach((function(t){babelHelpers.defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lg(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Xt.add(sg.faChevronRight);class cg extends React.Component{constructor(e){super(e),this.state={Status:this.props.IsOpen?og.Showed:og.Hidden}}componentWillReceiveProps(e,t){e.IsOpen!=this.props.IsOpen&&(e.IsOpen?this.setState({Status:og.Showing}):this.setState({Status:og.Hiding}))}render(){let e={},t={},r=!0,o={};switch(this.state.Status){case og.Hiding:r=!1,null!=this.accordionContent&&(o={height:this.accordionContent.offsetHeight}),e={height:0,display:"block",overflow:"hidden",paddingTop:0,paddingBottom:0,paddingLeft:this.props.Padding,paddingRight:this.props.Padding},t={transform:"rotate(0deg)"};break;case og.Hidden:e={height:0,display:"none",overflow:"auto",paddingTop:0,paddingBottom:0,paddingLeft:this.props.Padding,paddingRight:this.props.Padding},t={transform:"rotate(0deg)"};break;case og.Showing:r=!1,e={height:"auto",display:"block",overflow:"hidden",paddingTop:this.props.Padding,paddingBottom:this.props.Padding,paddingLeft:this.props.Padding,paddingRight:this.props.Padding},t={transform:"rotate(90deg)"};break;case og.Showed:e={display:"block",overflow:"auto",paddingTop:this.props.Padding,height:"auto",paddingBottom:this.props.Padding,paddingLeft:this.props.Padding,paddingRight:this.props.Padding},t={transform:"rotate(90deg)"}}return React.createElement("div",null,React.createElement("div",{className:"rnAccordionItem",style:ug({display:"flex",alignItems:"center"},this.props.TitleStyle,{position:"relative"}),onClick:e=>{e.preventDefault(),this.ToggleOpen()}},React.createElement("a",{style:{marginLeft:5,fontWeight:"bold"},href:"#"},React.createElement(n.Spring,{immediate:r,config:{precision:.09},to:t},(e=>React.createElement("div",{style:ug({display:"inline-block"},e)},React.createElement(gn,{icon:"chevron-right"})))),React.createElement("div",{style:{marginLeft:3,display:"inline"}},this.props.Title)),null!=this.props.RightSide&&React.createElement("div",{style:{position:"absolute",right:5}},this.props.RightSide)),React.createElement(n.Spring,{immediate:r,from:o,to:e,config:{precision:.09},onRest:e=>this.OnRestReached()},((e,t)=>this.state.Status==og.Hidden?null:React.createElement("div",{ref:e=>{this.accordionContent=e,t(e)},style:ug({},e,{boxSizing:"border-box",height:null==e.height?"auto":e.height,border:"1px solid #dfdfdf"},this.props.ContentStyles),className:"rnAccordionContent"},this.props.children))))}ToggleOpen(){let e=this.state.Status==og.Hidden||this.state.Status==og.Hiding?og.Showing:og.Hiding;We.ExecuteMethodPropIfDefined(this.props.IsOpenChanging,e==og.Showing),this.setState({Status:e})}OnRestReached(){switch(this.state.Status){case og.Showed:We.ExecuteMethodPropIfDefined(this.props.IsOpenChanged,!0);break;case og.Hidden:We.ExecuteMethodPropIfDefined(this.props.IsOpenChanged,!1);break;case og.Hiding:this.setState({Status:og.Hidden});break;case og.Showing:this.setState({Status:og.Showed})}}}cg.defaultProps={IsOpen:!1,Padding:10,RightSide:null},function(e){e[e.Showing=0]="Showing",e[e.Showed=1]="Showed",e[e.Hiding=2]="Hiding",e[e.Hidden=3]="Hidden"}(og||(og={}));class dg extends React.Component{constructor(e){super(e),this.Items=[],this.state={},this.UpdateItems()}componentWillReceiveProps(e,t){this.UpdateItems(React.Children.toArray(e.children))}render(){return React.createElement("div",{className:"rnAccordion"},this.Items.map(((e,t)=>React.createElement(cg,babelHelpers.extends({key:t},e.Item.props,{IsOpen:e.IsOpen,IsOpenChanging:t=>{t&&this.props.OpenOnlyOne&&this.CloseOtherItems(e,t)}})))))}CloseOtherItems(e,t){for(let t of this.Items){if(t.Item==e.Item)continue;t.IsOpen=!1}e.IsOpen=t}UpdateItems(e=null){null==e&&(e=React.Children.toArray(this.props.children)),this.Items=[];for(let t of e)this.Items.push(new pg(t,t.props.IsOpen))}}dg.defaultProps={OpenOnlyOne:!0};class pg{constructor(e,t){this.Item=e,this.IsOpen=t}}class fg extends et{constructor(e){super(e),this.state={IsOpen:!0,IsBusy:!1}}GetAdditionalProperties(){return{Title:"Full version required",EnableApply:!0,EnableCancel:!0,CancelTitle:"Close",ApplyTitle:"Get Full Version",OnApply:()=>{window.open(this.props.URL)}}}SubRenderer(){return this.props.Message}}fg.defaultProps={URL:"http://pagebuilder.rednao.com/get-it/  "};class hg extends React.Component{constructor(e){super(e),this.state={},this.Rendered=this.Rendered.bind(this)}render(){return React.createElement("div",{className:"BlockItem "+this.props.Type,style:{padding:10,display:"flex",alignItems:"center",cursor:"pointer"},ref:this.Rendered,onDragEnd:()=>this.DragEnd(),draggable:!0,onDragStart:e=>this.DragStart(e),onDoubleClick:e=>this.DoubleClick(),onClick:e=>this.Click()},React.createElement("img",{alt:this.props.Label,src:this.props.ImageURL}),React.createElement("label",{style:{fontWeight:"bold",marginLeft:10}},this.props.Label))}DoubleClick(){this.props.IsPR&&""==rnBuilderVar.IsPR?Ze.Show(React.createElement(fg,{Message:"This field is only available in the full version"})):this.props.Model.AddNewBlock(this.props.Type,this.props.Model.Rows.length)}Click(){}DragStart(e){if(c.EventManager.Publish("DragBlockStart"),null==e.dataTransfer||null==e.dataTransfer.setDragImage||null==this.Container)return;if(this.props.IsPR&&""==rnBuilderVar.IsPR)return void Ze.Show(React.createElement(fg,{Message:"This field is only available in the full version"}));let t=this.Container.cloneNode(!0);t.style.backgroundColor="white",t.style.opacity="1",t.style.position="absolute",t.style.zIndex="1",t.style.top="0",t.style.width="auto",t.style.paddingLeft="25px",t.style.paddingRight="25px",document.body.appendChild(t),e.dataTransfer.setDragImage(t,t.getBoundingClientRect().width/2,41),this.DragHint=t,tg.SetDragObject("Field",{Type:this.props.Type,Id:0})}Rendered(e){null!=e&&(this.Container=e)}DragEnd(){null!=this.DragHint&&this.DragHint.remove(),tg.RemoveDragObject(),c.EventManager.Publish("DragBlockEnd")}}hg.defaultProps={};class mg extends React.Component{constructor(e){super(e),this.state={}}componentDidMount(){c.EventManager.Subscribe("RefreshFieldProperties",(()=>this.forceUpdate()),this)}componentWillUnmount(){c.EventManager.UnsubscribeEvent("RefreshFieldProperties",this)}render(){return null==this.props.Model.SelectedBlock?React.createElement("div",{style:{padding:10}},React.createElement("h2",{style:{margin:0,padding:0}},"Select a block first")):this.props.Model.SelectedBlock.GetProperties().Render()}}mg.defaultProps={};class gg extends React.Component{constructor(e){super(e),this.state={CurrentTab:"Blocks"}}componentDidMount(){this.props.Model.OnSelectedBlock.Subscribe(this,(()=>{this.setState({CurrentTab:"Settings"})}))}componentWillUnmount(){this.props.Model.OnSelectedBlock.Unsubscribe(this)}render(){return React.createElement("div",{className:"FormBuilder",style:{backgroundColor:"#eaeaea",border:"solid #afafaf 1px",borderTop:"none",width:500,display:"inline-block",position:"relative",height:"calc(100%)",verticalAlign:"top"}},React.createElement("div",{style:{width:500,display:"inline-block",verticalAlign:"top",backgroundColor:"#efefef",height:"100%"}},React.createElement(ot,{TabToOpen:this.state.CurrentTab,TabToOpenChanged:e=>this.setState({CurrentTab:e}),styles:{height:"100%",marginTop:5},OccupyAvailableSpace:!0},React.createElement(ot.Item,{Title:"Blocks",Icon:React.createElement(t.FontAwesomeIcon,{icon:ig.faList}),Id:"Blocks",style:{padding:0}},React.createElement(dg,null,ag.map((e=>React.createElement(cg,{Padding:0,Title:e.GroupName,key:e.GroupName,IsOpen:!0,ContentStyles:{padding:0}},e.Fields.map((e=>React.createElement(hg,{Model:this.props.Model,Label:e.Label,ImageURL:e.URL,Type:e.Type,IsPR:e.IsPR})))))))),React.createElement(ot.Item,{Title:"Settings",Icon:React.createElement(t.FontAwesomeIcon,{icon:Fe.faCog}),Id:"Settings",style:{backgroundColor:"white",margin:0,padding:0}},React.createElement(mg,{Model:this.props.Model})))))}}gg.defaultProps={};class vg extends React.Component{constructor(e){super(e),this.state={}}render(){return React.createElement("div",{style:{backgroundColor:"#eaeaea",border:"solid #afafaf 1px",borderTop:"none",position:"relative",width:"100%",height:"100%"}},React.createElement(gg,{Model:this.props.PageBuilderModel.Page}),React.createElement(rg,{Model:this.props.PageBuilderModel.Page}))}}vg.defaultProps={};var yg=Ne((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="paint-brush",r=[],o="f1fc",i="M167.02 309.34c-40.12 2.58-76.53 17.86-97.19 72.3-2.35 6.21-8 9.98-14.59 9.98-11.11 0-45.46-27.67-55.25-34.35C0 439.62 37.93 512 128 512c75.86 0 128-43.77 128-120.19 0-3.11-.65-6.08-.97-9.13l-88.01-73.34zM457.89 0c-15.16 0-29.37 6.71-40.21 16.45C213.27 199.05 192 203.34 192 257.09c0 13.7 3.25 26.76 8.73 38.7l63.82 53.18c7.21 1.8 14.64 3.03 22.39 3.03 62.11 0 98.11-45.47 211.16-256.46 7.38-14.35 13.9-29.85 13.9-45.99C512 20.64 486 0 457.89 0z";t.definition={prefix:"fas",iconName:n,icon:[512,512,r,o,i]},t.faPaintBrush=t.definition,t.prefix="fas",t.iconName=n,t.width=512,t.height=512,t.ligatures=r,t.unicode=o,t.svgPathData=i})),bg=Ne((function(e,t){e.exports=function(){var e=navigator.userAgent,t=navigator.platform,n=/gecko\/\d/i.test(e),r=/MSIE \d/.test(e),o=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(e),i=/Edge\/(\d+)/.exec(e),a=r||o||i,s=a&&(r?document.documentMode||6:+(i||o)[1]),l=!i&&/WebKit\//.test(e),u=l&&/Qt\/\d+\.\d+/.test(e),c=!i&&/Chrome\//.test(e),d=/Opera\//.test(e),p=/Apple Computer/.test(navigator.vendor),f=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(e),h=/PhantomJS/.test(e),m=!i&&/AppleWebKit/.test(e)&&/Mobile\/\w+/.test(e),g=/Android/.test(e),v=m||g||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(e),y=m||/Mac/.test(t),b=/\bCrOS\b/.test(e),w=/win/i.test(t),k=d&&e.match(/Version\/(\d*\.\d*)/);k&&(k=Number(k[1])),k&&k>=15&&(d=!1,l=!0);var C=y&&(u||d&&(null==k||k<12.11)),x=n||a&&s>=9;function E(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var S,_=function(e,t){var n=e.className,r=E(t).exec(n);if(r){var o=n.slice(r.index+r[0].length);e.className=n.slice(0,r.index)+(o?r[1]+o:"")}};function O(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function T(e,t){return O(e).appendChild(t)}function R(e,t,n,r){var o=document.createElement(e);if(n&&(o.className=n),r&&(o.style.cssText=r),"string"==typeof t)o.appendChild(document.createTextNode(t));else if(t)for(var i=0;i<t.length;++i)o.appendChild(t[i]);return o}function A(e,t,n,r){var o=R(e,t,n,r);return o.setAttribute("role","presentation"),o}function N(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)}function D(){var e;try{e=document.activeElement}catch(t){e=document.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function P(e,t){var n=e.className;E(t).test(n)||(e.className+=(n?" ":"")+t)}function M(e,t){for(var n=e.split(" "),r=0;r<n.length;r++)n[r]&&!E(n[r]).test(t)&&(t+=" "+n[r]);return t}S=document.createRange?function(e,t,n,r){var o=document.createRange();return o.setEnd(r||e,n),o.setStart(e,t),o}:function(e,t,n){var r=document.body.createTextRange();try{r.moveToElementText(e.parentNode)}catch(e){return r}return r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",t),r};var I=function(e){e.select()};function F(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function L(e,t,n){for(var r in t||(t={}),e)!e.hasOwnProperty(r)||!1===n&&t.hasOwnProperty(r)||(t[r]=e[r]);return t}function B(e,t,n,r,o){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);for(var i=r||0,a=o||0;;){var s=e.indexOf("\t",i);if(s<0||s>=t)return a+(t-i);a+=s-i,a+=n-a%n,i=s+1}}m?I=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:a&&(I=function(e){try{e.select()}catch(e){}});var j=function(){this.id=null};function z(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}j.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)};var V=30,U={toString:function(){return"CodeMirror.Pass"}},H={scroll:!1},G={origin:"*mouse"},W={origin:"+move"};function q(e,t,n){for(var r=0,o=0;;){var i=e.indexOf("\t",r);-1==i&&(i=e.length);var a=i-r;if(i==e.length||o+a>=t)return r+Math.min(a,t-o);if(o+=i-r,r=i+1,(o+=n-o%n)>=t)return r}}var Y=[""];function K(e){for(;Y.length<=e;)Y.push($(Y)+" ");return Y[e]}function $(e){return e[e.length-1]}function X(e,t){for(var n=[],r=0;r<e.length;r++)n[r]=t(e[r],r);return n}function J(e,t,n){for(var r=0,o=n(t);r<e.length&&n(e[r])<=o;)r++;e.splice(r,0,t)}function Q(){}function Z(e,t){var n;return Object.create?n=Object.create(e):(Q.prototype=e,n=new Q),t&&L(t,n),n}var ee=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function te(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||ee.test(e))}function ne(e,t){return t?!!(t.source.indexOf("\\w")>-1&&te(e))||t.test(e):te(e)}function re(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}var oe=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function ie(e){return e.charCodeAt(0)>=768&&oe.test(e)}function ae(e,t,n){for(;(n<0?t>0:t<e.length)&&ie(e.charAt(t));)t+=n;return t}function se(e,t,n){for(var r=t>n?-1:1;;){if(t==n)return t;var o=(t+n)/2,i=r<0?Math.ceil(o):Math.floor(o);if(i==t)return e(i)?t:n;e(i)?n=i:t=i+r}}function le(e,t,n,r){if(!e)return r(t,n,"ltr",0);for(var o=!1,i=0;i<e.length;++i){var a=e[i];(a.from<n&&a.to>t||t==n&&a.to==t)&&(r(Math.max(a.from,t),Math.min(a.to,n),1==a.level?"rtl":"ltr",i),o=!0)}o||r(t,n,"ltr")}var ue=null;function ce(e,t,n){var r;ue=null;for(var o=0;o<e.length;++o){var i=e[o];if(i.from<t&&i.to>t)return o;i.to==t&&(i.from!=i.to&&"before"==n?r=o:ue=o),i.from==t&&(i.from!=i.to&&"before"!=n?r=o:ue=o)}return null!=r?r:ue}var de=function(){var e="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",t="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function n(n){return n<=247?e.charAt(n):1424<=n&&n<=1524?"R":1536<=n&&n<=1785?t.charAt(n-1536):1774<=n&&n<=2220?"r":8192<=n&&n<=8203?"w":8204==n?"b":"L"}var r=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,o=/[stwN]/,i=/[LRr]/,a=/[Lb1n]/,s=/[1n]/;function l(e,t,n){this.level=e,this.from=t,this.to=n}return function(e,t){var u="ltr"==t?"L":"R";if(0==e.length||"ltr"==t&&!r.test(e))return!1;for(var c=e.length,d=[],p=0;p<c;++p)d.push(n(e.charCodeAt(p)));for(var f=0,h=u;f<c;++f){var m=d[f];"m"==m?d[f]=h:h=m}for(var g=0,v=u;g<c;++g){var y=d[g];"1"==y&&"r"==v?d[g]="n":i.test(y)&&(v=y,"r"==y&&(d[g]="R"))}for(var b=1,w=d[0];b<c-1;++b){var k=d[b];"+"==k&&"1"==w&&"1"==d[b+1]?d[b]="1":","!=k||w!=d[b+1]||"1"!=w&&"n"!=w||(d[b]=w),w=k}for(var C=0;C<c;++C){var x=d[C];if(","==x)d[C]="N";else if("%"==x){var E=void 0;for(E=C+1;E<c&&"%"==d[E];++E);for(var S=C&&"!"==d[C-1]||E<c&&"1"==d[E]?"1":"N",_=C;_<E;++_)d[_]=S;C=E-1}}for(var O=0,T=u;O<c;++O){var R=d[O];"L"==T&&"1"==R?d[O]="L":i.test(R)&&(T=R)}for(var A=0;A<c;++A)if(o.test(d[A])){var N=void 0;for(N=A+1;N<c&&o.test(d[N]);++N);for(var D="L"==(A?d[A-1]:u),P=D==("L"==(N<c?d[N]:u))?D?"L":"R":u,M=A;M<N;++M)d[M]=P;A=N-1}for(var I,F=[],L=0;L<c;)if(a.test(d[L])){var B=L;for(++L;L<c&&a.test(d[L]);++L);F.push(new l(0,B,L))}else{var j=L,z=F.length;for(++L;L<c&&"L"!=d[L];++L);for(var V=j;V<L;)if(s.test(d[V])){j<V&&F.splice(z,0,new l(1,j,V));var U=V;for(++V;V<L&&s.test(d[V]);++V);F.splice(z,0,new l(2,U,V)),j=V}else++V;j<L&&F.splice(z,0,new l(1,j,L))}return"ltr"==t&&(1==F[0].level&&(I=e.match(/^\s+/))&&(F[0].from=I[0].length,F.unshift(new l(0,0,I[0].length))),1==$(F).level&&(I=e.match(/\s+$/))&&($(F).to-=I[0].length,F.push(new l(0,c-I[0].length,c)))),"rtl"==t?F.reverse():F}}();function pe(e,t){var n=e.order;return null==n&&(n=e.order=de(e.text,t)),n}var fe=[],he=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var r=e._handlers||(e._handlers={});r[t]=(r[t]||fe).concat(n)}};function me(e,t){return e._handlers&&e._handlers[t]||fe}function ge(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else{var r=e._handlers,o=r&&r[t];if(o){var i=z(o,n);i>-1&&(r[t]=o.slice(0,i).concat(o.slice(i+1)))}}}function ve(e,t){var n=me(e,t);if(n.length)for(var r=Array.prototype.slice.call(arguments,2),o=0;o<n.length;++o)n[o].apply(null,r)}function ye(e,t,n){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),ve(e,n||t.type,e,t),Ee(t)||t.codemirrorIgnore}function be(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),r=0;r<t.length;++r)-1==z(n,t[r])&&n.push(t[r])}function we(e,t){return me(e,t).length>0}function ke(e){e.prototype.on=function(e,t){he(this,e,t)},e.prototype.off=function(e,t){ge(this,e,t)}}function Ce(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function xe(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function Ee(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function Se(e){Ce(e),xe(e)}function _e(e){return e.target||e.srcElement}function Oe(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),y&&e.ctrlKey&&1==t&&(t=3),t}var Te,Re,Ae=function(){if(a&&s<9)return!1;var e=R("div");return"draggable"in e||"dragDrop"in e}();function Ne(e){if(null==Te){var t=R("span","​");T(e,R("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Te=t.offsetWidth<=1&&t.offsetHeight>2&&!(a&&s<8))}var n=Te?R("span","​"):R("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}function De(e){if(null!=Re)return Re;var t=T(e,document.createTextNode("AخA")),n=S(t,0,1).getBoundingClientRect(),r=S(t,1,2).getBoundingClientRect();return O(e),!(!n||n.left==n.right)&&(Re=r.right-n.right<3)}var Pe,Me=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,n=[],r=e.length;t<=r;){var o=e.indexOf("\n",t);-1==o&&(o=e.length);var i=e.slice(t,"\r"==e.charAt(o-1)?o-1:o),a=i.indexOf("\r");-1!=a?(n.push(i.slice(0,a)),t+=a+1):(n.push(i),t=o+1)}return n}:function(e){return e.split(/\r\n?|\n/)},Ie=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(e){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(e){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},Fe="oncopy"in(Pe=R("div"))||(Pe.setAttribute("oncopy","return;"),"function"==typeof Pe.oncopy),Le=null;function Be(e){if(null!=Le)return Le;var t=T(e,R("span","x")),n=t.getBoundingClientRect(),r=S(t,0,1).getBoundingClientRect();return Le=Math.abs(n.left-r.left)>1}var je={},ze={};function Ve(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),je[e]=t}function Ue(e,t){ze[e]=t}function He(e){if("string"==typeof e&&ze.hasOwnProperty(e))e=ze[e];else if(e&&"string"==typeof e.name&&ze.hasOwnProperty(e.name)){var t=ze[e.name];"string"==typeof t&&(t={name:t}),(e=Z(t,e)).name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return He("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return He("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function Ge(e,t){t=He(t);var n=je[t.name];if(!n)return Ge(e,"text/plain");var r=n(e,t);if(We.hasOwnProperty(t.name)){var o=We[t.name];for(var i in o)o.hasOwnProperty(i)&&(r.hasOwnProperty(i)&&(r["_"+i]=r[i]),r[i]=o[i])}if(r.name=t.name,t.helperType&&(r.helperType=t.helperType),t.modeProps)for(var a in t.modeProps)r[a]=t.modeProps[a];return r}var We={};function qe(e,t){L(t,We.hasOwnProperty(e)?We[e]:We[e]={})}function Ye(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var n={};for(var r in t){var o=t[r];o instanceof Array&&(o=o.concat([])),n[r]=o}return n}function Ke(e,t){for(var n;e.innerMode&&(n=e.innerMode(t))&&n.mode!=e;)t=n.state,e=n.mode;return n||{mode:e,state:t}}function $e(e,t,n){return!e.startState||e.startState(t,n)}var Xe=function(e,t,n){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=n};function Je(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var n=e;!n.lines;)for(var r=0;;++r){var o=n.children[r],i=o.chunkSize();if(t<i){n=o;break}t-=i}return n.lines[t]}function Qe(e,t,n){var r=[],o=t.line;return e.iter(t.line,n.line+1,(function(e){var i=e.text;o==n.line&&(i=i.slice(0,n.ch)),o==t.line&&(i=i.slice(t.ch)),r.push(i),++o})),r}function Ze(e,t,n){var r=[];return e.iter(t,n,(function(e){r.push(e.text)})),r}function et(e,t){var n=t-e.height;if(n)for(var r=e;r;r=r.parent)r.height+=n}function tt(e){if(null==e.parent)return null;for(var t=e.parent,n=z(t.lines,e),r=t.parent;r;t=r,r=r.parent)for(var o=0;r.children[o]!=t;++o)n+=r.children[o].chunkSize();return n+t.first}function nt(e,t){var n=e.first;e:do{for(var r=0;r<e.children.length;++r){var o=e.children[r],i=o.height;if(t<i){e=o;continue e}t-=i,n+=o.chunkSize()}return n}while(!e.lines);for(var a=0;a<e.lines.length;++a){var s=e.lines[a].height;if(t<s)break;t-=s}return n+a}function rt(e,t){return t>=e.first&&t<e.first+e.size}function ot(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function it(e,t,n){if(void 0===n&&(n=null),!(this instanceof it))return new it(e,t,n);this.line=e,this.ch=t,this.sticky=n}function at(e,t){return e.line-t.line||e.ch-t.ch}function st(e,t){return e.sticky==t.sticky&&0==at(e,t)}function lt(e){return it(e.line,e.ch)}function ut(e,t){return at(e,t)<0?t:e}function ct(e,t){return at(e,t)<0?e:t}function dt(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function pt(e,t){if(t.line<e.first)return it(e.first,0);var n=e.first+e.size-1;return t.line>n?it(n,Je(e,n).text.length):ft(t,Je(e,t.line).text.length)}function ft(e,t){var n=e.ch;return null==n||n>t?it(e.line,t):n<0?it(e.line,0):e}function ht(e,t){for(var n=[],r=0;r<t.length;r++)n[r]=pt(e,t[r]);return n}Xe.prototype.eol=function(){return this.pos>=this.string.length},Xe.prototype.sol=function(){return this.pos==this.lineStart},Xe.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Xe.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Xe.prototype.eat=function(e){var t=this.string.charAt(this.pos);if("string"==typeof e?t==e:t&&(e.test?e.test(t):e(t)))return++this.pos,t},Xe.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},Xe.prototype.eatSpace=function(){for(var e=this,t=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++e.pos;return this.pos>t},Xe.prototype.skipToEnd=function(){this.pos=this.string.length},Xe.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},Xe.prototype.backUp=function(e){this.pos-=e},Xe.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=B(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?B(this.string,this.lineStart,this.tabSize):0)},Xe.prototype.indentation=function(){return B(this.string,null,this.tabSize)-(this.lineStart?B(this.string,this.lineStart,this.tabSize):0)},Xe.prototype.match=function(e,t,n){if("string"!=typeof e){var r=this.string.slice(this.pos).match(e);return r&&r.index>0?null:(r&&!1!==t&&(this.pos+=r[0].length),r)}var o=function(e){return n?e.toLowerCase():e};if(o(this.string.substr(this.pos,e.length))==o(e))return!1!==t&&(this.pos+=e.length),!0},Xe.prototype.current=function(){return this.string.slice(this.start,this.pos)},Xe.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},Xe.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},Xe.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var mt=function(e,t){this.state=e,this.lookAhead=t},gt=function(e,t,n,r){this.state=t,this.doc=e,this.line=n,this.maxLookAhead=r||0,this.baseTokens=null,this.baseTokenPos=1};function vt(e,t,n,r){var o=[e.state.modeGen],i={};_t(e,t.text,e.doc.mode,n,(function(e,t){return o.push(e,t)}),i,r);for(var a=n.state,s=function(r){n.baseTokens=o;var s=e.state.overlays[r],l=1,u=0;n.state=!0,_t(e,t.text,s.mode,n,(function(e,t){for(var n=l;u<e;){var r=o[l];r>e&&o.splice(l,1,e,o[l+1],r),l+=2,u=Math.min(e,r)}if(t)if(s.opaque)o.splice(n,l-n,e,"overlay "+t),l=n+2;else for(;n<l;n+=2){var i=o[n+1];o[n+1]=(i?i+" ":"")+"overlay "+t}}),i),n.state=a,n.baseTokens=null,n.baseTokenPos=1},l=0;l<e.state.overlays.length;++l)s(l);return{styles:o,classes:i.bgClass||i.textClass?i:null}}function yt(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var r=bt(e,tt(t)),o=t.text.length>e.options.maxHighlightLength&&Ye(e.doc.mode,r.state),i=vt(e,t,r);o&&(r.state=o),t.stateAfter=r.save(!o),t.styles=i.styles,i.classes?t.styleClasses=i.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function bt(e,t,n){var r=e.doc,o=e.display;if(!r.mode.startState)return new gt(r,!0,t);var i=Ot(e,t,n),a=i>r.first&&Je(r,i-1).stateAfter,s=a?gt.fromSaved(r,a,i):new gt(r,$e(r.mode),i);return r.iter(i,t,(function(n){wt(e,n.text,s);var r=s.line;n.stateAfter=r==t-1||r%5==0||r>=o.viewFrom&&r<o.viewTo?s.save():null,s.nextLine()})),n&&(r.modeFrontier=s.line),s}function wt(e,t,n,r){var o=e.doc.mode,i=new Xe(t,e.options.tabSize,n);for(i.start=i.pos=r||0,""==t&&kt(o,n.state);!i.eol();)Ct(o,i,n.state),i.start=i.pos}function kt(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var n=Ke(e,t);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function Ct(e,t,n,r){for(var o=0;o<10;o++){r&&(r[0]=Ke(e,n).mode);var i=e.token(t,n);if(t.pos>t.start)return i}throw new Error("Mode "+e.name+" failed to advance stream.")}gt.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},gt.prototype.baseToken=function(e){var t=this;if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)t.baseTokenPos+=2;var n=this.baseTokens[this.baseTokenPos+1];return{type:n&&n.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},gt.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},gt.fromSaved=function(e,t,n){return t instanceof mt?new gt(e,Ye(e.mode,t.state),n,t.lookAhead):new gt(e,Ye(e.mode,t),n)},gt.prototype.save=function(e){var t=!1!==e?Ye(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new mt(t,this.maxLookAhead):t};var xt=function(e,t,n){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=n};function Et(e,t,n,r){var o,i,a=e.doc,s=a.mode,l=Je(a,(t=pt(a,t)).line),u=bt(e,t.line,n),c=new Xe(l.text,e.options.tabSize,u);for(r&&(i=[]);(r||c.pos<t.ch)&&!c.eol();)c.start=c.pos,o=Ct(s,c,u.state),r&&i.push(new xt(c,o,Ye(a.mode,u.state)));return r?i:new xt(c,o,u.state)}function St(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var r=n[1]?"bgClass":"textClass";null==t[r]?t[r]=n[2]:new RegExp("(?:^|s)"+n[2]+"(?:$|s)").test(t[r])||(t[r]+=" "+n[2])}return e}function _t(e,t,n,r,o,i,a){var s=n.flattenSpans;null==s&&(s=e.options.flattenSpans);var l,u=0,c=null,d=new Xe(t,e.options.tabSize,r),p=e.options.addModeClass&&[null];for(""==t&&St(kt(n,r.state),i);!d.eol();){if(d.pos>e.options.maxHighlightLength?(s=!1,a&&wt(e,t,r,d.pos),d.pos=t.length,l=null):l=St(Ct(n,d,r.state,p),i),p){var f=p[0].name;f&&(l="m-"+(l?f+" "+l:f))}if(!s||c!=l){for(;u<d.start;)o(u=Math.min(d.start,u+5e3),c);c=l}d.start=d.pos}for(;u<d.pos;){var h=Math.min(d.pos,u+5e3);o(h,c),u=h}}function Ot(e,t,n){for(var r,o,i=e.doc,a=n?-1:t-(e.doc.mode.innerMode?1e3:100),s=t;s>a;--s){if(s<=i.first)return i.first;var l=Je(i,s-1),u=l.stateAfter;if(u&&(!n||s+(u instanceof mt?u.lookAhead:0)<=i.modeFrontier))return s;var c=B(l.text,null,e.options.tabSize);(null==o||r>c)&&(o=s-1,r=c)}return o}function Tt(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var n=e.first,r=t-1;r>n;r--){var o=Je(e,r).stateAfter;if(o&&(!(o instanceof mt)||r+o.lookAhead<t)){n=r+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,n)}}var Rt=!1,At=!1;function Nt(){Rt=!0}function Dt(){At=!0}function Pt(e,t,n){this.marker=e,this.from=t,this.to=n}function Mt(e,t){if(e)for(var n=0;n<e.length;++n){var r=e[n];if(r.marker==t)return r}}function It(e,t){for(var n,r=0;r<e.length;++r)e[r]!=t&&(n||(n=[])).push(e[r]);return n}function Ft(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}function Lt(e,t,n){var r;if(e)for(var o=0;o<e.length;++o){var i=e[o],a=i.marker;if(null==i.from||(a.inclusiveLeft?i.from<=t:i.from<t)||i.from==t&&"bookmark"==a.type&&(!n||!i.marker.insertLeft)){var s=null==i.to||(a.inclusiveRight?i.to>=t:i.to>t);(r||(r=[])).push(new Pt(a,i.from,s?null:i.to))}}return r}function Bt(e,t,n){var r;if(e)for(var o=0;o<e.length;++o){var i=e[o],a=i.marker;if(null==i.to||(a.inclusiveRight?i.to>=t:i.to>t)||i.from==t&&"bookmark"==a.type&&(!n||i.marker.insertLeft)){var s=null==i.from||(a.inclusiveLeft?i.from<=t:i.from<t);(r||(r=[])).push(new Pt(a,s?null:i.from-t,null==i.to?null:i.to-t))}}return r}function jt(e,t){if(t.full)return null;var n=rt(e,t.from.line)&&Je(e,t.from.line).markedSpans,r=rt(e,t.to.line)&&Je(e,t.to.line).markedSpans;if(!n&&!r)return null;var o=t.from.ch,i=t.to.ch,a=0==at(t.from,t.to),s=Lt(n,o,a),l=Bt(r,i,a),u=1==t.text.length,c=$(t.text).length+(u?o:0);if(s)for(var d=0;d<s.length;++d){var p=s[d];if(null==p.to){var f=Mt(l,p.marker);f?u&&(p.to=null==f.to?null:f.to+c):p.to=o}}if(l)for(var h=0;h<l.length;++h){var m=l[h];null!=m.to&&(m.to+=c),null==m.from?Mt(s,m.marker)||(m.from=c,u&&(s||(s=[])).push(m)):(m.from+=c,u&&(s||(s=[])).push(m))}s&&(s=zt(s)),l&&l!=s&&(l=zt(l));var g=[s];if(!u){var v,y=t.text.length-2;if(y>0&&s)for(var b=0;b<s.length;++b)null==s[b].to&&(v||(v=[])).push(new Pt(s[b].marker,null,null));for(var w=0;w<y;++w)g.push(v);g.push(l)}return g}function zt(e){for(var t=0;t<e.length;++t){var n=e[t];null!=n.from&&n.from==n.to&&!1!==n.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function Vt(e,t,n){var r=null;if(e.iter(t.line,n.line+1,(function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;!n.readOnly||r&&-1!=z(r,n)||(r||(r=[])).push(n)}})),!r)return null;for(var o=[{from:t,to:n}],i=0;i<r.length;++i)for(var a=r[i],s=a.find(0),l=0;l<o.length;++l){var u=o[l];if(!(at(u.to,s.from)<0||at(u.from,s.to)>0)){var c=[l,1],d=at(u.from,s.from),p=at(u.to,s.to);(d<0||!a.inclusiveLeft&&!d)&&c.push({from:u.from,to:s.from}),(p>0||!a.inclusiveRight&&!p)&&c.push({from:s.to,to:u.to}),o.splice.apply(o,c),l+=c.length-3}}return o}function Ut(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function Ht(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function Gt(e){return e.inclusiveLeft?-1:0}function Wt(e){return e.inclusiveRight?1:0}function qt(e,t){var n=e.lines.length-t.lines.length;if(0!=n)return n;var r=e.find(),o=t.find(),i=at(r.from,o.from)||Gt(e)-Gt(t);if(i)return-i;var a=at(r.to,o.to)||Wt(e)-Wt(t);return a||t.id-e.id}function Yt(e,t){var n,r=At&&e.markedSpans;if(r)for(var o=void 0,i=0;i<r.length;++i)(o=r[i]).marker.collapsed&&null==(t?o.from:o.to)&&(!n||qt(n,o.marker)<0)&&(n=o.marker);return n}function Kt(e){return Yt(e,!0)}function $t(e){return Yt(e,!1)}function Xt(e,t){var n,r=At&&e.markedSpans;if(r)for(var o=0;o<r.length;++o){var i=r[o];i.marker.collapsed&&(null==i.from||i.from<t)&&(null==i.to||i.to>t)&&(!n||qt(n,i.marker)<0)&&(n=i.marker)}return n}function Jt(e,t,n,r,o){var i=Je(e,t),a=At&&i.markedSpans;if(a)for(var s=0;s<a.length;++s){var l=a[s];if(l.marker.collapsed){var u=l.marker.find(0),c=at(u.from,n)||Gt(l.marker)-Gt(o),d=at(u.to,r)||Wt(l.marker)-Wt(o);if(!(c>=0&&d<=0||c<=0&&d>=0)&&(c<=0&&(l.marker.inclusiveRight&&o.inclusiveLeft?at(u.to,n)>=0:at(u.to,n)>0)||c>=0&&(l.marker.inclusiveRight&&o.inclusiveLeft?at(u.from,r)<=0:at(u.from,r)<0)))return!0}}}function Qt(e){for(var t;t=Kt(e);)e=t.find(-1,!0).line;return e}function Zt(e){for(var t;t=$t(e);)e=t.find(1,!0).line;return e}function en(e){for(var t,n;t=$t(e);)e=t.find(1,!0).line,(n||(n=[])).push(e);return n}function tn(e,t){var n=Je(e,t),r=Qt(n);return n==r?t:tt(r)}function nn(e,t){if(t>e.lastLine())return t;var n,r=Je(e,t);if(!rn(e,r))return t;for(;n=$t(r);)r=n.find(1,!0).line;return tt(r)+1}function rn(e,t){var n=At&&t.markedSpans;if(n)for(var r=void 0,o=0;o<n.length;++o)if((r=n[o]).marker.collapsed){if(null==r.from)return!0;if(!r.marker.widgetNode&&0==r.from&&r.marker.inclusiveLeft&&on(e,t,r))return!0}}function on(e,t,n){if(null==n.to){var r=n.marker.find(1,!0);return on(e,r.line,Mt(r.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var o=void 0,i=0;i<t.markedSpans.length;++i)if((o=t.markedSpans[i]).marker.collapsed&&!o.marker.widgetNode&&o.from==n.to&&(null==o.to||o.to!=n.from)&&(o.marker.inclusiveLeft||n.marker.inclusiveRight)&&on(e,t,o))return!0}function an(e){for(var t=0,n=(e=Qt(e)).parent,r=0;r<n.lines.length;++r){var o=n.lines[r];if(o==e)break;t+=o.height}for(var i=n.parent;i;i=(n=i).parent)for(var a=0;a<i.children.length;++a){var s=i.children[a];if(s==n)break;t+=s.height}return t}function sn(e){if(0==e.height)return 0;for(var t,n=e.text.length,r=e;t=Kt(r);){var o=t.find(0,!0);r=o.from.line,n+=o.from.ch-o.to.ch}for(r=e;t=$t(r);){var i=t.find(0,!0);n-=r.text.length-i.from.ch,n+=(r=i.to.line).text.length-i.to.ch}return n}function ln(e){var t=e.display,n=e.doc;t.maxLine=Je(n,n.first),t.maxLineLength=sn(t.maxLine),t.maxLineChanged=!0,n.iter((function(e){var n=sn(e);n>t.maxLineLength&&(t.maxLineLength=n,t.maxLine=e)}))}var un=function(e,t,n){this.text=e,Ht(this,t),this.height=n?n(this):1};function cn(e,t,n,r){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),Ut(e),Ht(e,n);var o=r?r(e):1;o!=e.height&&et(e,o)}function dn(e){e.parent=null,Ut(e)}un.prototype.lineNo=function(){return tt(this)},ke(un);var pn={},fn={};function hn(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?fn:pn;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function mn(e,t){var n=A("span",null,null,l?"padding-right: .1px":null),r={pre:A("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};t.measure={};for(var o=0;o<=(t.rest?t.rest.length:0);o++){var i=o?t.rest[o-1]:t.line,a=void 0;r.pos=0,r.addToken=vn,De(e.display.measure)&&(a=pe(i,e.doc.direction))&&(r.addToken=bn(r.addToken,a)),r.map=[],kn(i,r,yt(e,i,t!=e.display.externalMeasured&&tt(i))),i.styleClasses&&(i.styleClasses.bgClass&&(r.bgClass=M(i.styleClasses.bgClass,r.bgClass||"")),i.styleClasses.textClass&&(r.textClass=M(i.styleClasses.textClass,r.textClass||""))),0==r.map.length&&r.map.push(0,0,r.content.appendChild(Ne(e.display.measure))),0==o?(t.measure.map=r.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(r.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(l){var s=r.content.lastChild;(/\bcm-tab\b/.test(s.className)||s.querySelector&&s.querySelector(".cm-tab"))&&(r.content.className="cm-tab-wrap-hack")}return ve(e,"renderLine",e,t.line,r.pre),r.pre.className&&(r.textClass=M(r.pre.className,r.textClass||"")),r}function gn(e){var t=R("span","•","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function vn(e,t,n,r,o,i,l){if(t){var u,c=e.splitSpaces?yn(t,e.trailingSpace):t,d=e.cm.state.specialChars,p=!1;if(d.test(t)){u=document.createDocumentFragment();for(var f=0;;){d.lastIndex=f;var h=d.exec(t),m=h?h.index-f:t.length-f;if(m){var g=document.createTextNode(c.slice(f,f+m));a&&s<9?u.appendChild(R("span",[g])):u.appendChild(g),e.map.push(e.pos,e.pos+m,g),e.col+=m,e.pos+=m}if(!h)break;f+=m+1;var v=void 0;if("\t"==h[0]){var y=e.cm.options.tabSize,b=y-e.col%y;(v=u.appendChild(R("span",K(b),"cm-tab"))).setAttribute("role","presentation"),v.setAttribute("cm-text","\t"),e.col+=b}else"\r"==h[0]||"\n"==h[0]?((v=u.appendChild(R("span","\r"==h[0]?"␍":"␤","cm-invalidchar"))).setAttribute("cm-text",h[0]),e.col+=1):((v=e.cm.options.specialCharPlaceholder(h[0])).setAttribute("cm-text",h[0]),a&&s<9?u.appendChild(R("span",[v])):u.appendChild(v),e.col+=1);e.map.push(e.pos,e.pos+1,v),e.pos++}}else e.col+=t.length,u=document.createTextNode(c),e.map.push(e.pos,e.pos+t.length,u),a&&s<9&&(p=!0),e.pos+=t.length;if(e.trailingSpace=32==c.charCodeAt(t.length-1),n||r||o||p||i){var w=n||"";r&&(w+=r),o&&(w+=o);var k=R("span",[u],w,i);if(l)for(var C in l)l.hasOwnProperty(C)&&"style"!=C&&"class"!=C&&k.setAttribute(C,l[C]);return e.content.appendChild(k)}e.content.appendChild(u)}}function yn(e,t){if(e.length>1&&!/  /.test(e))return e;for(var n=t,r="",o=0;o<e.length;o++){var i=e.charAt(o);" "!=i||!n||o!=e.length-1&&32!=e.charCodeAt(o+1)||(i=" "),r+=i,n=" "==i}return r}function bn(e,t){return function(n,r,o,i,a,s,l){o=o?o+" cm-force-border":"cm-force-border";for(var u=n.pos,c=u+r.length;;){for(var d=void 0,p=0;p<t.length&&!((d=t[p]).to>u&&d.from<=u);p++);if(d.to>=c)return e(n,r,o,i,a,s,l);e(n,r.slice(0,d.to-u),o,i,null,s,l),i=null,r=r.slice(d.to-u),u=d.to}}}function wn(e,t,n,r){var o=!r&&n.widgetNode;o&&e.map.push(e.pos,e.pos+t,o),!r&&e.cm.display.input.needsContentAttribute&&(o||(o=e.content.appendChild(document.createElement("span"))),o.setAttribute("cm-marker",n.id)),o&&(e.cm.display.input.setUneditable(o),e.content.appendChild(o)),e.pos+=t,e.trailingSpace=!1}function kn(e,t,n){var r=e.markedSpans,o=e.text,i=0;if(r)for(var a,s,l,u,c,d,p,f=o.length,h=0,m=1,g="",v=0;;){if(v==h){l=u=c=s="",p=null,d=null,v=1/0;for(var y=[],b=void 0,w=0;w<r.length;++w){var k=r[w],C=k.marker;if("bookmark"==C.type&&k.from==h&&C.widgetNode)y.push(C);else if(k.from<=h&&(null==k.to||k.to>h||C.collapsed&&k.to==h&&k.from==h)){if(null!=k.to&&k.to!=h&&v>k.to&&(v=k.to,u=""),C.className&&(l+=" "+C.className),C.css&&(s=(s?s+";":"")+C.css),C.startStyle&&k.from==h&&(c+=" "+C.startStyle),C.endStyle&&k.to==v&&(b||(b=[])).push(C.endStyle,k.to),C.title&&((p||(p={})).title=C.title),C.attributes)for(var x in C.attributes)(p||(p={}))[x]=C.attributes[x];C.collapsed&&(!d||qt(d.marker,C)<0)&&(d=k)}else k.from>h&&v>k.from&&(v=k.from)}if(b)for(var E=0;E<b.length;E+=2)b[E+1]==v&&(u+=" "+b[E]);if(!d||d.from==h)for(var S=0;S<y.length;++S)wn(t,0,y[S]);if(d&&(d.from||0)==h){if(wn(t,(null==d.to?f+1:d.to)-h,d.marker,null==d.from),null==d.to)return;d.to==h&&(d=!1)}}if(h>=f)break;for(var _=Math.min(f,v);;){if(g){var O=h+g.length;if(!d){var T=O>_?g.slice(0,_-h):g;t.addToken(t,T,a?a+l:l,c,h+T.length==v?u:"",s,p)}if(O>=_){g=g.slice(_-h),h=_;break}h=O,c=""}g=o.slice(i,i=n[m++]),a=hn(n[m++],t.cm.options)}}else for(var R=1;R<n.length;R+=2)t.addToken(t,o.slice(i,i=n[R]),hn(n[R+1],t.cm.options))}function Cn(e,t,n){this.line=t,this.rest=en(t),this.size=this.rest?tt($(this.rest))-n+1:1,this.node=this.text=null,this.hidden=rn(e,t)}function xn(e,t,n){for(var r,o=[],i=t;i<n;i=r){var a=new Cn(e.doc,Je(e.doc,i),i);r=i+a.size,o.push(a)}return o}var En=null;function Sn(e){En?En.ops.push(e):e.ownsGroup=En={ops:[e],delayedCallbacks:[]}}function _n(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n].call(null);for(var r=0;r<e.ops.length;r++){var o=e.ops[r];if(o.cursorActivityHandlers)for(;o.cursorActivityCalled<o.cursorActivityHandlers.length;)o.cursorActivityHandlers[o.cursorActivityCalled++].call(null,o.cm)}}while(n<t.length)}function On(e,t){var n=e.ownsGroup;if(n)try{_n(n)}finally{En=null,t(n)}}var Tn=null;function Rn(e,t){var n=me(e,t);if(n.length){var r,o=Array.prototype.slice.call(arguments,2);En?r=En.delayedCallbacks:Tn?r=Tn:(r=Tn=[],setTimeout(An,0));for(var i=function(e){r.push((function(){return n[e].apply(null,o)}))},a=0;a<n.length;++a)i(a)}}function An(){var e=Tn;Tn=null;for(var t=0;t<e.length;++t)e[t]()}function Nn(e,t,n,r){for(var o=0;o<t.changes.length;o++){var i=t.changes[o];"text"==i?In(e,t):"gutter"==i?Ln(e,t,n,r):"class"==i?Fn(e,t):"widget"==i&&Bn(e,t,r)}t.changes=null}function Dn(e){return e.node==e.text&&(e.node=R("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),a&&s<8&&(e.node.style.zIndex=2)),e.node}function Pn(e,t){var n=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(n&&(n+=" CodeMirror-linebackground"),t.background)n?t.background.className=n:(t.background.parentNode.removeChild(t.background),t.background=null);else if(n){var r=Dn(t);t.background=r.insertBefore(R("div",null,n),r.firstChild),e.display.input.setUneditable(t.background)}}function Mn(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):mn(e,t)}function In(e,t){var n=t.text.className,r=Mn(e,t);t.text==t.node&&(t.node=r.pre),t.text.parentNode.replaceChild(r.pre,t.text),t.text=r.pre,r.bgClass!=t.bgClass||r.textClass!=t.textClass?(t.bgClass=r.bgClass,t.textClass=r.textClass,Fn(e,t)):n&&(t.text.className=n)}function Fn(e,t){Pn(e,t),t.line.wrapClass?Dn(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var n=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=n||""}function Ln(e,t,n,r){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var o=Dn(t);t.gutterBackground=R("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px; width: "+r.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),o.insertBefore(t.gutterBackground,t.text)}var i=t.line.gutterMarkers;if(e.options.lineNumbers||i){var a=Dn(t),s=t.gutter=R("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px");if(e.display.input.setUneditable(s),a.insertBefore(s,t.text),t.line.gutterClass&&(s.className+=" "+t.line.gutterClass),!e.options.lineNumbers||i&&i["CodeMirror-linenumbers"]||(t.lineNumber=s.appendChild(R("div",ot(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),i)for(var l=0;l<e.display.gutterSpecs.length;++l){var u=e.display.gutterSpecs[l].className,c=i.hasOwnProperty(u)&&i[u];c&&s.appendChild(R("div",[c],"CodeMirror-gutter-elt","left: "+r.gutterLeft[u]+"px; width: "+r.gutterWidth[u]+"px"))}}}function Bn(e,t,n){t.alignable&&(t.alignable=null);for(var r=t.node.firstChild,o=void 0;r;r=o)o=r.nextSibling,"CodeMirror-linewidget"==r.className&&t.node.removeChild(r);zn(e,t,n)}function jn(e,t,n,r){var o=Mn(e,t);return t.text=t.node=o.pre,o.bgClass&&(t.bgClass=o.bgClass),o.textClass&&(t.textClass=o.textClass),Fn(e,t),Ln(e,t,n,r),zn(e,t,r),t.node}function zn(e,t,n){if(Vn(e,t.line,t,n,!0),t.rest)for(var r=0;r<t.rest.length;r++)Vn(e,t.rest[r],t,n,!1)}function Vn(e,t,n,r,o){if(t.widgets)for(var i=Dn(n),a=0,s=t.widgets;a<s.length;++a){var l=s[a],u=R("div",[l.node],"CodeMirror-linewidget");l.handleMouseEvents||u.setAttribute("cm-ignore-events","true"),Un(l,u,n,r),e.display.input.setUneditable(u),o&&l.above?i.insertBefore(u,n.gutter||n.text):i.appendChild(u),Rn(l,"redraw")}}function Un(e,t,n,r){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var o=r.wrapperWidth;t.style.left=r.fixedPos+"px",e.coverGutter||(o-=r.gutterTotalWidth,t.style.paddingLeft=r.gutterTotalWidth+"px"),t.style.width=o+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-r.gutterTotalWidth+"px"))}function Hn(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!N(document.body,e.node)){var n="position: relative;";e.coverGutter&&(n+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(n+="width: "+t.display.wrapper.clientWidth+"px;"),T(t.display.measure,R("div",[e.node],null,n))}return e.height=e.node.parentNode.offsetHeight}function Gn(e,t){for(var n=_e(t);n!=e.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==e.sizer&&n!=e.mover)return!0}function Wn(e){return e.lineSpace.offsetTop}function qn(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function Yn(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=T(e.measure,R("pre","x")),n=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,r={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(r.left)||isNaN(r.right)||(e.cachedPaddingH=r),r}function Kn(e){return V-e.display.nativeBarWidth}function $n(e){return e.display.scroller.clientWidth-Kn(e)-e.display.barWidth}function Xn(e){return e.display.scroller.clientHeight-Kn(e)-e.display.barHeight}function Jn(e,t,n){var r=e.options.lineWrapping,o=r&&$n(e);if(!t.measure.heights||r&&t.measure.width!=o){var i=t.measure.heights=[];if(r){t.measure.width=o;for(var a=t.text.firstChild.getClientRects(),s=0;s<a.length-1;s++){var l=a[s],u=a[s+1];Math.abs(l.bottom-u.bottom)>2&&i.push((l.bottom+u.top)/2-n.top)}}i.push(n.bottom-n.top)}}function Qn(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var r=0;r<e.rest.length;r++)if(e.rest[r]==t)return{map:e.measure.maps[r],cache:e.measure.caches[r]};for(var o=0;o<e.rest.length;o++)if(tt(e.rest[o])>n)return{map:e.measure.maps[o],cache:e.measure.caches[o],before:!0}}function Zn(e,t){var n=tt(t=Qt(t)),r=e.display.externalMeasured=new Cn(e.doc,t,n);r.lineN=n;var o=r.built=mn(e,r);return r.text=o.pre,T(e.display.lineMeasure,o.pre),r}function er(e,t,n,r){return rr(e,nr(e,t),n,r)}function tr(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[Fr(e,t)];var n=e.display.externalMeasured;return n&&t>=n.lineN&&t<n.lineN+n.size?n:void 0}function nr(e,t){var n=tt(t),r=tr(e,n);r&&!r.text?r=null:r&&r.changes&&(Nn(e,r,n,Nr(e)),e.curOp.forceUpdate=!0),r||(r=Zn(e,t));var o=Qn(r,t,n);return{line:t,view:r,rect:null,map:o.map,cache:o.cache,before:o.before,hasHeights:!1}}function rr(e,t,n,r,o){t.before&&(n=-1);var i,a=n+(r||"");return t.cache.hasOwnProperty(a)?i=t.cache[a]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(Jn(e,t.view,t.rect),t.hasHeights=!0),(i=lr(e,t,n,r)).bogus||(t.cache[a]=i)),{left:i.left,right:i.right,top:o?i.rtop:i.top,bottom:o?i.rbottom:i.bottom}}var or,ir={left:0,right:0,top:0,bottom:0};function ar(e,t,n){for(var r,o,i,a,s,l,u=0;u<e.length;u+=3)if(s=e[u],l=e[u+1],t<s?(o=0,i=1,a="left"):t<l?i=1+(o=t-s):(u==e.length-3||t==l&&e[u+3]>t)&&(o=(i=l-s)-1,t>=l&&(a="right")),null!=o){if(r=e[u+2],s==l&&n==(r.insertLeft?"left":"right")&&(a=n),"left"==n&&0==o)for(;u&&e[u-2]==e[u-3]&&e[u-1].insertLeft;)r=e[2+(u-=3)],a="left";if("right"==n&&o==l-s)for(;u<e.length-3&&e[u+3]==e[u+4]&&!e[u+5].insertLeft;)r=e[(u+=3)+2],a="right";break}return{node:r,start:o,end:i,collapse:a,coverStart:s,coverEnd:l}}function sr(e,t){var n=ir;if("left"==t)for(var r=0;r<e.length&&(n=e[r]).left==n.right;r++);else for(var o=e.length-1;o>=0&&(n=e[o]).left==n.right;o--);return n}function lr(e,t,n,r){var o,i=ar(t.map,n,r),l=i.node,u=i.start,c=i.end,d=i.collapse;if(3==l.nodeType){for(var p=0;p<4;p++){for(;u&&ie(t.line.text.charAt(i.coverStart+u));)--u;for(;i.coverStart+c<i.coverEnd&&ie(t.line.text.charAt(i.coverStart+c));)++c;if((o=a&&s<9&&0==u&&c==i.coverEnd-i.coverStart?l.parentNode.getBoundingClientRect():sr(S(l,u,c).getClientRects(),r)).left||o.right||0==u)break;c=u,u-=1,d="right"}a&&s<11&&(o=ur(e.display.measure,o))}else{var f;u>0&&(d=r="right"),o=e.options.lineWrapping&&(f=l.getClientRects()).length>1?f["right"==r?f.length-1:0]:l.getBoundingClientRect()}if(a&&s<9&&!u&&(!o||!o.left&&!o.right)){var h=l.parentNode.getClientRects()[0];o=h?{left:h.left,right:h.left+Ar(e.display),top:h.top,bottom:h.bottom}:ir}for(var m=o.top-t.rect.top,g=o.bottom-t.rect.top,v=(m+g)/2,y=t.view.measure.heights,b=0;b<y.length-1&&!(v<y[b]);b++);var w=b?y[b-1]:0,k=y[b],C={left:("right"==d?o.right:o.left)-t.rect.left,right:("left"==d?o.left:o.right)-t.rect.left,top:w,bottom:k};return o.left||o.right||(C.bogus=!0),e.options.singleCursorHeightPerLine||(C.rtop=m,C.rbottom=g),C}function ur(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!Be(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*r,bottom:t.bottom*r}}function cr(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function dr(e){e.display.externalMeasure=null,O(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)cr(e.display.view[t])}function pr(e){dr(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function fr(){return c&&g?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function hr(){return c&&g?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function mr(e){var t=0;if(e.widgets)for(var n=0;n<e.widgets.length;++n)e.widgets[n].above&&(t+=Hn(e.widgets[n]));return t}function gr(e,t,n,r,o){if(!o){var i=mr(t);n.top+=i,n.bottom+=i}if("line"==r)return n;r||(r="local");var a=an(t);if("local"==r?a+=Wn(e.display):a-=e.display.viewOffset,"page"==r||"window"==r){var s=e.display.lineSpace.getBoundingClientRect();a+=s.top+("window"==r?0:hr());var l=s.left+("window"==r?0:fr());n.left+=l,n.right+=l}return n.top+=a,n.bottom+=a,n}function vr(e,t,n){if("div"==n)return t;var r=t.left,o=t.top;if("page"==n)r-=fr(),o-=hr();else if("local"==n||!n){var i=e.display.sizer.getBoundingClientRect();r+=i.left,o+=i.top}var a=e.display.lineSpace.getBoundingClientRect();return{left:r-a.left,top:o-a.top}}function yr(e,t,n,r,o){return r||(r=Je(e.doc,t.line)),gr(e,r,er(e,r,t.ch,o),n)}function br(e,t,n,r,o,i){function a(t,a){var s=rr(e,o,t,a?"right":"left",i);return a?s.left=s.right:s.right=s.left,gr(e,r,s,n)}r=r||Je(e.doc,t.line),o||(o=nr(e,r));var s=pe(r,e.doc.direction),l=t.ch,u=t.sticky;if(l>=r.text.length?(l=r.text.length,u="before"):l<=0&&(l=0,u="after"),!s)return a("before"==u?l-1:l,"before"==u);function c(e,t,n){return a(n?e-1:e,1==s[t].level!=n)}var d=ce(s,l,u),p=ue,f=c(l,d,"before"==u);return null!=p&&(f.other=c(l,p,"before"!=u)),f}function wr(e,t){var n=0;t=pt(e.doc,t),e.options.lineWrapping||(n=Ar(e.display)*t.ch);var r=Je(e.doc,t.line),o=an(r)+Wn(e.display);return{left:n,right:n,top:o,bottom:o+r.height}}function kr(e,t,n,r,o){var i=it(e,t,n);return i.xRel=o,r&&(i.outside=!0),i}function Cr(e,t,n){var r=e.doc;if((n+=e.display.viewOffset)<0)return kr(r.first,0,null,!0,-1);var o=nt(r,n),i=r.first+r.size-1;if(o>i)return kr(r.first+r.size-1,Je(r,i).text.length,null,!0,1);t<0&&(t=0);for(var a=Je(r,o);;){var s=_r(e,a,o,t,n),l=Xt(a,s.ch+(s.xRel>0?1:0));if(!l)return s;var u=l.find(1);if(u.line==o)return u;a=Je(r,o=u.line)}}function xr(e,t,n,r){r-=mr(t);var o=t.text.length,i=se((function(t){return rr(e,n,t-1).bottom<=r}),o,0);return{begin:i,end:o=se((function(t){return rr(e,n,t).top>r}),i,o)}}function Er(e,t,n,r){return n||(n=nr(e,t)),xr(e,t,n,gr(e,t,rr(e,n,r),"line").top)}function Sr(e,t,n,r){return!(e.bottom<=n)&&(e.top>n||(r?e.left:e.right)>t)}function _r(e,t,n,r,o){o-=an(t);var i=nr(e,t),a=mr(t),s=0,l=t.text.length,u=!0,c=pe(t,e.doc.direction);if(c){var d=(e.options.lineWrapping?Tr:Or)(e,t,n,i,c,r,o);s=(u=1!=d.level)?d.from:d.to-1,l=u?d.to:d.from-1}var p,f,h=null,m=null,g=se((function(t){var n=rr(e,i,t);return n.top+=a,n.bottom+=a,!!Sr(n,r,o,!1)&&(n.top<=o&&n.left<=r&&(h=t,m=n),!0)}),s,l),v=!1;if(m){var y=r-m.left<m.right-r,b=y==u;g=h+(b?0:1),f=b?"after":"before",p=y?m.left:m.right}else{u||g!=l&&g!=s||g++,f=0==g?"after":g==t.text.length?"before":rr(e,i,g-(u?1:0)).bottom+a<=o==u?"after":"before";var w=br(e,it(n,g,f),"line",t,i);p=w.left,v=o<w.top||o>=w.bottom}return kr(n,g=ae(t.text,g,1),f,v,r-p)}function Or(e,t,n,r,o,i,a){var s=se((function(s){var l=o[s],u=1!=l.level;return Sr(br(e,it(n,u?l.to:l.from,u?"before":"after"),"line",t,r),i,a,!0)}),0,o.length-1),l=o[s];if(s>0){var u=1!=l.level,c=br(e,it(n,u?l.from:l.to,u?"after":"before"),"line",t,r);Sr(c,i,a,!0)&&c.top>a&&(l=o[s-1])}return l}function Tr(e,t,n,r,o,i,a){var s=xr(e,t,r,a),l=s.begin,u=s.end;/\s/.test(t.text.charAt(u-1))&&u--;for(var c=null,d=null,p=0;p<o.length;p++){var f=o[p];if(!(f.from>=u||f.to<=l)){var h=rr(e,r,1!=f.level?Math.min(u,f.to)-1:Math.max(l,f.from)).right,m=h<i?i-h+1e9:h-i;(!c||d>m)&&(c=f,d=m)}}return c||(c=o[o.length-1]),c.from<l&&(c={from:l,to:c.to,level:c.level}),c.to>u&&(c={from:c.from,to:u,level:c.level}),c}function Rr(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==or){or=R("pre");for(var t=0;t<49;++t)or.appendChild(document.createTextNode("x")),or.appendChild(R("br"));or.appendChild(document.createTextNode("x"))}T(e.measure,or);var n=or.offsetHeight/50;return n>3&&(e.cachedTextHeight=n),O(e.measure),n||1}function Ar(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=R("span","xxxxxxxxxx"),n=R("pre",[t]);T(e.measure,n);var r=t.getBoundingClientRect(),o=(r.right-r.left)/10;return o>2&&(e.cachedCharWidth=o),o||10}function Nr(e){for(var t=e.display,n={},r={},o=t.gutters.clientLeft,i=t.gutters.firstChild,a=0;i;i=i.nextSibling,++a){var s=e.display.gutterSpecs[a].className;n[s]=i.offsetLeft+i.clientLeft+o,r[s]=i.clientWidth}return{fixedPos:Dr(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:t.wrapper.clientWidth}}function Dr(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function Pr(e){var t=Rr(e.display),n=e.options.lineWrapping,r=n&&Math.max(5,e.display.scroller.clientWidth/Ar(e.display)-3);return function(o){if(rn(e.doc,o))return 0;var i=0;if(o.widgets)for(var a=0;a<o.widgets.length;a++)o.widgets[a].height&&(i+=o.widgets[a].height);return n?i+(Math.ceil(o.text.length/r)||1)*t:i+t}}function Mr(e){var t=e.doc,n=Pr(e);t.iter((function(e){var t=n(e);t!=e.height&&et(e,t)}))}function Ir(e,t,n,r){var o=e.display;if(!n&&"true"==_e(t).getAttribute("cm-not-content"))return null;var i,a,s=o.lineSpace.getBoundingClientRect();try{i=t.clientX-s.left,a=t.clientY-s.top}catch(t){return null}var l,u=Cr(e,i,a);if(r&&1==u.xRel&&(l=Je(e.doc,u.line).text).length==u.ch){var c=B(l,l.length,e.options.tabSize)-l.length;u=it(u.line,Math.max(0,Math.round((i-Yn(e.display).left)/Ar(e.display))-c))}return u}function Fr(e,t){if(t>=e.display.viewTo)return null;if((t-=e.display.viewFrom)<0)return null;for(var n=e.display.view,r=0;r<n.length;r++)if((t-=n[r].size)<0)return r}function Lr(e,t,n,r){null==t&&(t=e.doc.first),null==n&&(n=e.doc.first+e.doc.size),r||(r=0);var o=e.display;if(r&&n<o.viewTo&&(null==o.updateLineNumbers||o.updateLineNumbers>t)&&(o.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=o.viewTo)At&&tn(e.doc,t)<o.viewTo&&jr(e);else if(n<=o.viewFrom)At&&nn(e.doc,n+r)>o.viewFrom?jr(e):(o.viewFrom+=r,o.viewTo+=r);else if(t<=o.viewFrom&&n>=o.viewTo)jr(e);else if(t<=o.viewFrom){var i=zr(e,n,n+r,1);i?(o.view=o.view.slice(i.index),o.viewFrom=i.lineN,o.viewTo+=r):jr(e)}else if(n>=o.viewTo){var a=zr(e,t,t,-1);a?(o.view=o.view.slice(0,a.index),o.viewTo=a.lineN):jr(e)}else{var s=zr(e,t,t,-1),l=zr(e,n,n+r,1);s&&l?(o.view=o.view.slice(0,s.index).concat(xn(e,s.lineN,l.lineN)).concat(o.view.slice(l.index)),o.viewTo+=r):jr(e)}var u=o.externalMeasured;u&&(n<u.lineN?u.lineN+=r:t<u.lineN+u.size&&(o.externalMeasured=null))}function Br(e,t,n){e.curOp.viewChanged=!0;var r=e.display,o=e.display.externalMeasured;if(o&&t>=o.lineN&&t<o.lineN+o.size&&(r.externalMeasured=null),!(t<r.viewFrom||t>=r.viewTo)){var i=r.view[Fr(e,t)];if(null!=i.node){var a=i.changes||(i.changes=[]);-1==z(a,n)&&a.push(n)}}}function jr(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function zr(e,t,n,r){var o,i=Fr(e,t),a=e.display.view;if(!At||n==e.doc.first+e.doc.size)return{index:i,lineN:n};for(var s=e.display.viewFrom,l=0;l<i;l++)s+=a[l].size;if(s!=t){if(r>0){if(i==a.length-1)return null;o=s+a[i].size-t,i++}else o=s-t;t+=o,n+=o}for(;tn(e.doc,n)!=n;){if(i==(r<0?0:a.length-1))return null;n+=r*a[i-(r<0?1:0)].size,i+=r}return{index:i,lineN:n}}function Vr(e,t,n){var r=e.display;0==r.view.length||t>=r.viewTo||n<=r.viewFrom?(r.view=xn(e,t,n),r.viewFrom=t):(r.viewFrom>t?r.view=xn(e,t,r.viewFrom).concat(r.view):r.viewFrom<t&&(r.view=r.view.slice(Fr(e,t))),r.viewFrom=t,r.viewTo<n?r.view=r.view.concat(xn(e,r.viewTo,n)):r.viewTo>n&&(r.view=r.view.slice(0,Fr(e,n)))),r.viewTo=n}function Ur(e){for(var t=e.display.view,n=0,r=0;r<t.length;r++){var o=t[r];o.hidden||o.node&&!o.changes||++n}return n}function Hr(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Gr(e,t){void 0===t&&(t=!0);for(var n=e.doc,r={},o=r.cursors=document.createDocumentFragment(),i=r.selection=document.createDocumentFragment(),a=0;a<n.sel.ranges.length;a++)if(t||a!=n.sel.primIndex){var s=n.sel.ranges[a];if(!(s.from().line>=e.display.viewTo||s.to().line<e.display.viewFrom)){var l=s.empty();(l||e.options.showCursorWhenSelecting)&&Wr(e,s.head,o),l||Yr(e,s,i)}}return r}function Wr(e,t,n){var r=br(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),o=n.appendChild(R("div"," ","CodeMirror-cursor"));if(o.style.left=r.left+"px",o.style.top=r.top+"px",o.style.height=Math.max(0,r.bottom-r.top)*e.options.cursorHeight+"px",r.other){var i=n.appendChild(R("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));i.style.display="",i.style.left=r.other.left+"px",i.style.top=r.other.top+"px",i.style.height=.85*(r.other.bottom-r.other.top)+"px"}}function qr(e,t){return e.top-t.top||e.left-t.left}function Yr(e,t,n){var r=e.display,o=e.doc,i=document.createDocumentFragment(),a=Yn(e.display),s=a.left,l=Math.max(r.sizerWidth,$n(e)-r.sizer.offsetLeft)-a.right,u="ltr"==o.direction;function c(e,t,n,r){t<0&&(t=0),t=Math.round(t),r=Math.round(r),i.appendChild(R("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(null==n?l-e:n)+"px;\n                             height: "+(r-t)+"px"))}function d(t,n,r){var i,a,d=Je(o,t),p=d.text.length;function f(n,r){return yr(e,it(t,n),"div",d,r)}function h(t,n,r){var o=Er(e,d,null,t),i="ltr"==n==("after"==r)?"left":"right";return f("after"==r?o.begin:o.end-(/\s/.test(d.text.charAt(o.end-1))?2:1),i)[i]}var m=pe(d,o.direction);return le(m,n||0,null==r?p:r,(function(e,t,o,d){var g="ltr"==o,v=f(e,g?"left":"right"),y=f(t-1,g?"right":"left"),b=null==n&&0==e,w=null==r&&t==p,k=0==d,C=!m||d==m.length-1;if(y.top-v.top<=3){var x=(u?w:b)&&C,E=(u?b:w)&&k?s:(g?v:y).left,S=x?l:(g?y:v).right;c(E,v.top,S-E,v.bottom)}else{var _,O,T,R;g?(_=u&&b&&k?s:v.left,O=u?l:h(e,o,"before"),T=u?s:h(t,o,"after"),R=u&&w&&C?l:y.right):(_=u?h(e,o,"before"):s,O=!u&&b&&k?l:v.right,T=!u&&w&&C?s:y.left,R=u?h(t,o,"after"):l),c(_,v.top,O-_,v.bottom),v.bottom<y.top&&c(s,v.bottom,null,y.top),c(T,y.top,R-T,y.bottom)}(!i||qr(v,i)<0)&&(i=v),qr(y,i)<0&&(i=y),(!a||qr(v,a)<0)&&(a=v),qr(y,a)<0&&(a=y)})),{start:i,end:a}}var p=t.from(),f=t.to();if(p.line==f.line)d(p.line,p.ch,f.ch);else{var h=Je(o,p.line),m=Je(o,f.line),g=Qt(h)==Qt(m),v=d(p.line,p.ch,g?h.text.length+1:null).end,y=d(f.line,g?0:null,f.ch).start;g&&(v.top<y.top-2?(c(v.right,v.top,null,v.bottom),c(s,y.top,y.left,y.bottom)):c(v.right,v.top,y.left-v.right,v.bottom)),v.bottom<y.top&&c(s,v.bottom,null,y.top)}n.appendChild(i)}function Kr(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval((function(){return t.cursorDiv.style.visibility=(n=!n)?"":"hidden"}),e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function $r(e){e.state.focused||(e.display.input.focus(),Jr(e))}function Xr(e){e.state.delayingBlurEvent=!0,setTimeout((function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,Qr(e))}),100)}function Jr(e,t){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(ve(e,"focus",e,t),e.state.focused=!0,P(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),l&&setTimeout((function(){return e.display.input.reset(!0)}),20)),e.display.input.receivedFocus()),Kr(e))}function Qr(e,t){e.state.delayingBlurEvent||(e.state.focused&&(ve(e,"blur",e,t),e.state.focused=!1,_(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout((function(){e.state.focused||(e.display.shift=!1)}),150))}function Zr(e){for(var t=e.display,n=t.lineDiv.offsetTop,r=0;r<t.view.length;r++){var o=t.view[r],i=e.options.lineWrapping,l=void 0,u=0;if(!o.hidden){if(a&&s<8){var c=o.node.offsetTop+o.node.offsetHeight;l=c-n,n=c}else{var d=o.node.getBoundingClientRect();l=d.bottom-d.top,!i&&o.text.firstChild&&(u=o.text.firstChild.getBoundingClientRect().right-d.left-1)}var p=o.line.height-l;if((p>.005||p<-.005)&&(et(o.line,l),eo(o.line),o.rest))for(var f=0;f<o.rest.length;f++)eo(o.rest[f]);if(u>e.display.sizerWidth){var h=Math.ceil(u/Ar(e.display));h>e.display.maxLineLength&&(e.display.maxLineLength=h,e.display.maxLine=o.line,e.display.maxLineChanged=!0)}}}}function eo(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var n=e.widgets[t],r=n.node.parentNode;r&&(n.height=r.offsetHeight)}}function to(e,t,n){var r=n&&null!=n.top?Math.max(0,n.top):e.scroller.scrollTop;r=Math.floor(r-Wn(e));var o=n&&null!=n.bottom?n.bottom:r+e.wrapper.clientHeight,i=nt(t,r),a=nt(t,o);if(n&&n.ensure){var s=n.ensure.from.line,l=n.ensure.to.line;s<i?(i=s,a=nt(t,an(Je(t,s))+e.wrapper.clientHeight)):Math.min(l,t.lastLine())>=a&&(i=nt(t,an(Je(t,l))-e.wrapper.clientHeight),a=l)}return{from:i,to:Math.max(a,i+1)}}function no(e,t){if(!ye(e,"scrollCursorIntoView")){var n=e.display,r=n.sizer.getBoundingClientRect(),o=null;if(t.top+r.top<0?o=!0:t.bottom+r.top>(window.innerHeight||document.documentElement.clientHeight)&&(o=!1),null!=o&&!h){var i=R("div","​",null,"position: absolute;\n                         top: "+(t.top-n.viewOffset-Wn(e.display))+"px;\n                         height: "+(t.bottom-t.top+Kn(e)+n.barHeight)+"px;\n                         left: "+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(i),i.scrollIntoView(o),e.display.lineSpace.removeChild(i)}}}function ro(e,t,n,r){var o;null==r&&(r=0),e.options.lineWrapping||t!=n||(n="before"==(t=t.ch?it(t.line,"before"==t.sticky?t.ch-1:t.ch,"after"):t).sticky?it(t.line,t.ch+1,"before"):t);for(var i=0;i<5;i++){var a=!1,s=br(e,t),l=n&&n!=t?br(e,n):s,u=io(e,o={left:Math.min(s.left,l.left),top:Math.min(s.top,l.top)-r,right:Math.max(s.left,l.left),bottom:Math.max(s.bottom,l.bottom)+r}),c=e.doc.scrollTop,d=e.doc.scrollLeft;if(null!=u.scrollTop&&(fo(e,u.scrollTop),Math.abs(e.doc.scrollTop-c)>1&&(a=!0)),null!=u.scrollLeft&&(mo(e,u.scrollLeft),Math.abs(e.doc.scrollLeft-d)>1&&(a=!0)),!a)break}return o}function oo(e,t){var n=io(e,t);null!=n.scrollTop&&fo(e,n.scrollTop),null!=n.scrollLeft&&mo(e,n.scrollLeft)}function io(e,t){var n=e.display,r=Rr(e.display);t.top<0&&(t.top=0);var o=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:n.scroller.scrollTop,i=Xn(e),a={};t.bottom-t.top>i&&(t.bottom=t.top+i);var s=e.doc.height+qn(n),l=t.top<r,u=t.bottom>s-r;if(t.top<o)a.scrollTop=l?0:t.top;else if(t.bottom>o+i){var c=Math.min(t.top,(u?s:t.bottom)-i);c!=o&&(a.scrollTop=c)}var d=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:n.scroller.scrollLeft,p=$n(e)-(e.options.fixedGutter?n.gutters.offsetWidth:0),f=t.right-t.left>p;return f&&(t.right=t.left+p),t.left<10?a.scrollLeft=0:t.left<d?a.scrollLeft=Math.max(0,t.left-(f?0:10)):t.right>p+d-3&&(a.scrollLeft=t.right+(f?0:10)-p),a}function ao(e,t){null!=t&&(co(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t)}function so(e){co(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function lo(e,t,n){null==t&&null==n||co(e),null!=t&&(e.curOp.scrollLeft=t),null!=n&&(e.curOp.scrollTop=n)}function uo(e,t){co(e),e.curOp.scrollToPos=t}function co(e){var t=e.curOp.scrollToPos;t&&(e.curOp.scrollToPos=null,po(e,wr(e,t.from),wr(e,t.to),t.margin))}function po(e,t,n,r){var o=io(e,{left:Math.min(t.left,n.left),top:Math.min(t.top,n.top)-r,right:Math.max(t.right,n.right),bottom:Math.max(t.bottom,n.bottom)+r});lo(e,o.scrollLeft,o.scrollTop)}function fo(e,t){Math.abs(e.doc.scrollTop-t)<2||(n||Go(e,{top:t}),ho(e,t,!0),n&&Go(e),Fo(e,100))}function ho(e,t,n){t=Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t),(e.display.scroller.scrollTop!=t||n)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function mo(e,t,n,r){t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!r||(e.doc.scrollLeft=t,Ko(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function go(e){var t=e.display,n=t.gutters.offsetWidth,r=Math.round(e.doc.height+qn(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:r,scrollHeight:r+Kn(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}var vo=function(e,t,n){this.cm=n;var r=this.vert=R("div",[R("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),o=this.horiz=R("div",[R("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");r.tabIndex=o.tabIndex=-1,e(r),e(o),he(r,"scroll",(function(){r.clientHeight&&t(r.scrollTop,"vertical")})),he(o,"scroll",(function(){o.clientWidth&&t(o.scrollLeft,"horizontal")})),this.checkedZeroWidth=!1,a&&s<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};vo.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,r=e.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=t?r+"px":"0";var o=e.viewHeight-(t?r:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+o)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=n?r+"px":"0",this.horiz.style.left=e.barLeft+"px";var i=e.viewWidth-e.barLeft-(n?r:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+i)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==r&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?r:0,bottom:t?r:0}},vo.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},vo.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},vo.prototype.zeroWidthHack=function(){var e=y&&!f?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new j,this.disableVert=new j},vo.prototype.enableZeroWidthBar=function(e,t,n){function r(){var o=e.getBoundingClientRect();("vert"==n?document.elementFromPoint(o.right-1,(o.top+o.bottom)/2):document.elementFromPoint((o.right+o.left)/2,o.bottom-1))!=e?e.style.pointerEvents="none":t.set(1e3,r)}e.style.pointerEvents="auto",t.set(1e3,r)},vo.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var yo=function(){};function bo(e,t){t||(t=go(e));var n=e.display.barWidth,r=e.display.barHeight;wo(e,t);for(var o=0;o<4&&n!=e.display.barWidth||r!=e.display.barHeight;o++)n!=e.display.barWidth&&e.options.lineWrapping&&Zr(e),wo(e,go(e)),n=e.display.barWidth,r=e.display.barHeight}function wo(e,t){var n=e.display,r=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=r.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=r.bottom)+"px",n.heightForcer.style.borderBottom=r.bottom+"px solid transparent",r.right&&r.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=r.bottom+"px",n.scrollbarFiller.style.width=r.right+"px"):n.scrollbarFiller.style.display="",r.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=r.bottom+"px",n.gutterFiller.style.width=t.gutterWidth+"px"):n.gutterFiller.style.display=""}yo.prototype.update=function(){return{bottom:0,right:0}},yo.prototype.setScrollLeft=function(){},yo.prototype.setScrollTop=function(){},yo.prototype.clear=function(){};var ko={native:vo,null:yo};function Co(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&_(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new ko[e.options.scrollbarStyle]((function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),he(t,"mousedown",(function(){e.state.focused&&setTimeout((function(){return e.display.input.focus()}),0)})),t.setAttribute("cm-not-content","true")}),(function(t,n){"horizontal"==n?mo(e,t):fo(e,t)}),e),e.display.scrollbars.addClass&&P(e.display.wrapper,e.display.scrollbars.addClass)}var xo=0;function Eo(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++xo},Sn(e.curOp)}function So(e){var t=e.curOp;t&&On(t,(function(e){for(var t=0;t<e.ops.length;t++)e.ops[t].cm.curOp=null;_o(e)}))}function _o(e){for(var t=e.ops,n=0;n<t.length;n++)Oo(t[n]);for(var r=0;r<t.length;r++)To(t[r]);for(var o=0;o<t.length;o++)Ro(t[o]);for(var i=0;i<t.length;i++)Ao(t[i]);for(var a=0;a<t.length;a++)No(t[a])}function Oo(e){var t=e.cm,n=t.display;jo(t),e.updateMaxLine&&ln(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new Bo(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function To(e){e.updatedDisplay=e.mustUpdate&&Uo(e.cm,e.update)}function Ro(e){var t=e.cm,n=t.display;e.updatedDisplay&&Zr(t),e.barMeasure=go(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=er(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+Kn(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-$n(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=n.input.prepareSelection())}function Ao(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&mo(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var n=e.focus&&e.focus==D();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,n),(e.updatedDisplay||e.startHeight!=t.doc.height)&&bo(t,e.barMeasure),e.updatedDisplay&&Yo(t,e.barMeasure),e.selectionChanged&&Kr(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),n&&$r(e.cm)}function No(e){var t=e.cm,n=t.display,r=t.doc;e.updatedDisplay&&Ho(t,e.update),null==n.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null!=e.scrollTop&&ho(t,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&mo(t,e.scrollLeft,!0,!0),e.scrollToPos&&no(t,ro(t,pt(r,e.scrollToPos.from),pt(r,e.scrollToPos.to),e.scrollToPos.margin));var o=e.maybeHiddenMarkers,i=e.maybeUnhiddenMarkers;if(o)for(var a=0;a<o.length;++a)o[a].lines.length||ve(o[a],"hide");if(i)for(var s=0;s<i.length;++s)i[s].lines.length&&ve(i[s],"unhide");n.wrapper.offsetHeight&&(r.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&ve(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function Do(e,t){if(e.curOp)return t();Eo(e);try{return t()}finally{So(e)}}function Po(e,t){return function(){if(e.curOp)return t.apply(e,arguments);Eo(e);try{return t.apply(e,arguments)}finally{So(e)}}}function Mo(e){return function(){if(this.curOp)return e.apply(this,arguments);Eo(this);try{return e.apply(this,arguments)}finally{So(this)}}}function Io(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);Eo(t);try{return e.apply(this,arguments)}finally{So(t)}}}function Fo(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,F(Lo,e))}function Lo(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,r=bt(e,t.highlightFrontier),o=[];t.iter(r.line,Math.min(t.first+t.size,e.display.viewTo+500),(function(i){if(r.line>=e.display.viewFrom){var a=i.styles,s=i.text.length>e.options.maxHighlightLength?Ye(t.mode,r.state):null,l=vt(e,i,r,!0);s&&(r.state=s),i.styles=l.styles;var u=i.styleClasses,c=l.classes;c?i.styleClasses=c:u&&(i.styleClasses=null);for(var d=!a||a.length!=i.styles.length||u!=c&&(!u||!c||u.bgClass!=c.bgClass||u.textClass!=c.textClass),p=0;!d&&p<a.length;++p)d=a[p]!=i.styles[p];d&&o.push(r.line),i.stateAfter=r.save(),r.nextLine()}else i.text.length<=e.options.maxHighlightLength&&wt(e,i.text,r),i.stateAfter=r.line%5==0?r.save():null,r.nextLine();if(+new Date>n)return Fo(e,e.options.workDelay),!0})),t.highlightFrontier=r.line,t.modeFrontier=Math.max(t.modeFrontier,r.line),o.length&&Do(e,(function(){for(var t=0;t<o.length;t++)Br(e,o[t],"text")}))}}var Bo=function(e,t,n){var r=e.display;this.viewport=t,this.visible=to(r,e.doc,t),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=$n(e),this.force=n,this.dims=Nr(e),this.events=[]};function jo(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=Kn(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=Kn(e)+"px",t.scrollbarsClipped=!0)}function zo(e){if(e.hasFocus())return null;var t=D();if(!t||!N(e.display.lineDiv,t))return null;var n={activeElt:t};if(window.getSelection){var r=window.getSelection();r.anchorNode&&r.extend&&N(e.display.lineDiv,r.anchorNode)&&(n.anchorNode=r.anchorNode,n.anchorOffset=r.anchorOffset,n.focusNode=r.focusNode,n.focusOffset=r.focusOffset)}return n}function Vo(e){if(e&&e.activeElt&&e.activeElt!=D()&&(e.activeElt.focus(),e.anchorNode&&N(document.body,e.anchorNode)&&N(document.body,e.focusNode))){var t=window.getSelection(),n=document.createRange();n.setEnd(e.anchorNode,e.anchorOffset),n.collapse(!1),t.removeAllRanges(),t.addRange(n),t.extend(e.focusNode,e.focusOffset)}}function Uo(e,t){var n=e.display,r=e.doc;if(t.editorIsHidden)return jr(e),!1;if(!t.force&&t.visible.from>=n.viewFrom&&t.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==Ur(e))return!1;$o(e)&&(jr(e),t.dims=Nr(e));var o=r.first+r.size,i=Math.max(t.visible.from-e.options.viewportMargin,r.first),a=Math.min(o,t.visible.to+e.options.viewportMargin);n.viewFrom<i&&i-n.viewFrom<20&&(i=Math.max(r.first,n.viewFrom)),n.viewTo>a&&n.viewTo-a<20&&(a=Math.min(o,n.viewTo)),At&&(i=tn(e.doc,i),a=nn(e.doc,a));var s=i!=n.viewFrom||a!=n.viewTo||n.lastWrapHeight!=t.wrapperHeight||n.lastWrapWidth!=t.wrapperWidth;Vr(e,i,a),n.viewOffset=an(Je(e.doc,n.viewFrom)),e.display.mover.style.top=n.viewOffset+"px";var l=Ur(e);if(!s&&0==l&&!t.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var u=zo(e);return l>4&&(n.lineDiv.style.display="none"),Wo(e,n.updateLineNumbers,t.dims),l>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,Vo(u),O(n.cursorDiv),O(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,s&&(n.lastWrapHeight=t.wrapperHeight,n.lastWrapWidth=t.wrapperWidth,Fo(e,400)),n.updateLineNumbers=null,!0}function Ho(e,t){for(var n=t.viewport,r=!0;(r&&e.options.lineWrapping&&t.oldDisplayWidth!=$n(e)||(n&&null!=n.top&&(n={top:Math.min(e.doc.height+qn(e.display)-Xn(e),n.top)}),t.visible=to(e.display,e.doc,n),!(t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)))&&Uo(e,t);r=!1){Zr(e);var o=go(e);Hr(e),bo(e,o),Yo(e,o),t.force=!1}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function Go(e,t){var n=new Bo(e,t);if(Uo(e,n)){Zr(e),Ho(e,n);var r=go(e);Hr(e),bo(e,r),Yo(e,r),n.finish()}}function Wo(e,t,n){var r=e.display,o=e.options.lineNumbers,i=r.lineDiv,a=i.firstChild;function s(t){var n=t.nextSibling;return l&&y&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),n}for(var u=r.view,c=r.viewFrom,d=0;d<u.length;d++){var p=u[d];if(p.hidden);else if(p.node&&p.node.parentNode==i){for(;a!=p.node;)a=s(a);var f=o&&null!=t&&t<=c&&p.lineNumber;p.changes&&(z(p.changes,"gutter")>-1&&(f=!1),Nn(e,p,c,n)),f&&(O(p.lineNumber),p.lineNumber.appendChild(document.createTextNode(ot(e.options,c)))),a=p.node.nextSibling}else{var h=jn(e,p,c,n);i.insertBefore(h,a)}c+=p.size}for(;a;)a=s(a)}function qo(e){var t=e.gutters.offsetWidth;e.sizer.style.marginLeft=t+"px"}function Yo(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+Kn(e)+"px"}function Ko(e){var t=e.display,n=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var r=Dr(t)-t.scroller.scrollLeft+e.doc.scrollLeft,o=t.gutters.offsetWidth,i=r+"px",a=0;a<n.length;a++)if(!n[a].hidden){e.options.fixedGutter&&(n[a].gutter&&(n[a].gutter.style.left=i),n[a].gutterBackground&&(n[a].gutterBackground.style.left=i));var s=n[a].alignable;if(s)for(var l=0;l<s.length;l++)s[l].style.left=i}e.options.fixedGutter&&(t.gutters.style.left=r+o+"px")}}function $o(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=ot(e.options,t.first+t.size-1),r=e.display;if(n.length!=r.lineNumChars){var o=r.measure.appendChild(R("div",[R("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),i=o.firstChild.offsetWidth,a=o.offsetWidth-i;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(i,r.lineGutter.offsetWidth-a)+1,r.lineNumWidth=r.lineNumInnerWidth+a,r.lineNumChars=r.lineNumInnerWidth?n.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",qo(e.display),!0}return!1}function Xo(e,t){for(var n=[],r=!1,o=0;o<e.length;o++){var i=e[o],a=null;if("string"!=typeof i&&(a=i.style,i=i.className),"CodeMirror-linenumbers"==i){if(!t)continue;r=!0}n.push({className:i,style:a})}return t&&!r&&n.push({className:"CodeMirror-linenumbers",style:null}),n}function Jo(e){var t=e.gutters,n=e.gutterSpecs;O(t),e.lineGutter=null;for(var r=0;r<n.length;++r){var o=n[r],i=o.className,a=o.style,s=t.appendChild(R("div",null,"CodeMirror-gutter "+i));a&&(s.style.cssText=a),"CodeMirror-linenumbers"==i&&(e.lineGutter=s,s.style.width=(e.lineNumWidth||1)+"px")}t.style.display=n.length?"":"none",qo(e)}function Qo(e){Jo(e.display),Lr(e),Ko(e)}function Zo(e,t,r,o){var i=this;this.input=r,i.scrollbarFiller=R("div",null,"CodeMirror-scrollbar-filler"),i.scrollbarFiller.setAttribute("cm-not-content","true"),i.gutterFiller=R("div",null,"CodeMirror-gutter-filler"),i.gutterFiller.setAttribute("cm-not-content","true"),i.lineDiv=A("div",null,"CodeMirror-code"),i.selectionDiv=R("div",null,null,"position: relative; z-index: 1"),i.cursorDiv=R("div",null,"CodeMirror-cursors"),i.measure=R("div",null,"CodeMirror-measure"),i.lineMeasure=R("div",null,"CodeMirror-measure"),i.lineSpace=A("div",[i.measure,i.lineMeasure,i.selectionDiv,i.cursorDiv,i.lineDiv],null,"position: relative; outline: none");var u=A("div",[i.lineSpace],"CodeMirror-lines");i.mover=R("div",[u],null,"position: relative"),i.sizer=R("div",[i.mover],"CodeMirror-sizer"),i.sizerWidth=null,i.heightForcer=R("div",null,null,"position: absolute; height: "+V+"px; width: 1px;"),i.gutters=R("div",null,"CodeMirror-gutters"),i.lineGutter=null,i.scroller=R("div",[i.sizer,i.heightForcer,i.gutters],"CodeMirror-scroll"),i.scroller.setAttribute("tabIndex","-1"),i.wrapper=R("div",[i.scrollbarFiller,i.gutterFiller,i.scroller],"CodeMirror"),a&&s<8&&(i.gutters.style.zIndex=-1,i.scroller.style.paddingRight=0),l||n&&v||(i.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(i.wrapper):e(i.wrapper)),i.viewFrom=i.viewTo=t.first,i.reportedViewFrom=i.reportedViewTo=t.first,i.view=[],i.renderedView=null,i.externalMeasured=null,i.viewOffset=0,i.lastWrapHeight=i.lastWrapWidth=0,i.updateLineNumbers=null,i.nativeBarWidth=i.barHeight=i.barWidth=0,i.scrollbarsClipped=!1,i.lineNumWidth=i.lineNumInnerWidth=i.lineNumChars=null,i.alignWidgets=!1,i.cachedCharWidth=i.cachedTextHeight=i.cachedPaddingH=null,i.maxLine=null,i.maxLineLength=0,i.maxLineChanged=!1,i.wheelDX=i.wheelDY=i.wheelStartX=i.wheelStartY=null,i.shift=!1,i.selForContextMenu=null,i.activeTouch=null,i.gutterSpecs=Xo(o.gutters,o.lineNumbers),Jo(i),r.init(i)}Bo.prototype.signal=function(e,t){we(e,t)&&this.events.push(arguments)},Bo.prototype.finish=function(){for(var e=this,t=0;t<this.events.length;t++)ve.apply(null,e.events[t])};var ei=0,ti=null;function ni(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==n&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:null==n&&(n=e.wheelDelta),{x:t,y:n}}function ri(e){var t=ni(e);return t.x*=ti,t.y*=ti,t}function oi(e,t){var r=ni(t),o=r.x,i=r.y,a=e.display,s=a.scroller,u=s.scrollWidth>s.clientWidth,c=s.scrollHeight>s.clientHeight;if(o&&u||i&&c){if(i&&y&&l)e:for(var p=t.target,f=a.view;p!=s;p=p.parentNode)for(var h=0;h<f.length;h++)if(f[h].node==p){e.display.currentWheelTarget=p;break e}if(o&&!n&&!d&&null!=ti)return i&&c&&fo(e,Math.max(0,s.scrollTop+i*ti)),mo(e,Math.max(0,s.scrollLeft+o*ti)),(!i||i&&c)&&Ce(t),void(a.wheelStartX=null);if(i&&null!=ti){var m=i*ti,g=e.doc.scrollTop,v=g+a.wrapper.clientHeight;m<0?g=Math.max(0,g+m-50):v=Math.min(e.doc.height,v+m+50),Go(e,{top:g,bottom:v})}ei<20&&(null==a.wheelStartX?(a.wheelStartX=s.scrollLeft,a.wheelStartY=s.scrollTop,a.wheelDX=o,a.wheelDY=i,setTimeout((function(){if(null!=a.wheelStartX){var e=s.scrollLeft-a.wheelStartX,t=s.scrollTop-a.wheelStartY,n=t&&a.wheelDY&&t/a.wheelDY||e&&a.wheelDX&&e/a.wheelDX;a.wheelStartX=a.wheelStartY=null,n&&(ti=(ti*ei+n)/(ei+1),++ei)}}),200)):(a.wheelDX+=o,a.wheelDY+=i))}}a?ti=-.53:n?ti=15:c?ti=-.7:p&&(ti=-1/3);var ii=function(e,t){this.ranges=e,this.primIndex=t};ii.prototype.primary=function(){return this.ranges[this.primIndex]},ii.prototype.equals=function(e){var t=this;if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var n=0;n<this.ranges.length;n++){var r=t.ranges[n],o=e.ranges[n];if(!st(r.anchor,o.anchor)||!st(r.head,o.head))return!1}return!0},ii.prototype.deepCopy=function(){for(var e=this,t=[],n=0;n<this.ranges.length;n++)t[n]=new ai(lt(e.ranges[n].anchor),lt(e.ranges[n].head));return new ii(t,this.primIndex)},ii.prototype.somethingSelected=function(){for(var e=this,t=0;t<this.ranges.length;t++)if(!e.ranges[t].empty())return!0;return!1},ii.prototype.contains=function(e,t){var n=this;t||(t=e);for(var r=0;r<this.ranges.length;r++){var o=n.ranges[r];if(at(t,o.from())>=0&&at(e,o.to())<=0)return r}return-1};var ai=function(e,t){this.anchor=e,this.head=t};function si(e,t,n){var r=e&&e.options.selectionsMayTouch,o=t[n];t.sort((function(e,t){return at(e.from(),t.from())})),n=z(t,o);for(var i=1;i<t.length;i++){var a=t[i],s=t[i-1],l=at(s.to(),a.from());if(r&&!a.empty()?l>0:l>=0){var u=ct(s.from(),a.from()),c=ut(s.to(),a.to()),d=s.empty()?a.from()==a.head:s.from()==s.head;i<=n&&--n,t.splice(--i,2,new ai(d?c:u,d?u:c))}}return new ii(t,n)}function li(e,t){return new ii([new ai(e,t||e)],0)}function ui(e){return e.text?it(e.from.line+e.text.length-1,$(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function ci(e,t){if(at(e,t.from)<0)return e;if(at(e,t.to)<=0)return ui(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,r=e.ch;return e.line==t.to.line&&(r+=ui(t).ch-t.to.ch),it(n,r)}function di(e,t){for(var n=[],r=0;r<e.sel.ranges.length;r++){var o=e.sel.ranges[r];n.push(new ai(ci(o.anchor,t),ci(o.head,t)))}return si(e.cm,n,e.sel.primIndex)}function pi(e,t,n){return e.line==t.line?it(n.line,e.ch-t.ch+n.ch):it(n.line+(e.line-t.line),e.ch)}function fi(e,t,n){for(var r=[],o=it(e.first,0),i=o,a=0;a<t.length;a++){var s=t[a],l=pi(s.from,o,i),u=pi(ui(s),o,i);if(o=s.to,i=u,"around"==n){var c=e.sel.ranges[a],d=at(c.head,c.anchor)<0;r[a]=new ai(d?u:l,d?l:u)}else r[a]=new ai(l,l)}return new ii(r,e.sel.primIndex)}function hi(e){e.doc.mode=Ge(e.options,e.doc.modeOption),mi(e)}function mi(e){e.doc.iter((function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)})),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,Fo(e,100),e.state.modeGen++,e.curOp&&Lr(e)}function gi(e,t){return 0==t.from.ch&&0==t.to.ch&&""==$(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function vi(e,t,n,r){function o(e){return n?n[e]:null}function i(e,n,o){cn(e,n,o,r),Rn(e,"change",e,t)}function a(e,t){for(var n=[],i=e;i<t;++i)n.push(new un(u[i],o(i),r));return n}var s=t.from,l=t.to,u=t.text,c=Je(e,s.line),d=Je(e,l.line),p=$(u),f=o(u.length-1),h=l.line-s.line;if(t.full)e.insert(0,a(0,u.length)),e.remove(u.length,e.size-u.length);else if(gi(e,t)){var m=a(0,u.length-1);i(d,d.text,f),h&&e.remove(s.line,h),m.length&&e.insert(s.line,m)}else if(c==d)if(1==u.length)i(c,c.text.slice(0,s.ch)+p+c.text.slice(l.ch),f);else{var g=a(1,u.length-1);g.push(new un(p+c.text.slice(l.ch),f,r)),i(c,c.text.slice(0,s.ch)+u[0],o(0)),e.insert(s.line+1,g)}else if(1==u.length)i(c,c.text.slice(0,s.ch)+u[0]+d.text.slice(l.ch),o(0)),e.remove(s.line+1,h);else{i(c,c.text.slice(0,s.ch)+u[0],o(0)),i(d,p+d.text.slice(l.ch),f);var v=a(1,u.length-1);h>1&&e.remove(s.line+1,h-1),e.insert(s.line+1,v)}Rn(e,"change",e,t)}function yi(e,t,n){function r(e,o,i){if(e.linked)for(var a=0;a<e.linked.length;++a){var s=e.linked[a];if(s.doc!=o){var l=i&&s.sharedHist;n&&!l||(t(s.doc,l),r(s.doc,e,l))}}}r(e,null,!0)}function bi(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,Mr(e),hi(e),wi(e),e.options.lineWrapping||ln(e),e.options.mode=t.modeOption,Lr(e)}function wi(e){("rtl"==e.doc.direction?P:_)(e.display.lineDiv,"CodeMirror-rtl")}function ki(e){Do(e,(function(){wi(e),Lr(e)}))}function Ci(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function xi(e,t){var n={from:lt(t.from),to:ui(t),text:Qe(e,t.from,t.to)};return Ai(e,n,t.from.line,t.to.line+1),yi(e,(function(e){return Ai(e,n,t.from.line,t.to.line+1)}),!0),n}function Ei(e){for(;e.length&&$(e).ranges;)e.pop()}function Si(e,t){return t?(Ei(e.done),$(e.done)):e.done.length&&!$(e.done).ranges?$(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),$(e.done)):void 0}function _i(e,t,n,r){var o=e.history;o.undone.length=0;var i,a,s=+new Date;if((o.lastOp==r||o.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&o.lastModTime>s-(e.cm?e.cm.options.historyEventDelay:500)||"*"==t.origin.charAt(0)))&&(i=Si(o,o.lastOp==r)))a=$(i.changes),0==at(t.from,t.to)&&0==at(t.from,a.to)?a.to=ui(t):i.changes.push(xi(e,t));else{var l=$(o.done);for(l&&l.ranges||Ri(e.sel,o.done),i={changes:[xi(e,t)],generation:o.generation},o.done.push(i);o.done.length>o.undoDepth;)o.done.shift(),o.done[0].ranges||o.done.shift()}o.done.push(n),o.generation=++o.maxGeneration,o.lastModTime=o.lastSelTime=s,o.lastOp=o.lastSelOp=r,o.lastOrigin=o.lastSelOrigin=t.origin,a||ve(e,"historyAdded")}function Oi(e,t,n,r){var o=t.charAt(0);return"*"==o||"+"==o&&n.ranges.length==r.ranges.length&&n.somethingSelected()==r.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function Ti(e,t,n,r){var o=e.history,i=r&&r.origin;n==o.lastSelOp||i&&o.lastSelOrigin==i&&(o.lastModTime==o.lastSelTime&&o.lastOrigin==i||Oi(e,i,$(o.done),t))?o.done[o.done.length-1]=t:Ri(t,o.done),o.lastSelTime=+new Date,o.lastSelOrigin=i,o.lastSelOp=n,r&&!1!==r.clearRedo&&Ei(o.undone)}function Ri(e,t){var n=$(t);n&&n.ranges&&n.equals(e)||t.push(e)}function Ai(e,t,n,r){var o=t["spans_"+e.id],i=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,r),(function(n){n.markedSpans&&((o||(o=t["spans_"+e.id]={}))[i]=n.markedSpans),++i}))}function Ni(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function Di(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var r=[],o=0;o<t.text.length;++o)r.push(Ni(n[o]));return r}function Pi(e,t){var n=Di(e,t),r=jt(e,t);if(!n)return r;if(!r)return n;for(var o=0;o<n.length;++o){var i=n[o],a=r[o];if(i&&a)e:for(var s=0;s<a.length;++s){for(var l=a[s],u=0;u<i.length;++u)if(i[u].marker==l.marker)continue e;i.push(l)}else a&&(n[o]=a)}return n}function Mi(e,t,n){for(var r=[],o=0;o<e.length;++o){var i=e[o];if(i.ranges)r.push(n?ii.prototype.deepCopy.call(i):i);else{var a=i.changes,s=[];r.push({changes:s});for(var l=0;l<a.length;++l){var u=a[l],c=void 0;if(s.push({from:u.from,to:u.to,text:u.text}),t)for(var d in u)(c=d.match(/^spans_(\d+)$/))&&z(t,Number(c[1]))>-1&&($(s)[d]=u[d],delete u[d])}}}return r}function Ii(e,t,n,r){if(r){var o=e.anchor;if(n){var i=at(t,o)<0;i!=at(n,o)<0?(o=t,t=n):i!=at(t,n)<0&&(t=n)}return new ai(o,t)}return new ai(n||t,t)}function Fi(e,t,n,r,o){null==o&&(o=e.cm&&(e.cm.display.shift||e.extend)),Ui(e,new ii([Ii(e.sel.primary(),t,n,o)],0),r)}function Li(e,t,n){for(var r=[],o=e.cm&&(e.cm.display.shift||e.extend),i=0;i<e.sel.ranges.length;i++)r[i]=Ii(e.sel.ranges[i],t[i],null,o);Ui(e,si(e.cm,r,e.sel.primIndex),n)}function Bi(e,t,n,r){var o=e.sel.ranges.slice(0);o[t]=n,Ui(e,si(e.cm,o,e.sel.primIndex),r)}function ji(e,t,n,r){Ui(e,li(t,n),r)}function zi(e,t,n){var r={ranges:t.ranges,update:function(t){var n=this;this.ranges=[];for(var r=0;r<t.length;r++)n.ranges[r]=new ai(pt(e,t[r].anchor),pt(e,t[r].head))},origin:n&&n.origin};return ve(e,"beforeSelectionChange",e,r),e.cm&&ve(e.cm,"beforeSelectionChange",e.cm,r),r.ranges!=t.ranges?si(e.cm,r.ranges,r.ranges.length-1):t}function Vi(e,t,n){var r=e.history.done,o=$(r);o&&o.ranges?(r[r.length-1]=t,Hi(e,t,n)):Ui(e,t,n)}function Ui(e,t,n){Hi(e,t,n),Ti(e,e.sel,e.cm?e.cm.curOp.id:NaN,n)}function Hi(e,t,n){(we(e,"beforeSelectionChange")||e.cm&&we(e.cm,"beforeSelectionChange"))&&(t=zi(e,t,n));var r=n&&n.bias||(at(t.primary().head,e.sel.primary().head)<0?-1:1);Gi(e,qi(e,t,r,!0)),n&&!1===n.scroll||!e.cm||so(e.cm)}function Gi(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=1,e.cm.curOp.selectionChanged=!0,be(e.cm)),Rn(e,"cursorActivity",e))}function Wi(e){Gi(e,qi(e,e.sel,null,!1))}function qi(e,t,n,r){for(var o,i=0;i<t.ranges.length;i++){var a=t.ranges[i],s=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[i],l=Ki(e,a.anchor,s&&s.anchor,n,r),u=Ki(e,a.head,s&&s.head,n,r);(o||l!=a.anchor||u!=a.head)&&(o||(o=t.ranges.slice(0,i)),o[i]=new ai(l,u))}return o?si(e.cm,o,t.primIndex):t}function Yi(e,t,n,r,o){var i=Je(e,t.line);if(i.markedSpans)for(var a=0;a<i.markedSpans.length;++a){var s=i.markedSpans[a],l=s.marker;if((null==s.from||(l.inclusiveLeft?s.from<=t.ch:s.from<t.ch))&&(null==s.to||(l.inclusiveRight?s.to>=t.ch:s.to>t.ch))){if(o&&(ve(l,"beforeCursorEnter"),l.explicitlyCleared)){if(i.markedSpans){--a;continue}break}if(!l.atomic)continue;if(n){var u=l.find(r<0?1:-1),c=void 0;if((r<0?l.inclusiveRight:l.inclusiveLeft)&&(u=$i(e,u,-r,u&&u.line==t.line?i:null)),u&&u.line==t.line&&(c=at(u,n))&&(r<0?c<0:c>0))return Yi(e,u,t,r,o)}var d=l.find(r<0?-1:1);return(r<0?l.inclusiveLeft:l.inclusiveRight)&&(d=$i(e,d,r,d.line==t.line?i:null)),d?Yi(e,d,t,r,o):null}}return t}function Ki(e,t,n,r,o){var i=r||1,a=Yi(e,t,n,i,o)||!o&&Yi(e,t,n,i,!0)||Yi(e,t,n,-i,o)||!o&&Yi(e,t,n,-i,!0);return a||(e.cantEdit=!0,it(e.first,0))}function $i(e,t,n,r){return n<0&&0==t.ch?t.line>e.first?pt(e,it(t.line-1)):null:n>0&&t.ch==(r||Je(e,t.line)).text.length?t.line<e.first+e.size-1?it(t.line+1,0):null:new it(t.line,t.ch+n)}function Xi(e){e.setSelection(it(e.firstLine(),0),it(e.lastLine()),H)}function Ji(e,t,n){var r={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return r.canceled=!0}};return n&&(r.update=function(t,n,o,i){t&&(r.from=pt(e,t)),n&&(r.to=pt(e,n)),o&&(r.text=o),void 0!==i&&(r.origin=i)}),ve(e,"beforeChange",e,r),e.cm&&ve(e.cm,"beforeChange",e.cm,r),r.canceled?(e.cm&&(e.cm.curOp.updateInput=2),null):{from:r.from,to:r.to,text:r.text,origin:r.origin}}function Qi(e,t,n){if(e.cm){if(!e.cm.curOp)return Po(e.cm,Qi)(e,t,n);if(e.cm.state.suppressEdits)return}if(!(we(e,"beforeChange")||e.cm&&we(e.cm,"beforeChange"))||(t=Ji(e,t,!0))){var r=Rt&&!n&&Vt(e,t.from,t.to);if(r)for(var o=r.length-1;o>=0;--o)Zi(e,{from:r[o].from,to:r[o].to,text:o?[""]:t.text,origin:t.origin});else Zi(e,t)}}function Zi(e,t){if(1!=t.text.length||""!=t.text[0]||0!=at(t.from,t.to)){var n=di(e,t);_i(e,t,n,e.cm?e.cm.curOp.id:NaN),na(e,t,n,jt(e,t));var r=[];yi(e,(function(e,n){n||-1!=z(r,e.history)||(sa(e.history,t),r.push(e.history)),na(e,t,null,jt(e,t))}))}}function ea(e,t,n){var r=e.cm&&e.cm.state.suppressEdits;if(!r||n){for(var o,i=e.history,a=e.sel,s="undo"==t?i.done:i.undone,l="undo"==t?i.undone:i.done,u=0;u<s.length&&(o=s[u],n?!o.ranges||o.equals(e.sel):o.ranges);u++);if(u!=s.length){for(i.lastOrigin=i.lastSelOrigin=null;;){if(!(o=s.pop()).ranges){if(r)return void s.push(o);break}if(Ri(o,l),n&&!o.equals(e.sel))return void Ui(e,o,{clearRedo:!1});a=o}var c=[];Ri(a,l),l.push({changes:c,generation:i.generation}),i.generation=o.generation||++i.maxGeneration;for(var d=we(e,"beforeChange")||e.cm&&we(e.cm,"beforeChange"),p=function(n){var r=o.changes[n];if(r.origin=t,d&&!Ji(e,r,!1))return s.length=0,{};c.push(xi(e,r));var i=n?di(e,r):$(s);na(e,r,i,Pi(e,r)),!n&&e.cm&&e.cm.scrollIntoView({from:r.from,to:ui(r)});var a=[];yi(e,(function(e,t){t||-1!=z(a,e.history)||(sa(e.history,r),a.push(e.history)),na(e,r,null,Pi(e,r))}))},f=o.changes.length-1;f>=0;--f){var h=p(f);if(h)return h.v}}}}function ta(e,t){if(0!=t&&(e.first+=t,e.sel=new ii(X(e.sel.ranges,(function(e){return new ai(it(e.anchor.line+t,e.anchor.ch),it(e.head.line+t,e.head.ch))})),e.sel.primIndex),e.cm)){Lr(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,r=n.viewFrom;r<n.viewTo;r++)Br(e.cm,r,"gutter")}}function na(e,t,n,r){if(e.cm&&!e.cm.curOp)return Po(e.cm,na)(e,t,n,r);if(t.to.line<e.first)ta(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var o=t.text.length-1-(e.first-t.from.line);ta(e,o),t={from:it(e.first,0),to:it(t.to.line+o,t.to.ch),text:[$(t.text)],origin:t.origin}}var i=e.lastLine();t.to.line>i&&(t={from:t.from,to:it(i,Je(e,i).text.length),text:[t.text[0]],origin:t.origin}),t.removed=Qe(e,t.from,t.to),n||(n=di(e,t)),e.cm?ra(e.cm,t,r):vi(e,t,r),Hi(e,n,H)}}function ra(e,t,n){var r=e.doc,o=e.display,i=t.from,a=t.to,s=!1,l=i.line;e.options.lineWrapping||(l=tt(Qt(Je(r,i.line))),r.iter(l,a.line+1,(function(e){if(e==o.maxLine)return s=!0,!0}))),r.sel.contains(t.from,t.to)>-1&&be(e),vi(r,t,n,Pr(e)),e.options.lineWrapping||(r.iter(l,i.line+t.text.length,(function(e){var t=sn(e);t>o.maxLineLength&&(o.maxLine=e,o.maxLineLength=t,o.maxLineChanged=!0,s=!1)})),s&&(e.curOp.updateMaxLine=!0)),Tt(r,i.line),Fo(e,400);var u=t.text.length-(a.line-i.line)-1;t.full?Lr(e):i.line!=a.line||1!=t.text.length||gi(e.doc,t)?Lr(e,i.line,a.line+1,u):Br(e,i.line,"text");var c=we(e,"changes"),d=we(e,"change");if(d||c){var p={from:i,to:a,text:t.text,removed:t.removed,origin:t.origin};d&&Rn(e,"change",e,p),c&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(p)}e.display.selForContextMenu=null}function oa(e,t,n,r,o){var i;r||(r=n),at(r,n)<0&&(n=(i=[r,n])[0],r=i[1]),"string"==typeof t&&(t=e.splitLines(t)),Qi(e,{from:n,to:r,text:t,origin:o})}function ia(e,t,n,r){n<e.line?e.line+=r:t<e.line&&(e.line=t,e.ch=0)}function aa(e,t,n,r){for(var o=0;o<e.length;++o){var i=e[o],a=!0;if(i.ranges){i.copied||((i=e[o]=i.deepCopy()).copied=!0);for(var s=0;s<i.ranges.length;s++)ia(i.ranges[s].anchor,t,n,r),ia(i.ranges[s].head,t,n,r)}else{for(var l=0;l<i.changes.length;++l){var u=i.changes[l];if(n<u.from.line)u.from=it(u.from.line+r,u.from.ch),u.to=it(u.to.line+r,u.to.ch);else if(t<=u.to.line){a=!1;break}}a||(e.splice(0,o+1),o=0)}}}function sa(e,t){var n=t.from.line,r=t.to.line,o=t.text.length-(r-n)-1;aa(e.done,n,r,o),aa(e.undone,n,r,o)}function la(e,t,n,r){var o=t,i=t;return"number"==typeof t?i=Je(e,dt(e,t)):o=tt(t),null==o?null:(r(i,o)&&e.cm&&Br(e.cm,o,n),i)}function ua(e){var t=this;this.lines=e,this.parent=null;for(var n=0,r=0;r<e.length;++r)e[r].parent=t,n+=e[r].height;this.height=n}function ca(e){var t=this;this.children=e;for(var n=0,r=0,o=0;o<e.length;++o){var i=e[o];n+=i.chunkSize(),r+=i.height,i.parent=t}this.size=n,this.height=r,this.parent=null}ai.prototype.from=function(){return ct(this.anchor,this.head)},ai.prototype.to=function(){return ut(this.anchor,this.head)},ai.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},ua.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=this,r=e,o=e+t;r<o;++r){var i=n.lines[r];n.height-=i.height,dn(i),Rn(i,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){var r=this;this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var o=0;o<t.length;++o)t[o].parent=r},iterN:function(e,t,n){for(var r=this,o=e+t;e<o;++e)if(n(r.lines[e]))return!0}},ca.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){var n=this;this.size-=t;for(var r=0;r<this.children.length;++r){var o=n.children[r],i=o.chunkSize();if(e<i){var a=Math.min(t,i-e),s=o.height;if(o.removeInner(e,a),n.height-=s-o.height,i==a&&(n.children.splice(r--,1),o.parent=null),0==(t-=a))break;e=0}else e-=i}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof ua))){var l=[];this.collapse(l),this.children=[new ua(l)],this.children[0].parent=this}},collapse:function(e){for(var t=this,n=0;n<this.children.length;++n)t.children[n].collapse(e)},insertInner:function(e,t,n){var r=this;this.size+=t.length,this.height+=n;for(var o=0;o<this.children.length;++o){var i=r.children[o],a=i.chunkSize();if(e<=a){if(i.insertInner(e,t,n),i.lines&&i.lines.length>50){for(var s=i.lines.length%25+25,l=s;l<i.lines.length;){var u=new ua(i.lines.slice(l,l+=25));i.height-=u.height,r.children.splice(++o,0,u),u.parent=r}i.lines=i.lines.slice(0,s),r.maybeSpill()}break}e-=a}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=new ca(e.children.splice(e.children.length-5,5));if(e.parent){e.size-=t.size,e.height-=t.height;var n=z(e.parent.children,e);e.parent.children.splice(n+1,0,t)}else{var r=new ca(e.children);r.parent=e,e.children=[r,t],e=r}t.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var r=this,o=0;o<this.children.length;++o){var i=r.children[o],a=i.chunkSize();if(e<a){var s=Math.min(t,a-e);if(i.iterN(e,s,n))return!0;if(0==(t-=s))break;e=0}else e-=a}}};var da=function(e,t,n){var r=this;if(n)for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o]);this.doc=e,this.node=t};function pa(e,t,n){an(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&ao(e,n)}function fa(e,t,n,r){var o=new da(e,n,r),i=e.cm;return i&&o.noHScroll&&(i.display.alignWidgets=!0),la(e,t,"widget",(function(t){var n=t.widgets||(t.widgets=[]);if(null==o.insertAt?n.push(o):n.splice(Math.min(n.length-1,Math.max(0,o.insertAt)),0,o),o.line=t,i&&!rn(e,t)){var r=an(t)<e.scrollTop;et(t,t.height+Hn(o)),r&&ao(i,o.height),i.curOp.forceUpdate=!0}return!0})),i&&Rn(i,"lineWidgetAdded",i,o,"number"==typeof t?t:tt(t)),o}da.prototype.clear=function(){var e=this,t=this.doc.cm,n=this.line.widgets,r=this.line,o=tt(r);if(null!=o&&n){for(var i=0;i<n.length;++i)n[i]==e&&n.splice(i--,1);n.length||(r.widgets=null);var a=Hn(this);et(r,Math.max(0,r.height-a)),t&&(Do(t,(function(){pa(t,r,-a),Br(t,o,"widget")})),Rn(t,"lineWidgetCleared",t,this,o))}},da.prototype.changed=function(){var e=this,t=this.height,n=this.doc.cm,r=this.line;this.height=null;var o=Hn(this)-t;o&&(rn(this.doc,r)||et(r,r.height+o),n&&Do(n,(function(){n.curOp.forceUpdate=!0,pa(n,r,o),Rn(n,"lineWidgetChanged",n,e,tt(r))})))},ke(da);var ha=0,ma=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++ha};function ga(e,t,n,r,o){if(r&&r.shared)return ya(e,t,n,r,o);if(e.cm&&!e.cm.curOp)return Po(e.cm,ga)(e,t,n,r,o);var i=new ma(e,o),a=at(t,n);if(r&&L(r,i,!1),a>0||0==a&&!1!==i.clearWhenEmpty)return i;if(i.replacedWith&&(i.collapsed=!0,i.widgetNode=A("span",[i.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||i.widgetNode.setAttribute("cm-ignore-events","true"),r.insertLeft&&(i.widgetNode.insertLeft=!0)),i.collapsed){if(Jt(e,t.line,t,n,i)||t.line!=n.line&&Jt(e,n.line,t,n,i))throw new Error("Inserting collapsed marker partially overlapping an existing one");Dt()}i.addToHistory&&_i(e,{from:t,to:n,origin:"markText"},e.sel,NaN);var s,l=t.line,u=e.cm;if(e.iter(l,n.line+1,(function(e){u&&i.collapsed&&!u.options.lineWrapping&&Qt(e)==u.display.maxLine&&(s=!0),i.collapsed&&l!=t.line&&et(e,0),Ft(e,new Pt(i,l==t.line?t.ch:null,l==n.line?n.ch:null)),++l})),i.collapsed&&e.iter(t.line,n.line+1,(function(t){rn(e,t)&&et(t,0)})),i.clearOnEnter&&he(i,"beforeCursorEnter",(function(){return i.clear()})),i.readOnly&&(Nt(),(e.history.done.length||e.history.undone.length)&&e.clearHistory()),i.collapsed&&(i.id=++ha,i.atomic=!0),u){if(s&&(u.curOp.updateMaxLine=!0),i.collapsed)Lr(u,t.line,n.line+1);else if(i.className||i.startStyle||i.endStyle||i.css||i.attributes||i.title)for(var c=t.line;c<=n.line;c++)Br(u,c,"text");i.atomic&&Wi(u.doc),Rn(u,"markerAdded",u,i)}return i}ma.prototype.clear=function(){var e=this;if(!this.explicitlyCleared){var t=this.doc.cm,n=t&&!t.curOp;if(n&&Eo(t),we(this,"clear")){var r=this.find();r&&Rn(this,"clear",r.from,r.to)}for(var o=null,i=null,a=0;a<this.lines.length;++a){var s=e.lines[a],l=Mt(s.markedSpans,e);t&&!e.collapsed?Br(t,tt(s),"text"):t&&(null!=l.to&&(i=tt(s)),null!=l.from&&(o=tt(s))),s.markedSpans=It(s.markedSpans,l),null==l.from&&e.collapsed&&!rn(e.doc,s)&&t&&et(s,Rr(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(var u=0;u<this.lines.length;++u){var c=Qt(e.lines[u]),d=sn(c);d>t.display.maxLineLength&&(t.display.maxLine=c,t.display.maxLineLength=d,t.display.maxLineChanged=!0)}null!=o&&t&&this.collapsed&&Lr(t,o,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&Wi(t.doc)),t&&Rn(t,"markerCleared",t,this,o,i),n&&So(t),this.parent&&this.parent.clear()}},ma.prototype.find=function(e,t){var n,r,o=this;null==e&&"bookmark"==this.type&&(e=1);for(var i=0;i<this.lines.length;++i){var a=o.lines[i],s=Mt(a.markedSpans,o);if(null!=s.from&&(n=it(t?a:tt(a),s.from),-1==e))return n;if(null!=s.to&&(r=it(t?a:tt(a),s.to),1==e))return r}return n&&{from:n,to:r}},ma.prototype.changed=function(){var e=this,t=this.find(-1,!0),n=this,r=this.doc.cm;t&&r&&Do(r,(function(){var o=t.line,i=tt(t.line),a=tr(r,i);if(a&&(cr(a),r.curOp.selectionChanged=r.curOp.forceUpdate=!0),r.curOp.updateMaxLine=!0,!rn(n.doc,o)&&null!=n.height){var s=n.height;n.height=null;var l=Hn(n)-s;l&&et(o,o.height+l)}Rn(r,"markerChanged",r,e)}))},ma.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=z(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},ma.prototype.detachLine=function(e){if(this.lines.splice(z(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},ke(ma);var va=function(e,t){var n=this;this.markers=e,this.primary=t;for(var r=0;r<e.length;++r)e[r].parent=n};function ya(e,t,n,r,o){(r=L(r)).shared=!1;var i=[ga(e,t,n,r,o)],a=i[0],s=r.widgetNode;return yi(e,(function(e){s&&(r.widgetNode=s.cloneNode(!0)),i.push(ga(e,pt(e,t),pt(e,n),r,o));for(var l=0;l<e.linked.length;++l)if(e.linked[l].isParent)return;a=$(i)})),new va(i,a)}function ba(e){return e.findMarks(it(e.first,0),e.clipPos(it(e.lastLine())),(function(e){return e.parent}))}function wa(e,t){for(var n=0;n<t.length;n++){var r=t[n],o=r.find(),i=e.clipPos(o.from),a=e.clipPos(o.to);if(at(i,a)){var s=ga(e,i,a,r.primary,r.primary.type);r.markers.push(s),s.parent=r}}}function ka(e){for(var t=function(t){var n=e[t],r=[n.primary.doc];yi(n.primary.doc,(function(e){return r.push(e)}));for(var o=0;o<n.markers.length;o++){var i=n.markers[o];-1==z(r,i.doc)&&(i.parent=null,n.markers.splice(o--,1))}},n=0;n<e.length;n++)t(n)}va.prototype.clear=function(){var e=this;if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var t=0;t<this.markers.length;++t)e.markers[t].clear();Rn(this,"clear")}},va.prototype.find=function(e,t){return this.primary.find(e,t)},ke(va);var Ca=0,xa=function(e,t,n,r,o){if(!(this instanceof xa))return new xa(e,t,n,r,o);null==n&&(n=0),ca.call(this,[new ua([new un("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=n;var i=it(n,0);this.sel=li(i),this.history=new Ci(null),this.id=++Ca,this.modeOption=t,this.lineSep=r,this.direction="rtl"==o?"rtl":"ltr",this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),vi(this,{from:i,to:i,text:e}),Ui(this,li(i),H)};xa.prototype=Z(ca.prototype,{constructor:xa,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,r=0;r<t.length;++r)n+=t[r].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=Ze(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:Io((function(e){var t=it(this.first,0),n=this.first+this.size-1;Qi(this,{from:t,to:it(n,Je(this,n).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&lo(this.cm,0,0),Ui(this,li(t),H)})),replaceRange:function(e,t,n,r){oa(this,e,t=pt(this,t),n=n?pt(this,n):t,r)},getRange:function(e,t,n){var r=Qe(this,pt(this,e),pt(this,t));return!1===n?r:r.join(n||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(rt(this,e))return Je(this,e)},getLineNumber:function(e){return tt(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=Je(this,e)),Qt(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return pt(this,e)},getCursor:function(e){var t=this.sel.primary();return null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Io((function(e,t,n){ji(this,pt(this,"number"==typeof e?it(e,t||0):e),null,n)})),setSelection:Io((function(e,t,n){ji(this,pt(this,e),pt(this,t||e),n)})),extendSelection:Io((function(e,t,n){Fi(this,pt(this,e),t&&pt(this,t),n)})),extendSelections:Io((function(e,t){Li(this,ht(this,e),t)})),extendSelectionsBy:Io((function(e,t){Li(this,ht(this,X(this.sel.ranges,e)),t)})),setSelections:Io((function(e,t,n){var r=this;if(e.length){for(var o=[],i=0;i<e.length;i++)o[i]=new ai(pt(r,e[i].anchor),pt(r,e[i].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),Ui(this,si(this.cm,o,t),n)}})),addSelection:Io((function(e,t,n){var r=this.sel.ranges.slice(0);r.push(new ai(pt(this,e),pt(this,t||e))),Ui(this,si(this.cm,r,r.length-1),n)})),getSelection:function(e){for(var t,n=this,r=this.sel.ranges,o=0;o<r.length;o++){var i=Qe(n,r[o].from(),r[o].to());t=t?t.concat(i):i}return!1===e?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=this,n=[],r=this.sel.ranges,o=0;o<r.length;o++){var i=Qe(t,r[o].from(),r[o].to());!1!==e&&(i=i.join(e||t.lineSeparator())),n[o]=i}return n},replaceSelection:function(e,t,n){for(var r=[],o=0;o<this.sel.ranges.length;o++)r[o]=e;this.replaceSelections(r,t,n||"+input")},replaceSelections:Io((function(e,t,n){for(var r=this,o=[],i=this.sel,a=0;a<i.ranges.length;a++){var s=i.ranges[a];o[a]={from:s.from(),to:s.to(),text:r.splitLines(e[a]),origin:n}}for(var l=t&&"end"!=t&&fi(this,o,t),u=o.length-1;u>=0;u--)Qi(r,o[u]);l?Vi(this,l):this.cm&&so(this.cm)})),undo:Io((function(){ea(this,"undo")})),redo:Io((function(){ea(this,"redo")})),undoSelection:Io((function(){ea(this,"undo",!0)})),redoSelection:Io((function(){ea(this,"redo",!0)})),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,r=0;r<e.done.length;r++)e.done[r].ranges||++t;for(var o=0;o<e.undone.length;o++)e.undone[o].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){this.history=new Ci(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:Mi(this.history.done),undone:Mi(this.history.undone)}},setHistory:function(e){var t=this.history=new Ci(this.history.maxGeneration);t.done=Mi(e.done.slice(0),null,!0),t.undone=Mi(e.undone.slice(0),null,!0)},setGutterMarker:Io((function(e,t,n){return la(this,e,"gutter",(function(e){var r=e.gutterMarkers||(e.gutterMarkers={});return r[t]=n,!n&&re(r)&&(e.gutterMarkers=null),!0}))})),clearGutter:Io((function(e){var t=this;this.iter((function(n){n.gutterMarkers&&n.gutterMarkers[e]&&la(t,n,"gutter",(function(){return n.gutterMarkers[e]=null,re(n.gutterMarkers)&&(n.gutterMarkers=null),!0}))}))})),lineInfo:function(e){var t;if("number"==typeof e){if(!rt(this,e))return null;if(t=e,!(e=Je(this,e)))return null}else if(null==(t=tt(e)))return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:Io((function(e,t,n){return la(this,e,"gutter"==t?"gutter":"class",(function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[r]){if(E(n).test(e[r]))return!1;e[r]+=" "+n}else e[r]=n;return!0}))})),removeLineClass:Io((function(e,t,n){return la(this,e,"gutter"==t?"gutter":"class",(function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",o=e[r];if(!o)return!1;if(null==n)e[r]=null;else{var i=o.match(E(n));if(!i)return!1;var a=i.index+i[0].length;e[r]=o.slice(0,i.index)+(i.index&&a!=o.length?" ":"")+o.slice(a)||null}return!0}))})),addLineWidget:Io((function(e,t,n){return fa(this,e,t,n)})),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return ga(this,pt(this,e),pt(this,t),n,n&&n.type||"range")},setBookmark:function(e,t){var n={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return ga(this,e=pt(this,e),e,n,"bookmark")},findMarksAt:function(e){var t=[],n=Je(this,(e=pt(this,e)).line).markedSpans;if(n)for(var r=0;r<n.length;++r){var o=n[r];(null==o.from||o.from<=e.ch)&&(null==o.to||o.to>=e.ch)&&t.push(o.marker.parent||o.marker)}return t},findMarks:function(e,t,n){e=pt(this,e),t=pt(this,t);var r=[],o=e.line;return this.iter(e.line,t.line+1,(function(i){var a=i.markedSpans;if(a)for(var s=0;s<a.length;s++){var l=a[s];null!=l.to&&o==e.line&&e.ch>=l.to||null==l.from&&o!=e.line||null!=l.from&&o==t.line&&l.from>=t.ch||n&&!n(l.marker)||r.push(l.marker.parent||l.marker)}++o})),r},getAllMarks:function(){var e=[];return this.iter((function(t){var n=t.markedSpans;if(n)for(var r=0;r<n.length;++r)null!=n[r].from&&e.push(n[r].marker)})),e},posFromIndex:function(e){var t,n=this.first,r=this.lineSeparator().length;return this.iter((function(o){var i=o.text.length+r;if(i>e)return t=e,!0;e-=i,++n})),pt(this,it(n,t))},indexFromPos:function(e){var t=(e=pt(this,e)).ch;if(e.line<this.first||e.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,e.line,(function(e){t+=e.text.length+n})),t},copy:function(e){var t=new xa(Ze(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<n&&(n=e.to);var r=new xa(Ze(this,t,n),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:e.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],wa(r,ba(this)),r},unlinkDoc:function(e){var t=this;if(e instanceof Ls&&(e=e.doc),this.linked)for(var n=0;n<this.linked.length;++n)if(t.linked[n].doc==e){t.linked.splice(n,1),e.unlinkDoc(t),ka(ba(t));break}if(e.history==this.history){var r=[e.id];yi(e,(function(e){return r.push(e.id)}),!0),e.history=new Ci(null),e.history.done=Mi(this.history.done,r),e.history.undone=Mi(this.history.undone,r)}},iterLinkedDocs:function(e){yi(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):Me(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:Io((function(e){"rtl"!=e&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter((function(e){return e.order=null})),this.cm&&ki(this.cm))}))}),xa.prototype.eachLine=xa.prototype.iter;var Ea=0;function Sa(e){var t=this;if(Ta(t),!ye(t,e)&&!Gn(t.display,e)){Ce(e),a&&(Ea=+new Date);var n=Ir(t,e,!0),r=e.dataTransfer.files;if(n&&!t.isReadOnly())if(r&&r.length&&window.FileReader&&window.File)for(var o=r.length,i=Array(o),s=0,l=function(e,r){if(!t.options.allowDropFileTypes||-1!=z(t.options.allowDropFileTypes,e.type)){var a=new FileReader;a.onload=Po(t,(function(){var e=a.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(e)&&(e=""),i[r]=e,++s==o){var l={from:n=pt(t.doc,n),to:n,text:t.doc.splitLines(i.join(t.doc.lineSeparator())),origin:"paste"};Qi(t.doc,l),Vi(t.doc,li(n,ui(l)))}})),a.readAsText(e)}},u=0;u<o;++u)l(r[u],u);else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1)return t.state.draggingText(e),void setTimeout((function(){return t.display.input.focus()}),20);try{var c=e.dataTransfer.getData("Text");if(c){var d;if(t.state.draggingText&&!t.state.draggingText.copy&&(d=t.listSelections()),Hi(t.doc,li(n,n)),d)for(var p=0;p<d.length;++p)oa(t.doc,"",d[p].anchor,d[p].head,"drag");t.replaceSelection(c,"around","paste"),t.display.input.focus()}}catch(e){}}}}function _a(e,t){if(a&&(!e.state.draggingText||+new Date-Ea<100))Se(t);else if(!ye(e,t)&&!Gn(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!p)){var n=R("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",d&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),d&&n.parentNode.removeChild(n)}}function Oa(e,t){var n=Ir(e,t);if(n){var r=document.createDocumentFragment();Wr(e,n,r),e.display.dragCursor||(e.display.dragCursor=R("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),T(e.display.dragCursor,r)}}function Ta(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function Ra(e){if(document.getElementsByClassName){for(var t=document.getElementsByClassName("CodeMirror"),n=[],r=0;r<t.length;r++){var o=t[r].CodeMirror;o&&n.push(o)}n.length&&n[0].operation((function(){for(var t=0;t<n.length;t++)e(n[t])}))}}var Aa=!1;function Na(){Aa||(Da(),Aa=!0)}function Da(){var e;he(window,"resize",(function(){null==e&&(e=setTimeout((function(){e=null,Ra(Pa)}),100))})),he(window,"blur",(function(){return Ra(Qr)}))}function Pa(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}for(var Ma={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Ia=0;Ia<10;Ia++)Ma[Ia+48]=Ma[Ia+96]=String(Ia);for(var Fa=65;Fa<=90;Fa++)Ma[Fa]=String.fromCharCode(Fa);for(var La=1;La<=12;La++)Ma[La+111]=Ma[La+63235]="F"+La;var Ba={};function ja(e){var t,n,r,o,i=e.split(/-(?!$)/);e=i[i.length-1];for(var a=0;a<i.length-1;a++){var s=i[a];if(/^(cmd|meta|m)$/i.test(s))o=!0;else if(/^a(lt)?$/i.test(s))t=!0;else if(/^(c|ctrl|control)$/i.test(s))n=!0;else{if(!/^s(hift)?$/i.test(s))throw new Error("Unrecognized modifier name: "+s);r=!0}}return t&&(e="Alt-"+e),n&&(e="Ctrl-"+e),o&&(e="Cmd-"+e),r&&(e="Shift-"+e),e}function za(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==r){delete e[n];continue}for(var o=X(n.split(" "),ja),i=0;i<o.length;i++){var a=void 0,s=void 0;i==o.length-1?(s=o.join(" "),a=r):(s=o.slice(0,i+1).join(" "),a="...");var l=t[s];if(l){if(l!=a)throw new Error("Inconsistent bindings for "+s)}else t[s]=a}delete e[n]}for(var u in t)e[u]=t[u];return e}function Va(e,t,n,r){var o=(t=Wa(t)).call?t.call(e,r):t[e];if(!1===o)return"nothing";if("..."===o)return"multi";if(null!=o&&n(o))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return Va(e,t.fallthrough,n,r);for(var i=0;i<t.fallthrough.length;i++){var a=Va(e,t.fallthrough[i],n,r);if(a)return a}}}function Ua(e){var t="string"==typeof e?e:Ma[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function Ha(e,t,n){var r=e;return t.altKey&&"Alt"!=r&&(e="Alt-"+e),(C?t.metaKey:t.ctrlKey)&&"Ctrl"!=r&&(e="Ctrl-"+e),(C?t.ctrlKey:t.metaKey)&&"Cmd"!=r&&(e="Cmd-"+e),!n&&t.shiftKey&&"Shift"!=r&&(e="Shift-"+e),e}function Ga(e,t){if(d&&34==e.keyCode&&e.char)return!1;var n=Ma[e.keyCode];return null!=n&&!e.altGraphKey&&(3==e.keyCode&&e.code&&(n=e.code),Ha(n,e,t))}function Wa(e){return"string"==typeof e?Ba[e]:e}function qa(e,t){for(var n=e.doc.sel.ranges,r=[],o=0;o<n.length;o++){for(var i=t(n[o]);r.length&&at(i.from,$(r).to)<=0;){var a=r.pop();if(at(a.from,i.from)<0){i.from=a.from;break}}r.push(i)}Do(e,(function(){for(var t=r.length-1;t>=0;t--)oa(e.doc,"",r[t].from,r[t].to,"+delete");so(e)}))}function Ya(e,t,n){var r=ae(e.text,t+n,n);return r<0||r>e.text.length?null:r}function Ka(e,t,n){var r=Ya(e,t.ch,n);return null==r?null:new it(t.line,r,n<0?"after":"before")}function $a(e,t,n,r,o){if(e){var i=pe(n,t.doc.direction);if(i){var a,s=o<0?$(i):i[0],l=o<0==(1==s.level)?"after":"before";if(s.level>0||"rtl"==t.doc.direction){var u=nr(t,n);a=o<0?n.text.length-1:0;var c=rr(t,u,a).top;a=se((function(e){return rr(t,u,e).top==c}),o<0==(1==s.level)?s.from:s.to-1,a),"before"==l&&(a=Ya(n,a,1))}else a=o<0?s.to:s.from;return new it(r,a,l)}}return new it(r,o<0?n.text.length:0,o<0?"before":"after")}function Xa(e,t,n,r){var o=pe(t,e.doc.direction);if(!o)return Ka(t,n,r);n.ch>=t.text.length?(n.ch=t.text.length,n.sticky="before"):n.ch<=0&&(n.ch=0,n.sticky="after");var i=ce(o,n.ch,n.sticky),a=o[i];if("ltr"==e.doc.direction&&a.level%2==0&&(r>0?a.to>n.ch:a.from<n.ch))return Ka(t,n,r);var s,l=function(e,n){return Ya(t,e instanceof it?e.ch:e,n)},u=function(n){return e.options.lineWrapping?(s=s||nr(e,t),Er(e,t,s,n)):{begin:0,end:t.text.length}},c=u("before"==n.sticky?l(n,-1):n.ch);if("rtl"==e.doc.direction||1==a.level){var d=1==a.level==r<0,p=l(n,d?1:-1);if(null!=p&&(d?p<=a.to&&p<=c.end:p>=a.from&&p>=c.begin)){var f=d?"before":"after";return new it(n.line,p,f)}}var h=function(e,t,r){for(var i=function(e,t){return t?new it(n.line,l(e,1),"before"):new it(n.line,e,"after")};e>=0&&e<o.length;e+=t){var a=o[e],s=t>0==(1!=a.level),u=s?r.begin:l(r.end,-1);if(a.from<=u&&u<a.to)return i(u,s);if(u=s?a.from:l(a.to,-1),r.begin<=u&&u<r.end)return i(u,s)}},m=h(i+r,r,c);if(m)return m;var g=r>0?c.end:l(c.begin,-1);return null==g||r>0&&g==t.text.length||!(m=h(r>0?0:o.length-1,r,u(g)))?null:m}Ba.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Ba.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Ba.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Ba.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Ba.default=y?Ba.macDefault:Ba.pcDefault;var Ja={selectAll:Xi,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),H)},killLine:function(e){return qa(e,(function(t){if(t.empty()){var n=Je(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:it(t.head.line+1,0)}:{from:t.head,to:it(t.head.line,n)}}return{from:t.from(),to:t.to()}}))},deleteLine:function(e){return qa(e,(function(t){return{from:it(t.from().line,0),to:pt(e.doc,it(t.to().line+1,0))}}))},delLineLeft:function(e){return qa(e,(function(e){return{from:it(e.from().line,0),to:e.from()}}))},delWrappedLineLeft:function(e){return qa(e,(function(t){var n=e.charCoords(t.head,"div").top+5;return{from:e.coordsChar({left:0,top:n},"div"),to:t.from()}}))},delWrappedLineRight:function(e){return qa(e,(function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div");return{from:t.from(),to:r}}))},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(it(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(it(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy((function(t){return Qa(e,t.head.line)}),{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy((function(t){return es(e,t.head)}),{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy((function(t){return Za(e,t.head.line)}),{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy((function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div")}),W)},goLineLeft:function(e){return e.extendSelectionsBy((function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:n},"div")}),W)},goLineLeftSmart:function(e){return e.extendSelectionsBy((function(t){var n=e.cursorCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return r.ch<e.getLine(r.line).search(/\S/)?es(e,t.head):r}),W)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"char")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),r=e.options.tabSize,o=0;o<n.length;o++){var i=n[o].from(),a=B(e.getLine(i.line),i.ch,r);t.push(K(r-a%r))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return Do(e,(function(){for(var t=e.listSelections(),n=[],r=0;r<t.length;r++)if(t[r].empty()){var o=t[r].head,i=Je(e.doc,o.line).text;if(i)if(o.ch==i.length&&(o=new it(o.line,o.ch-1)),o.ch>0)o=new it(o.line,o.ch+1),e.replaceRange(i.charAt(o.ch-1)+i.charAt(o.ch-2),it(o.line,o.ch-2),o,"+transpose");else if(o.line>e.doc.first){var a=Je(e.doc,o.line-1).text;a&&(o=new it(o.line,1),e.replaceRange(i.charAt(0)+e.doc.lineSeparator()+a.charAt(a.length-1),it(o.line-1,a.length-1),o,"+transpose"))}n.push(new ai(o,o))}e.setSelections(n)}))},newlineAndIndent:function(e){return Do(e,(function(){for(var t=e.listSelections(),n=t.length-1;n>=0;n--)e.replaceRange(e.doc.lineSeparator(),t[n].anchor,t[n].head,"+input");t=e.listSelections();for(var r=0;r<t.length;r++)e.indentLine(t[r].from().line,null,!0);so(e)}))},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function Qa(e,t){var n=Je(e.doc,t),r=Qt(n);return r!=n&&(t=tt(r)),$a(!0,e,r,t,1)}function Za(e,t){var n=Je(e.doc,t),r=Zt(n);return r!=n&&(t=tt(r)),$a(!0,e,n,t,-1)}function es(e,t){var n=Qa(e,t.line),r=Je(e.doc,n.line),o=pe(r,e.doc.direction);if(!o||0==o[0].level){var i=Math.max(0,r.text.search(/\S/)),a=t.line==n.line&&t.ch<=i&&t.ch;return it(n.line,a?0:i,n.sticky)}return n}function ts(e,t,n){if("string"==typeof t&&!(t=Ja[t]))return!1;e.display.input.ensurePolled();var r=e.display.shift,o=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),o=t(e)!=U}finally{e.display.shift=r,e.state.suppressEdits=!1}return o}function ns(e,t,n){for(var r=0;r<e.state.keyMaps.length;r++){var o=Va(t,e.state.keyMaps[r],n,e);if(o)return o}return e.options.extraKeys&&Va(t,e.options.extraKeys,n,e)||Va(t,e.options.keyMap,n,e)}var rs=new j;function os(e,t,n,r){var o=e.state.keySeq;if(o){if(Ua(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:rs.set(50,(function(){e.state.keySeq==o&&(e.state.keySeq=null,e.display.input.reset())})),is(e,o+" "+t,n,r))return!0}return is(e,t,n,r)}function is(e,t,n,r){var o=ns(e,t,r);return"multi"==o&&(e.state.keySeq=t),"handled"==o&&Rn(e,"keyHandled",e,t,n),"handled"!=o&&"multi"!=o||(Ce(n),Kr(e)),!!o}function as(e,t){var n=Ga(t,!0);return!!n&&(t.shiftKey&&!e.state.keySeq?os(e,"Shift-"+n,t,(function(t){return ts(e,t,!0)}))||os(e,n,t,(function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return ts(e,t)})):os(e,n,t,(function(t){return ts(e,t)})))}function ss(e,t,n){return os(e,"'"+n+"'",t,(function(t){return ts(e,t,!0)}))}var ls=null;function us(e){var t=this;if(t.curOp.focus=D(),!ye(t,e)){a&&s<11&&27==e.keyCode&&(e.returnValue=!1);var n=e.keyCode;t.display.shift=16==n||e.shiftKey;var r=as(t,e);d&&(ls=r?n:null,r||88!=n||Fe||!(y?e.metaKey:e.ctrlKey)||t.replaceSelection("",null,"cut")),18!=n||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||cs(t)}}function cs(e){var t=e.display.lineDiv;function n(e){18!=e.keyCode&&e.altKey||(_(t,"CodeMirror-crosshair"),ge(document,"keyup",n),ge(document,"mouseover",n))}P(t,"CodeMirror-crosshair"),he(document,"keyup",n),he(document,"mouseover",n)}function ds(e){16==e.keyCode&&(this.doc.sel.shift=!1),ye(this,e)}function ps(e){var t=this;if(!(Gn(t.display,e)||ye(t,e)||e.ctrlKey&&!e.altKey||y&&e.metaKey)){var n=e.keyCode,r=e.charCode;if(d&&n==ls)return ls=null,void Ce(e);if(!d||e.which&&!(e.which<10)||!as(t,e)){var o=String.fromCharCode(null==r?n:r);"\b"!=o&&(ss(t,e,o)||t.display.input.onKeyPress(e))}}}var fs,hs,ms=400,gs=function(e,t,n){this.time=e,this.pos=t,this.button=n};function vs(e,t){var n=+new Date;return hs&&hs.compare(n,e,t)?(fs=hs=null,"triple"):fs&&fs.compare(n,e,t)?(hs=new gs(n,e,t),fs=null,"double"):(fs=new gs(n,e,t),hs=null,"single")}function ys(e){var t=this,n=t.display;if(!(ye(t,e)||n.activeTouch&&n.input.supportsTouch()))if(n.input.ensurePolled(),n.shift=e.shiftKey,Gn(n,e))l||(n.scroller.draggable=!1,setTimeout((function(){return n.scroller.draggable=!0}),100));else if(!Os(t,e)){var r=Ir(t,e),o=Oe(e),i=r?vs(r,o):"single";window.focus(),1==o&&t.state.selectingText&&t.state.selectingText(e),r&&bs(t,o,r,i,e)||(1==o?r?ks(t,r,i,e):_e(e)==n.scroller&&Ce(e):2==o?(r&&Fi(t.doc,r),setTimeout((function(){return n.input.focus()}),20)):3==o&&(x?t.display.input.onContextMenu(e):Xr(t)))}}function bs(e,t,n,r,o){var i="Click";return"double"==r?i="Double"+i:"triple"==r&&(i="Triple"+i),os(e,Ha(i=(1==t?"Left":2==t?"Middle":"Right")+i,o),o,(function(t){if("string"==typeof t&&(t=Ja[t]),!t)return!1;var r=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),r=t(e,n)!=U}finally{e.state.suppressEdits=!1}return r}))}function ws(e,t,n){var r=e.getOption("configureMouse"),o=r?r(e,t,n):{};if(null==o.unit){var i=b?n.shiftKey&&n.metaKey:n.altKey;o.unit=i?"rectangle":"single"==t?"char":"double"==t?"word":"line"}return(null==o.extend||e.doc.extend)&&(o.extend=e.doc.extend||n.shiftKey),null==o.addNew&&(o.addNew=y?n.metaKey:n.ctrlKey),null==o.moveOnDrag&&(o.moveOnDrag=!(y?n.altKey:n.ctrlKey)),o}function ks(e,t,n,r){a?setTimeout(F($r,e),0):e.curOp.focus=D();var o,i=ws(e,n,r),s=e.doc.sel;e.options.dragDrop&&Ae&&!e.isReadOnly()&&"single"==n&&(o=s.contains(t))>-1&&(at((o=s.ranges[o]).from(),t)<0||t.xRel>0)&&(at(o.to(),t)>0||t.xRel<0)?Cs(e,r,t,i):Es(e,r,t,i)}function Cs(e,t,n,r){var o=e.display,i=!1,u=Po(e,(function(t){l&&(o.scroller.draggable=!1),e.state.draggingText=!1,ge(o.wrapper.ownerDocument,"mouseup",u),ge(o.wrapper.ownerDocument,"mousemove",c),ge(o.scroller,"dragstart",d),ge(o.scroller,"drop",u),i||(Ce(t),r.addNew||Fi(e.doc,n,null,null,r.extend),l||a&&9==s?setTimeout((function(){o.wrapper.ownerDocument.body.focus(),o.input.focus()}),20):o.input.focus())})),c=function(e){i=i||Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)>=10},d=function(){return i=!0};l&&(o.scroller.draggable=!0),e.state.draggingText=u,u.copy=!r.moveOnDrag,o.scroller.dragDrop&&o.scroller.dragDrop(),he(o.wrapper.ownerDocument,"mouseup",u),he(o.wrapper.ownerDocument,"mousemove",c),he(o.scroller,"dragstart",d),he(o.scroller,"drop",u),Xr(e),setTimeout((function(){return o.input.focus()}),20)}function xs(e,t,n){if("char"==n)return new ai(t,t);if("word"==n)return e.findWordAt(t);if("line"==n)return new ai(it(t.line,0),pt(e.doc,it(t.line+1,0)));var r=n(e,t);return new ai(r.from,r.to)}function Es(e,t,n,r){var o=e.display,i=e.doc;Ce(t);var a,s,l=i.sel,u=l.ranges;if(r.addNew&&!r.extend?(s=i.sel.contains(n),a=s>-1?u[s]:new ai(n,n)):(a=i.sel.primary(),s=i.sel.primIndex),"rectangle"==r.unit)r.addNew||(a=new ai(n,n)),n=Ir(e,t,!0,!0),s=-1;else{var c=xs(e,n,r.unit);a=r.extend?Ii(a,c.anchor,c.head,r.extend):c}r.addNew?-1==s?(s=u.length,Ui(i,si(e,u.concat([a]),s),{scroll:!1,origin:"*mouse"})):u.length>1&&u[s].empty()&&"char"==r.unit&&!r.extend?(Ui(i,si(e,u.slice(0,s).concat(u.slice(s+1)),0),{scroll:!1,origin:"*mouse"}),l=i.sel):Bi(i,s,a,G):(s=0,Ui(i,new ii([a],0),G),l=i.sel);var d=n;function p(t){if(0!=at(d,t))if(d=t,"rectangle"==r.unit){for(var o=[],u=e.options.tabSize,c=B(Je(i,n.line).text,n.ch,u),p=B(Je(i,t.line).text,t.ch,u),f=Math.min(c,p),h=Math.max(c,p),m=Math.min(n.line,t.line),g=Math.min(e.lastLine(),Math.max(n.line,t.line));m<=g;m++){var v=Je(i,m).text,y=q(v,f,u);f==h?o.push(new ai(it(m,y),it(m,y))):v.length>y&&o.push(new ai(it(m,y),it(m,q(v,h,u))))}o.length||o.push(new ai(n,n)),Ui(i,si(e,l.ranges.slice(0,s).concat(o),s),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var b,w=a,k=xs(e,t,r.unit),C=w.anchor;at(k.anchor,C)>0?(b=k.head,C=ct(w.from(),k.anchor)):(b=k.anchor,C=ut(w.to(),k.head));var x=l.ranges.slice(0);x[s]=Ss(e,new ai(pt(i,C),b)),Ui(i,si(e,x,s),G)}}var f=o.wrapper.getBoundingClientRect(),h=0;function m(t){var n=++h,a=Ir(e,t,!0,"rectangle"==r.unit);if(a)if(0!=at(a,d)){e.curOp.focus=D(),p(a);var s=to(o,i);(a.line>=s.to||a.line<s.from)&&setTimeout(Po(e,(function(){h==n&&m(t)})),150)}else{var l=t.clientY<f.top?-20:t.clientY>f.bottom?20:0;l&&setTimeout(Po(e,(function(){h==n&&(o.scroller.scrollTop+=l,m(t))})),50)}}function g(t){e.state.selectingText=!1,h=1/0,t&&(Ce(t),o.input.focus()),ge(o.wrapper.ownerDocument,"mousemove",v),ge(o.wrapper.ownerDocument,"mouseup",y),i.history.lastSelOrigin=null}var v=Po(e,(function(e){0!==e.buttons&&Oe(e)?m(e):g(e)})),y=Po(e,g);e.state.selectingText=y,he(o.wrapper.ownerDocument,"mousemove",v),he(o.wrapper.ownerDocument,"mouseup",y)}function Ss(e,t){var n=t.anchor,r=t.head,o=Je(e.doc,n.line);if(0==at(n,r)&&n.sticky==r.sticky)return t;var i=pe(o);if(!i)return t;var a=ce(i,n.ch,n.sticky),s=i[a];if(s.from!=n.ch&&s.to!=n.ch)return t;var l,u=a+(s.from==n.ch==(1!=s.level)?0:1);if(0==u||u==i.length)return t;if(r.line!=n.line)l=(r.line-n.line)*("ltr"==e.doc.direction?1:-1)>0;else{var c=ce(i,r.ch,r.sticky),d=c-a||(r.ch-n.ch)*(1==s.level?-1:1);l=c==u-1||c==u?d<0:d>0}var p=i[u+(l?-1:0)],f=l==(1==p.level),h=f?p.from:p.to,m=f?"after":"before";return n.ch==h&&n.sticky==m?t:new ai(new it(n.line,h,m),r)}function _s(e,t,n,r){var o,i;if(t.touches)o=t.touches[0].clientX,i=t.touches[0].clientY;else try{o=t.clientX,i=t.clientY}catch(t){return!1}if(o>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;r&&Ce(t);var a=e.display,s=a.lineDiv.getBoundingClientRect();if(i>s.bottom||!we(e,n))return Ee(t);i-=s.top-a.viewOffset;for(var l=0;l<e.display.gutterSpecs.length;++l){var u=a.gutters.childNodes[l];if(u&&u.getBoundingClientRect().right>=o)return ve(e,n,e,nt(e.doc,i),e.display.gutterSpecs[l].className,t),Ee(t)}}function Os(e,t){return _s(e,t,"gutterClick",!0)}function Ts(e,t){Gn(e.display,t)||Rs(e,t)||ye(e,t,"contextmenu")||x||e.display.input.onContextMenu(t)}function Rs(e,t){return!!we(e,"gutterContextMenu")&&_s(e,t,"gutterContextMenu",!1)}function As(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),pr(e)}gs.prototype.compare=function(e,t,n){return this.time+ms>e&&0==at(t,this.pos)&&n==this.button};var Ns={toString:function(){return"CodeMirror.Init"}},Ds={},Ps={};function Ms(e){var t=e.optionHandlers;function n(n,r,o,i){e.defaults[n]=r,o&&(t[n]=i?function(e,t,n){n!=Ns&&o(e,t,n)}:o)}e.defineOption=n,e.Init=Ns,n("value","",(function(e,t){return e.setValue(t)}),!0),n("mode",null,(function(e,t){e.doc.modeOption=t,hi(e)}),!0),n("indentUnit",2,hi,!0),n("indentWithTabs",!1),n("smartIndent",!0),n("tabSize",4,(function(e){mi(e),pr(e),Lr(e)}),!0),n("lineSeparator",null,(function(e,t){if(e.doc.lineSep=t,t){var n=[],r=e.doc.first;e.doc.iter((function(e){for(var o=0;;){var i=e.text.indexOf(t,o);if(-1==i)break;o=i+t.length,n.push(it(r,i))}r++}));for(var o=n.length-1;o>=0;o--)oa(e.doc,t,n[o],it(n[o].line,n[o].ch+t.length))}})),n("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff]/g,(function(e,t,n){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),n!=Ns&&e.refresh()})),n("specialCharPlaceholder",gn,(function(e){return e.refresh()}),!0),n("electricChars",!0),n("inputStyle",v?"contenteditable":"textarea",(function(){throw new Error("inputStyle can not (yet) be changed in a running editor")}),!0),n("spellcheck",!1,(function(e,t){return e.getInputField().spellcheck=t}),!0),n("autocorrect",!1,(function(e,t){return e.getInputField().autocorrect=t}),!0),n("autocapitalize",!1,(function(e,t){return e.getInputField().autocapitalize=t}),!0),n("rtlMoveVisually",!w),n("wholeLineUpdateBefore",!0),n("theme","default",(function(e){As(e),Qo(e)}),!0),n("keyMap","default",(function(e,t,n){var r=Wa(t),o=n!=Ns&&Wa(n);o&&o.detach&&o.detach(e,r),r.attach&&r.attach(e,o||null)})),n("extraKeys",null),n("configureMouse",null),n("lineWrapping",!1,Fs,!0),n("gutters",[],(function(e,t){e.display.gutterSpecs=Xo(t,e.options.lineNumbers),Qo(e)}),!0),n("fixedGutter",!0,(function(e,t){e.display.gutters.style.left=t?Dr(e.display)+"px":"0",e.refresh()}),!0),n("coverGutterNextToScrollbar",!1,(function(e){return bo(e)}),!0),n("scrollbarStyle","native",(function(e){Co(e),bo(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)}),!0),n("lineNumbers",!1,(function(e,t){e.display.gutterSpecs=Xo(e.options.gutters,t),Qo(e)}),!0),n("firstLineNumber",1,Qo,!0),n("lineNumberFormatter",(function(e){return e}),Qo,!0),n("showCursorWhenSelecting",!1,Hr,!0),n("resetSelectionOnContextMenu",!0),n("lineWiseCopyCut",!0),n("pasteLinesPerSelection",!0),n("selectionsMayTouch",!1),n("readOnly",!1,(function(e,t){"nocursor"==t&&(Qr(e),e.display.input.blur()),e.display.input.readOnlyChanged(t)})),n("disableInput",!1,(function(e,t){t||e.display.input.reset()}),!0),n("dragDrop",!0,Is),n("allowDropFileTypes",null),n("cursorBlinkRate",530),n("cursorScrollMargin",0),n("cursorHeight",1,Hr,!0),n("singleCursorHeightPerLine",!0,Hr,!0),n("workTime",100),n("workDelay",100),n("flattenSpans",!0,mi,!0),n("addModeClass",!1,mi,!0),n("pollInterval",100),n("undoDepth",200,(function(e,t){return e.doc.history.undoDepth=t})),n("historyEventDelay",1250),n("viewportMargin",10,(function(e){return e.refresh()}),!0),n("maxHighlightLength",1e4,mi,!0),n("moveInputWithCursor",!0,(function(e,t){t||e.display.input.resetPosition()})),n("tabindex",null,(function(e,t){return e.display.input.getField().tabIndex=t||""})),n("autofocus",null),n("direction","ltr",(function(e,t){return e.doc.setDirection(t)}),!0),n("phrases",null)}function Is(e,t,n){if(!t!=!(n&&n!=Ns)){var r=e.display.dragFunctions,o=t?he:ge;o(e.display.scroller,"dragstart",r.start),o(e.display.scroller,"dragenter",r.enter),o(e.display.scroller,"dragover",r.over),o(e.display.scroller,"dragleave",r.leave),o(e.display.scroller,"drop",r.drop)}}function Fs(e){e.options.lineWrapping?(P(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(_(e.display.wrapper,"CodeMirror-wrap"),ln(e)),Mr(e),Lr(e),pr(e),setTimeout((function(){return bo(e)}),100)}function Ls(e,t){var n=this;if(!(this instanceof Ls))return new Ls(e,t);this.options=t=t?L(t):{},L(Ds,t,!1);var r=t.value;"string"==typeof r?r=new xa(r,t.mode,null,t.lineSeparator,t.direction):t.mode&&(r.modeOption=t.mode),this.doc=r;var o=new Ls.inputStyles[t.inputStyle](this),i=this.display=new Zo(e,r,o,t);for(var u in i.wrapper.CodeMirror=this,As(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Co(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new j,keySeq:null,specialChars:null},t.autofocus&&!v&&i.input.focus(),a&&s<11&&setTimeout((function(){return n.display.input.reset(!0)}),20),Bs(this),Na(),Eo(this),this.curOp.forceUpdate=!0,bi(this,r),t.autofocus&&!v||this.hasFocus()?setTimeout(F(Jr,this),20):Qr(this),Ps)Ps.hasOwnProperty(u)&&Ps[u](n,t[u],Ns);$o(this),t.finishInit&&t.finishInit(this);for(var c=0;c<js.length;++c)js[c](n);So(this),l&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(i.lineDiv).textRendering&&(i.lineDiv.style.textRendering="auto")}function Bs(e){var t=e.display;he(t.scroller,"mousedown",Po(e,ys)),he(t.scroller,"dblclick",a&&s<11?Po(e,(function(t){if(!ye(e,t)){var n=Ir(e,t);if(n&&!Os(e,t)&&!Gn(e.display,t)){Ce(t);var r=e.findWordAt(n);Fi(e.doc,r.anchor,r.head)}}})):function(t){return ye(e,t)||Ce(t)}),he(t.scroller,"contextmenu",(function(t){return Ts(e,t)}));var n,r={end:0};function o(){t.activeTouch&&(n=setTimeout((function(){return t.activeTouch=null}),1e3),(r=t.activeTouch).end=+new Date)}function i(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}function l(e,t){if(null==t.left)return!0;var n=t.left-e.left,r=t.top-e.top;return n*n+r*r>400}he(t.scroller,"touchstart",(function(o){if(!ye(e,o)&&!i(o)&&!Os(e,o)){t.input.ensurePolled(),clearTimeout(n);var a=+new Date;t.activeTouch={start:a,moved:!1,prev:a-r.end<=300?r:null},1==o.touches.length&&(t.activeTouch.left=o.touches[0].pageX,t.activeTouch.top=o.touches[0].pageY)}})),he(t.scroller,"touchmove",(function(){t.activeTouch&&(t.activeTouch.moved=!0)})),he(t.scroller,"touchend",(function(n){var r=t.activeTouch;if(r&&!Gn(t,n)&&null!=r.left&&!r.moved&&new Date-r.start<300){var i,a=e.coordsChar(t.activeTouch,"page");i=!r.prev||l(r,r.prev)?new ai(a,a):!r.prev.prev||l(r,r.prev.prev)?e.findWordAt(a):new ai(it(a.line,0),pt(e.doc,it(a.line+1,0))),e.setSelection(i.anchor,i.head),e.focus(),Ce(n)}o()})),he(t.scroller,"touchcancel",o),he(t.scroller,"scroll",(function(){t.scroller.clientHeight&&(fo(e,t.scroller.scrollTop),mo(e,t.scroller.scrollLeft,!0),ve(e,"scroll",e))})),he(t.scroller,"mousewheel",(function(t){return oi(e,t)})),he(t.scroller,"DOMMouseScroll",(function(t){return oi(e,t)})),he(t.wrapper,"scroll",(function(){return t.wrapper.scrollTop=t.wrapper.scrollLeft=0})),t.dragFunctions={enter:function(t){ye(e,t)||Se(t)},over:function(t){ye(e,t)||(Oa(e,t),Se(t))},start:function(t){return _a(e,t)},drop:Po(e,Sa),leave:function(t){ye(e,t)||Ta(e)}};var u=t.input.getField();he(u,"keyup",(function(t){return ds.call(e,t)})),he(u,"keydown",Po(e,us)),he(u,"keypress",Po(e,ps)),he(u,"focus",(function(t){return Jr(e,t)})),he(u,"blur",(function(t){return Qr(e,t)}))}Ls.defaults=Ds,Ls.optionHandlers=Ps;var js=[];function zs(e,t,n,r){var o,i=e.doc;null==n&&(n="add"),"smart"==n&&(i.mode.indent?o=bt(e,t).state:n="prev");var a=e.options.tabSize,s=Je(i,t),l=B(s.text,null,a);s.stateAfter&&(s.stateAfter=null);var u,c=s.text.match(/^\s*/)[0];if(r||/\S/.test(s.text)){if("smart"==n&&((u=i.mode.indent(o,s.text.slice(c.length),s.text))==U||u>150)){if(!r)return;n="prev"}}else u=0,n="not";"prev"==n?u=t>i.first?B(Je(i,t-1).text,null,a):0:"add"==n?u=l+e.options.indentUnit:"subtract"==n?u=l-e.options.indentUnit:"number"==typeof n&&(u=l+n),u=Math.max(0,u);var d="",p=0;if(e.options.indentWithTabs)for(var f=Math.floor(u/a);f;--f)p+=a,d+="\t";if(p<u&&(d+=K(u-p)),d!=c)return oa(i,d,it(t,0),it(t,c.length),"+input"),s.stateAfter=null,!0;for(var h=0;h<i.sel.ranges.length;h++){var m=i.sel.ranges[h];if(m.head.line==t&&m.head.ch<c.length){var g=it(t,c.length);Bi(i,h,new ai(g,g));break}}}Ls.defineInitHook=function(e){return js.push(e)};var Vs=null;function Us(e){Vs=e}function Hs(e,t,n,r,o){var i=e.doc;e.display.shift=!1,r||(r=i.sel);var a=+new Date-200,s="paste"==o||e.state.pasteIncoming>a,l=Me(t),u=null;if(s&&r.ranges.length>1)if(Vs&&Vs.text.join("\n")==t){if(r.ranges.length%Vs.text.length==0){u=[];for(var c=0;c<Vs.text.length;c++)u.push(i.splitLines(Vs.text[c]))}}else l.length==r.ranges.length&&e.options.pasteLinesPerSelection&&(u=X(l,(function(e){return[e]})));for(var d=e.curOp.updateInput,p=r.ranges.length-1;p>=0;p--){var f=r.ranges[p],h=f.from(),m=f.to();f.empty()&&(n&&n>0?h=it(h.line,h.ch-n):e.state.overwrite&&!s?m=it(m.line,Math.min(Je(i,m.line).text.length,m.ch+$(l).length)):s&&Vs&&Vs.lineWise&&Vs.text.join("\n")==t&&(h=m=it(h.line,0)));var g={from:h,to:m,text:u?u[p%u.length]:l,origin:o||(s?"paste":e.state.cutIncoming>a?"cut":"+input")};Qi(e.doc,g),Rn(e,"inputRead",e,g)}t&&!s&&Ws(e,t),so(e),e.curOp.updateInput<2&&(e.curOp.updateInput=d),e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=-1}function Gs(e,t){var n=e.clipboardData&&e.clipboardData.getData("Text");if(n)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||Do(t,(function(){return Hs(t,n,0,null,"paste")})),!0}function Ws(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var n=e.doc.sel,r=n.ranges.length-1;r>=0;r--){var o=n.ranges[r];if(!(o.head.ch>100||r&&n.ranges[r-1].head.line==o.head.line)){var i=e.getModeAt(o.head),a=!1;if(i.electricChars){for(var s=0;s<i.electricChars.length;s++)if(t.indexOf(i.electricChars.charAt(s))>-1){a=zs(e,o.head.line,"smart");break}}else i.electricInput&&i.electricInput.test(Je(e.doc,o.head.line).text.slice(0,o.head.ch))&&(a=zs(e,o.head.line,"smart"));a&&Rn(e,"electricInput",e,o.head.line)}}}function qs(e){for(var t=[],n=[],r=0;r<e.doc.sel.ranges.length;r++){var o=e.doc.sel.ranges[r].head.line,i={anchor:it(o,0),head:it(o+1,0)};n.push(i),t.push(e.getRange(i.anchor,i.head))}return{text:t,ranges:n}}function Ys(e,t,n,r){e.setAttribute("autocorrect",n?"":"off"),e.setAttribute("autocapitalize",r?"":"off"),e.setAttribute("spellcheck",!!t)}function Ks(){var e=R("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=R("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return l?e.style.width="1000px":e.setAttribute("wrap","off"),m&&(e.style.border="1px solid black"),Ys(e),t}function $s(e){var t=e.optionHandlers,n=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,n){var r=this.options,o=r[e];r[e]==n&&"mode"!=e||(r[e]=n,t.hasOwnProperty(e)&&Po(this,t[e])(this,n,o),ve(this,"optionChange",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](Wa(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,n=0;n<t.length;++n)if(t[n]==e||t[n].name==e)return t.splice(n,1),!0},addOverlay:Mo((function(t,n){var r=t.token?t:e.getMode(this.options,t);if(r.startState)throw new Error("Overlays may not be stateful.");J(this.state.overlays,{mode:r,modeSpec:t,opaque:n&&n.opaque,priority:n&&n.priority||0},(function(e){return e.priority})),this.state.modeGen++,Lr(this)})),removeOverlay:Mo((function(e){for(var t=this,n=this.state.overlays,r=0;r<n.length;++r){var o=n[r].modeSpec;if(o==e||"string"==typeof e&&o.name==e)return n.splice(r,1),t.state.modeGen++,void Lr(t)}})),indentLine:Mo((function(e,t,n){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),rt(this.doc,e)&&zs(this,e,t,n)})),indentSelection:Mo((function(e){for(var t=this,n=this.doc.sel.ranges,r=-1,o=0;o<n.length;o++){var i=n[o];if(i.empty())i.head.line>r&&(zs(t,i.head.line,e,!0),r=i.head.line,o==t.doc.sel.primIndex&&so(t));else{var a=i.from(),s=i.to(),l=Math.max(r,a.line);r=Math.min(t.lastLine(),s.line-(s.ch?0:1))+1;for(var u=l;u<r;++u)zs(t,u,e);var c=t.doc.sel.ranges;0==a.ch&&n.length==c.length&&c[o].from().ch>0&&Bi(t.doc,o,new ai(a,c[o].to()),H)}}})),getTokenAt:function(e,t){return Et(this,e,t)},getLineTokens:function(e,t){return Et(this,it(e),t,!0)},getTokenTypeAt:function(e){e=pt(this.doc,e);var t,n=yt(this,Je(this.doc,e.line)),r=0,o=(n.length-1)/2,i=e.ch;if(0==i)t=n[2];else for(;;){var a=r+o>>1;if((a?n[2*a-1]:0)>=i)o=a;else{if(!(n[2*a+1]<i)){t=n[2*a+2];break}r=a+1}}var s=t?t.indexOf("overlay "):-1;return s<0?t:0==s?null:t.slice(0,s-1)},getModeAt:function(t){var n=this.doc.mode;return n.innerMode?e.innerMode(n,this.getTokenAt(t).state).mode:n},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var r=this,o=[];if(!n.hasOwnProperty(t))return o;var i=n[t],a=this.getModeAt(e);if("string"==typeof a[t])i[a[t]]&&o.push(i[a[t]]);else if(a[t])for(var s=0;s<a[t].length;s++){var l=i[a[t][s]];l&&o.push(l)}else a.helperType&&i[a.helperType]?o.push(i[a.helperType]):i[a.name]&&o.push(i[a.name]);for(var u=0;u<i._global.length;u++){var c=i._global[u];c.pred(a,r)&&-1==z(o,c.val)&&o.push(c.val)}return o},getStateAfter:function(e,t){var n=this.doc;return bt(this,(e=dt(n,null==e?n.first+n.size-1:e))+1,t).state},cursorCoords:function(e,t){var n=this.doc.sel.primary();return br(this,null==e?n.head:"object"==typeof e?pt(this.doc,e):e?n.from():n.to(),t||"page")},charCoords:function(e,t){return yr(this,pt(this.doc,e),t||"page")},coordsChar:function(e,t){return Cr(this,(e=vr(this,e,t||"page")).left,e.top)},lineAtHeight:function(e,t){return e=vr(this,{top:e,left:0},t||"page").top,nt(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,n){var r,o=!1;if("number"==typeof e){var i=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>i&&(e=i,o=!0),r=Je(this.doc,e)}else r=e;return gr(this,r,{top:0,left:0},t||"page",n||o).top+(o?this.doc.height-an(r):0)},defaultTextHeight:function(){return Rr(this.display)},defaultCharWidth:function(){return Ar(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,r,o){var i=this.display,a=(e=br(this,pt(this.doc,e))).bottom,s=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),i.sizer.appendChild(t),"over"==r)a=e.top;else if("above"==r||"near"==r){var l=Math.max(i.wrapper.clientHeight,this.doc.height),u=Math.max(i.sizer.clientWidth,i.lineSpace.clientWidth);("above"==r||e.bottom+t.offsetHeight>l)&&e.top>t.offsetHeight?a=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=l&&(a=e.bottom),s+t.offsetWidth>u&&(s=u-t.offsetWidth)}t.style.top=a+"px",t.style.left=t.style.right="","right"==o?(s=i.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==o?s=0:"middle"==o&&(s=(i.sizer.clientWidth-t.offsetWidth)/2),t.style.left=s+"px"),n&&oo(this,{left:s,top:a,right:s+t.offsetWidth,bottom:a+t.offsetHeight})},triggerOnKeyDown:Mo(us),triggerOnKeyPress:Mo(ps),triggerOnKeyUp:ds,triggerOnMouseDown:Mo(ys),execCommand:function(e){if(Ja.hasOwnProperty(e))return Ja[e].call(null,this)},triggerElectric:Mo((function(e){Ws(this,e)})),findPosH:function(e,t,n,r){var o=this,i=1;t<0&&(i=-1,t=-t);for(var a=pt(this.doc,e),s=0;s<t&&!(a=Xs(o.doc,a,i,n,r)).hitSide;++s);return a},moveH:Mo((function(e,t){var n=this;this.extendSelectionsBy((function(r){return n.display.shift||n.doc.extend||r.empty()?Xs(n.doc,r.head,e,t,n.options.rtlMoveVisually):e<0?r.from():r.to()}),W)})),deleteH:Mo((function(e,t){var n=this.doc.sel,r=this.doc;n.somethingSelected()?r.replaceSelection("",null,"+delete"):qa(this,(function(n){var o=Xs(r,n.head,e,t,!1);return e<0?{from:o,to:n.head}:{from:n.head,to:o}}))})),findPosV:function(e,t,n,r){var o=this,i=1,a=r;t<0&&(i=-1,t=-t);for(var s=pt(this.doc,e),l=0;l<t;++l){var u=br(o,s,"div");if(null==a?a=u.left:u.left=a,(s=Js(o,u,i,n)).hitSide)break}return s},moveV:Mo((function(e,t){var n=this,r=this.doc,o=[],i=!this.display.shift&&!r.extend&&r.sel.somethingSelected();if(r.extendSelectionsBy((function(a){if(i)return e<0?a.from():a.to();var s=br(n,a.head,"div");null!=a.goalColumn&&(s.left=a.goalColumn),o.push(s.left);var l=Js(n,s,e,t);return"page"==t&&a==r.sel.primary()&&ao(n,yr(n,l,"div").top-s.top),l}),W),o.length)for(var a=0;a<r.sel.ranges.length;a++)r.sel.ranges[a].goalColumn=o[a]})),findWordAt:function(e){var t=Je(this.doc,e.line).text,n=e.ch,r=e.ch;if(t){var o=this.getHelper(e,"wordChars");"before"!=e.sticky&&r!=t.length||!n?++r:--n;for(var i=t.charAt(n),a=ne(i,o)?function(e){return ne(e,o)}:/\s/.test(i)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!ne(e)};n>0&&a(t.charAt(n-1));)--n;for(;r<t.length&&a(t.charAt(r));)++r}return new ai(it(e.line,n),it(e.line,r))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?P(this.display.cursorDiv,"CodeMirror-overwrite"):_(this.display.cursorDiv,"CodeMirror-overwrite"),ve(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==D()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Mo((function(e,t){lo(this,e,t)})),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-Kn(this)-this.display.barHeight,width:e.scrollWidth-Kn(this)-this.display.barWidth,clientHeight:Xn(this),clientWidth:$n(this)}},scrollIntoView:Mo((function(e,t){null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:it(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line?uo(this,e):po(this,e.from,e.to,e.margin)})),setSize:Mo((function(e,t){var n=this,r=function(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e};null!=e&&(this.display.wrapper.style.width=r(e)),null!=t&&(this.display.wrapper.style.height=r(t)),this.options.lineWrapping&&dr(this);var o=this.display.viewFrom;this.doc.iter(o,this.display.viewTo,(function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){Br(n,o,"widget");break}++o})),this.curOp.forceUpdate=!0,ve(this,"refresh",this)})),operation:function(e){return Do(this,e)},startOperation:function(){return Eo(this)},endOperation:function(){return So(this)},refresh:Mo((function(){var e=this.display.cachedTextHeight;Lr(this),this.curOp.forceUpdate=!0,pr(this),lo(this,this.doc.scrollLeft,this.doc.scrollTop),qo(this.display),(null==e||Math.abs(e-Rr(this.display))>.5)&&Mr(this),ve(this,"refresh",this)})),swapDoc:Mo((function(e){var t=this.doc;return t.cm=null,this.state.selectingText&&this.state.selectingText(),bi(this,e),pr(this),this.display.input.reset(),lo(this,e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,Rn(this,"swapDoc",this,t),t})),phrase:function(e){var t=this.options.phrases;return t&&Object.prototype.hasOwnProperty.call(t,e)?t[e]:e},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},ke(e),e.registerHelper=function(t,r,o){n.hasOwnProperty(t)||(n[t]=e[t]={_global:[]}),n[t][r]=o},e.registerGlobalHelper=function(t,r,o,i){e.registerHelper(t,r,i),n[t]._global.push({pred:o,val:i})}}function Xs(e,t,n,r,o){var i=t,a=n,s=Je(e,t.line);function l(){var r=t.line+n;return!(r<e.first||r>=e.first+e.size)&&(t=new it(r,t.ch,t.sticky),s=Je(e,r))}function u(r){var i;if(null==(i=o?Xa(e.cm,s,t,n):Ka(s,t,n))){if(r||!l())return!1;t=$a(o,e.cm,s,t.line,n)}else t=i;return!0}if("char"==r)u();else if("column"==r)u(!0);else if("word"==r||"group"==r)for(var c=null,d="group"==r,p=e.cm&&e.cm.getHelper(t,"wordChars"),f=!0;!(n<0)||u(!f);f=!1){var h=s.text.charAt(t.ch)||"\n",m=ne(h,p)?"w":d&&"\n"==h?"n":!d||/\s/.test(h)?null:"p";if(!d||f||m||(m="s"),c&&c!=m){n<0&&(n=1,u(),t.sticky="after");break}if(m&&(c=m),n>0&&!u(!f))break}var g=Ki(e,t,i,a,!0);return st(i,g)&&(g.hitSide=!0),g}function Js(e,t,n,r){var o,i,a=e.doc,s=t.left;if("page"==r){var l=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),u=Math.max(l-.5*Rr(e.display),3);o=(n>0?t.bottom:t.top)+n*u}else"line"==r&&(o=n>0?t.bottom+3:t.top-3);for(;(i=Cr(e,s,o)).outside;){if(n<0?o<=0:o>=a.height){i.hitSide=!0;break}o+=5*n}return i}var Qs=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new j,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function Zs(e,t){var n=tr(e,t.line);if(!n||n.hidden)return null;var r=Je(e.doc,t.line),o=Qn(n,r,t.line),i=pe(r,e.doc.direction),a="left";i&&(a=ce(i,t.ch)%2?"right":"left");var s=ar(o.map,t.ch,a);return s.offset="right"==s.collapse?s.end:s.start,s}function el(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}function tl(e,t){return t&&(e.bad=!0),e}function nl(e,t,n,r,o){var i="",a=!1,s=e.doc.lineSeparator(),l=!1;function u(e){return function(t){return t.id==e}}function c(){a&&(i+=s,l&&(i+=s),a=l=!1)}function d(e){e&&(c(),i+=e)}function p(t){if(1==t.nodeType){var n=t.getAttribute("cm-text");if(n)return void d(n);var i,f=t.getAttribute("cm-marker");if(f){var h=e.findMarks(it(r,0),it(o+1,0),u(+f));return void(h.length&&(i=h[0].find(0))&&d(Qe(e.doc,i.from,i.to).join(s)))}if("false"==t.getAttribute("contenteditable"))return;var m=/^(pre|div|p|li|table|br)$/i.test(t.nodeName);if(!/^br$/i.test(t.nodeName)&&0==t.textContent.length)return;m&&c();for(var g=0;g<t.childNodes.length;g++)p(t.childNodes[g]);/^(pre|p)$/i.test(t.nodeName)&&(l=!0),m&&(a=!0)}else 3==t.nodeType&&d(t.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;p(t),t!=n;)t=t.nextSibling,l=!1;return i}function rl(e,t,n){var r;if(t==e.display.lineDiv){if(!(r=e.display.lineDiv.childNodes[n]))return tl(e.clipPos(it(e.display.viewTo-1)),!0);t=null,n=0}else for(r=t;;r=r.parentNode){if(!r||r==e.display.lineDiv)return null;if(r.parentNode&&r.parentNode==e.display.lineDiv)break}for(var o=0;o<e.display.view.length;o++){var i=e.display.view[o];if(i.node==r)return ol(i,t,n)}}function ol(e,t,n){var r=e.text.firstChild,o=!1;if(!t||!N(r,t))return tl(it(tt(e.line),0),!0);if(t==r&&(o=!0,t=r.childNodes[n],n=0,!t)){var i=e.rest?$(e.rest):e.line;return tl(it(tt(i),i.text.length),o)}var a=3==t.nodeType?t:null,s=t;for(a||1!=t.childNodes.length||3!=t.firstChild.nodeType||(a=t.firstChild,n&&(n=a.nodeValue.length));s.parentNode!=r;)s=s.parentNode;var l=e.measure,u=l.maps;function c(t,n,r){for(var o=-1;o<(u?u.length:0);o++)for(var i=o<0?l.map:u[o],a=0;a<i.length;a+=3){var s=i[a+2];if(s==t||s==n){var c=tt(o<0?e.line:e.rest[o]),d=i[a]+r;return(r<0||s!=t)&&(d=i[a+(r?1:0)]),it(c,d)}}}var d=c(a,s,n);if(d)return tl(d,o);for(var p=s.nextSibling,f=a?a.nodeValue.length-n:0;p;p=p.nextSibling){if(d=c(p,p.firstChild,0))return tl(it(d.line,d.ch-f),o);f+=p.textContent.length}for(var h=s.previousSibling,m=n;h;h=h.previousSibling){if(d=c(h,h.firstChild,-1))return tl(it(d.line,d.ch+m),o);m+=h.textContent.length}}Qs.prototype.init=function(e){var t=this,n=this,r=n.cm,o=n.div=e.lineDiv;function i(e){if(!ye(r,e)){if(r.somethingSelected())Us({lineWise:!1,text:r.getSelections()}),"cut"==e.type&&r.replaceSelection("",null,"cut");else{if(!r.options.lineWiseCopyCut)return;var t=qs(r);Us({lineWise:!0,text:t.text}),"cut"==e.type&&r.operation((function(){r.setSelections(t.ranges,0,H),r.replaceSelection("",null,"cut")}))}if(e.clipboardData){e.clipboardData.clearData();var i=Vs.text.join("\n");if(e.clipboardData.setData("Text",i),e.clipboardData.getData("Text")==i)return void e.preventDefault()}var a=Ks(),s=a.firstChild;r.display.lineSpace.insertBefore(a,r.display.lineSpace.firstChild),s.value=Vs.text.join("\n");var l=document.activeElement;I(s),setTimeout((function(){r.display.lineSpace.removeChild(a),l.focus(),l==o&&n.showPrimarySelection()}),50)}}Ys(o,r.options.spellcheck,r.options.autocorrect,r.options.autocapitalize),he(o,"paste",(function(e){ye(r,e)||Gs(e,r)||s<=11&&setTimeout(Po(r,(function(){return t.updateFromDOM()})),20)})),he(o,"compositionstart",(function(e){t.composing={data:e.data,done:!1}})),he(o,"compositionupdate",(function(e){t.composing||(t.composing={data:e.data,done:!1})})),he(o,"compositionend",(function(e){t.composing&&(e.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)})),he(o,"touchstart",(function(){return n.forceCompositionEnd()})),he(o,"input",(function(){t.composing||t.readFromDOMSoon()})),he(o,"copy",i),he(o,"cut",i)},Qs.prototype.prepareSelection=function(){var e=Gr(this.cm,!1);return e.focus=this.cm.state.focused,e},Qs.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},Qs.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Qs.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,r=t.doc.sel.primary(),o=r.from(),i=r.to();if(t.display.viewTo==t.display.viewFrom||o.line>=t.display.viewTo||i.line<t.display.viewFrom)e.removeAllRanges();else{var a=rl(t,e.anchorNode,e.anchorOffset),s=rl(t,e.focusNode,e.focusOffset);if(!a||a.bad||!s||s.bad||0!=at(ct(a,s),o)||0!=at(ut(a,s),i)){var l=t.display.view,u=o.line>=t.display.viewFrom&&Zs(t,o)||{node:l[0].measure.map[2],offset:0},c=i.line<t.display.viewTo&&Zs(t,i);if(!c){var d=l[l.length-1].measure,p=d.maps?d.maps[d.maps.length-1]:d.map;c={node:p[p.length-1],offset:p[p.length-2]-p[p.length-3]}}if(u&&c){var f,h=e.rangeCount&&e.getRangeAt(0);try{f=S(u.node,u.offset,c.offset,c.node)}catch(e){}f&&(!n&&t.state.focused?(e.collapse(u.node,u.offset),f.collapsed||(e.removeAllRanges(),e.addRange(f))):(e.removeAllRanges(),e.addRange(f)),h&&null==e.anchorNode?e.addRange(h):n&&this.startGracePeriod()),this.rememberSelection()}else e.removeAllRanges()}}},Qs.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout((function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation((function(){return e.cm.curOp.selectionChanged=!0}))}),20)},Qs.prototype.showMultipleSelections=function(e){T(this.cm.display.cursorDiv,e.cursors),T(this.cm.display.selectionDiv,e.selection)},Qs.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},Qs.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return N(this.div,t)},Qs.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()||this.showSelection(this.prepareSelection(),!0),this.div.focus())},Qs.prototype.blur=function(){this.div.blur()},Qs.prototype.getField=function(){return this.div},Qs.prototype.supportsTouch=function(){return!0},Qs.prototype.receivedFocus=function(){var e=this;function t(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,t))}this.selectionInEditor()?this.pollSelection():Do(this.cm,(function(){return e.cm.curOp.selectionChanged=!0})),this.polling.set(this.cm.options.pollInterval,t)},Qs.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},Qs.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=this.getSelection(),t=this.cm;if(g&&c&&this.cm.display.gutterSpecs.length&&el(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var n=rl(t,e.anchorNode,e.anchorOffset),r=rl(t,e.focusNode,e.focusOffset);n&&r&&Do(t,(function(){Ui(t.doc,li(n,r),H),(n.bad||r.bad)&&(t.curOp.selectionChanged=!0)}))}}},Qs.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e,t,n,r=this.cm,o=r.display,i=r.doc.sel.primary(),a=i.from(),s=i.to();if(0==a.ch&&a.line>r.firstLine()&&(a=it(a.line-1,Je(r.doc,a.line-1).length)),s.ch==Je(r.doc,s.line).text.length&&s.line<r.lastLine()&&(s=it(s.line+1,0)),a.line<o.viewFrom||s.line>o.viewTo-1)return!1;a.line==o.viewFrom||0==(e=Fr(r,a.line))?(t=tt(o.view[0].line),n=o.view[0].node):(t=tt(o.view[e].line),n=o.view[e-1].node.nextSibling);var l,u,c=Fr(r,s.line);if(c==o.view.length-1?(l=o.viewTo-1,u=o.lineDiv.lastChild):(l=tt(o.view[c+1].line)-1,u=o.view[c+1].node.previousSibling),!n)return!1;for(var d=r.doc.splitLines(nl(r,n,u,t,l)),p=Qe(r.doc,it(t,0),it(l,Je(r.doc,l).text.length));d.length>1&&p.length>1;)if($(d)==$(p))d.pop(),p.pop(),l--;else{if(d[0]!=p[0])break;d.shift(),p.shift(),t++}for(var f=0,h=0,m=d[0],g=p[0],v=Math.min(m.length,g.length);f<v&&m.charCodeAt(f)==g.charCodeAt(f);)++f;for(var y=$(d),b=$(p),w=Math.min(y.length-(1==d.length?f:0),b.length-(1==p.length?f:0));h<w&&y.charCodeAt(y.length-h-1)==b.charCodeAt(b.length-h-1);)++h;if(1==d.length&&1==p.length&&t==a.line)for(;f&&f>a.ch&&y.charCodeAt(y.length-h-1)==b.charCodeAt(b.length-h-1);)f--,h++;d[d.length-1]=y.slice(0,y.length-h).replace(/^\u200b+/,""),d[0]=d[0].slice(f).replace(/\u200b+$/,"");var k=it(t,f),C=it(l,p.length?$(p).length-h:0);return d.length>1||d[0]||at(k,C)?(oa(r.doc,d,k,C,"+input"),!0):void 0},Qs.prototype.ensurePolled=function(){this.forceCompositionEnd()},Qs.prototype.reset=function(){this.forceCompositionEnd()},Qs.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Qs.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout((function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()}),80))},Qs.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||Do(this.cm,(function(){return Lr(e.cm)}))},Qs.prototype.setUneditable=function(e){e.contentEditable="false"},Qs.prototype.onKeyPress=function(e){0==e.charCode||this.composing||(e.preventDefault(),this.cm.isReadOnly()||Po(this.cm,Hs)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},Qs.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},Qs.prototype.onContextMenu=function(){},Qs.prototype.resetPosition=function(){},Qs.prototype.needsContentAttribute=!0;var il=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new j,this.hasSelection=!1,this.composing=null};function al(e,t){if((t=t?L(t):{}).value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var n=D();t.autofocus=n==e||null!=e.getAttribute("autofocus")&&n==document.body}function r(){e.value=s.getValue()}var o;if(e.form&&(he(e.form,"submit",r),!t.leaveSubmitMethodAlone)){var i=e.form;o=i.submit;try{var a=i.submit=function(){r(),i.submit=o,i.submit(),i.submit=a}}catch(e){}}t.finishInit=function(t){t.save=r,t.getTextArea=function(){return e},t.toTextArea=function(){t.toTextArea=isNaN,r(),e.parentNode.removeChild(t.getWrapperElement()),e.style.display="",e.form&&(ge(e.form,"submit",r),"function"==typeof e.form.submit&&(e.form.submit=o))}},e.style.display="none";var s=Ls((function(t){return e.parentNode.insertBefore(t,e.nextSibling)}),t);return s}function sl(e){e.off=ge,e.on=he,e.wheelEventPixels=ri,e.Doc=xa,e.splitLines=Me,e.countColumn=B,e.findColumn=q,e.isWordChar=te,e.Pass=U,e.signal=ve,e.Line=un,e.changeEnd=ui,e.scrollbarModel=ko,e.Pos=it,e.cmpPos=at,e.modes=je,e.mimeModes=ze,e.resolveMode=He,e.getMode=Ge,e.modeExtensions=We,e.extendMode=qe,e.copyState=Ye,e.startState=$e,e.innerMode=Ke,e.commands=Ja,e.keyMap=Ba,e.keyName=Ga,e.isModifierKey=Ua,e.lookupKey=Va,e.normalizeKeyMap=za,e.StringStream=Xe,e.SharedTextMarker=va,e.TextMarker=ma,e.LineWidget=da,e.e_preventDefault=Ce,e.e_stopPropagation=xe,e.e_stop=Se,e.addClass=P,e.contains=N,e.rmClass=_,e.keyNames=Ma}il.prototype.init=function(e){var t=this,n=this,r=this.cm;this.createField(e);var o=this.textarea;function i(e){if(!ye(r,e)){if(r.somethingSelected())Us({lineWise:!1,text:r.getSelections()});else{if(!r.options.lineWiseCopyCut)return;var t=qs(r);Us({lineWise:!0,text:t.text}),"cut"==e.type?r.setSelections(t.ranges,null,H):(n.prevInput="",o.value=t.text.join("\n"),I(o))}"cut"==e.type&&(r.state.cutIncoming=+new Date)}}e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),m&&(o.style.width="0px"),he(o,"input",(function(){a&&s>=9&&t.hasSelection&&(t.hasSelection=null),n.poll()})),he(o,"paste",(function(e){ye(r,e)||Gs(e,r)||(r.state.pasteIncoming=+new Date,n.fastPoll())})),he(o,"cut",i),he(o,"copy",i),he(e.scroller,"paste",(function(t){if(!Gn(e,t)&&!ye(r,t)){if(!o.dispatchEvent)return r.state.pasteIncoming=+new Date,void n.focus();var i=new Event("paste");i.clipboardData=t.clipboardData,o.dispatchEvent(i)}})),he(e.lineSpace,"selectstart",(function(t){Gn(e,t)||Ce(t)})),he(o,"compositionstart",(function(){var e=r.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:e,range:r.markText(e,r.getCursor("to"),{className:"CodeMirror-composing"})}})),he(o,"compositionend",(function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)}))},il.prototype.createField=function(e){this.wrapper=Ks(),this.textarea=this.wrapper.firstChild},il.prototype.prepareSelection=function(){var e=this.cm,t=e.display,n=e.doc,r=Gr(e);if(e.options.moveInputWithCursor){var o=br(e,n.sel.primary().head,"div"),i=t.wrapper.getBoundingClientRect(),a=t.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,o.top+a.top-i.top)),r.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,o.left+a.left-i.left))}return r},il.prototype.showSelection=function(e){var t=this.cm.display;T(t.cursorDiv,e.cursors),T(t.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},il.prototype.reset=function(e){if(!this.contextMenuPending&&!this.composing){var t=this.cm;if(t.somethingSelected()){this.prevInput="";var n=t.getSelection();this.textarea.value=n,t.state.focused&&I(this.textarea),a&&s>=9&&(this.hasSelection=n)}else e||(this.prevInput=this.textarea.value="",a&&s>=9&&(this.hasSelection=null))}},il.prototype.getField=function(){return this.textarea},il.prototype.supportsTouch=function(){return!1},il.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!v||D()!=this.textarea))try{this.textarea.focus()}catch(e){}},il.prototype.blur=function(){this.textarea.blur()},il.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},il.prototype.receivedFocus=function(){this.slowPoll()},il.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,(function(){e.poll(),e.cm.state.focused&&e.slowPoll()}))},il.prototype.fastPoll=function(){var e=!1,t=this;function n(){t.poll()||e?(t.pollingFast=!1,t.slowPoll()):(e=!0,t.polling.set(60,n))}t.pollingFast=!0,t.polling.set(20,n)},il.prototype.poll=function(){var e=this,t=this.cm,n=this.textarea,r=this.prevInput;if(this.contextMenuPending||!t.state.focused||Ie(n)&&!r&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var o=n.value;if(o==r&&!t.somethingSelected())return!1;if(a&&s>=9&&this.hasSelection===o||y&&/[\uf700-\uf7ff]/.test(o))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var i=o.charCodeAt(0);if(8203!=i||r||(r="​"),8666==i)return this.reset(),this.cm.execCommand("undo")}for(var l=0,u=Math.min(r.length,o.length);l<u&&r.charCodeAt(l)==o.charCodeAt(l);)++l;return Do(t,(function(){Hs(t,o.slice(l),r.length-l,null,e.composing?"*compose":null),o.length>1e3||o.indexOf("\n")>-1?n.value=e.prevInput="":e.prevInput=o,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))})),!0},il.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},il.prototype.onKeyPress=function(){a&&s>=9&&(this.hasSelection=null),this.fastPoll()},il.prototype.onContextMenu=function(e){var t=this,n=t.cm,r=n.display,o=t.textarea;t.contextMenuPending&&t.contextMenuPending();var i=Ir(n,e),u=r.scroller.scrollTop;if(i&&!d){n.options.resetSelectionOnContextMenu&&-1==n.doc.sel.contains(i)&&Po(n,Ui)(n.doc,li(i),H);var c,p=o.style.cssText,f=t.wrapper.style.cssText,h=t.wrapper.offsetParent.getBoundingClientRect();if(t.wrapper.style.cssText="position: static",o.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-h.top-5)+"px; left: "+(e.clientX-h.left-5)+"px;\n      z-index: 1000; background: "+(a?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",l&&(c=window.scrollY),r.input.focus(),l&&window.scrollTo(null,c),r.input.reset(),n.somethingSelected()||(o.value=t.prevInput=" "),t.contextMenuPending=v,r.selForContextMenu=n.doc.sel,clearTimeout(r.detectingSelectAll),a&&s>=9&&g(),x){Se(e);var m=function(){ge(window,"mouseup",m),setTimeout(v,20)};he(window,"mouseup",m)}else setTimeout(v,50)}function g(){if(null!=o.selectionStart){var e=n.somethingSelected(),i="​"+(e?o.value:"");o.value="⇚",o.value=i,t.prevInput=e?"":"​",o.selectionStart=1,o.selectionEnd=i.length,r.selForContextMenu=n.doc.sel}}function v(){if(t.contextMenuPending==v&&(t.contextMenuPending=!1,t.wrapper.style.cssText=f,o.style.cssText=p,a&&s<9&&r.scrollbars.setScrollTop(r.scroller.scrollTop=u),null!=o.selectionStart)){(!a||a&&s<9)&&g();var e=0,i=function(){r.selForContextMenu==n.doc.sel&&0==o.selectionStart&&o.selectionEnd>0&&"​"==t.prevInput?Po(n,Xi)(n):e++<10?r.detectingSelectAll=setTimeout(i,500):(r.selForContextMenu=null,r.input.reset())};r.detectingSelectAll=setTimeout(i,200)}}},il.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e},il.prototype.setUneditable=function(){},il.prototype.needsContentAttribute=!1,Ms(Ls),$s(Ls);var ll="iter insert remove copy getEditor constructor".split(" ");for(var ul in xa.prototype)xa.prototype.hasOwnProperty(ul)&&z(ll,ul)<0&&(Ls.prototype[ul]=function(e){return function(){return e.apply(this.doc,arguments)}}(xa.prototype[ul]));return ke(xa),Ls.inputStyles={textarea:il,contenteditable:Qs},Ls.defineMode=function(e){Ls.defaults.mode||"null"==e||(Ls.defaults.mode=e),Ve.apply(this,arguments)},Ls.defineMIME=Ue,Ls.defineMode("null",(function(){return{token:function(e){return e.skipToEnd()}}})),Ls.defineMIME("text/plain","null"),Ls.defineExtension=function(e,t){Ls.prototype[e]=t},Ls.defineDocExtension=function(e,t){xa.prototype[e]=t},Ls.fromTextArea=al,sl(Ls),Ls.version="5.47.0",Ls}()}));Ne((function(e,t){!function(e){var t=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||document.documentMode<8),n=e.Pos,r={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<","<":">>",">":"<<"};function o(e){return e&&e.bracketRegex||/[(){}[\]]/}function i(e,t,i){var s=e.getLineHandle(t.line),l=t.ch-1,u=i&&i.afterCursor;null==u&&(u=/(^| )cm-fat-cursor($| )/.test(e.getWrapperElement().className));var c=o(i),d=!u&&l>=0&&c.test(s.text.charAt(l))&&r[s.text.charAt(l)]||c.test(s.text.charAt(l+1))&&r[s.text.charAt(++l)];if(!d)return null;var p=">"==d.charAt(1)?1:-1;if(i&&i.strict&&p>0!=(l==t.ch))return null;var f=e.getTokenTypeAt(n(t.line,l+1)),h=a(e,n(t.line,l+(p>0?1:0)),p,f||null,i);return null==h?null:{from:n(t.line,l),to:h&&h.pos,match:h&&h.ch==d.charAt(0),forward:p>0}}function a(e,t,i,a,s){for(var l=s&&s.maxScanLineLength||1e4,u=s&&s.maxScanLines||1e3,c=[],d=o(s),p=i>0?Math.min(t.line+u,e.lastLine()+1):Math.max(e.firstLine()-1,t.line-u),f=t.line;f!=p;f+=i){var h=e.getLine(f);if(h){var m=i>0?0:h.length-1,g=i>0?h.length:-1;if(!(h.length>l))for(f==t.line&&(m=t.ch-(i<0?1:0));m!=g;m+=i){var v=h.charAt(m);if(d.test(v)&&(void 0===a||e.getTokenTypeAt(n(f,m+1))==a)){var y=r[v];if(y&&">"==y.charAt(1)==i>0)c.push(v);else{if(!c.length)return{pos:n(f,m),ch:v};c.pop()}}}}}return f-i!=(i>0?e.lastLine():e.firstLine())&&null}function s(e,r,o){for(var a=e.state.matchBrackets.maxHighlightLineLength||1e3,s=[],l=e.listSelections(),u=0;u<l.length;u++){var c=l[u].empty()&&i(e,l[u].head,o);if(c&&e.getLine(c.from.line).length<=a){var d=c.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";s.push(e.markText(c.from,n(c.from.line,c.from.ch+1),{className:d})),c.to&&e.getLine(c.to.line).length<=a&&s.push(e.markText(c.to,n(c.to.line,c.to.ch+1),{className:d}))}}if(s.length){t&&e.state.focused&&e.focus();var p=function(){e.operation((function(){for(var e=0;e<s.length;e++)s[e].clear()}))};if(!r)return p;setTimeout(p,800)}}function l(e){e.operation((function(){e.state.matchBrackets.currentlyHighlighted&&(e.state.matchBrackets.currentlyHighlighted(),e.state.matchBrackets.currentlyHighlighted=null),e.state.matchBrackets.currentlyHighlighted=s(e,!1,e.state.matchBrackets)}))}e.defineOption("matchBrackets",!1,(function(t,n,r){r&&r!=e.Init&&(t.off("cursorActivity",l),t.state.matchBrackets&&t.state.matchBrackets.currentlyHighlighted&&(t.state.matchBrackets.currentlyHighlighted(),t.state.matchBrackets.currentlyHighlighted=null)),n&&(t.state.matchBrackets="object"==typeof n?n:{},t.on("cursorActivity",l))})),e.defineExtension("matchBrackets",(function(){s(this,!0)})),e.defineExtension("findMatchingBracket",(function(e,t,n){return(n||"boolean"==typeof t)&&(n?(n.strict=t,t=n):t=t?{strict:!0}:null),i(this,e,t)})),e.defineExtension("scanForBracket",(function(e,t,n,r){return a(this,e,t,n,r)}))}(bg)}));var wg,kg,Cg;Ne((function(e,t){var n,r,o;r={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},o={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1},(n=bg).defineMode("xml",(function(e,t){var i,a,s=e.indentUnit,l={},u=t.htmlMode?r:o;for(var c in u)l[c]=u[c];for(var c in t)l[c]=t[c];function d(e,t){function n(n){return t.tokenize=n,n(e,t)}var r=e.next();return"<"==r?e.eat("!")?e.eat("[")?e.match("CDATA[")?n(h("atom","]]>")):null:e.match("--")?n(h("comment","--\x3e")):e.match("DOCTYPE",!0,!0)?(e.eatWhile(/[\w\._\-]/),n(m(1))):null:e.eat("?")?(e.eatWhile(/[\w\._\-]/),t.tokenize=h("meta","?>"),"meta"):(i=e.eat("/")?"closeTag":"openTag",t.tokenize=p,"tag bracket"):"&"==r?(e.eat("#")?e.eat("x")?e.eatWhile(/[a-fA-F\d]/)&&e.eat(";"):e.eatWhile(/[\d]/)&&e.eat(";"):e.eatWhile(/[\w\.\-:]/)&&e.eat(";"))?"atom":"error":(e.eatWhile(/[^&<]/),null)}function p(e,t){var n=e.next();if(">"==n||"/"==n&&e.eat(">"))return t.tokenize=d,i=">"==n?"endTag":"selfcloseTag","tag bracket";if("="==n)return i="equals",null;if("<"==n){t.tokenize=d,t.state=b,t.tagName=t.tagStart=null;var r=t.tokenize(e,t);return r?r+" tag error":"tag error"}return/[\'\"]/.test(n)?(t.tokenize=f(n),t.stringStartCol=e.column(),t.tokenize(e,t)):(e.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function f(e){var t=function(t,n){for(;!t.eol();)if(t.next()==e){n.tokenize=p;break}return"string"};return t.isInAttribute=!0,t}function h(e,t){return function(n,r){for(;!n.eol();){if(n.match(t)){r.tokenize=d;break}n.next()}return e}}function m(e){return function(t,n){for(var r;null!=(r=t.next());){if("<"==r)return n.tokenize=m(e+1),n.tokenize(t,n);if(">"==r){if(1==e){n.tokenize=d;break}return n.tokenize=m(e-1),n.tokenize(t,n)}}return"meta"}}function g(e,t,n){this.prev=e.context,this.tagName=t,this.indent=e.indented,this.startOfLine=n,(l.doNotIndent.hasOwnProperty(t)||e.context&&e.context.noIndent)&&(this.noIndent=!0)}function v(e){e.context&&(e.context=e.context.prev)}function y(e,t){for(var n;;){if(!e.context)return;if(n=e.context.tagName,!l.contextGrabbers.hasOwnProperty(n)||!l.contextGrabbers[n].hasOwnProperty(t))return;v(e)}}function b(e,t,n){return"openTag"==e?(n.tagStart=t.column(),w):"closeTag"==e?k:b}function w(e,t,n){return"word"==e?(n.tagName=t.current(),a="tag",E):l.allowMissingTagName&&"endTag"==e?(a="tag bracket",E(e,t,n)):(a="error",w)}function k(e,t,n){if("word"==e){var r=t.current();return n.context&&n.context.tagName!=r&&l.implicitlyClosed.hasOwnProperty(n.context.tagName)&&v(n),n.context&&n.context.tagName==r||!1===l.matchClosing?(a="tag",C):(a="tag error",x)}return l.allowMissingTagName&&"endTag"==e?(a="tag bracket",C(e,t,n)):(a="error",x)}function C(e,t,n){return"endTag"!=e?(a="error",C):(v(n),b)}function x(e,t,n){return a="error",C(e,t,n)}function E(e,t,n){if("word"==e)return a="attribute",S;if("endTag"==e||"selfcloseTag"==e){var r=n.tagName,o=n.tagStart;return n.tagName=n.tagStart=null,"selfcloseTag"==e||l.autoSelfClosers.hasOwnProperty(r)?y(n,r):(y(n,r),n.context=new g(n,r,o==n.indented)),b}return a="error",E}function S(e,t,n){return"equals"==e?_:(l.allowMissing||(a="error"),E(e,t,n))}function _(e,t,n){return"string"==e?O:"word"==e&&l.allowUnquoted?(a="string",E):(a="error",E(e,t,n))}function O(e,t,n){return"string"==e?O:E(e,t,n)}return d.isInText=!0,{startState:function(e){var t={tokenize:d,state:b,indented:e||0,tagName:null,tagStart:null,context:null};return null!=e&&(t.baseIndent=e),t},token:function(e,t){if(!t.tagName&&e.sol()&&(t.indented=e.indentation()),e.eatSpace())return null;i=null;var n=t.tokenize(e,t);return(n||i)&&"comment"!=n&&(a=null,t.state=t.state(i||n,e,t),a&&(n="error"==a?n+" error":a)),n},indent:function(e,t,r){var o=e.context;if(e.tokenize.isInAttribute)return e.tagStart==e.indented?e.stringStartCol+1:e.indented+s;if(o&&o.noIndent)return n.Pass;if(e.tokenize!=p&&e.tokenize!=d)return r?r.match(/^(\s*)/)[0].length:0;if(e.tagName)return!1!==l.multilineTagIndentPastTag?e.tagStart+e.tagName.length+2:e.tagStart+s*(l.multilineTagIndentFactor||1);if(l.alignCDATA&&/<!\[CDATA\[/.test(t))return 0;var i=t&&/^<(\/)?([\w_:\.-]*)/.exec(t);if(i&&i[1])for(;o;){if(o.tagName==i[2]){o=o.prev;break}if(!l.implicitlyClosed.hasOwnProperty(o.tagName))break;o=o.prev}else if(i)for(;o;){var a=l.contextGrabbers[o.tagName];if(!a||!a.hasOwnProperty(i[2]))break;o=o.prev}for(;o&&o.prev&&!o.startOfLine;)o=o.prev;return o?o.indent+s:e.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:l.htmlMode?"html":"xml",helperType:l.htmlMode?"html":"xml",skipAttribute:function(e){e.state==_&&(e.state=E)}}})),n.defineMIME("text/xml","xml"),n.defineMIME("application/xml","xml"),n.mimeModes.hasOwnProperty("text/html")||n.defineMIME("text/html",{name:"xml",htmlMode:!0})})),Ne((function(e,t){var n;(n=bg).defineMode("javascript",(function(e,t){var r,o,i=e.indentUnit,a=t.statementIndent,s=t.jsonld,l=t.json||s,u=t.typescript,c=t.wordCharacters||/[\w$\xa1-\uffff]/,d=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),n=e("keyword b"),r=e("keyword c"),o=e("keyword d"),i=e("operator"),a={type:"atom",style:"atom"};return{if:e("if"),while:t,with:t,else:n,do:n,try:n,finally:n,return:o,break:o,continue:o,new:e("new"),delete:r,void:r,throw:r,debugger:e("debugger"),var:e("var"),const:e("var"),let:e("var"),function:e("function"),catch:e("catch"),for:e("for"),switch:e("switch"),case:e("case"),default:e("default"),in:i,typeof:i,instanceof:i,true:a,false:a,null:a,undefined:a,NaN:a,Infinity:a,this:e("this"),class:e("class"),super:e("atom"),yield:r,export:e("export"),import:e("import"),extends:r,await:r}}(),p=/[+\-*&%=<>!?|~^@]/,f=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function h(e){for(var t,n=!1,r=!1;null!=(t=e.next());){if(!n){if("/"==t&&!r)return;"["==t?r=!0:r&&"]"==t&&(r=!1)}n=!n&&"\\"==t}}function m(e,t,n){return r=e,o=n,t}function g(e,t){var n=e.next();if('"'==n||"'"==n)return t.tokenize=v(n),t.tokenize(e,t);if("."==n&&e.match(/^\d+(?:[eE][+\-]?\d+)?/))return m("number","number");if("."==n&&e.match(".."))return m("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(n))return m(n);if("="==n&&e.eat(">"))return m("=>","operator");if("0"==n&&e.match(/^(?:x[\da-f]+|o[0-7]+|b[01]+)n?/i))return m("number","number");if(/\d/.test(n))return e.match(/^\d*(?:n|(?:\.\d*)?(?:[eE][+\-]?\d+)?)?/),m("number","number");if("/"==n)return e.eat("*")?(t.tokenize=y,y(e,t)):e.eat("/")?(e.skipToEnd(),m("comment","comment")):Ze(e,t,1)?(h(e),e.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),m("regexp","string-2")):(e.eat("="),m("operator","operator",e.current()));if("`"==n)return t.tokenize=b,b(e,t);if("#"==n)return e.skipToEnd(),m("error","error");if(p.test(n))return">"==n&&t.lexical&&">"==t.lexical.type||(e.eat("=")?"!"!=n&&"="!=n||e.eat("="):/[<>*+\-]/.test(n)&&(e.eat(n),">"==n&&e.eat(n))),m("operator","operator",e.current());if(c.test(n)){e.eatWhile(c);var r=e.current();if("."!=t.lastType){if(d.propertyIsEnumerable(r)){var o=d[r];return m(o.type,o.style,r)}if("async"==r&&e.match(/^(\s|\/\*.*?\*\/)*[\[\(\w]/,!1))return m("async","keyword",r)}return m("variable","variable",r)}}function v(e){return function(t,n){var r,o=!1;if(s&&"@"==t.peek()&&t.match(f))return n.tokenize=g,m("jsonld-keyword","meta");for(;null!=(r=t.next())&&(r!=e||o);)o=!o&&"\\"==r;return o||(n.tokenize=g),m("string","string")}}function y(e,t){for(var n,r=!1;n=e.next();){if("/"==n&&r){t.tokenize=g;break}r="*"==n}return m("comment","comment")}function b(e,t){for(var n,r=!1;null!=(n=e.next());){if(!r&&("`"==n||"$"==n&&e.eat("{"))){t.tokenize=g;break}r=!r&&"\\"==n}return m("quasi","string-2",e.current())}var w="([{}])";function k(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var n=e.string.indexOf("=>",e.start);if(!(n<0)){if(u){var r=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(e.string.slice(e.start,n));r&&(n=r.index)}for(var o=0,i=!1,a=n-1;a>=0;--a){var s=e.string.charAt(a),l=w.indexOf(s);if(l>=0&&l<3){if(!o){++a;break}if(0==--o){"("==s&&(i=!0);break}}else if(l>=3&&l<6)++o;else if(c.test(s))i=!0;else{if(/["'\/]/.test(s))return;if(i&&!o){++a;break}}}i&&!o&&(t.fatArrowAt=a)}}var C={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,"jsonld-keyword":!0};function x(e,t,n,r,o,i){this.indented=e,this.column=t,this.type=n,this.prev=o,this.info=i,null!=r&&(this.align=r)}function E(e,t){for(var n=e.localVars;n;n=n.next)if(n.name==t)return!0;for(var r=e.context;r;r=r.prev)for(n=r.vars;n;n=n.next)if(n.name==t)return!0}function S(e,t,n,r,o){var i=e.cc;for(_.state=e,_.stream=o,_.marked=null,_.cc=i,_.style=t,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;)if((i.length?i.pop():l?G:U)(n,r)){for(;i.length&&i[i.length-1].lex;)i.pop()();return _.marked?_.marked:"variable"==n&&E(e,r)?"variable-2":t}}var _={state:null,column:null,marked:null,cc:null};function O(){for(var e=arguments.length-1;e>=0;e--)_.cc.push(arguments[e])}function T(){return O.apply(null,arguments),!0}function R(e,t){for(var n=t;n;n=n.next)if(n.name==e)return!0;return!1}function A(e){var n=_.state;if(_.marked="def",n.context)if("var"==n.lexical.info&&n.context&&n.context.block){var r=N(e,n.context);if(null!=r)return void(n.context=r)}else if(!R(e,n.localVars))return void(n.localVars=new M(e,n.localVars));t.globalVars&&!R(e,n.globalVars)&&(n.globalVars=new M(e,n.globalVars))}function N(e,t){if(t){if(t.block){var n=N(e,t.prev);return n?n==t.prev?t:new P(n,t.vars,!0):null}return R(e,t.vars)?t:new P(t.prev,new M(e,t.vars),!1)}return null}function D(e){return"public"==e||"private"==e||"protected"==e||"abstract"==e||"readonly"==e}function P(e,t,n){this.prev=e,this.vars=t,this.block=n}function M(e,t){this.name=e,this.next=t}var I=new M("this",new M("arguments",null));function F(){_.state.context=new P(_.state.context,_.state.localVars,!1),_.state.localVars=I}function L(){_.state.context=new P(_.state.context,_.state.localVars,!0),_.state.localVars=null}function B(){_.state.localVars=_.state.context.vars,_.state.context=_.state.context.prev}function j(e,t){var n=function(){var n=_.state,r=n.indented;if("stat"==n.lexical.type)r=n.lexical.indented;else for(var o=n.lexical;o&&")"==o.type&&o.align;o=o.prev)r=o.indented;n.lexical=new x(r,_.stream.column(),e,null,n.lexical,t)};return n.lex=!0,n}function z(){var e=_.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function V(e){function t(n){return n==e?T():";"==e||"}"==n||")"==n||"]"==n?O():T(t)}return t}function U(e,t){return"var"==e?T(j("vardef",t),xe,V(";"),z):"keyword a"==e?T(j("form"),q,U,z):"keyword b"==e?T(j("form"),U,z):"keyword d"==e?_.stream.match(/^\s*$/,!1)?T():T(j("stat"),K,V(";"),z):"debugger"==e?T(V(";")):"{"==e?T(j("}"),L,de,z,B):";"==e?T():"if"==e?("else"==_.state.lexical.info&&_.state.cc[_.state.cc.length-1]==z&&_.state.cc.pop()(),T(j("form"),q,U,z,Re)):"function"==e?T(Pe):"for"==e?T(j("form"),Ae,U,z):"class"==e||u&&"interface"==t?(_.marked="keyword",T(j("form","class"==e?e:t),Be,z)):"variable"==e?u&&"declare"==t?(_.marked="keyword",T(U)):u&&("module"==t||"enum"==t||"type"==t)&&_.stream.match(/^\s*\w/,!1)?(_.marked="keyword","enum"==t?T(Xe):"type"==t?T(Ie,V("operator"),me,V(";")):T(j("form"),Ee,V("{"),j("}"),de,z,z)):u&&"namespace"==t?(_.marked="keyword",T(j("form"),G,U,z)):u&&"abstract"==t?(_.marked="keyword",T(U)):T(j("stat"),oe):"switch"==e?T(j("form"),q,V("{"),j("}","switch"),L,de,z,z,B):"case"==e?T(G,V(":")):"default"==e?T(V(":")):"catch"==e?T(j("form"),F,H,U,z,B):"export"==e?T(j("stat"),Ue,z):"import"==e?T(j("stat"),Ge,z):"async"==e?T(U):"@"==t?T(G,U):O(j("stat"),G,V(";"),z)}function H(e){if("("==e)return T(Fe,V(")"))}function G(e,t){return Y(e,t,!1)}function W(e,t){return Y(e,t,!0)}function q(e){return"("!=e?O():T(j(")"),G,V(")"),z)}function Y(e,t,n){if(_.state.fatArrowAt==_.stream.start){var r=n?ee:Z;if("("==e)return T(F,j(")"),ue(Fe,")"),z,V("=>"),r,B);if("variable"==e)return O(F,Ee,V("=>"),r,B)}var o=n?X:$;return C.hasOwnProperty(e)?T(o):"function"==e?T(Pe,o):"class"==e||u&&"interface"==t?(_.marked="keyword",T(j("form"),Le,z)):"keyword c"==e||"async"==e?T(n?W:G):"("==e?T(j(")"),K,V(")"),z,o):"operator"==e||"spread"==e?T(n?W:G):"["==e?T(j("]"),$e,z,o):"{"==e?ce(ae,"}",null,o):"quasi"==e?O(J,o):"new"==e?T(te(n)):"import"==e?T(G):T()}function K(e){return e.match(/[;\}\)\],]/)?O():O(G)}function $(e,t){return","==e?T(G):X(e,t,!1)}function X(e,t,n){var r=0==n?$:X,o=0==n?G:W;return"=>"==e?T(F,n?ee:Z,B):"operator"==e?/\+\+|--/.test(t)||u&&"!"==t?T(r):u&&"<"==t&&_.stream.match(/^([^>]|<.*?>)*>\s*\(/,!1)?T(j(">"),ue(me,">"),z,r):"?"==t?T(G,V(":"),o):T(o):"quasi"==e?O(J,r):";"!=e?"("==e?ce(W,")","call",r):"."==e?T(ie,r):"["==e?T(j("]"),K,V("]"),z,r):u&&"as"==t?(_.marked="keyword",T(me,r)):"regexp"==e?(_.state.lastType=_.marked="operator",_.stream.backUp(_.stream.pos-_.stream.start-1),T(o)):void 0:void 0}function J(e,t){return"quasi"!=e?O():"${"!=t.slice(t.length-2)?T(J):T(G,Q)}function Q(e){if("}"==e)return _.marked="string-2",_.state.tokenize=b,T(J)}function Z(e){return k(_.stream,_.state),O("{"==e?U:G)}function ee(e){return k(_.stream,_.state),O("{"==e?U:W)}function te(e){return function(t){return"."==t?T(e?re:ne):"variable"==t&&u?T(we,e?X:$):O(e?W:G)}}function ne(e,t){if("target"==t)return _.marked="keyword",T($)}function re(e,t){if("target"==t)return _.marked="keyword",T(X)}function oe(e){return":"==e?T(z,U):O($,V(";"),z)}function ie(e){if("variable"==e)return _.marked="property",T()}function ae(e,t){return"async"==e?(_.marked="property",T(ae)):"variable"==e||"keyword"==_.style?(_.marked="property","get"==t||"set"==t?T(se):(u&&_.state.fatArrowAt==_.stream.start&&(n=_.stream.match(/^\s*:\s*/,!1))&&(_.state.fatArrowAt=_.stream.pos+n[0].length),T(le))):"number"==e||"string"==e?(_.marked=s?"property":_.style+" property",T(le)):"jsonld-keyword"==e?T(le):u&&D(t)?(_.marked="keyword",T(ae)):"["==e?T(G,pe,V("]"),le):"spread"==e?T(W,le):"*"==t?(_.marked="keyword",T(ae)):":"==e?O(le):void 0;var n}function se(e){return"variable"!=e?O(le):(_.marked="property",T(Pe))}function le(e){return":"==e?T(W):"("==e?O(Pe):void 0}function ue(e,t,n){function r(o,i){if(n?n.indexOf(o)>-1:","==o){var a=_.state.lexical;return"call"==a.info&&(a.pos=(a.pos||0)+1),T((function(n,r){return n==t||r==t?O():O(e)}),r)}return o==t||i==t?T():n&&n.indexOf(";")>-1?O(e):T(V(t))}return function(n,o){return n==t||o==t?T():O(e,r)}}function ce(e,t,n){for(var r=3;r<arguments.length;r++)_.cc.push(arguments[r]);return T(j(t,n),ue(e,t),z)}function de(e){return"}"==e?T():O(U,de)}function pe(e,t){if(u){if(":"==e||"in"==t)return T(me);if("?"==t)return T(pe)}}function fe(e){if(u&&":"==e)return _.stream.match(/^\s*\w+\s+is\b/,!1)?T(G,he,me):T(me)}function he(e,t){if("is"==t)return _.marked="keyword",T()}function me(e,t){return"keyof"==t||"typeof"==t||"infer"==t?(_.marked="keyword",T("typeof"==t?W:me)):"variable"==e||"void"==t?(_.marked="type",T(be)):"|"==t||"&"==t?T(me):"string"==e||"number"==e||"atom"==e?T(be):"["==e?T(j("]"),ue(me,"]",","),z,be):"{"==e?T(j("}"),ue(ve,"}",",;"),z,be):"("==e?T(ue(ye,")"),ge,be):"<"==e?T(ue(me,">"),me):void 0}function ge(e){if("=>"==e)return T(me)}function ve(e,t){return"variable"==e||"keyword"==_.style?(_.marked="property",T(ve)):"?"==t||"number"==e||"string"==e?T(ve):":"==e?T(me):"["==e?T(V("variable"),pe,V("]"),ve):"("==e?O(Me,ve):void 0}function ye(e,t){return"variable"==e&&_.stream.match(/^\s*[?:]/,!1)||"?"==t?T(ye):":"==e?T(me):"spread"==e?T(ye):O(me)}function be(e,t){return"<"==t?T(j(">"),ue(me,">"),z,be):"|"==t||"."==e||"&"==t?T(me):"["==e?T(me,V("]"),be):"extends"==t||"implements"==t?(_.marked="keyword",T(me)):"?"==t?T(me,V(":"),me):void 0}function we(e,t){if("<"==t)return T(j(">"),ue(me,">"),z,be)}function ke(){return O(me,Ce)}function Ce(e,t){if("="==t)return T(me)}function xe(e,t){return"enum"==t?(_.marked="keyword",T(Xe)):O(Ee,pe,Oe,Te)}function Ee(e,t){return u&&D(t)?(_.marked="keyword",T(Ee)):"variable"==e?(A(t),T()):"spread"==e?T(Ee):"["==e?ce(_e,"]"):"{"==e?ce(Se,"}"):void 0}function Se(e,t){return"variable"!=e||_.stream.match(/^\s*:/,!1)?("variable"==e&&(_.marked="property"),"spread"==e?T(Ee):"}"==e?O():"["==e?T(G,V("]"),V(":"),Se):T(V(":"),Ee,Oe)):(A(t),T(Oe))}function _e(){return O(Ee,Oe)}function Oe(e,t){if("="==t)return T(W)}function Te(e){if(","==e)return T(xe)}function Re(e,t){if("keyword b"==e&&"else"==t)return T(j("form","else"),U,z)}function Ae(e,t){return"await"==t?T(Ae):"("==e?T(j(")"),Ne,z):void 0}function Ne(e){return"var"==e?T(xe,De):"variable"==e?T(De):O(De)}function De(e,t){return")"==e?T():";"==e?T(De):"in"==t||"of"==t?(_.marked="keyword",T(G,De)):O(G,De)}function Pe(e,t){return"*"==t?(_.marked="keyword",T(Pe)):"variable"==e?(A(t),T(Pe)):"("==e?T(F,j(")"),ue(Fe,")"),z,fe,U,B):u&&"<"==t?T(j(">"),ue(ke,">"),z,Pe):void 0}function Me(e,t){return"*"==t?(_.marked="keyword",T(Me)):"variable"==e?(A(t),T(Me)):"("==e?T(F,j(")"),ue(Fe,")"),z,fe,B):u&&"<"==t?T(j(">"),ue(ke,">"),z,Me):void 0}function Ie(e,t){return"keyword"==e||"variable"==e?(_.marked="type",T(Ie)):"<"==t?T(j(">"),ue(ke,">"),z):void 0}function Fe(e,t){return"@"==t&&T(G,Fe),"spread"==e?T(Fe):u&&D(t)?(_.marked="keyword",T(Fe)):u&&"this"==e?T(pe,Oe):O(Ee,pe,Oe)}function Le(e,t){return"variable"==e?Be(e,t):je(e,t)}function Be(e,t){if("variable"==e)return A(t),T(je)}function je(e,t){return"<"==t?T(j(">"),ue(ke,">"),z,je):"extends"==t||"implements"==t||u&&","==e?("implements"==t&&(_.marked="keyword"),T(u?me:G,je)):"{"==e?T(j("}"),ze,z):void 0}function ze(e,t){return"async"==e||"variable"==e&&("static"==t||"get"==t||"set"==t||u&&D(t))&&_.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)?(_.marked="keyword",T(ze)):"variable"==e||"keyword"==_.style?(_.marked="property",T(u?Ve:Pe,ze)):"number"==e||"string"==e?T(u?Ve:Pe,ze):"["==e?T(G,pe,V("]"),u?Ve:Pe,ze):"*"==t?(_.marked="keyword",T(ze)):u&&"("==e?O(Me,ze):";"==e||","==e?T(ze):"}"==e?T():"@"==t?T(G,ze):void 0}function Ve(e,t){if("?"==t)return T(Ve);if(":"==e)return T(me,Oe);if("="==t)return T(W);var n=_.state.lexical.prev;return O(n&&"interface"==n.info?Me:Pe)}function Ue(e,t){return"*"==t?(_.marked="keyword",T(Ke,V(";"))):"default"==t?(_.marked="keyword",T(G,V(";"))):"{"==e?T(ue(He,"}"),Ke,V(";")):O(U)}function He(e,t){return"as"==t?(_.marked="keyword",T(V("variable"))):"variable"==e?O(W,He):void 0}function Ge(e){return"string"==e?T():"("==e?O(G):O(We,qe,Ke)}function We(e,t){return"{"==e?ce(We,"}"):("variable"==e&&A(t),"*"==t&&(_.marked="keyword"),T(Ye))}function qe(e){if(","==e)return T(We,qe)}function Ye(e,t){if("as"==t)return _.marked="keyword",T(We)}function Ke(e,t){if("from"==t)return _.marked="keyword",T(G)}function $e(e){return"]"==e?T():O(ue(W,"]"))}function Xe(){return O(j("form"),Ee,V("{"),j("}"),ue(Je,"}"),z,z)}function Je(){return O(Ee,Oe)}function Qe(e,t){return"operator"==e.lastType||","==e.lastType||p.test(t.charAt(0))||/[,.]/.test(t.charAt(0))}function Ze(e,t,n){return t.tokenize==g&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(t.lastType)||"quasi"==t.lastType&&/\{\s*$/.test(e.string.slice(0,e.pos-(n||0)))}return B.lex=!0,z.lex=!0,{startState:function(e){var n={tokenize:g,lastType:"sof",cc:[],lexical:new x((e||0)-i,0,"block",!1),localVars:t.localVars,context:t.localVars&&new P(null,null,!1),indented:e||0};return t.globalVars&&"object"==typeof t.globalVars&&(n.globalVars=t.globalVars),n},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation(),k(e,t)),t.tokenize!=y&&e.eatSpace())return null;var n=t.tokenize(e,t);return"comment"==r?n:(t.lastType="operator"!=r||"++"!=o&&"--"!=o?r:"incdec",S(t,n,r,o,e))},indent:function(e,r){if(e.tokenize==y)return n.Pass;if(e.tokenize!=g)return 0;var o,s=r&&r.charAt(0),l=e.lexical;if(!/^\s*else\b/.test(r))for(var u=e.cc.length-1;u>=0;--u){var c=e.cc[u];if(c==z)l=l.prev;else if(c!=Re)break}for(;("stat"==l.type||"form"==l.type)&&("}"==s||(o=e.cc[e.cc.length-1])&&(o==$||o==X)&&!/^[,\.=+\-*:?[\(]/.test(r));)l=l.prev;a&&")"==l.type&&"stat"==l.prev.type&&(l=l.prev);var d=l.type,p=s==d;return"vardef"==d?l.indented+("operator"==e.lastType||","==e.lastType?l.info.length+1:0):"form"==d&&"{"==s?l.indented:"form"==d?l.indented+i:"stat"==d?l.indented+(Qe(e,r)?a||i:0):"switch"!=l.info||p||0==t.doubleIndentSwitch?l.align?l.column+(p?0:1):l.indented+(p?0:i):l.indented+(/^(?:case|default)\b/.test(r)?i:2*i)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:l?null:"/*",blockCommentEnd:l?null:"*/",blockCommentContinue:l?null:" * ",lineComment:l?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:l?"json":"javascript",jsonldMode:s,jsonMode:l,expressionAllowed:Ze,skipExpression:function(e){var t=e.cc[e.cc.length-1];t!=G&&t!=W||e.cc.pop()}}})),n.registerHelper("wordChars","javascript",/[\w$]/),n.defineMIME("text/javascript","javascript"),n.defineMIME("text/ecmascript","javascript"),n.defineMIME("application/javascript","javascript"),n.defineMIME("application/x-javascript","javascript"),n.defineMIME("application/ecmascript","javascript"),n.defineMIME("application/json",{name:"javascript",json:!0}),n.defineMIME("application/x-json",{name:"javascript",json:!0}),n.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),n.defineMIME("text/typescript",{name:"javascript",typescript:!0}),n.defineMIME("application/typescript",{name:"javascript",typescript:!0})})),Ne((function(e,t){!function(e){function t(e){for(var t={},n=0;n<e.length;++n)t[e[n].toLowerCase()]=!0;return t}e.defineMode("css",(function(t,n){var r=n.inline;n.propertyKeywords||(n=e.resolveMode("text/css"));var o,i,a=t.indentUnit,s=n.tokenHooks,l=n.documentTypes||{},u=n.mediaTypes||{},c=n.mediaFeatures||{},d=n.mediaValueKeywords||{},p=n.propertyKeywords||{},f=n.nonStandardPropertyKeywords||{},h=n.fontProperties||{},m=n.counterDescriptors||{},g=n.colorKeywords||{},v=n.valueKeywords||{},y=n.allowNested,b=n.lineComment,w=!0===n.supportsAtComponent;function k(e,t){return o=t,e}function C(e,t){var n=e.next();if(s[n]){var r=s[n](e,t);if(!1!==r)return r}return"@"==n?(e.eatWhile(/[\w\\\-]/),k("def",e.current())):"="==n||("~"==n||"|"==n)&&e.eat("=")?k(null,"compare"):'"'==n||"'"==n?(t.tokenize=x(n),t.tokenize(e,t)):"#"==n?(e.eatWhile(/[\w\\\-]/),k("atom","hash")):"!"==n?(e.match(/^\s*\w*/),k("keyword","important")):/\d/.test(n)||"."==n&&e.eat(/\d/)?(e.eatWhile(/[\w.%]/),k("number","unit")):"-"!==n?/[,+>*\/]/.test(n)?k(null,"select-op"):"."==n&&e.match(/^-?[_a-z][_a-z0-9-]*/i)?k("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(n)?k(null,n):e.match(/[\w-.]+(?=\()/)?(/^(url(-prefix)?|domain|regexp)$/.test(e.current().toLowerCase())&&(t.tokenize=E),k("variable callee","variable")):/[\w\\\-]/.test(n)?(e.eatWhile(/[\w\\\-]/),k("property","word")):k(null,null):/[\d.]/.test(e.peek())?(e.eatWhile(/[\w.%]/),k("number","unit")):e.match(/^-[\w\\\-]*/)?(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?k("variable-2","variable-definition"):k("variable-2","variable")):e.match(/^\w+-/)?k("meta","meta"):void 0}function x(e){return function(t,n){for(var r,o=!1;null!=(r=t.next());){if(r==e&&!o){")"==e&&t.backUp(1);break}o=!o&&"\\"==r}return(r==e||!o&&")"!=e)&&(n.tokenize=null),k("string","string")}}function E(e,t){return e.next(),e.match(/\s*[\"\')]/,!1)?t.tokenize=null:t.tokenize=x(")"),k(null,"(")}function S(e,t,n){this.type=e,this.indent=t,this.prev=n}function _(e,t,n,r){return e.context=new S(n,t.indentation()+(!1===r?0:a),e.context),n}function O(e){return e.context.prev&&(e.context=e.context.prev),e.context.type}function T(e,t,n){return N[n.context.type](e,t,n)}function R(e,t,n,r){for(var o=r||1;o>0;o--)n.context=n.context.prev;return T(e,t,n)}function A(e){var t=e.current().toLowerCase();i=v.hasOwnProperty(t)?"atom":g.hasOwnProperty(t)?"keyword":"variable"}var N={top:function(e,t,n){if("{"==e)return _(n,t,"block");if("}"==e&&n.context.prev)return O(n);if(w&&/@component/i.test(e))return _(n,t,"atComponentBlock");if(/^@(-moz-)?document$/i.test(e))return _(n,t,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/i.test(e))return _(n,t,"atBlock");if(/^@(font-face|counter-style)/i.test(e))return n.stateArg=e,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(e))return"keyframes";if(e&&"@"==e.charAt(0))return _(n,t,"at");if("hash"==e)i="builtin";else if("word"==e)i="tag";else{if("variable-definition"==e)return"maybeprop";if("interpolation"==e)return _(n,t,"interpolation");if(":"==e)return"pseudo";if(y&&"("==e)return _(n,t,"parens")}return n.context.type},block:function(e,t,n){if("word"==e){var r=t.current().toLowerCase();return p.hasOwnProperty(r)?(i="property","maybeprop"):f.hasOwnProperty(r)?(i="string-2","maybeprop"):y?(i=t.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(i+=" error","maybeprop")}return"meta"==e?"block":y||"hash"!=e&&"qualifier"!=e?N.top(e,t,n):(i="error","block")},maybeprop:function(e,t,n){return":"==e?_(n,t,"prop"):T(e,t,n)},prop:function(e,t,n){if(";"==e)return O(n);if("{"==e&&y)return _(n,t,"propBlock");if("}"==e||"{"==e)return R(e,t,n);if("("==e)return _(n,t,"parens");if("hash"!=e||/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(t.current())){if("word"==e)A(t);else if("interpolation"==e)return _(n,t,"interpolation")}else i+=" error";return"prop"},propBlock:function(e,t,n){return"}"==e?O(n):"word"==e?(i="property","maybeprop"):n.context.type},parens:function(e,t,n){return"{"==e||"}"==e?R(e,t,n):")"==e?O(n):"("==e?_(n,t,"parens"):"interpolation"==e?_(n,t,"interpolation"):("word"==e&&A(t),"parens")},pseudo:function(e,t,n){return"meta"==e?"pseudo":"word"==e?(i="variable-3",n.context.type):T(e,t,n)},documentTypes:function(e,t,n){return"word"==e&&l.hasOwnProperty(t.current())?(i="tag",n.context.type):N.atBlock(e,t,n)},atBlock:function(e,t,n){if("("==e)return _(n,t,"atBlock_parens");if("}"==e||";"==e)return R(e,t,n);if("{"==e)return O(n)&&_(n,t,y?"block":"top");if("interpolation"==e)return _(n,t,"interpolation");if("word"==e){var r=t.current().toLowerCase();i="only"==r||"not"==r||"and"==r||"or"==r?"keyword":u.hasOwnProperty(r)?"attribute":c.hasOwnProperty(r)?"property":d.hasOwnProperty(r)?"keyword":p.hasOwnProperty(r)?"property":f.hasOwnProperty(r)?"string-2":v.hasOwnProperty(r)?"atom":g.hasOwnProperty(r)?"keyword":"error"}return n.context.type},atComponentBlock:function(e,t,n){return"}"==e?R(e,t,n):"{"==e?O(n)&&_(n,t,y?"block":"top",!1):("word"==e&&(i="error"),n.context.type)},atBlock_parens:function(e,t,n){return")"==e?O(n):"{"==e||"}"==e?R(e,t,n,2):N.atBlock(e,t,n)},restricted_atBlock_before:function(e,t,n){return"{"==e?_(n,t,"restricted_atBlock"):"word"==e&&"@counter-style"==n.stateArg?(i="variable","restricted_atBlock_before"):T(e,t,n)},restricted_atBlock:function(e,t,n){return"}"==e?(n.stateArg=null,O(n)):"word"==e?(i="@font-face"==n.stateArg&&!h.hasOwnProperty(t.current().toLowerCase())||"@counter-style"==n.stateArg&&!m.hasOwnProperty(t.current().toLowerCase())?"error":"property","maybeprop"):"restricted_atBlock"},keyframes:function(e,t,n){return"word"==e?(i="variable","keyframes"):"{"==e?_(n,t,"top"):T(e,t,n)},at:function(e,t,n){return";"==e?O(n):"{"==e||"}"==e?R(e,t,n):("word"==e?i="tag":"hash"==e&&(i="builtin"),"at")},interpolation:function(e,t,n){return"}"==e?O(n):"{"==e||";"==e?R(e,t,n):("word"==e?i="variable":"variable"!=e&&"("!=e&&")"!=e&&(i="error"),"interpolation")}};return{startState:function(e){return{tokenize:null,state:r?"block":"top",stateArg:null,context:new S(r?"block":"top",e||0,null)}},token:function(e,t){if(!t.tokenize&&e.eatSpace())return null;var n=(t.tokenize||C)(e,t);return n&&"object"==typeof n&&(o=n[1],n=n[0]),i=n,"comment"!=o&&(t.state=N[t.state](o,e,t)),i},indent:function(e,t){var n=e.context,r=t&&t.charAt(0),o=n.indent;return"prop"!=n.type||"}"!=r&&")"!=r||(n=n.prev),n.prev&&("}"!=r||"block"!=n.type&&"top"!=n.type&&"interpolation"!=n.type&&"restricted_atBlock"!=n.type?(")"!=r||"parens"!=n.type&&"atBlock_parens"!=n.type)&&("{"!=r||"at"!=n.type&&"atBlock"!=n.type)||(o=Math.max(0,n.indent-a)):o=(n=n.prev).indent),o},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:b,fold:"brace"}}));var n=["domain","regexp","url","url-prefix"],r=t(n),o=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],i=t(o),a=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover"],s=t(a),l=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive"],u=t(l),c=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","baseline-shift","binding","bleed","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-feature-settings","font-family","font-kerning","font-language-override","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-weight","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","max-height","max-width","min-height","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotation","rotation-point","ruby-align","ruby-overhang","ruby-position","ruby-span","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-outline","text-overflow","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],d=t(c),p=["scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-3d-light-color","scrollbar-track-color","shape-inside","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","zoom"],f=t(p),h=t(["font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"]),m=t(["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"]),g=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],v=t(g),y=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","match","matrix","matrix3d","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","sub","subpixel-antialiased","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],b=t(y),w=n.concat(o).concat(a).concat(l).concat(c).concat(p).concat(g).concat(y);function k(e,t){for(var n,r=!1;null!=(n=e.next());){if(r&&"/"==n){t.tokenize=null;break}r="*"==n}return["comment","comment"]}e.registerHelper("hintWords","css",w),e.defineMIME("text/css",{documentTypes:r,mediaTypes:i,mediaFeatures:s,mediaValueKeywords:u,propertyKeywords:d,nonStandardPropertyKeywords:f,fontProperties:h,counterDescriptors:m,colorKeywords:v,valueKeywords:b,tokenHooks:{"/":function(e,t){return!!e.eat("*")&&(t.tokenize=k,k(e,t))}},name:"css"}),e.defineMIME("text/x-scss",{mediaTypes:i,mediaFeatures:s,mediaValueKeywords:u,propertyKeywords:d,nonStandardPropertyKeywords:f,colorKeywords:v,valueKeywords:b,fontProperties:h,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=k,k(e,t)):["operator","operator"]},":":function(e){return!!e.match(/\s*\{/,!1)&&[null,null]},$:function(e){return e.match(/^[\w-]+/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(e){return!!e.eat("{")&&[null,"interpolation"]}},name:"css",helperType:"scss"}),e.defineMIME("text/x-less",{mediaTypes:i,mediaFeatures:s,mediaValueKeywords:u,propertyKeywords:d,nonStandardPropertyKeywords:f,colorKeywords:v,valueKeywords:b,fontProperties:h,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=k,k(e,t)):["operator","operator"]},"@":function(e){return e.eat("{")?[null,"interpolation"]:!e.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1)&&(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),e.defineMIME("text/x-gss",{documentTypes:r,mediaTypes:i,mediaFeatures:s,propertyKeywords:d,nonStandardPropertyKeywords:f,fontProperties:h,counterDescriptors:m,colorKeywords:v,valueKeywords:b,supportsAtComponent:!0,tokenHooks:{"/":function(e,t){return!!e.eat("*")&&(t.tokenize=k,k(e,t))}},name:"css",helperType:"gss"})}(bg)})),Ne((function(e,t){!function(e){var t={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]};function n(e,t,n){var r=e.current(),o=r.search(t);return o>-1?e.backUp(r.length-o):r.match(/<\/?$/)&&(e.backUp(r.length),e.match(t,!1)||e.match(r)),n}var r={};function o(e){var t=r[e];return t||(r[e]=new RegExp("\\s+"+e+"\\s*=\\s*('|\")?([^'\"]+)('|\")?\\s*"))}function i(e,t){var n=e.match(o(t));return n?/^\s*(.*?)\s*$/.exec(n[2])[1]:""}function a(e,t){return new RegExp((t?"^":"")+"</s*"+e+"s*>","i")}function s(e,t){for(var n in e)for(var r=t[n]||(t[n]=[]),o=e[n],i=o.length-1;i>=0;i--)r.unshift(o[i])}function l(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(!r[0]||r[1].test(i(t,r[0])))return r[2]}}e.defineMode("htmlmixed",(function(r,o){var i=e.getMode(r,{name:"xml",htmlMode:!0,multilineTagIndentFactor:o.multilineTagIndentFactor,multilineTagIndentPastTag:o.multilineTagIndentPastTag}),u={},c=o&&o.tags,d=o&&o.scriptTypes;if(s(t,u),c&&s(c,u),d)for(var p=d.length-1;p>=0;p--)u.script.unshift(["type",d[p].matches,d[p].mode]);function f(t,o){var s,c=i.token(t,o.htmlState),d=/\btag\b/.test(c);if(d&&!/[<>\s\/]/.test(t.current())&&(s=o.htmlState.tagName&&o.htmlState.tagName.toLowerCase())&&u.hasOwnProperty(s))o.inTag=s+" ";else if(o.inTag&&d&&/>$/.test(t.current())){var p=/^([\S]+) (.*)/.exec(o.inTag);o.inTag=null;var h=">"==t.current()&&l(u[p[1]],p[2]),m=e.getMode(r,h),g=a(p[1],!0),v=a(p[1],!1);o.token=function(e,t){return e.match(g,!1)?(t.token=f,t.localState=t.localMode=null,null):n(e,v,t.localMode.token(e,t.localState))},o.localMode=m,o.localState=e.startState(m,i.indent(o.htmlState,"",""))}else o.inTag&&(o.inTag+=t.current(),t.eol()&&(o.inTag+=" "));return c}return{startState:function(){return{token:f,inTag:null,localMode:null,localState:null,htmlState:e.startState(i)}},copyState:function(t){var n;return t.localState&&(n=e.copyState(t.localMode,t.localState)),{token:t.token,inTag:t.inTag,localMode:t.localMode,localState:n,htmlState:e.copyState(i,t.htmlState)}},token:function(e,t){return t.token(e,t)},indent:function(t,n,r){return!t.localMode||/^\s*<\//.test(n)?i.indent(t.htmlState,n,r):t.localMode.indent?t.localMode.indent(t.localState,n,r):e.Pass},innerMode:function(e){return{state:e.localState||e.htmlState,mode:e.localMode||i}}}}),"xml","javascript","css"),e.defineMIME("text/html","htmlmixed")}(bg)})),Ne((function(e,t){!function(e){function t(e,t,n,r,o,i){this.indented=e,this.column=t,this.type=n,this.info=r,this.align=o,this.prev=i}function n(e,n,r,o){var i=e.indented;return e.context&&"statement"==e.context.type&&"statement"!=r&&(i=e.context.indented),e.context=new t(i,n,r,o,null,e.context)}function r(e){var t=e.context.type;return")"!=t&&"]"!=t&&"}"!=t||(e.indented=e.context.indented),e.context=e.context.prev}function o(e,t,n){return"variable"==t.prevToken||"type"==t.prevToken||!!/\S(?:[^- ]>|[*\]])\s*$|\*$/.test(e.string.slice(0,n))||!(!t.typeAtEndOfLine||e.column()!=e.indentation())||void 0}function i(e){for(;;){if(!e||"top"==e.type)return!0;if("}"==e.type&&"namespace"!=e.prev.info)return!1;e=e.prev}}function a(e){for(var t={},n=e.split(" "),r=0;r<n.length;++r)t[n[r]]=!0;return t}function s(e,t){return"function"==typeof e?e(t):e.propertyIsEnumerable(t)}e.defineMode("clike",(function(a,l){var u,c,d=a.indentUnit,p=l.statementIndentUnit||d,f=l.dontAlignCalls,h=l.keywords||{},m=l.types||{},g=l.builtin||{},v=l.blockKeywords||{},y=l.defKeywords||{},b=l.atoms||{},w=l.hooks||{},k=l.multiLineStrings,C=!1!==l.indentStatements,x=!1!==l.indentSwitch,E=l.namespaceSeparator,S=l.isPunctuationChar||/[\[\]{}\(\),;\:\.]/,_=l.numberStart||/[\d\.]/,O=l.number||/^(?:0x[a-f\d]+|0b[01]+|(?:\d+\.?\d*|\.\d+)(?:e[-+]?\d+)?)(u|ll?|l|f)?/i,T=l.isOperatorChar||/[+\-*&%=<>!?|\/]/,R=l.isIdentifierChar||/[\w\$_\xa1-\uffff]/,A=l.isReservedIdentifier||!1;function N(e,t){var n=e.next();if(w[n]){var r=w[n](e,t);if(!1!==r)return r}if('"'==n||"'"==n)return t.tokenize=D(n),t.tokenize(e,t);if(S.test(n))return u=n,null;if(_.test(n)){if(e.backUp(1),e.match(O))return"number";e.next()}if("/"==n){if(e.eat("*"))return t.tokenize=P,P(e,t);if(e.eat("/"))return e.skipToEnd(),"comment"}if(T.test(n)){for(;!e.match(/^\/[\/*]/,!1)&&e.eat(T););return"operator"}if(e.eatWhile(R),E)for(;e.match(E);)e.eatWhile(R);var o=e.current();return s(h,o)?(s(v,o)&&(u="newstatement"),s(y,o)&&(c=!0),"keyword"):s(m,o)?"type":s(g,o)||A&&A(o)?(s(v,o)&&(u="newstatement"),"builtin"):s(b,o)?"atom":"variable"}function D(e){return function(t,n){for(var r,o=!1,i=!1;null!=(r=t.next());){if(r==e&&!o){i=!0;break}o=!o&&"\\"==r}return(i||!o&&!k)&&(n.tokenize=null),"string"}}function P(e,t){for(var n,r=!1;n=e.next();){if("/"==n&&r){t.tokenize=null;break}r="*"==n}return"comment"}function M(e,t){l.typeFirstDefinitions&&e.eol()&&i(t.context)&&(t.typeAtEndOfLine=o(e,t,e.pos))}return{startState:function(e){return{tokenize:null,context:new t((e||0)-d,0,"top",null,!1),indented:0,startOfLine:!0,prevToken:null}},token:function(e,t){var a=t.context;if(e.sol()&&(null==a.align&&(a.align=!1),t.indented=e.indentation(),t.startOfLine=!0),e.eatSpace())return M(e,t),null;u=c=null;var s=(t.tokenize||N)(e,t);if("comment"==s||"meta"==s)return s;if(null==a.align&&(a.align=!0),";"==u||":"==u||","==u&&e.match(/^\s*(?:\/\/.*)?$/,!1))for(;"statement"==t.context.type;)r(t);else if("{"==u)n(t,e.column(),"}");else if("["==u)n(t,e.column(),"]");else if("("==u)n(t,e.column(),")");else if("}"==u){for(;"statement"==a.type;)a=r(t);for("}"==a.type&&(a=r(t));"statement"==a.type;)a=r(t)}else u==a.type?r(t):C&&(("}"==a.type||"top"==a.type)&&";"!=u||"statement"==a.type&&"newstatement"==u)&&n(t,e.column(),"statement",e.current());if("variable"==s&&("def"==t.prevToken||l.typeFirstDefinitions&&o(e,t,e.start)&&i(t.context)&&e.match(/^\s*\(/,!1))&&(s="def"),w.token){var d=w.token(e,t,s);void 0!==d&&(s=d)}return"def"==s&&!1===l.styleDefs&&(s="variable"),t.startOfLine=!1,t.prevToken=c?"def":s||u,M(e,t),s},indent:function(t,n){if(t.tokenize!=N&&null!=t.tokenize||t.typeAtEndOfLine)return e.Pass;var r=t.context,o=n&&n.charAt(0),i=o==r.type;if("statement"==r.type&&"}"==o&&(r=r.prev),l.dontIndentStatements)for(;"statement"==r.type&&l.dontIndentStatements.test(r.info);)r=r.prev;if(w.indent){var a=w.indent(t,r,n,d);if("number"==typeof a)return a}var s=r.prev&&"switch"==r.prev.info;if(l.allmanIndentation&&/[{(]/.test(o)){for(;"top"!=r.type&&"}"!=r.type;)r=r.prev;return r.indented}return"statement"==r.type?r.indented+("{"==o?0:p):!r.align||f&&")"==r.type?")"!=r.type||i?r.indented+(i?0:d)+(i||!s||/^(?:case|default)\b/.test(n)?0:d):r.indented+p:r.column+(i?0:1)},electricInput:x?/^\s*(?:case .*?:|default:|\{\}?|\})$/:/^\s*[{}]$/,blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:"//",fold:"brace"}}));var l="auto if break case register continue return default do sizeof static else struct switch extern typedef union for goto while enum const volatile inline restrict asm fortran",u=a("int long char short double float unsigned signed void bool"),c=a("SEL instancetype id Class Protocol BOOL");function d(e){return s(u,e)||/.+_t$/.test(e)}function p(e){return d(e)||s(c,e)}var f="case do else for if switch while struct enum union",h="struct enum union";function m(e,t){if(!t.startOfLine)return!1;for(var n,r=null;n=e.peek();){if("\\"==n&&e.match(/^.$/)){r=m;break}if("/"==n&&e.match(/^\/[\/\*]/,!1))break;e.next()}return t.tokenize=r,"meta"}function g(e,t){return"type"==t.prevToken&&"type"}function v(e){return!(!e||e.length<2||"_"!=e[0]||"_"!=e[1]&&e[1]===e[1].toLowerCase())}function y(e){return e.eatWhile(/[\w\.']/),"number"}function b(e,t){if(e.backUp(1),e.match(/(R|u8R|uR|UR|LR)/)){var n=e.match(/"([^\s\\()]{0,16})\(/);return!!n&&(t.cpp11RawStringDelim=n[1],t.tokenize=C,C(e,t))}return e.match(/(u8|u|U|L)/)?!!e.match(/["']/,!1)&&"string":(e.next(),!1)}function w(e){var t=/(\w+)::~?(\w+)$/.exec(e);return t&&t[1]==t[2]}function k(e,t){for(var n;null!=(n=e.next());)if('"'==n&&!e.eat('"')){t.tokenize=null;break}return"string"}function C(e,t){var n=t.cpp11RawStringDelim.replace(/[^\w\s]/g,"\\$&");return e.match(new RegExp(".*?\\)"+n+'"'))?t.tokenize=null:e.skipToEnd(),"string"}function x(t,n){"string"==typeof t&&(t=[t]);var r=[];function o(e){if(e)for(var t in e)e.hasOwnProperty(t)&&r.push(t)}o(n.keywords),o(n.types),o(n.builtin),o(n.atoms),r.length&&(n.helperType=t[0],e.registerHelper("hintWords",t[0],r));for(var i=0;i<t.length;++i)e.defineMIME(t[i],n)}function E(e,t){for(var n=!1;!e.eol();){if(!n&&e.match('"""')){t.tokenize=null;break}n="\\"==e.next()&&!n}return"string"}function S(e){return function(t,n){for(var r;r=t.next();){if("*"==r&&t.eat("/")){if(1==e){n.tokenize=null;break}return n.tokenize=S(e-1),n.tokenize(t,n)}if("/"==r&&t.eat("*"))return n.tokenize=S(e+1),n.tokenize(t,n)}return"comment"}}function _(e){return function(t,n){for(var r,o=!1,i=!1;!t.eol();){if(!e&&!o&&t.match('"')){i=!0;break}if(e&&t.match('"""')){i=!0;break}r=t.next(),!o&&"$"==r&&t.match("{")&&t.skipTo("}"),o=!o&&"\\"==r&&!e}return!i&&e||(n.tokenize=null),"string"}}x(["text/x-csrc","text/x-c","text/x-chdr"],{name:"clike",keywords:a(l),types:d,blockKeywords:a(f),defKeywords:a(h),typeFirstDefinitions:!0,atoms:a("NULL true false"),isReservedIdentifier:v,hooks:{"#":m,"*":g},modeProps:{fold:["brace","include"]}}),x(["text/x-c++src","text/x-c++hdr"],{name:"clike",keywords:a(l+"alignas alignof and and_eq audit axiom bitand bitor catch class compl concept constexpr const_cast decltype delete dynamic_cast explicit export final friend import module mutable namespace new noexcept not not_eq operator or or_eq override private protected public reinterpret_cast requires static_assert static_cast template this thread_local throw try typeid typename using virtual xor xor_eq"),types:d,blockKeywords:a(f+" class try catch"),defKeywords:a(h+" class namespace"),typeFirstDefinitions:!0,atoms:a("true false NULL nullptr"),dontIndentStatements:/^template$/,isIdentifierChar:/[\w\$_~\xa1-\uffff]/,isReservedIdentifier:v,hooks:{"#":m,"*":g,u:b,U:b,L:b,R:b,0:y,1:y,2:y,3:y,4:y,5:y,6:y,7:y,8:y,9:y,token:function(e,t,n){if("variable"==n&&"("==e.peek()&&(";"==t.prevToken||null==t.prevToken||"}"==t.prevToken)&&w(e.current()))return"def"}},namespaceSeparator:"::",modeProps:{fold:["brace","include"]}}),x("text/x-java",{name:"clike",keywords:a("abstract assert break case catch class const continue default do else enum extends final finally float for goto if implements import instanceof interface native new package private protected public return static strictfp super switch synchronized this throw throws transient try volatile while @interface"),types:a("byte short int long float double boolean char void Boolean Byte Character Double Float Integer Long Number Object Short String StringBuffer StringBuilder Void"),blockKeywords:a("catch class do else finally for if switch try while"),defKeywords:a("class interface enum @interface"),typeFirstDefinitions:!0,atoms:a("true false null"),number:/^(?:0x[a-f\d_]+|0b[01_]+|(?:[\d_]+\.?\d*|\.\d+)(?:e[-+]?[\d_]+)?)(u|ll?|l|f)?/i,hooks:{"@":function(e){return!e.match("interface",!1)&&(e.eatWhile(/[\w\$_]/),"meta")}},modeProps:{fold:["brace","import"]}}),x("text/x-csharp",{name:"clike",keywords:a("abstract as async await base break case catch checked class const continue default delegate do else enum event explicit extern finally fixed for foreach goto if implicit in interface internal is lock namespace new operator out override params private protected public readonly ref return sealed sizeof stackalloc static struct switch this throw try typeof unchecked unsafe using virtual void volatile while add alias ascending descending dynamic from get global group into join let orderby partial remove select set value var yield"),types:a("Action Boolean Byte Char DateTime DateTimeOffset Decimal Double Func Guid Int16 Int32 Int64 Object SByte Single String Task TimeSpan UInt16 UInt32 UInt64 bool byte char decimal double short int long object sbyte float string ushort uint ulong"),blockKeywords:a("catch class do else finally for foreach if struct switch try while"),defKeywords:a("class interface namespace struct var"),typeFirstDefinitions:!0,atoms:a("true false null"),hooks:{"@":function(e,t){return e.eat('"')?(t.tokenize=k,k(e,t)):(e.eatWhile(/[\w\$_]/),"meta")}}}),x("text/x-scala",{name:"clike",keywords:a("abstract case catch class def do else extends final finally for forSome if implicit import lazy match new null object override package private protected return sealed super this throw trait try type val var while with yield _ assert assume require print println printf readLine readBoolean readByte readShort readChar readInt readLong readFloat readDouble"),types:a("AnyVal App Application Array BufferedIterator BigDecimal BigInt Char Console Either Enumeration Equiv Error Exception Fractional Function IndexedSeq Int Integral Iterable Iterator List Map Numeric Nil NotNull Option Ordered Ordering PartialFunction PartialOrdering Product Proxy Range Responder Seq Serializable Set Specializable Stream StringBuilder StringContext Symbol Throwable Traversable TraversableOnce Tuple Unit Vector Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable Compiler Double Exception Float Integer Long Math Number Object Package Pair Process Runtime Runnable SecurityManager Short StackTraceElement StrictMath String StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void"),multiLineStrings:!0,blockKeywords:a("catch class enum do else finally for forSome if match switch try while"),defKeywords:a("class enum def object package trait type val var"),atoms:a("true false null"),indentStatements:!1,indentSwitch:!1,isOperatorChar:/[+\-*&%=<>!?|\/#:@]/,hooks:{"@":function(e){return e.eatWhile(/[\w\$_]/),"meta"},'"':function(e,t){return!!e.match('""')&&(t.tokenize=E,t.tokenize(e,t))},"'":function(e){return e.eatWhile(/[\w\$_\xa1-\uffff]/),"atom"},"=":function(e,n){var r=n.context;return!("}"!=r.type||!r.align||!e.eat(">"))&&(n.context=new t(r.indented,r.column,r.type,r.info,null,r.prev),"operator")},"/":function(e,t){return!!e.eat("*")&&(t.tokenize=S(1),t.tokenize(e,t))}},modeProps:{closeBrackets:{pairs:'()[]{}""',triples:'"'}}}),x("text/x-kotlin",{name:"clike",keywords:a("package as typealias class interface this super val operator var fun for is in This throw return annotation break continue object if else while do try when !in !is as? file import where by get set abstract enum open inner override private public internal protected catch finally out final vararg reified dynamic companion constructor init sealed field property receiver param sparam lateinit data inline noinline tailrec external annotation crossinline const operator infix suspend actual expect setparam"),types:a("Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable Compiler Double Exception Float Integer Long Math Number Object Package Pair Process Runtime Runnable SecurityManager Short StackTraceElement StrictMath String StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void Annotation Any BooleanArray ByteArray Char CharArray DeprecationLevel DoubleArray Enum FloatArray Function Int IntArray Lazy LazyThreadSafetyMode LongArray Nothing ShortArray Unit"),intendSwitch:!1,indentStatements:!1,multiLineStrings:!0,number:/^(?:0x[a-f\d_]+|0b[01_]+|(?:[\d_]+(\.\d+)?|\.\d+)(?:e[-+]?[\d_]+)?)(u|ll?|l|f)?/i,blockKeywords:a("catch class do else finally for if where try while enum"),defKeywords:a("class val var object interface fun"),atoms:a("true false null this"),hooks:{"@":function(e){return e.eatWhile(/[\w\$_]/),"meta"},"*":function(e,t){return"."==t.prevToken?"variable":"operator"},'"':function(e,t){return t.tokenize=_(e.match('""')),t.tokenize(e,t)},indent:function(e,t,n,r){var o=n&&n.charAt(0);return"}"!=e.prevToken&&")"!=e.prevToken||""!=n?"operator"==e.prevToken&&"}"!=n||"variable"==e.prevToken&&"."==o||("}"==e.prevToken||")"==e.prevToken)&&"."==o?2*r+t.indented:t.align&&"}"==t.type?t.indented+(e.context.type==(n||"").charAt(0)?0:r):void 0:e.indented}},modeProps:{closeBrackets:{triples:'"'}}}),x(["x-shader/x-vertex","x-shader/x-fragment"],{name:"clike",keywords:a("sampler1D sampler2D sampler3D samplerCube sampler1DShadow sampler2DShadow const attribute uniform varying break continue discard return for while do if else struct in out inout"),types:a("float int bool void vec2 vec3 vec4 ivec2 ivec3 ivec4 bvec2 bvec3 bvec4 mat2 mat3 mat4"),blockKeywords:a("for while do if else struct"),builtin:a("radians degrees sin cos tan asin acos atan pow exp log exp2 sqrt inversesqrt abs sign floor ceil fract mod min max clamp mix step smoothstep length distance dot cross normalize ftransform faceforward reflect refract matrixCompMult lessThan lessThanEqual greaterThan greaterThanEqual equal notEqual any all not texture1D texture1DProj texture1DLod texture1DProjLod texture2D texture2DProj texture2DLod texture2DProjLod texture3D texture3DProj texture3DLod texture3DProjLod textureCube textureCubeLod shadow1D shadow2D shadow1DProj shadow2DProj shadow1DLod shadow2DLod shadow1DProjLod shadow2DProjLod dFdx dFdy fwidth noise1 noise2 noise3 noise4"),atoms:a("true false gl_FragColor gl_SecondaryColor gl_Normal gl_Vertex gl_MultiTexCoord0 gl_MultiTexCoord1 gl_MultiTexCoord2 gl_MultiTexCoord3 gl_MultiTexCoord4 gl_MultiTexCoord5 gl_MultiTexCoord6 gl_MultiTexCoord7 gl_FogCoord gl_PointCoord gl_Position gl_PointSize gl_ClipVertex gl_FrontColor gl_BackColor gl_FrontSecondaryColor gl_BackSecondaryColor gl_TexCoord gl_FogFragCoord gl_FragCoord gl_FrontFacing gl_FragData gl_FragDepth gl_ModelViewMatrix gl_ProjectionMatrix gl_ModelViewProjectionMatrix gl_TextureMatrix gl_NormalMatrix gl_ModelViewMatrixInverse gl_ProjectionMatrixInverse gl_ModelViewProjectionMatrixInverse gl_TexureMatrixTranspose gl_ModelViewMatrixInverseTranspose gl_ProjectionMatrixInverseTranspose gl_ModelViewProjectionMatrixInverseTranspose gl_TextureMatrixInverseTranspose gl_NormalScale gl_DepthRange gl_ClipPlane gl_Point gl_FrontMaterial gl_BackMaterial gl_LightSource gl_LightModel gl_FrontLightModelProduct gl_BackLightModelProduct gl_TextureColor gl_EyePlaneS gl_EyePlaneT gl_EyePlaneR gl_EyePlaneQ gl_FogParameters gl_MaxLights gl_MaxClipPlanes gl_MaxTextureUnits gl_MaxTextureCoords gl_MaxVertexAttribs gl_MaxVertexUniformComponents gl_MaxVaryingFloats gl_MaxVertexTextureImageUnits gl_MaxTextureImageUnits gl_MaxFragmentUniformComponents gl_MaxCombineTextureImageUnits gl_MaxDrawBuffers"),indentSwitch:!1,hooks:{"#":m},modeProps:{fold:["brace","include"]}}),x("text/x-nesc",{name:"clike",keywords:a(l+" as atomic async call command component components configuration event generic implementation includes interface module new norace nx_struct nx_union post provides signal task uses abstract extends"),types:d,blockKeywords:a(f),atoms:a("null true false"),hooks:{"#":m},modeProps:{fold:["brace","include"]}}),x("text/x-objectivec",{name:"clike",keywords:a(l+" bycopy byref in inout oneway out self super atomic nonatomic retain copy readwrite readonly strong weak assign typeof nullable nonnull null_resettable _cmd @interface @implementation @end @protocol @encode @property @synthesize @dynamic @class @public @package @private @protected @required @optional @try @catch @finally @import @selector @encode @defs @synchronized @autoreleasepool @compatibility_alias @available"),types:p,builtin:a("FOUNDATION_EXPORT FOUNDATION_EXTERN NS_INLINE NS_FORMAT_FUNCTION NS_RETURNS_RETAINED NS_ERROR_ENUM NS_RETURNS_NOT_RETAINED NS_RETURNS_INNER_POINTER NS_DESIGNATED_INITIALIZER NS_ENUM NS_OPTIONS NS_REQUIRES_NIL_TERMINATION NS_ASSUME_NONNULL_BEGIN NS_ASSUME_NONNULL_END NS_SWIFT_NAME NS_REFINED_FOR_SWIFT"),blockKeywords:a(f+" @synthesize @try @catch @finally @autoreleasepool @synchronized"),defKeywords:a(h+" @interface @implementation @protocol @class"),dontIndentStatements:/^@.*$/,typeFirstDefinitions:!0,atoms:a("YES NO NULL Nil nil true false nullptr"),isReservedIdentifier:v,hooks:{"#":m,"*":g},modeProps:{fold:["brace","include"]}}),x("text/x-squirrel",{name:"clike",keywords:a("base break clone continue const default delete enum extends function in class foreach local resume return this throw typeof yield constructor instanceof static"),types:d,blockKeywords:a("case catch class else for foreach if switch try while"),defKeywords:a("function local class"),typeFirstDefinitions:!0,atoms:a("true false null"),hooks:{"#":m},modeProps:{fold:["brace","include"]}});var O=null;function T(e){return function(t,n){for(var r,o=!1,i=!1;!t.eol();){if(!o&&t.match('"')&&("single"==e||t.match('""'))){i=!0;break}if(!o&&t.match("``")){O=T(e),i=!0;break}r=t.next(),o="single"==e&&!o&&"\\"==r}return i&&(n.tokenize=null),"string"}}x("text/x-ceylon",{name:"clike",keywords:a("abstracts alias assembly assert assign break case catch class continue dynamic else exists extends finally for function given if import in interface is let module new nonempty object of out outer package return satisfies super switch then this throw try value void while"),types:function(e){var t=e.charAt(0);return t===t.toUpperCase()&&t!==t.toLowerCase()},blockKeywords:a("case catch class dynamic else finally for function if interface module new object switch try while"),defKeywords:a("class dynamic function interface module object package value"),builtin:a("abstract actual aliased annotation by default deprecated doc final formal late license native optional sealed see serializable shared suppressWarnings tagged throws variable"),isPunctuationChar:/[\[\]{}\(\),;\:\.`]/,isOperatorChar:/[+\-*&%=<>!?|^~:\/]/,numberStart:/[\d#$]/,number:/^(?:#[\da-fA-F_]+|\$[01_]+|[\d_]+[kMGTPmunpf]?|[\d_]+\.[\d_]+(?:[eE][-+]?\d+|[kMGTPmunpf]|)|)/i,multiLineStrings:!0,typeFirstDefinitions:!0,atoms:a("true false null larger smaller equal empty finished"),indentSwitch:!1,styleDefs:!1,hooks:{"@":function(e){return e.eatWhile(/[\w\$_]/),"meta"},'"':function(e,t){return t.tokenize=T(e.match('""')?"triple":"single"),t.tokenize(e,t)},"`":function(e,t){return!(!O||!e.match("`"))&&(t.tokenize=O,O=null,t.tokenize(e,t))},"'":function(e){return e.eatWhile(/[\w\$_\xa1-\uffff]/),"atom"},token:function(e,t,n){if(("variable"==n||"type"==n)&&"."==t.prevToken)return"variable-2"}},modeProps:{fold:["brace","import"],closeBrackets:{triples:'"'}}})}(bg)}));Ne((function(e,t){!function(e){function t(e){for(var t={},n=e.split(" "),r=0;r<n.length;++r)t[n[r]]=!0;return t}function n(e,t,o){return 0==e.length?r(t):function(i,a){for(var s=e[0],l=0;l<s.length;l++)if(i.match(s[l][0]))return a.tokenize=n(e.slice(1),t),s[l][1];return a.tokenize=r(t,o),"string"}}function r(e,t){return function(n,r){return o(n,r,e,t)}}function o(e,t,r,o){if(!1!==o&&e.match("${",!1)||e.match("{$",!1))return t.tokenize=null,"string";if(!1!==o&&e.match(/^\$[a-zA-Z_][a-zA-Z0-9_]*/))return e.match("[",!1)&&(t.tokenize=n([[["[",null]],[[/\d[\w\.]*/,"number"],[/\$[a-zA-Z_][a-zA-Z0-9_]*/,"variable-2"],[/[\w\$]+/,"variable"]],[["]",null]]],r,o)),e.match(/\-\>\w/,!1)&&(t.tokenize=n([[["->",null]],[[/[\w]+/,"variable"]]],r,o)),"variable-2";for(var i=!1;!e.eol()&&(i||!1===o||!e.match("{$",!1)&&!e.match(/^(\$[a-zA-Z_][a-zA-Z0-9_]*|\$\{)/,!1));){if(!i&&e.match(r)){t.tokenize=null,t.tokStack.pop(),t.tokStack.pop();break}i="\\"==e.next()&&!i}return"string"}var i="abstract and array as break case catch class clone const continue declare default do else elseif enddeclare endfor endforeach endif endswitch endwhile extends final for foreach function global goto if implements interface instanceof namespace new or private protected public static switch throw trait try use var while xor die echo empty exit eval include include_once isset list require require_once return print unset __halt_compiler self static parent yield insteadof finally",a="true false null TRUE FALSE NULL __CLASS__ __DIR__ __FILE__ __LINE__ __METHOD__ __FUNCTION__ __NAMESPACE__ __TRAIT__",s="func_num_args func_get_arg func_get_args strlen strcmp strncmp strcasecmp strncasecmp each error_reporting define defined trigger_error user_error set_error_handler restore_error_handler get_declared_classes get_loaded_extensions extension_loaded get_extension_funcs debug_backtrace constant bin2hex hex2bin sleep usleep time mktime gmmktime strftime gmstrftime strtotime date gmdate getdate localtime checkdate flush wordwrap htmlspecialchars htmlentities html_entity_decode md5 md5_file crc32 getimagesize image_type_to_mime_type phpinfo phpversion phpcredits strnatcmp strnatcasecmp substr_count strspn strcspn strtok strtoupper strtolower strpos strrpos strrev hebrev hebrevc nl2br basename dirname pathinfo stripslashes stripcslashes strstr stristr strrchr str_shuffle str_word_count strcoll substr substr_replace quotemeta ucfirst ucwords strtr addslashes addcslashes rtrim str_replace str_repeat count_chars chunk_split trim ltrim strip_tags similar_text explode implode setlocale localeconv parse_str str_pad chop strchr sprintf printf vprintf vsprintf sscanf fscanf parse_url urlencode urldecode rawurlencode rawurldecode readlink linkinfo link unlink exec system escapeshellcmd escapeshellarg passthru shell_exec proc_open proc_close rand srand getrandmax mt_rand mt_srand mt_getrandmax base64_decode base64_encode abs ceil floor round is_finite is_nan is_infinite bindec hexdec octdec decbin decoct dechex base_convert number_format fmod ip2long long2ip getenv putenv getopt microtime gettimeofday getrusage uniqid quoted_printable_decode set_time_limit get_cfg_var magic_quotes_runtime set_magic_quotes_runtime get_magic_quotes_gpc get_magic_quotes_runtime import_request_variables error_log serialize unserialize memory_get_usage var_dump var_export debug_zval_dump print_r highlight_file show_source highlight_string ini_get ini_get_all ini_set ini_alter ini_restore get_include_path set_include_path restore_include_path setcookie header headers_sent connection_aborted connection_status ignore_user_abort parse_ini_file is_uploaded_file move_uploaded_file intval floatval doubleval strval gettype settype is_null is_resource is_bool is_long is_float is_int is_integer is_double is_real is_numeric is_string is_array is_object is_scalar ereg ereg_replace eregi eregi_replace split spliti join sql_regcase dl pclose popen readfile rewind rmdir umask fclose feof fgetc fgets fgetss fread fopen fpassthru ftruncate fstat fseek ftell fflush fwrite fputs mkdir rename copy tempnam tmpfile file file_get_contents file_put_contents stream_select stream_context_create stream_context_set_params stream_context_set_option stream_context_get_options stream_filter_prepend stream_filter_append fgetcsv flock get_meta_tags stream_set_write_buffer set_file_buffer set_socket_blocking stream_set_blocking socket_set_blocking stream_get_meta_data stream_register_wrapper stream_wrapper_register stream_set_timeout socket_set_timeout socket_get_status realpath fnmatch fsockopen pfsockopen pack unpack get_browser crypt opendir closedir chdir getcwd rewinddir readdir dir glob fileatime filectime filegroup fileinode filemtime fileowner fileperms filesize filetype file_exists is_writable is_writeable is_readable is_executable is_file is_dir is_link stat lstat chown touch clearstatcache mail ob_start ob_flush ob_clean ob_end_flush ob_end_clean ob_get_flush ob_get_clean ob_get_length ob_get_level ob_get_status ob_get_contents ob_implicit_flush ob_list_handlers ksort krsort natsort natcasesort asort arsort sort rsort usort uasort uksort shuffle array_walk count end prev next reset current key min max in_array array_search extract compact array_fill range array_multisort array_push array_pop array_shift array_unshift array_splice array_slice array_merge array_merge_recursive array_keys array_values array_count_values array_reverse array_reduce array_pad array_flip array_change_key_case array_rand array_unique array_intersect array_intersect_assoc array_diff array_diff_assoc array_sum array_filter array_map array_chunk array_key_exists array_intersect_key array_combine array_column pos sizeof key_exists assert assert_options version_compare ftok str_rot13 aggregate session_name session_module_name session_save_path session_id session_regenerate_id session_decode session_register session_unregister session_is_registered session_encode session_start session_destroy session_unset session_set_save_handler session_cache_limiter session_cache_expire session_set_cookie_params session_get_cookie_params session_write_close preg_match preg_match_all preg_replace preg_replace_callback preg_split preg_quote preg_grep overload ctype_alnum ctype_alpha ctype_cntrl ctype_digit ctype_lower ctype_graph ctype_print ctype_punct ctype_space ctype_upper ctype_xdigit virtual apache_request_headers apache_note apache_lookup_uri apache_child_terminate apache_setenv apache_response_headers apache_get_version getallheaders mysql_connect mysql_pconnect mysql_close mysql_select_db mysql_create_db mysql_drop_db mysql_query mysql_unbuffered_query mysql_db_query mysql_list_dbs mysql_list_tables mysql_list_fields mysql_list_processes mysql_error mysql_errno mysql_affected_rows mysql_insert_id mysql_result mysql_num_rows mysql_num_fields mysql_fetch_row mysql_fetch_array mysql_fetch_assoc mysql_fetch_object mysql_data_seek mysql_fetch_lengths mysql_fetch_field mysql_field_seek mysql_free_result mysql_field_name mysql_field_table mysql_field_len mysql_field_type mysql_field_flags mysql_escape_string mysql_real_escape_string mysql_stat mysql_thread_id mysql_client_encoding mysql_get_client_info mysql_get_host_info mysql_get_proto_info mysql_get_server_info mysql_info mysql mysql_fieldname mysql_fieldtable mysql_fieldlen mysql_fieldtype mysql_fieldflags mysql_selectdb mysql_createdb mysql_dropdb mysql_freeresult mysql_numfields mysql_numrows mysql_listdbs mysql_listtables mysql_listfields mysql_db_name mysql_dbname mysql_tablename mysql_table_name pg_connect pg_pconnect pg_close pg_connection_status pg_connection_busy pg_connection_reset pg_host pg_dbname pg_port pg_tty pg_options pg_ping pg_query pg_send_query pg_cancel_query pg_fetch_result pg_fetch_row pg_fetch_assoc pg_fetch_array pg_fetch_object pg_fetch_all pg_affected_rows pg_get_result pg_result_seek pg_result_status pg_free_result pg_last_oid pg_num_rows pg_num_fields pg_field_name pg_field_num pg_field_size pg_field_type pg_field_prtlen pg_field_is_null pg_get_notify pg_get_pid pg_result_error pg_last_error pg_last_notice pg_put_line pg_end_copy pg_copy_to pg_copy_from pg_trace pg_untrace pg_lo_create pg_lo_unlink pg_lo_open pg_lo_close pg_lo_read pg_lo_write pg_lo_read_all pg_lo_import pg_lo_export pg_lo_seek pg_lo_tell pg_escape_string pg_escape_bytea pg_unescape_bytea pg_client_encoding pg_set_client_encoding pg_meta_data pg_convert pg_insert pg_update pg_delete pg_select pg_exec pg_getlastoid pg_cmdtuples pg_errormessage pg_numrows pg_numfields pg_fieldname pg_fieldsize pg_fieldtype pg_fieldnum pg_fieldprtlen pg_fieldisnull pg_freeresult pg_result pg_loreadall pg_locreate pg_lounlink pg_loopen pg_loclose pg_loread pg_lowrite pg_loimport pg_loexport http_response_code get_declared_traits getimagesizefromstring socket_import_stream stream_set_chunk_size trait_exists header_register_callback class_uses session_status session_register_shutdown echo print global static exit array empty eval isset unset die include require include_once require_once json_decode json_encode json_last_error json_last_error_msg curl_close curl_copy_handle curl_errno curl_error curl_escape curl_exec curl_file_create curl_getinfo curl_init curl_multi_add_handle curl_multi_close curl_multi_exec curl_multi_getcontent curl_multi_info_read curl_multi_init curl_multi_remove_handle curl_multi_select curl_multi_setopt curl_multi_strerror curl_pause curl_reset curl_setopt_array curl_setopt curl_share_close curl_share_init curl_share_setopt curl_strerror curl_unescape curl_version mysqli_affected_rows mysqli_autocommit mysqli_change_user mysqli_character_set_name mysqli_close mysqli_commit mysqli_connect_errno mysqli_connect_error mysqli_connect mysqli_data_seek mysqli_debug mysqli_dump_debug_info mysqli_errno mysqli_error_list mysqli_error mysqli_fetch_all mysqli_fetch_array mysqli_fetch_assoc mysqli_fetch_field_direct mysqli_fetch_field mysqli_fetch_fields mysqli_fetch_lengths mysqli_fetch_object mysqli_fetch_row mysqli_field_count mysqli_field_seek mysqli_field_tell mysqli_free_result mysqli_get_charset mysqli_get_client_info mysqli_get_client_stats mysqli_get_client_version mysqli_get_connection_stats mysqli_get_host_info mysqli_get_proto_info mysqli_get_server_info mysqli_get_server_version mysqli_info mysqli_init mysqli_insert_id mysqli_kill mysqli_more_results mysqli_multi_query mysqli_next_result mysqli_num_fields mysqli_num_rows mysqli_options mysqli_ping mysqli_prepare mysqli_query mysqli_real_connect mysqli_real_escape_string mysqli_real_query mysqli_reap_async_query mysqli_refresh mysqli_rollback mysqli_select_db mysqli_set_charset mysqli_set_local_infile_default mysqli_set_local_infile_handler mysqli_sqlstate mysqli_ssl_set mysqli_stat mysqli_stmt_init mysqli_store_result mysqli_thread_id mysqli_thread_safe mysqli_use_result mysqli_warning_count";e.registerHelper("hintWords","php",[i,a,s].join(" ").split(" ")),e.registerHelper("wordChars","php",/[\w$]/);var l={name:"clike",helperType:"php",keywords:t(i),blockKeywords:t("catch do else elseif for foreach if switch try while finally"),defKeywords:t("class function interface namespace trait"),atoms:t(a),builtin:t(s),multiLineStrings:!0,hooks:{$:function(e){return e.eatWhile(/[\w\$_]/),"variable-2"},"<":function(e,t){var n;if(n=e.match(/<<\s*/)){var o=e.eat(/['"]/);e.eatWhile(/[\w\.]/);var i=e.current().slice(n[0].length+(o?2:1));if(o&&e.eat(o),i)return(t.tokStack||(t.tokStack=[])).push(i,0),t.tokenize=r(i,"'"!=o),"string"}return!1},"#":function(e){for(;!e.eol()&&!e.match("?>",!1);)e.next();return"comment"},"/":function(e){if(e.eat("/")){for(;!e.eol()&&!e.match("?>",!1);)e.next();return"comment"}return!1},'"':function(e,t){return(t.tokStack||(t.tokStack=[])).push('"',0),t.tokenize=r('"'),"string"},"{":function(e,t){return t.tokStack&&t.tokStack.length&&t.tokStack[t.tokStack.length-1]++,!1},"}":function(e,t){return t.tokStack&&t.tokStack.length>0&&!--t.tokStack[t.tokStack.length-1]&&(t.tokenize=r(t.tokStack[t.tokStack.length-2])),!1}}};e.defineMode("php",(function(t,n){var r=e.getMode(t,n&&n.htmlMode||"text/html"),o=e.getMode(t,l);function i(t,n){var i=n.curMode==o;if(t.sol()&&n.pending&&'"'!=n.pending&&"'"!=n.pending&&(n.pending=null),i)return i&&null==n.php.tokenize&&t.match("?>")?(n.curMode=r,n.curState=n.html,n.php.context.prev||(n.php=null),"meta"):o.token(t,n.curState);if(t.match(/^<\?\w*/))return n.curMode=o,n.php||(n.php=e.startState(o,r.indent(n.html,"",""))),n.curState=n.php,"meta";if('"'==n.pending||"'"==n.pending){for(;!t.eol()&&t.next()!=n.pending;);var a="string"}else n.pending&&t.pos<n.pending.end?(t.pos=n.pending.end,a=n.pending.style):a=r.token(t,n.curState);n.pending&&(n.pending=null);var s,l=t.current(),u=l.search(/<\?/);return-1!=u&&("string"==a&&(s=l.match(/[\'\"]$/))&&!/\?>/.test(l)?n.pending=s[0]:n.pending={end:t.pos,style:a},t.backUp(l.length-u)),a}return{startState:function(){var t=e.startState(r),i=n.startOpen?e.startState(o):null;return{html:t,php:i,curMode:n.startOpen?o:r,curState:n.startOpen?i:t,pending:null}},copyState:function(t){var n,i=t.html,a=e.copyState(r,i),s=t.php,l=s&&e.copyState(o,s);return n=t.curMode==r?a:l,{html:a,php:l,curMode:t.curMode,curState:n,pending:t.pending}},token:i,indent:function(e,t,n){return e.curMode!=o&&/^\s*<\//.test(t)||e.curMode==o&&/^\?>/.test(t)?r.indent(e.html,t,n):e.curMode.indent(e.curState,t,n)},blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//",innerMode:function(e){return{state:e.curState,mode:e.curMode}}}}),"htmlmixed","clike"),e.defineMIME("application/x-httpd-php","php"),e.defineMIME("application/x-httpd-php-open",{name:"php",startOpen:!0}),e.defineMIME("text/x-php",l)}(bg)})),Ne((function(e,t){!function(e){function t(t,r){function o(){t.display.wrapper.offsetHeight?(n(t,r),t.display.lastWrapHeight!=t.display.wrapper.clientHeight&&t.refresh()):r.timeout=setTimeout(o,r.delay)}r.timeout=setTimeout(o,r.delay),r.hurry=function(){clearTimeout(r.timeout),r.timeout=setTimeout(o,50)},e.on(window,"mouseup",r.hurry),e.on(window,"keyup",r.hurry)}function n(t,n){clearTimeout(n.timeout),e.off(window,"mouseup",n.hurry),e.off(window,"keyup",n.hurry)}e.defineOption("autoRefresh",!1,(function(e,r){e.state.autoRefresh&&(n(e,e.state.autoRefresh),e.state.autoRefresh=null),r&&0==e.display.wrapper.offsetHeight&&t(e,e.state.autoRefresh={delay:r.delay||250})}))}(bg)})),Ne((function(e,t){!function(e){var t="CodeMirror-hint",n="CodeMirror-hint-active";function r(e,t){this.cm=e,this.options=t,this.widget=null,this.debounce=0,this.tick=0,this.startPos=this.cm.getCursor("start"),this.startLen=this.cm.getLine(this.startPos.line).length-this.cm.getSelection().length;var n=this;e.on("cursorActivity",this.activityFunc=function(){n.cursorActivity()})}e.showHint=function(e,t,n){if(!t)return e.showHint(n);n&&n.async&&(t.async=!0);var r={hint:t};if(n)for(var o in n)r[o]=n[o];return e.showHint(r)},e.defineExtension("showHint",(function(t){t=a(this,this.getCursor("start"),t);var n=this.listSelections();if(!(n.length>1)){if(this.somethingSelected()){if(!t.hint.supportsSelection)return;for(var o=0;o<n.length;o++)if(n[o].head.line!=n[o].anchor.line)return}this.state.completionActive&&this.state.completionActive.close();var i=this.state.completionActive=new r(this,t);i.options.hint&&(e.signal(this,"startCompletion",this),i.update(!0))}})),e.defineExtension("closeHint",(function(){this.state.completionActive&&this.state.completionActive.close()}));var o=window.requestAnimationFrame||function(e){return setTimeout(e,1e3/60)},i=window.cancelAnimationFrame||clearTimeout;function a(e,t,n){var r=e.options.hintOptions,o={};for(var i in h)o[i]=h[i];if(r)for(var i in r)void 0!==r[i]&&(o[i]=r[i]);if(n)for(var i in n)void 0!==n[i]&&(o[i]=n[i]);return o.hint.resolve&&(o.hint=o.hint.resolve(e,t)),o}function s(e){return"string"==typeof e?e:e.text}function l(e,t){var n={Up:function(){t.moveFocus(-1)},Down:function(){t.moveFocus(1)},PageUp:function(){t.moveFocus(1-t.menuSize(),!0)},PageDown:function(){t.moveFocus(t.menuSize()-1,!0)},Home:function(){t.setFocus(0)},End:function(){t.setFocus(t.length-1)},Enter:t.pick,Tab:t.pick,Esc:t.close};/Mac/.test(navigator.platform)&&(n["Ctrl-P"]=function(){t.moveFocus(-1)},n["Ctrl-N"]=function(){t.moveFocus(1)});var r=e.options.customKeys,o=r?{}:n;function i(e,r){var i;i="string"!=typeof r?function(e){return r(e,t)}:n.hasOwnProperty(r)?n[r]:r,o[e]=i}if(r)for(var a in r)r.hasOwnProperty(a)&&i(a,r[a]);var s=e.options.extraKeys;if(s)for(var a in s)s.hasOwnProperty(a)&&i(a,s[a]);return o}function u(e,t){for(;t&&t!=e;){if("LI"===t.nodeName.toUpperCase()&&t.parentNode==e)return t;t=t.parentNode}}function c(r,o){this.completion=r,this.data=o,this.picked=!1;var i=this,a=r.cm,c=a.getInputField().ownerDocument,d=c.defaultView||c.parentWindow,p=this.hints=c.createElement("ul"),f=r.cm.options.theme;p.className="CodeMirror-hints "+f,this.selectedHint=o.selectedHint||0;for(var h=o.list,m=0;m<h.length;++m){var g=p.appendChild(c.createElement("li")),v=h[m],y=t+(m!=this.selectedHint?"":" "+n);null!=v.className&&(y=v.className+" "+y),g.className=y,v.render?v.render(g,o,v):g.appendChild(c.createTextNode(v.displayText||s(v))),g.hintId=m}var b=r.options.container||c.body,w=a.cursorCoords(r.options.alignWithWord?o.from:null),k=w.left,C=w.bottom,x=!0,E=0,S=0;if(b!==c.body){var _=(-1!==["absolute","relative","fixed"].indexOf(d.getComputedStyle(b).position)?b:b.offsetParent).getBoundingClientRect(),O=c.body.getBoundingClientRect();E=_.left-O.left,S=_.top-O.top}p.style.left=k-E+"px",p.style.top=C-S+"px";var T=d.innerWidth||Math.max(c.body.offsetWidth,c.documentElement.offsetWidth),R=d.innerHeight||Math.max(c.body.offsetHeight,c.documentElement.offsetHeight);b.appendChild(p);var A=p.getBoundingClientRect(),N=A.bottom-R,D=p.scrollHeight>p.clientHeight+1,P=a.getScrollInfo();if(N>0){var M=A.bottom-A.top;if(w.top-(w.bottom-A.top)-M>0)p.style.top=(C=w.top-M-S)+"px",x=!1;else if(M>R){p.style.height=R-5+"px",p.style.top=(C=w.bottom-A.top-S)+"px";var I=a.getCursor();o.from.ch!=I.ch&&(w=a.cursorCoords(I),p.style.left=(k=w.left-E)+"px",A=p.getBoundingClientRect())}}var F,L=A.right-T;if(L>0&&(A.right-A.left>T&&(p.style.width=T-5+"px",L-=A.right-A.left-T),p.style.left=(k=w.left-L-E)+"px"),D)for(var B=p.firstChild;B;B=B.nextSibling)B.style.paddingRight=a.display.nativeBarWidth+"px";return a.addKeyMap(this.keyMap=l(r,{moveFocus:function(e,t){i.changeActive(i.selectedHint+e,t)},setFocus:function(e){i.changeActive(e)},menuSize:function(){return i.screenAmount()},length:h.length,close:function(){r.close()},pick:function(){i.pick()},data:o})),r.options.closeOnUnfocus&&(a.on("blur",this.onBlur=function(){F=setTimeout((function(){r.close()}),100)}),a.on("focus",this.onFocus=function(){clearTimeout(F)})),a.on("scroll",this.onScroll=function(){var e=a.getScrollInfo(),t=a.getWrapperElement().getBoundingClientRect(),n=C+P.top-e.top,o=n-(d.pageYOffset||(c.documentElement||c.body).scrollTop);if(x||(o+=p.offsetHeight),o<=t.top||o>=t.bottom)return r.close();p.style.top=n+"px",p.style.left=k+P.left-e.left+"px"}),e.on(p,"dblclick",(function(e){var t=u(p,e.target||e.srcElement);t&&null!=t.hintId&&(i.changeActive(t.hintId),i.pick())})),e.on(p,"click",(function(e){var t=u(p,e.target||e.srcElement);t&&null!=t.hintId&&(i.changeActive(t.hintId),r.options.completeOnSingleClick&&i.pick())})),e.on(p,"mousedown",(function(){setTimeout((function(){a.focus()}),20)})),e.signal(o,"select",h[this.selectedHint],p.childNodes[this.selectedHint]),!0}function d(e,t){if(!e.somethingSelected())return t;for(var n=[],r=0;r<t.length;r++)t[r].supportsSelection&&n.push(t[r]);return n}function p(e,t,n,r){if(e.async)e(t,r,n);else{var o=e(t,n);o&&o.then?o.then(r):r(o)}}function f(t,n){var r,o=t.getHelpers(n,"hint");if(o.length){var i=function(e,t,n){var r=d(e,o);function i(o){if(o==r.length)return t(null);p(r[o],e,n,(function(e){e&&e.list.length>0?t(e):i(o+1)}))}i(0)};return i.async=!0,i.supportsSelection=!0,i}return(r=t.getHelper(t.getCursor(),"hintWords"))?function(t){return e.hint.fromList(t,{words:r})}:e.hint.anyword?function(t,n){return e.hint.anyword(t,n)}:function(){}}r.prototype={close:function(){this.active()&&(this.cm.state.completionActive=null,this.tick=null,this.cm.off("cursorActivity",this.activityFunc),this.widget&&this.data&&e.signal(this.data,"close"),this.widget&&this.widget.close(),e.signal(this.cm,"endCompletion",this.cm))},active:function(){return this.cm.state.completionActive==this},pick:function(t,n){var r=t.list[n];r.hint?r.hint(this.cm,t,r):this.cm.replaceRange(s(r),r.from||t.from,r.to||t.to,"complete"),e.signal(t,"pick",r),this.close()},cursorActivity:function(){this.debounce&&(i(this.debounce),this.debounce=0);var e=this.cm.getCursor(),t=this.cm.getLine(e.line);if(e.line!=this.startPos.line||t.length-e.ch!=this.startLen-this.startPos.ch||e.ch<this.startPos.ch||this.cm.somethingSelected()||!e.ch||this.options.closeCharacters.test(t.charAt(e.ch-1)))this.close();else{var n=this;this.debounce=o((function(){n.update()})),this.widget&&this.widget.disable()}},update:function(e){if(null!=this.tick){var t=this,n=++this.tick;p(this.options.hint,this.cm,this.options,(function(r){t.tick==n&&t.finishUpdate(r,e)}))}},finishUpdate:function(t,n){this.data&&e.signal(this.data,"update");var r=this.widget&&this.widget.picked||n&&this.options.completeSingle;this.widget&&this.widget.close(),this.data=t,t&&t.list.length&&(r&&1==t.list.length?this.pick(t,0):(this.widget=new c(this,t),e.signal(t,"shown")))}},c.prototype={close:function(){if(this.completion.widget==this){this.completion.widget=null,this.hints.parentNode.removeChild(this.hints),this.completion.cm.removeKeyMap(this.keyMap);var e=this.completion.cm;this.completion.options.closeOnUnfocus&&(e.off("blur",this.onBlur),e.off("focus",this.onFocus)),e.off("scroll",this.onScroll)}},disable:function(){this.completion.cm.removeKeyMap(this.keyMap);var e=this;this.keyMap={Enter:function(){e.picked=!0}},this.completion.cm.addKeyMap(this.keyMap)},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(t,r){if(t>=this.data.list.length?t=r?this.data.list.length-1:0:t<0&&(t=r?0:this.data.list.length-1),this.selectedHint!=t){var o=this.hints.childNodes[this.selectedHint];o&&(o.className=o.className.replace(" "+n,"")),(o=this.hints.childNodes[this.selectedHint=t]).className+=" "+n,o.offsetTop<this.hints.scrollTop?this.hints.scrollTop=o.offsetTop-3:o.offsetTop+o.offsetHeight>this.hints.scrollTop+this.hints.clientHeight&&(this.hints.scrollTop=o.offsetTop+o.offsetHeight-this.hints.clientHeight+3),e.signal(this.data,"select",this.data.list[this.selectedHint],o)}},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1}},e.registerHelper("hint","auto",{resolve:f}),e.registerHelper("hint","fromList",(function(t,n){var r,o=t.getCursor(),i=t.getTokenAt(o),a=e.Pos(o.line,i.start),s=o;i.start<o.ch&&/\w/.test(i.string.charAt(o.ch-i.start-1))?r=i.string.substr(0,o.ch-i.start):(r="",a=o);for(var l=[],u=0;u<n.words.length;u++){var c=n.words[u];c.slice(0,r.length)==r&&l.push(c)}if(l.length)return{list:l,from:a,to:s}})),e.commands.autocomplete=e.showHint;var h={hint:e.hint.auto,completeSingle:!0,alignWithWord:!0,closeCharacters:/[\s()\[\]{};:>,]/,closeOnUnfocus:!0,completeOnSingleClick:!0,container:null,customKeys:null,extraKeys:null};e.defineOption("hintOptions",null)}(bg)})),Ne((function(e,t){var n,r;r={link:1,visited:1,active:1,hover:1,focus:1,"first-letter":1,"first-line":1,"first-child":1,before:1,after:1,lang:1},(n=bg).registerHelper("hint","css",(function(e){var t=e.getCursor(),o=e.getTokenAt(t),i=n.innerMode(e.getMode(),o.state);if("css"==i.mode.name){if("keyword"==o.type&&0=="!important".indexOf(o.string))return{list:["!important"],from:n.Pos(t.line,o.start),to:n.Pos(t.line,o.end)};var a=o.start,s=t.ch,l=o.string.slice(0,s-a);/[^\w$_-]/.test(l)&&(l="",a=s=t.ch);var u=n.resolveMode("text/css"),c=[],d=i.state.state;return"pseudo"==d||"variable-3"==o.type?p(r):"block"==d||"maybeprop"==d?p(u.propertyKeywords):"prop"==d||"parens"==d||"at"==d||"params"==d?(p(u.valueKeywords),p(u.colorKeywords)):"media"!=d&&"media_parens"!=d||(p(u.mediaTypes),p(u.mediaFeatures)),c.length?{list:c,from:n.Pos(t.line,a),to:n.Pos(t.line,s)}:void 0}function p(e){for(var t in e)l&&0!=t.lastIndexOf(l,0)||c.push(t)}}))})),Ne((function(e,t){var n;(n=bg).registerHelper("lint","json",(function(e){var t=[];if(!window.jsonlint)return window.console&&window.console.error("Error: window.jsonlint not defined, CodeMirror JSON linting cannot run."),t;var r=window.jsonlint.parser||window.jsonlint;r.parseError=function(e,r){var o=r.loc;t.push({from:n.Pos(o.first_line-1,o.first_column),to:n.Pos(o.last_line-1,o.last_column),message:e})};try{r.parse(e)}catch(e){}return t}))})),Ne((function(e,t){!function(e){var t="CodeMirror-lint-markers";function n(t,n){var r=document.createElement("div");function o(t){if(!r.parentNode)return e.off(document,"mousemove",o);r.style.top=Math.max(0,t.clientY-r.offsetHeight-5)+"px",r.style.left=t.clientX+5+"px"}return r.className="CodeMirror-lint-tooltip",r.appendChild(n.cloneNode(!0)),document.body.appendChild(r),e.on(document,"mousemove",o),o(t),null!=r.style.opacity&&(r.style.opacity=1),r}function r(e){e.parentNode&&e.parentNode.removeChild(e)}function o(e){e.parentNode&&(null==e.style.opacity&&r(e),e.style.opacity=0,setTimeout((function(){r(e)}),600))}function i(t,r,i){var a=n(t,r);function s(){e.off(i,"mouseout",s),a&&(o(a),a=null)}var l=setInterval((function(){if(a)for(var e=i;;e=e.parentNode){if(e&&11==e.nodeType&&(e=e.host),e==document.body)return;if(!e){s();break}}if(!a)return clearInterval(l)}),400);e.on(i,"mouseout",s)}function a(e,t,n){this.marked=[],this.options=t,this.timeout=null,this.hasGutter=n,this.onMouseOver=function(t){y(e,t)},this.waitingFor=0}function s(e,t){return t instanceof Function?{getAnnotations:t}:(t&&!0!==t||(t={}),t)}function l(e){var n=e.state.lint;n.hasGutter&&e.clearGutter(t);for(var r=0;r<n.marked.length;++r)n.marked[r].clear();n.marked.length=0}function u(t,n,r,o){var a=document.createElement("div"),s=a;return a.className="CodeMirror-lint-marker-"+n,r&&((s=a.appendChild(document.createElement("div"))).className="CodeMirror-lint-marker-multiple"),0!=o&&e.on(s,"mouseover",(function(e){i(e,t,s)})),a}function c(e,t){return"error"==e?e:t}function d(e){for(var t=[],n=0;n<e.length;++n){var r=e[n],o=r.from.line;(t[o]||(t[o]=[])).push(r)}return t}function p(e){var t=e.severity;t||(t="error");var n=document.createElement("div");return n.className="CodeMirror-lint-message-"+t,void 0!==e.messageHTML?n.innerHTML=e.messageHTML:n.appendChild(document.createTextNode(e.message)),n}function f(t,n,r){var o=t.state.lint,i=++o.waitingFor;function a(){i=-1,t.off("change",a)}t.on("change",a),n(t.getValue(),(function(n,r){t.off("change",a),o.waitingFor==i&&(r&&n instanceof e&&(n=r),t.operation((function(){m(t,n)})))}),r,t)}function h(t){var n=t.state.lint.options,r=n.options||n,o=n.getAnnotations||t.getHelper(e.Pos(0,0),"lint");if(o)if(n.async||o.async)f(t,o,r);else{var i=o(t.getValue(),r,t);if(!i)return;i.then?i.then((function(e){t.operation((function(){m(t,e)}))})):t.operation((function(){m(t,i)}))}}function m(e,n){l(e);for(var r=e.state.lint,o=r.options,i=d(n),a=0;a<i.length;++a){var s=i[a];if(s){for(var f=null,h=r.hasGutter&&document.createDocumentFragment(),m=0;m<s.length;++m){var g=s[m],v=g.severity;v||(v="error"),f=c(f,v),o.formatAnnotation&&(g=o.formatAnnotation(g)),r.hasGutter&&h.appendChild(p(g)),g.to&&r.marked.push(e.markText(g.from,g.to,{className:"CodeMirror-lint-mark-"+v,__annotation:g}))}r.hasGutter&&e.setGutterMarker(a,t,u(h,f,s.length>1,r.options.tooltips))}}o.onUpdateLinting&&o.onUpdateLinting(n,i,e)}function g(e){var t=e.state.lint;t&&(clearTimeout(t.timeout),t.timeout=setTimeout((function(){h(e)}),t.options.delay||500))}function v(e,t){for(var n=t.target||t.srcElement,r=document.createDocumentFragment(),o=0;o<e.length;o++){var a=e[o];r.appendChild(p(a))}i(t,r,n)}function y(e,t){var n=t.target||t.srcElement;if(/\bCodeMirror-lint-mark-/.test(n.className)){for(var r=n.getBoundingClientRect(),o=(r.left+r.right)/2,i=(r.top+r.bottom)/2,a=e.findMarksAt(e.coordsChar({left:o,top:i},"client")),s=[],l=0;l<a.length;++l){var u=a[l].__annotation;u&&s.push(u)}s.length&&v(s,t)}}e.defineOption("lint",!1,(function(n,r,o){if(o&&o!=e.Init&&(l(n),!1!==n.state.lint.options.lintOnChange&&n.off("change",g),e.off(n.getWrapperElement(),"mouseover",n.state.lint.onMouseOver),clearTimeout(n.state.lint.timeout),delete n.state.lint),r){for(var i=n.getOption("gutters"),u=!1,c=0;c<i.length;++c)i[c]==t&&(u=!0);var d=n.state.lint=new a(n,s(n,r),u);!1!==d.options.lintOnChange&&n.on("change",g),0!=d.options.tooltips&&"gutter"!=d.options.tooltips&&e.on(n.getWrapperElement(),"mouseover",d.onMouseOver),h(n)}})),e.defineExtension("performLint",(function(){this.state.lint&&h(this)}))}(bg)})),Ne((function(e,t){var n;(n=bg).registerHelper("lint","css",(function(e,t){var r=[];if(!window.CSSLint)return window.console&&window.console.error("Error: window.CSSLint not defined, CodeMirror CSS linting cannot run."),r;for(var o=CSSLint.verify(e,t).messages,i=null,a=0;a<o.length;a++){var s=(i=o[a]).line-1,l=i.line-1,u=i.col-1,c=i.col;r.push({from:n.Pos(s,u),to:n.Pos(l,c),message:i.message,severity:i.type})}return r}))}));class xg extends React.Component{constructor(e){super(e),this.state={},this.TextAreaRendered=this.TextAreaRendered.bind(this)}TextAreaRendered(e){null!=e&&(this.codeMirror=bg.fromTextArea(e,{extraKeys:{"Ctrl-Space":"autocomplete"},lineNumbers:!0,matchBrackets:!0,autoRefresh:!0,mode:"css",gutters:["CodeMirror-lint-markers"],lint:!0}),this.codeMirror.setSize("100%","100%"),this.codeMirror.on("changes",((e,t)=>{this.props.PageBuilderModel.Page.Options.Style=e.getDoc().getValue()})),this.codeMirror.getDoc().setValue(this.props.PageBuilderModel.Page.Options.Style))}render(){return React.createElement("div",{style:{width:"100%",height:"100%"}},React.createElement("textarea",{ref:this.TextAreaRendered,style:{width:"100%",height:"100%"}}))}}xg.defaultProps={};class Eg extends React.Component{constructor(e){super(e),this.state={MainTab:"Designer"}}render(){return React.createElement("div",{style:{height:"calc(100% - 70px)",backgroundColor:"#fefefe"}},React.createElement("div",{style:{height:"37px",padding:0,margin:0,borderBottom:"1px solid #afafaf"},className:"nav-tab-wrapper"},React.createElement("a",{style:{cursor:"pointer",marginTop:1},className:"nav-tab "+("Designer"==this.state.MainTab?"nav-tab-active":""),onClick:()=>this.setState({MainTab:"Designer"})},React.createElement(t.FontAwesomeIcon,{icon:eg.faDraftingCompass})," Designer"),React.createElement("a",{style:{cursor:"pointer",marginTop:1},className:"nav-tab "+("Styles"==this.state.MainTab?"nav-tab-active":""),onClick:()=>this.setState({MainTab:"Styles"})},React.createElement(t.FontAwesomeIcon,{icon:yg.faPaintBrush})," CSS Styles")),"Designer"==this.state.MainTab&&React.createElement("div",{style:{height:"calc(100% - 35px)"}},React.createElement(vg,{PageBuilderModel:this.props.PageBuilderModel})),"Styles"==this.state.MainTab&&React.createElement("div",{style:{height:"calc(100% - 35px)"}},React.createElement(xg,{PageBuilderModel:this.props.PageBuilderModel})))}}function Sg(e){return class extends e{GetDataSections(e){return[{Id:this.Id,Label:this.Label+" (Id:"+this.Id+")",PathId:"Value",Path:["Value"]}]}}}Eg.defaultProps={};class _g extends(Sg(v.TextFormField)){LoadDefaultValues(){super.LoadDefaultValues()}}class Og extends(Sg(y.NoneFormField)){LoadDefaultValues(){super.LoadDefaultValues()}}class Tg extends(Sg(b.UserFormField)){LoadDefaultValues(){super.LoadDefaultValues()}}class Rg extends(Sg(w.ToggleFormField)){LoadDefaultValues(){super.LoadDefaultValues()}}class Ag extends(Sg(k.TimeFormField)){LoadDefaultValues(){super.LoadDefaultValues()}}class Ng extends(Sg(C.NumberFormField)){LoadDefaultValues(){super.LoadDefaultValues()}}class Dg extends(Sg(l.MultipleFormField)){LoadDefaultValues(){super.LoadDefaultValues()}GetDataSections(e="Filter"){return[{Id:this.Id,Label:this.Label+" (Id:"+this.Id+")",PathId:"Display"==e?"Value":"1",Path:["Value"]}]}}class Pg extends(Sg(x.FileUploadFormField)){LoadDefaultValues(){super.LoadDefaultValues()}}class Mg extends(Sg(E.DateTimeFormField)){LoadDefaultValues(){super.LoadDefaultValues()}}class Ig extends(Sg(S.ListFormField)){LoadDefaultValues(){super.LoadDefaultValues()}}class Fg extends(Sg(_.ComposedFormField)){LoadDefaultValues(){super.LoadDefaultValues()}GetDataSections(){let e=[{Id:this.Id,Label:this.Label+" (Id:"+this.Id+")",Path:["Value"],PathId:"Value"}],t=[];this.Rows.forEach((e=>t=t.concat(e.Items)));for(let n of t)e.push({Id:this.Id,Label:n.Label,Path:["Raw",...n.Path],PathId:n.Id});return e}}class Lg extends(Sg(O.HTMLFormField)){LoadDefaultValues(){super.LoadDefaultValues()}}class Bg extends(Sg(T.EntryIdFormField)){LoadDefaultValues(){super.LoadDefaultValues()}}class jg extends(Sg(R.SignatureFormField)){LoadDefaultValues(){super.LoadDefaultValues()}}class zg{static GetFieldOptions(e){switch("string"==typeof e&&(e={Type:e}),e.Type){case r.FieldTypeEnum.Text:return(new _g).Merge(e);case r.FieldTypeEnum.None:return(new Og).Merge(e);case r.FieldTypeEnum.User:return(new Tg).Merge(e);case r.FieldTypeEnum.Toggle:return(new Rg).Merge(e);case r.FieldTypeEnum.Time:return(new Ag).Merge(e);case r.FieldTypeEnum.Number:return(new Ng).Merge(e);case r.FieldTypeEnum.Multiple:return(new Dg).Merge(e);case r.FieldTypeEnum.FileUpload:return(new Pg).Merge(e);case r.FieldTypeEnum.DateTime:return(new Mg).Merge(e);case r.FieldTypeEnum.List:return(new Ig).Merge(e);case r.FieldTypeEnum.Composed:return(new Fg).Merge(e);case r.FieldTypeEnum.HTML:return(new Lg).Merge(e);case r.FieldTypeEnum.Date:return(new Mg).Merge(e);case r.FieldTypeEnum.EntryId:return(new Bg).Merge(e);case r.FieldTypeEnum.Signature:return(new jg).Merge(e)}}}let Vg=(wg=m.StoreDataType(g.FormFieldBase),kg=class extends h.Form{constructor(...e){super(...e),babelHelpers.initializerDefineProperty(this,"Fields",Cg,this)}GetValueFromLoader(e,t){if("Fields"==e){if(null==t)return[];let e=[];for(let n of t){let t=zg.GetFieldOptions(n);null!=t&&e.push(t)}return e}}},Cg=babelHelpers.applyDecoratedDescriptor(kg.prototype,"Fields",[wg],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kg);class Ug{static GetFriendlyLabel(e,t=""){let n=e.Label;if(""!=t&&"Value"!=t&&"Multiple"!=e.Type){let r=e.GetDataSections("Display").find((e=>e.PathId==t));if(null==r)return null;""!=n&&(n+="."+r.Label)}return""!=n&&(n+=" "),0!=e.Id.indexOf("__")&&(n+=`(Id: ${e.Id})`),n}}class Hg extends(function(e){return class extends e{ClearInitialConfig(){this.Options.InitialNeededRows=null,this.Options.NeedsRowCount=!1,this.Options.FieldsUsed=[]}MaybeSetInitialNeededRows(e){(this.Options.InitialNeededRows<e||0==e)&&0!==this.Options.InitialNeededRows&&(this.Options.InitialNeededRows=e)}AddNeededField(e){this.Options.FieldsUsed.some((t=>t==e))||this.Options.FieldsUsed.push(e)}SetNeedRowCount(){this.Options.NeedsRowCount=!0}}}(N.FormDataSource)){GetForm(){return super.GetForm()}SetFormId(e){this.Options.FormId!=e&&(this.Options.Condition.ConditionGroups=[],this.PageModel.Forms.find((t=>t.Id==e))?this.Options.FormId=e:this.Options.FormId=0)}GetAvailableColumns(){return null==this.GetForm()?[]:this.GetForm().Fields.map((e=>(new D.ColumnBaseOptions).Merge({Id:e.Id,Label:e.Label})))}GetAvailableFieldSections(e="Display"){if(null==this.GetForm())return[];let t=[];return this.GetForm().Fields.forEach((n=>n.GetDataSections(e).forEach((r=>{t=[...t,...n.GetDataSections(e)]})))),t}GetStringValue(e){let t=this.GetFieldByColumnId(e);return null==t?"<<Field Not Found>>":"<<"+Ug.GetFriendlyLabel(t)+">>"}IsEmpty(e){return!1}}class Gg{static GetDataSourceOptions(e){switch(e.Type){case A.DataSourceTypeEnum.Form:return(new d.FormDataSourceOptions).Merge(e)}}static GetDataSource(e,t){switch(e.Type){case A.DataSourceTypeEnum.Form:return new Hg(t,e)}}}var Wg=Ne((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="plus-circle",r=[],o="f055",i="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z";t.definition={prefix:"fas",iconName:n,icon:[512,512,r,o,i]},t.faPlusCircle=t.definition,t.prefix="fas",t.iconName=n,t.width=512,t.height=512,t.ligatures=r,t.unicode=o,t.svgPathData=i}));class qg extends React.Component{constructor(e){super(e),this.state={}}render(){return React.createElement("div",{style:{textAlign:"center",cursor:"pointer"},className:"AddFirstFieldHelper",onClick:()=>this.Click()},React.createElement("div",{className:"FirstNameHelper"},React.createElement("div",{style:{backgroundColor:"white"}},React.createElement(t.FontAwesomeIcon,{className:"pulse",icon:Wg.faPlusCircle,style:{color:"green",fontSize:20}})),React.createElement("h2",{style:{margin:"1px 0"}},"Click here or drag a block to start")))}async Click(){this.props.Model.AddNewBlock(null)}}function Yg(e){return e&&"object"==typeof e&&"default"in e?e.default:e}qg.defaultProps={};var Kg=Yg(wl),$g=Yg(Gc);function Xg(e){var t=!1;return function(){t||(console.warn(e),t=!0)}}var Jg=Xg("\n>> Warning, via react-flip-move <<\n\nWhen using \"wrapperless\" mode (by supplying 'typeName' of 'null'), strange things happen when the direct parent has the default \"static\" position.\n\nFlipMove has added 'position: relative' to this node, to ensure Flip Move animates correctly.\n\nTo avoid seeing this warning, simply apply a non-static position to that parent node.\n"),Qg=Xg("\n>> Warning, via react-flip-move <<\n\nOne or more of Flip Move's child elements have the html attribute 'disabled' set to true.\n\nPlease note that this will cause animations to break in Internet Explorer 11 and below. Either remove the disabled attribute or set 'animation' to false.\n"),Zg={elevator:{from:{transform:"scale(0)",opacity:"0"},to:{transform:"",opacity:""}},fade:{from:{opacity:"0"},to:{opacity:""}},accordionVertical:{from:{transform:"scaleY(0)",transformOrigin:"center top"},to:{transform:"",transformOrigin:"center top"}},accordionHorizontal:{from:{transform:"scaleX(0)",transformOrigin:"left center"},to:{transform:"",transformOrigin:"left center"}},none:null},ev={elevator:{from:{transform:"scale(1)",opacity:"1"},to:{transform:"scale(0)",opacity:"0"}},fade:{from:{opacity:"1"},to:{opacity:"0"}},accordionVertical:{from:{transform:"scaleY(1)",transformOrigin:"center top"},to:{transform:"scaleY(0)",transformOrigin:"center top"}},accordionHorizontal:{from:{transform:"scaleX(1)",transformOrigin:"left center"},to:{transform:"scaleX(0)",transformOrigin:"left center"}},none:null},tv=Zg,nv="elevator",rv=function(e,t){for(var n=0;n<t.length;n++)if(e(t[n],n,t))return t[n]},ov=function(e){return(ov=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)})(e)};var iv=function(e){var t={};return function(n){return t[n]||(t[n]=e(n)),t[n]}}((function(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()})),av="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sv=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},lv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uv=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},cv=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t};function dv(e){var t=e.domNode,n=e.styles;Object.keys(n).forEach((function(e){t.style.setProperty(iv(e),n[e])}))}var pv=function(e){var t=e.childDomNode,n={top:0,left:0,right:0,bottom:0,height:0,width:0},r=e.childBoundingBox||n,o=e.parentBoundingBox||n,i=(0,e.getPosition)(t),a=i.top-o.top,s=i.left-o.left;return[r.left-s,r.top-a]},fv=function(e,t){var n=t.delay,r=t.duration,o=t.staggerDurationBy,i=t.staggerDelayBy,a=t.easing;n+=e*i,r+=e*o;return["transform","opacity"].map((function(e){return e+" "+r+"ms "+a+" "+n+"ms"})).join(", ")},hv=function(){var e={transition:"transitionend","-o-transition":"oTransitionEnd","-moz-transition":"transitionend","-webkit-transition":"webkitTransitionEnd"};if("undefined"==typeof document)return"";var t=document.createElement("fakeelement"),n=rv((function(e){return void 0!==t.style.getPropertyValue(e)}),Object.keys(e));return n?e[n]:""}(),mv=!hv;function gv(e){return e.key||""}function vv(e){return wl.Children.toArray(e)}var yv=function(e){var t,n;return n=t=function(t){function n(){return sv(this,n),cv(this,t.apply(this,arguments))}return uv(n,t),n.prototype.checkChildren=function(e){},n.prototype.convertProps=function(e){var t={children:e.children,easing:e.easing,onStart:e.onStart,onFinish:e.onFinish,onStartAll:e.onStartAll,onFinishAll:e.onFinishAll,typeName:e.typeName,disableAllAnimations:e.disableAllAnimations,getPosition:e.getPosition,maintainContainerHeight:e.maintainContainerHeight,verticalAlignment:e.verticalAlignment,duration:this.convertTimingProp("duration"),delay:this.convertTimingProp("delay"),staggerDurationBy:this.convertTimingProp("staggerDurationBy"),staggerDelayBy:this.convertTimingProp("staggerDelayBy"),appearAnimation:this.convertAnimationProp(e.appearAnimation,tv),enterAnimation:this.convertAnimationProp(e.enterAnimation,Zg),leaveAnimation:this.convertAnimationProp(e.leaveAnimation,ev),delegated:{}};this.checkChildren(t.children);var n=Object.keys(t),r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n={};return Object.keys(e).forEach((function(r){-1===t.indexOf(r)&&(n[r]=e[r])})),n}(this.props,n);return r.style=lv({position:"relative"},r.style),t.delegated=r,t},n.prototype.convertTimingProp=function(e){var t=this.props[e],r="number"==typeof t?t:parseInt(t,10);return isNaN(r)?n.defaultProps[e]:r},n.prototype.convertAnimationProp=function(e,t){switch(void 0===e?"undefined":av(e)){case"boolean":return t[e?nv:"none"];case"string":return-1===Object.keys(t).indexOf(e)?t.elevator:t[e];default:return e}},n.prototype.render=function(){return Kg.createElement(e,this.convertProps(this.props))},n}(wl.Component),t.defaultProps={easing:"ease-in-out",duration:350,delay:0,staggerDurationBy:0,staggerDelayBy:0,typeName:"div",enterAnimation:nv,leaveAnimation:nv,disableAllAnimations:!1,getPosition:function(e){return e.getBoundingClientRect()},maintainContainerHeight:!1,verticalAlignment:"top"},n}(function(e){function t(){var n,r;sv(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=cv(this,e.call.apply(e,[this].concat(i))),r.state={children:vv(r.props?r.props.children:[]).map((function(e){return lv({},e,{element:e,appearing:!0})}))},r.childrenData={},r.parentData={domNode:null,boundingBox:null},r.heightPlaceholderData={domNode:null},r.remainingAnimations=0,r.childrenToAnimate=[],r.findDOMContainer=function(){var e=$g.findDOMNode(r),t=e&&e.parentNode;t&&t instanceof HTMLElement&&("static"===window.getComputedStyle(t).position&&(t.style.position="relative",Jg()),r.parentData.domNode=t)},r.runAnimation=function(){var e=r.state.children.filter(r.doesChildNeedToBeAnimated),t=e.map((function(e){return r.computeInitialStyles(e)}));e.forEach((function(e,n){r.remainingAnimations+=1,r.childrenToAnimate.push(gv(e)),r.animateChild(e,n,t[n])})),"function"==typeof r.props.onStartAll&&r.callChildrenHook(r.props.onStartAll)},r.doesChildNeedToBeAnimated=function(e){if(!gv(e))return!1;var t=r.getChildData(gv(e)),n=t.domNode,o=t.boundingBox,i=r.parentData.boundingBox;if(!n)return!1;var a=r.props,s=a.appearAnimation,l=a.enterAnimation,u=a.leaveAnimation,c=a.getPosition,d=e.appearing&&s,p=e.entering&&l,f=e.leaving&&u;if(d||p||f)return!0;var h=pv({childDomNode:n,childBoundingBox:o,parentBoundingBox:i,getPosition:c}),m=h[0],g=h[1];return 0!==m||0!==g},cv(r,n)}return uv(t,e),t.prototype.componentDidMount=function(){null===this.props.typeName&&this.findDOMContainer(),this.props.appearAnimation&&!this.isAnimationDisabled(this.props)&&(this.prepForAnimation(),this.runAnimation())},t.prototype.componentWillReceiveProps=function(e){this.updateBoundingBoxCaches();var t=vv(e.children);this.setState({children:this.isAnimationDisabled(e)?t.map((function(e){return lv({},e,{element:e})})):this.calculateNextSetOfChildren(t)})},t.prototype.componentDidUpdate=function(e){null===this.props.typeName&&this.findDOMContainer(),!function(e,t){if(e===t)return!0;var n=!ov(e)||!ov(t),r=e.length!==t.length;return!n&&!r&&function(e,t){for(var n=0;n<t.length;n++)if(!e(t[n],n,t))return!1;return!0}((function(e,n){return e===t[n]}),e)}(vv(this.props.children).map((function(e){return e.key})),vv(e.children).map((function(e){return e.key})))&&!this.isAnimationDisabled(this.props)&&(this.prepForAnimation(),this.runAnimation())},t.prototype.calculateNextSetOfChildren=function(e){var t=this,n=e.map((function(e){var n=t.findChildByKey(e.key),r=!n||n.leaving;return lv({},e,{element:e,entering:r})})),r=0;return this.state.children.forEach((function(o,i){if(!rv((function(e){return e.key===gv(o)}),e)&&t.props.leaveAnimation){var a=lv({},o,{leaving:!0}),s=i+r;n.splice(s,0,a),r+=1}})),n},t.prototype.prepForAnimation=function(){var e=this,t=this.props,n=t.leaveAnimation,r=t.maintainContainerHeight,o=t.getPosition;n&&(this.state.children.filter((function(e){return e.leaving})).forEach((function(t){var n=e.getChildData(gv(t));!e.isAnimationDisabled(e.props)&&n.domNode&&n.domNode.disabled&&Qg(),n.boundingBox&&function(e,t){var n=e.domNode,r=e.boundingBox;if(n&&r){var o=window.getComputedStyle(n),i=["margin-top","margin-left","margin-right"].reduce((function(e,t){var n,r=o.getPropertyValue(t);return lv({},e,((n={})[t]=Number(r.replace("px","")),n))}),{});dv({domNode:n,styles:{position:"absolute",top:("bottom"===t?r.top-r.height:r.top)-i["margin-top"]+"px",left:r.left-i["margin-left"]+"px",right:r.right-i["margin-right"]+"px"}})}}(n,e.props.verticalAlignment)})),r&&this.heightPlaceholderData.domNode&&function(e){var t=e.domNode,n=e.parentData,r=e.getPosition,o=n.domNode,i=n.boundingBox;if(o&&i){dv({domNode:t,styles:{height:"0"}});var a=i.height-r(o).height;dv({domNode:t,styles:{height:a>0?a+"px":"0"}})}}({domNode:this.heightPlaceholderData.domNode,parentData:this.parentData,getPosition:o}));this.state.children.forEach((function(t){var n=e.getChildData(gv(t)).domNode;n&&(t.entering||t.leaving||dv({domNode:n,styles:{transition:""}}))}))},t.prototype.animateChild=function(e,t,n){var r=this,o=this.getChildData(gv(e)).domNode;o&&(dv({domNode:o,styles:n}),this.props.onStart&&this.props.onStart(e,o),requestAnimationFrame((function(){requestAnimationFrame((function(){var n={transition:fv(t,r.props),transform:"",opacity:""};e.appearing&&r.props.appearAnimation?n=lv({},n,r.props.appearAnimation.to):e.entering&&r.props.enterAnimation?n=lv({},n,r.props.enterAnimation.to):e.leaving&&r.props.leaveAnimation&&(n=lv({},n,r.props.leaveAnimation.to)),dv({domNode:o,styles:n})}))})),this.bindTransitionEndHandler(e))},t.prototype.bindTransitionEndHandler=function(e){var t=this,n=this.getChildData(gv(e)).domNode;if(n){n.addEventListener(hv,(function r(o){o.target===n&&(n.style.transition="",t.triggerFinishHooks(e,n),n.removeEventListener(hv,r),e.leaving&&t.removeChildData(gv(e)))}))}},t.prototype.triggerFinishHooks=function(e,t){var n=this;if(this.props.onFinish&&this.props.onFinish(e,t),this.remainingAnimations-=1,0===this.remainingAnimations){var r=this.state.children.filter((function(e){return!e.leaving})).map((function(e){return lv({},e,{element:e.element,appearing:!1,entering:!1})}));this.setState({children:r},(function(){"function"==typeof n.props.onFinishAll&&n.callChildrenHook(n.props.onFinishAll),n.childrenToAnimate=[]})),this.heightPlaceholderData.domNode&&(this.heightPlaceholderData.domNode.style.height="0")}},t.prototype.callChildrenHook=function(e){var t=this,n=[],r=[];this.childrenToAnimate.forEach((function(e){var o=t.findChildByKey(e);o&&(n.push(o),t.hasChildData(e)&&r.push(t.getChildData(e).domNode))})),e(n,r)},t.prototype.updateBoundingBoxCaches=function(){var e=this,t=this.parentData.domNode;if(t){this.parentData.boundingBox=this.props.getPosition(t);var n=[];this.state.children.forEach((function(r){var o=gv(r);if(o)if(e.hasChildData(o)){var i=e.getChildData(o);i.domNode&&r?n.push(function(e){var t=e.childDomNode,n=e.parentDomNode,r=e.getPosition,o=r(n),i=r(t),a=i.top,s=i.left,l=i.right,u=i.bottom,c=i.width,d=i.height;return{top:a-o.top,left:s-o.left,right:o.right-l,bottom:o.bottom-u,width:c,height:d}}({childDomNode:i.domNode,parentDomNode:t,getPosition:e.props.getPosition})):n.push(null)}else n.push(null);else n.push(null)})),this.state.children.forEach((function(t,r){var o=gv(t),i=n[r];o&&e.setChildData(o,{boundingBox:i})}))}},t.prototype.computeInitialStyles=function(e){if(e.appearing)return this.props.appearAnimation?this.props.appearAnimation.from:{};if(e.entering)return this.props.enterAnimation?lv({position:"",top:"",left:"",right:"",bottom:""},this.props.enterAnimation.from):{};if(e.leaving)return this.props.leaveAnimation?this.props.leaveAnimation.from:{};var t=this.getChildData(gv(e)),n=t.domNode,r=t.boundingBox,o=this.parentData.boundingBox;if(!n)return{};var i=pv({childDomNode:n,childBoundingBox:r,parentBoundingBox:o,getPosition:this.props.getPosition});return{transform:"translate("+i[0]+"px, "+i[1]+"px)"}},t.prototype.isAnimationDisabled=function(e){return mv||e.disableAllAnimations||0===e.duration&&0===e.delay&&0===e.staggerDurationBy&&0===e.staggerDelayBy},t.prototype.findChildByKey=function(e){return rv((function(t){return gv(t)===e}),this.state.children)},t.prototype.hasChildData=function(e){return Object.prototype.hasOwnProperty.call(this.childrenData,e)},t.prototype.getChildData=function(e){return this.hasChildData(e)?this.childrenData[e]:{}},t.prototype.setChildData=function(e,t){this.childrenData[e]=lv({},this.getChildData(e),t)},t.prototype.removeChildData=function(e){delete this.childrenData[e],this.setState((function(t){return lv({},t,{children:t.children.filter((function(t){return t.element.key!==e}))})}))},t.prototype.createHeightPlaceholder=function(){var e=this,t=this.props.typeName,n="ul"===t||"ol"===t?"li":"div";return wl.createElement(n,{key:"height-placeholder",ref:function(t){e.heightPlaceholderData.domNode=t},style:{visibility:"hidden",height:0}})},t.prototype.childrenWithRefs=function(){var e=this;return this.state.children.map((function(t){return wl.cloneElement(t.element,{ref:function(n){if(n){var r=function(e){if("undefined"==typeof HTMLElement)return null;if(e instanceof HTMLElement)return e;var t=Gc.findDOMNode(e);return t&&t.nodeType===Node.TEXT_NODE?null:t}(n);e.setChildData(gv(t),{domNode:r}),null!=t.ref&&t.ref(n)}}})}))},t.prototype.render=function(){var e=this,t=this.props,n=t.typeName,r=t.delegated,o=t.leaveAnimation,i=t.maintainContainerHeight,a=this.childrenWithRefs();if(o&&i&&a.push(this.createHeightPlaceholder()),!n)return a;var s=lv({},r,{children:a,ref:function(t){e.parentData.domNode=t}});return wl.createElement(n,s)},t}(wl.Component));class bv extends P.RNPage{constructor(e){super(e),this.state={},this.RulerRendered=this.RulerRendered.bind(this),this.ContainerRendered=this.ContainerRendered.bind(this)}ContainerRendered(e){null!=e&&(this.Model.Instance=e)}RulerRendered(e){this.Model.Ruler=e}get Model(){return this.props.Model}GenerateRow(e){return React.createElement(yv,null,e)}componentWillMount(){this.Model.Ruler=null}render(){return 0==this.props.Model.GetRowCount()?React.createElement(qg,{Model:this.Model}):React.createElement("div",{className:"rnPage",style:{position:"relative"},ref:this.ContainerRendered},React.createElement("div",{ref:this.RulerRendered,id:"rnRuler",style:{width:"100%",borderTop:"2px dashed red",display:"none",position:"absolute",height:1,zIndex:1e7,pointerEvents:"none"}}),React.createElement("div",{style:{backgroundColor:"white",textAlign:"center"}},React.createElement(t.FontAwesomeIcon,{className:"rnAddButton",icon:Wg.faPlusCircle,style:{fontSize:20,cursor:"pointer"},onClick:()=>this.Model.AddNewBlock(null,0,0,!0)})),super.render(),React.createElement("div",{style:{backgroundColor:"white",textAlign:"center"}},React.createElement(t.FontAwesomeIcon,{className:"rnAddButton",icon:Wg.faPlusCircle,style:{fontSize:20,cursor:"pointer"},onClick:()=>this.Model.AddNewBlock(null,this.Model.Rows.length,0,!0)})))}}bv.defaultProps={};class wv extends L.RNColumn{constructor(e){super(e),this.state={}}render(){return super.render()}}wv.defaultProps={};class kv extends F.RNColumnModel{Remove(){this.Parent.Remove(this)}get Block(){return this._block}Render(){return React.createElement(wv,{Model:this,key:this.Options.Id})}}class Cv extends B.RNRow{constructor(e){super(e),this.state={}}GenerateRowItems(e){return React.createElement(yv,null,e)}}Cv.defaultProps={};class xv extends M.RNRowModel{get Columns(){return this._columns}CreateColumn(e=null){let t=(new I.RNColumnOptions).Merge(e);return new kv(t,this)}Render(){return React.createElement(Cv,{Model:this,key:this.Options.Id})}CreateColumnWithBlock(e){let t=this.CreateColumn();return t.SetBlock(e),t}Remove(e){let t=this.Columns.indexOf(e);if(t>=0&&this._columns.splice(t,1),0==this.Columns.length)this.Parent.RemoveRow(this);else{let e=100/this._columns.length;this._columns.forEach((t=>t.Block.Options.Width=e)),this._columns[this._columns.length-1].Block.Options.Width=e+(100-this._columns.length*e),this.Refresh()}}}var Ev=[{GroupName:"Standard",Fields:[{Label:"Form Field",Type:"FormField",IsPR:!1,URL:rnBuilderVar.PluginURL+"images/FieldIcons/fields.png"},{Label:"Text",Type:"Text",IsPR:!1,URL:rnBuilderVar.PluginURL+"images/FieldIcons/text.png"},{Label:"Image",Type:"Image",IsPR:!1,URL:rnBuilderVar.PluginURL+"images/FieldIcons/image.png"},{Label:"Navigator",Type:"Navigator",IsPR:!1,URL:rnBuilderVar.PluginURL+"images/FieldIcons/navigate.png"},{Label:"Grid",Type:"Grid",IsPR:!1,URL:rnBuilderVar.PluginURL+"images/FieldIcons/grid.png"}]},{GroupName:"Advanced (Full Version Only)",Fields:[{Label:"Searchable Bar",Type:"SearchBar",IsPR:!0,URL:rnBuilderVar.PluginURL+"images/FieldIcons/search.png"},{Label:"List",Type:"List",IsPR:!0,URL:rnBuilderVar.PluginURL+"images/FieldIcons/list.png"},{Label:"Calendar",Type:"Calendar",IsPR:!0,URL:rnBuilderVar.PluginURL+"images/FieldIcons/calendar.png"},{Label:"Form",Type:"Form",IsPR:!0,URL:rnBuilderVar.PluginURL+"images/FieldIcons/form.png"}]}];class Sv extends React.Component{constructor(e){super(e),this.state={}}render(){return React.createElement("div",{className:"FieldPickerItem",onClick:this.props.OnClick},React.createElement("img",{alt:this.props.Label,src:this.props.ImageURL}),React.createElement("label",{style:{fontWeight:"bold",marginLeft:10}},this.props.Label))}}Sv.defaultProps={};class _v extends et{constructor(e){super(e),this.state={IsOpen:!0,IsBusy:!1,TabToOpen:Ev[0].GroupName}}GetAdditionalProperties(){return{Title:"Select a field",Styles:{width:"80%",maxWidth:800}}}SubRenderer(){return React.createElement(ot,{TabToOpen:this.state.TabToOpen,TabToOpenChanged:e=>this.setState({TabToOpen:e})},Ev.map((e=>React.createElement(ot.Item,{Title:e.GroupName,Id:e.GroupName},React.createElement("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap"}},e.Fields.map((e=>React.createElement(Sv,{Label:e.Label,ImageURL:e.URL,OnClick:()=>this.Select(e)}))))))))}Select(e){e.IsPR&&""==rnBuilderVar.IsPR?Ze.Show(React.createElement(fg,{Message:"This field is only available in the full version"})):this.SendResult(e)}}_v.defaultProps={};var Ov=Ne((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="arrow-up",r=[],o="f062",i="M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z";t.definition={prefix:"fas",iconName:n,icon:[448,512,r,o,i]},t.faArrowUp=t.definition,t.prefix="fas",t.iconName=n,t.width=448,t.height=512,t.ligatures=r,t.unicode=o,t.svgPathData=i})),Tv=Ne((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="arrow-down",r=[],o="f063",i="M413.1 222.5l22.2 22.2c9.4 9.4 9.4 24.6 0 33.9L241 473c-9.4 9.4-24.6 9.4-33.9 0L12.7 278.6c-9.4-9.4-9.4-24.6 0-33.9l22.2-22.2c9.5-9.5 25-9.3 34.3.4L184 343.4V56c0-13.3 10.7-24 24-24h32c13.3 0 24 10.7 24 24v287.4l114.8-120.5c9.3-9.8 24.8-10 34.3-.4z";t.definition={prefix:"fas",iconName:n,icon:[448,512,r,o,i]},t.faArrowDown=t.definition,t.prefix="fas",t.iconName=n,t.width=448,t.height=512,t.ligatures=r,t.unicode=o,t.svgPathData=i})),Rv=Ne((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="arrow-left",r=[],o="f060",i="M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z";t.definition={prefix:"fas",iconName:n,icon:[448,512,r,o,i]},t.faArrowLeft=t.definition,t.prefix="fas",t.iconName=n,t.width=448,t.height=512,t.ligatures=r,t.unicode=o,t.svgPathData=i})),Av=Ne((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="arrow-right",r=[],o="f061",i="M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z";t.definition={prefix:"fas",iconName:n,icon:[448,512,r,o,i]},t.faArrowRight=t.definition,t.prefix="fas",t.iconName=n,t.width=448,t.height=512,t.ligatures=r,t.unicode=o,t.svgPathData=i}));class Nv extends React.Component{constructor(e){super(e),this.state={}}get Model(){return this.props.Model}render(){return React.createElement("div",{className:"rnBlockToolbar",style:{display:"flex"}},React.createElement("div",null,React.createElement("strong",null,"Type:")," ",this.Model.Type," ",React.createElement("strong",{style:{marginLeft:5}},"Id:"),this.Model.Options.Id),React.createElement("div",{style:{flexGrow:1,textAlign:"right",alignItems:"center",justifyContent:"flex-end",display:"flex"}},React.createElement(t.FontAwesomeIcon,{className:"toolBarIcon",icon:Ov.faArrowUp,onClick:()=>this.Model.InsertNewBlock(Dv.Top)}),React.createElement(t.FontAwesomeIcon,{className:"toolBarIcon",icon:Tv.faArrowDown,onClick:()=>this.Model.InsertNewBlock(Dv.Bottom)}),React.createElement(t.FontAwesomeIcon,{className:"toolBarIcon",icon:Rv.faArrowLeft,onClick:()=>this.Model.InsertNewBlock(Dv.Left)}),React.createElement(t.FontAwesomeIcon,{className:"toolBarIcon",icon:Av.faArrowRight,style:{marginRight:20},onClick:()=>this.Model.InsertNewBlock(Dv.Right)}),React.createElement(t.FontAwesomeIcon,{className:"toolBarIcon",icon:Be.faTimes,onClick:()=>this.Model.Remove()})))}}let Dv;function Pv(e){return class extends e{get Model(){return super.Model}constructor(...e){super(...e),this.DragManager=new ng(this),this.InstanceRendered=this.InstanceRendered.bind(this)}InstanceRendered(e){null!=e&&(this.Model.Instance=e)}render(){return React.createElement("div",{ref:this.InstanceRendered,draggable:!0,className:this.Model.Options.Type+" rnBlockDesigner "+(this.Model.Page.SelectedBlock==this.Model?"Selected":""),onClick:e=>{e.stopPropagation(),e.preventDefault(),this.Model.BlockSelected()},onDragStart:e=>this.DragManager.DragStart(e),onDragEnd:e=>this.DragManager.DragEnd(e),onDragEnter:e=>this.DragManager.DragEnter(e),onDrop:e=>this.DragManager.Drop(e)},React.createElement(Nv,{Model:this.Model}),React.createElement("div",{style:{padding:5}},super.render()))}}}Nv.defaultProps={},function(e){e.Top="top",e.Left="left",e.Right="right",e.Bottom="bottom"}(Dv||(Dv={}));class Mv extends(Pv(U.FormFieldBlock)){constructor(e){super(e),this.state={}}SubRender(){return""==this.Model.Options.FieldId?React.createElement("div",null,"Select a field first"):super.SubRender()}}Mv.defaultProps={};class Iv extends React.Component{constructor(e){super(e),this.state={}}get Model(){return this.props.Model}componentWillUnmount(){this.Model.OnRefresh.Unsubscribe(this)}componentDidMount(){this.Model.OnRefresh.Subscribe(this,(()=>this.forceUpdate()))}componentDidUpdate(e,t,n){e.Model!=this.props.Model&&(e.Model.OnRefresh.Unsubscribe(this),this.props.Model.OnRefresh.Subscribe(this,(()=>this.forceUpdate())))}GetLabel(){return React.createElement("label",{style:{fontWeight:"bold"}},this.Model.Label)}render(){return React.createElement("div",{style:{marginBottom:3}},this.GetLabel(),this.SubRender())}}Iv.defaultProps={};class Fv extends Iv{constructor(e){super(e),this.state={}}SubRender(){return React.createElement(Bf,{Value:this.Model.GetStringValue(),onChange:e=>this.Model.SetValue(e),placeholder:this.Model.PlaceHolder},this.Model.GetItems().map((e=>React.createElement("option",{key:e.Value,value:e.Value},e.Label))))}}Fv.defaultProps={};class Lv{constructor(e,t,n=""){this.Block=e,this.PropertyName=t,this.Label=n,this.RefreshPropertiesPanel=!1,this.IsPR=!1,this.OnGetValue=null,this.OnChange=null,this.OptionsOverwrite=null,this.OnRefresh=new H.SingleEvent}SetOptionsOverwrite(e){return this.OptionsOverwrite=e,this}SetRefreshPropertiesPanel(){return this.RefreshPropertiesPanel=!0,this}SetIsPR(){return this.IsPR=!0,this}SetOnGetValue(e){return this.OnGetValue=e,this}SetOnChange(e){return this.OnChange=e,this}GetValue(){if(null!=this.OnGetValue)return this.OnGetValue();let e=this.Block.Options;return null!=this.OptionsOverwrite&&(e=this.OptionsOverwrite),null==e[this.PropertyName]?null:e[this.PropertyName]}GetBooleanValue(){return o.Sanitizer.SanitizeBoolean(this.GetValue(),!1)}SetBooleanValue(e){this.SetValue(o.Sanitizer.SanitizeBoolean(e))}GetStringValue(){let e=this.GetValue();return Array.isArray(e)&&(e=e.length>0?e[0]:""),null==e?"":e.toString()}GetNumberValue(){let e=Number(this.GetValue());return isNaN(e)?0:e}Refresh(){this.OnRefresh.Publish()}SetValue(e){if(this.IsPR&&""==rnBuilderVar.IsPR)Ze.Show(React.createElement(fg,{Message:"Sorry this feature is only available in the full version"}));else{if(null!=this.OnChange){if(!1===this.OnChange(e))return}else{Array.isArray(this.GetValue())&&!Array.isArray(e)&&""!=e.toString()&&(e=[e]);let t=this.Block.Options;null!=this.OptionsOverwrite&&(t=this.OptionsOverwrite),t.SetValue(this.PropertyName,e)}this.RefreshPropertiesPanel?c.EventManager.Publish("RefreshFieldProperties"):this.Refresh(),this.Block.Refresh()}}}class Bv extends Lv{constructor(e,t,n){super(e,t,n),this.Items=[],this.PlaceHolder="Select.."}SetPlaceHolder(e){return this.PlaceHolder=e,this}Render(){return React.createElement(Fv,{Model:this})}AddItem(e,t){return this.CreateItem(e,t),this}GetItems(){return this.Items}CreateItem(e,t){let n=new jv(this,e,t);return this.Items.push(n),n}}class jv{constructor(e,t,n){this.DropDown=e,this.Label=t,this.Value=n}}class zv extends Bv{constructor(...e){super(...e),this.AllowedTypes=[]}Render(){return React.createElement(Fv,{Model:this})}GetItems(){this.Items=[];let e=this.Block.Page.DataSources.find((e=>e.Options.Type==A.DataSourceTypeEnum.Form));if(null!=e)for(let t of e.GetForm().Fields.filter((e=>0==this.AllowedTypes.length||this.AllowedTypes.indexOf(e.Type)>=0)))this.AddItem(Ug.GetFriendlyLabel(t),t.Id);return super.GetItems()}SetAllowedTypes(e){return this.AllowedTypes=e,this}SetValue(e){let t=this.Block.Page.DataSources.find((e=>e.Options.Type==A.DataSourceTypeEnum.Form));if(null!=t){if(t.GetFieldByColumnId(e).IsPR&&""==rnBuilderVar.IsPR)return void Ze.Show(React.createElement(fg,{Message:"Sorry this field is only available in the full version"}))}super.SetValue(e)}}class Vv{constructor(e,t){this.Collection=e,this.Name=t,this.Items=[]}AddProperty(e){return e.PropertyGroup=this,this.Items.push(e),this}}class Uv extends React.Component{constructor(e){super(e),this.state={}}render(){return React.createElement(dg,null,this.props.Model.Groups.map((e=>React.createElement(cg,{Title:e.Name,IsOpen:!0},e.Items.map((e=>e.Render()))))))}}Uv.defaultProps={};class Hv{constructor(){this.Groups=[]}GetOrCreateGroup(e=""){let t=this.Groups.find((t=>t.Name==e));return null==t?this.AddNewGroup(e):t}AddNewGroup(e){let t=new Vv(this,e);return this.Groups.push(t),t}Render(){return React.createElement(Uv,{Model:this})}}function Gv(e){return class extends e{get Page(){return super.Page}BlockSelected(){this.Page.SetSelectedBlock(this)}get Row(){return super.Row}get Container(){var e;return null===(e=this.Parent)||void 0===e?void 0:e.Parent.Parent}GetProperties(){return new Hv}ExecuteAdditionInitialization(){}Remove(){var e;null===(e=this.Parent)||void 0===e||e.Remove()}InsertNewBlock(e){switch(e){case Dv.Bottom:this.Container.AddNewBlock(null,this.RowIndex+1,0,!0);break;case Dv.Top:this.Container.AddNewBlock(null,this.RowIndex,0,!0);break;case Dv.Right:this.Container.AddNewBlock(null,this.RowIndex,this.ColIndex+1,!1);break;case Dv.Left:this.Container.AddNewBlock(null,this.RowIndex,this.ColIndex,!1)}}MoveTo(e,t){var n;if(null!=e)switch(t){case"bottom":case"top":if(e==this&&1==(null===(n=this.Row)||void 0===n?void 0:n.Columns.length))return;let r=this.Container.RootContainer.CreateRow();this.Options.Width=100,e.Container.InsertRow(r,e.Row.Index+("bottom"==t?1:0)),this.Remove(),r.InsertColumn(r.CreateColumnWithBlock(this));break;case"left":case"right":if(e==this)return;this.Remove();let o=e.Row.CreateColumnWithBlock(this);e.Row.InsertColumn(o,e.ColIndex+("left"==t?0:1),!0)}}}}function Wv(e){let t=Gv(e);return class extends t{ConfigureDataSource(e=1,t=!1){return 0==this.Options.DataSourceId&&this.Page.DataSources.length>0&&(this.Options.DataSourceId=this.Page.DataSources[0].Options.Id),null!=this.DataSource&&(this.DataSource.MaybeSetInitialNeededRows(e),t&&this.DataSource.SetNeedRowCount()),this}ExecuteAdditionInitialization(){0==this.Options.DataSourceId&&this.Page.DataSources.length>0&&(this.Options.DataSourceId=this.Page.DataSources[0].Options.Id)}}}class qv extends Iv{constructor(e){super(e),this.state={TempValue:e.Model.GetStringValue()}}componentDidUpdate(e,t,n){e.Model!=this.props.Model&&this.setState({TempValue:this.props.Model.GetStringValue()})}SubRender(){return React.createElement("input",{style:{width:"100%"},type:"text",value:this.state.TempValue,onBlur:e=>{this.Model.ActivateChangeWhenBlur&&(this.Model.SetValue(e.target.value),this.setState({TempValue:e.target.value}))},onChange:e=>{this.setState({TempValue:e.target.value}),this.Model.ActivateChangeWhenBlur||(this.Model.SetValue(e.target.value),this.setState({TempValue:e.target.value}))}})}}qv.defaultProps={};class Yv extends Lv{constructor(e,t,n){super(e,t,n),this.ActivateChangeWhenBlur=!1}SetActivateChangeWhenBlur(){return this.ActivateChangeWhenBlur=!0,this}Render(){return React.createElement(qv,{Model:this})}}class Kv extends Iv{constructor(e){super(e),this.state={}}SubRender(){return React.createElement("div",{style:{display:"flex",alignItems:"center"},onClick:e=>this.Model.SetBooleanValue(!this.Model.GetBooleanValue())},React.createElement("input",{type:"checkbox",checked:this.Model.GetBooleanValue()}),React.createElement("label",{style:{marginLeft:3,fontWeight:"bold"}},this.Model.Label))}GetLabel(){return null}}Kv.defaultProps={};class $v extends Lv{constructor(e,t,n){super(e,t,n)}Render(){return React.createElement(Kv,{Model:this})}}class Xv extends(Wv(V.FormFieldBlockModel)){Render(){return React.createElement(Mv,{Model:this})}NewFesture(){return"yea!!"}get Type(){return"Form Field"}ConfigureDataSource(e=1,t=!1){var n;return super.ConfigureDataSource(e,t),null===(n=this.DataSource)||void 0===n||n.AddNeededField(this.Options.FieldId),this}GetProperties(){let e=super.GetProperties(),t=e.GetOrCreateGroup("General");return t.AddProperty(new zv(this,"FieldId","Field").SetRefreshPropertiesPanel()),""!=this.Options.FieldId&&(t.AddProperty(new Bv(this,"LabelType","Label Type").AddItem("Same as field","sameasfield").AddItem("Custom","custom").SetRefreshPropertiesPanel()),"custom"==this.Options.LabelType&&t.AddProperty(new Yv(this,"Label","Label")),t.AddProperty(new Bv(this,"FieldStyle","Field Style").AddItem("Text","text").AddItem("Similar to field","similar").SetRefreshPropertiesPanel())),t.AddProperty(new Bv(this,"LabelPosition","Label Position").AddItem("Top","Top").AddItem("Left","Left")),e.GetOrCreateGroup("Advanced (Full Version Only)").AddProperty(new $v(this,"HideWhenEmpty","Hide when empty").SetIsPR()),e}GetDependencies(){let e=["FormFieldBlock"];if("similar"==this.Options.FieldStyle){let t=this.DataSource.GetFieldByColumnId(this.Options.FieldId);null!=t&&e.push(t.RendererType+"Renderer")}return e}}class Jv extends(Pv(W.TextFieldBlock)){constructor(e){super(e),this.state={}}SubRender(){return super.SubRender()}}Jv.defaultProps={};class Qv extends Oe{constructor(e,t){super(e,t),this.disposer=null,this.validators=null}componentWillReceiveProps(e,t){super.componentWillReceiveProps(e,t),e.ErrorMessage==this.props.ErrorMessage&&e.IsValid==this.props.IsValid||this.setState({ErrorMessage:e.ErrorMessage,IsValid:e.IsValid})}render(){return null}SetValue(e,t=null){null!=this.props.Store&&(void 0!==this.props.Store["Set"+this.props.PropertyName]?this.props.Store["Set"+this.props.PropertyName](e):this.props.Store.SetValue(this.props.PropertyName,e)),null!=this.props.Store&&this.forceUpdate(),je.ExecuteMethodPropIfDefined(this.props.onChange,null!=t?t:e)}componentDidMount(){null!=this.props.Store&&this.props.Store.AddField(this)}componentWillUnmount(){null!=this.props.Store&&this.props.Store.RemoveField(this)}GetTooltip(e){return null==e?null:React.createElement(Df,{content:e,background:"black",color:"white",styles:{display:"inline-block",zIndex:1e5}},React.createElement("span",{style:{marginLeft:2,cursor:"pointer"}},React.createElement(gn,{icon:Tf.faQuestionCircle})))}Validate(){null==this.validators&&(this.validators=this.GetValidators());let e=!0,t="";for(let n of this.validators)n.Execute()||(e=!1,t=n.ErrorMessage);return this.state.IsValid==e&&this.state.ErrorMessage==t||this.setState({IsValid:e,ErrorMessage:t}),e}GetValidationSection(){return!this.state.IsValid&&""!=this.state.ErrorMessage&&React.createElement("div",{className:"invalid-feedback"},this.state.ErrorMessage)}GetArrayValue(){if(null==this.props.Store)return this.props.Value;let e=this.props.Store.GetValue(this.props.PropertyName),t=[];for(let n=0;n<e.length;n++)t.push(e[n]);return t}GetObjectValue(e=null,t=null){if(null===t&&(t=this.props.PropertyName),null===e&&(e=this.props.Store),null==e)return this.props.Value;return e.GetValue(t)}GetStringValue(e=null,t=null){if(null===t&&(t=this.props.PropertyName),null===e&&(e=this.props.Store),null==e)return this.props.Value;let n=e.GetValue(t);return null==n?"":n.toString()}GetValue(e=null,t=null){if(null===t&&(t=this.props.PropertyName),null===e&&(e=this.props.Store),null==e)return this.props.Value;let n=e.GetValue(t);return null==n?null:n}GetBoolValue(){let e=0;if(e=null==this.props.Store?this.props.Value:this.props.Store.GetValue(this.props.PropertyName),null==e)return!1;let t=parseInt(e);return isNaN(t)?1==e:1==t}GetNumericValue(){let e=0;if(e=null==this.props.Store?this.props.Value:this.props.Store.GetValue(this.props.PropertyName),null==e)return 0;let t=parseInt(e);return isNaN(t)?0:t}GetDateValue(){let e=this.GetNumericValue();return 0==e?null:qu.UnixToDate(e)}}Qv.defaultProps={};var Zv=Ne((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="bold",r=[],o="f032",i="M333.49 238a122 122 0 0 0 27-65.21C367.87 96.49 308 32 233.42 32H34a16 16 0 0 0-16 16v48a16 16 0 0 0 16 16h31.87v288H34a16 16 0 0 0-16 16v48a16 16 0 0 0 16 16h209.32c70.8 0 134.14-51.75 141-122.4 4.74-48.45-16.39-92.06-50.83-119.6zM145.66 112h87.76a48 48 0 0 1 0 96h-87.76zm87.76 288h-87.76V288h87.76a56 56 0 0 1 0 112z";t.definition={prefix:"fas",iconName:n,icon:[384,512,r,o,i]},t.faBold=t.definition,t.prefix="fas",t.iconName=n,t.width=384,t.height=512,t.ligatures=r,t.unicode=o,t.svgPathData=i})),ey=Ne((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="italic",r=[],o="f033",i="M320 48v32a16 16 0 0 1-16 16h-62.76l-80 320H208a16 16 0 0 1 16 16v32a16 16 0 0 1-16 16H16a16 16 0 0 1-16-16v-32a16 16 0 0 1 16-16h62.76l80-320H112a16 16 0 0 1-16-16V48a16 16 0 0 1 16-16h192a16 16 0 0 1 16 16z";t.definition={prefix:"fas",iconName:n,icon:[320,512,r,o,i]},t.faItalic=t.definition,t.prefix="fas",t.iconName=n,t.width=320,t.height=512,t.ligatures=r,t.unicode=o,t.svgPathData=i})),ty=Ne((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="underline",r=[],o="f0cd",i="M32 64h32v160c0 88.22 71.78 160 160 160s160-71.78 160-160V64h32a16 16 0 0 0 16-16V16a16 16 0 0 0-16-16H272a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h32v160a80 80 0 0 1-160 0V64h32a16 16 0 0 0 16-16V16a16 16 0 0 0-16-16H32a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16zm400 384H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z";t.definition={prefix:"fas",iconName:n,icon:[448,512,r,o,i]},t.faUnderline=t.definition,t.prefix="fas",t.iconName=n,t.width=448,t.height=512,t.ligatures=r,t.unicode=o,t.svgPathData=i}));var ny=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e};var ry=function(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++o];if(!1===n(i[l],l,i))break}return t}}();var oy=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r},iy="object"==typeof Te&&Te&&Te.Object===Object&&Te,ay="object"==typeof self&&self&&self.Object===Object&&self,sy=iy||ay||Function("return this")(),ly=sy.Symbol,uy=Object.prototype,cy=uy.hasOwnProperty,dy=uy.toString,py=ly?ly.toStringTag:void 0;var fy=function(e){var t=cy.call(e,py),n=e[py];try{e[py]=void 0;var r=!0}catch(e){}var o=dy.call(e);return r&&(t?e[py]=n:delete e[py]),o},hy=Object.prototype.toString;var my=function(e){return hy.call(e)},gy=ly?ly.toStringTag:void 0;var vy=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":gy&&gy in Object(e)?fy(e):my(e)};var yy=function(e){return null!=e&&"object"==typeof e};var by=function(e){return yy(e)&&"[object Arguments]"==vy(e)},wy=Object.prototype,ky=wy.hasOwnProperty,Cy=wy.propertyIsEnumerable,xy=by(function(){return arguments}())?by:function(e){return yy(e)&&ky.call(e,"callee")&&!Cy.call(e,"callee")},Ey=Array.isArray;var Sy=function(){return!1},_y=Ne((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,o=r&&r.exports===n?sy.Buffer:void 0,i=(o?o.isBuffer:void 0)||Sy;e.exports=i})),Oy=/^(?:0|[1-9]\d*)$/;var Ty=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&Oy.test(e))&&e>-1&&e%1==0&&e<t};var Ry=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},Ay={};Ay["[object Float32Array]"]=Ay["[object Float64Array]"]=Ay["[object Int8Array]"]=Ay["[object Int16Array]"]=Ay["[object Int32Array]"]=Ay["[object Uint8Array]"]=Ay["[object Uint8ClampedArray]"]=Ay["[object Uint16Array]"]=Ay["[object Uint32Array]"]=!0,Ay["[object Arguments]"]=Ay["[object Array]"]=Ay["[object ArrayBuffer]"]=Ay["[object Boolean]"]=Ay["[object DataView]"]=Ay["[object Date]"]=Ay["[object Error]"]=Ay["[object Function]"]=Ay["[object Map]"]=Ay["[object Number]"]=Ay["[object Object]"]=Ay["[object RegExp]"]=Ay["[object Set]"]=Ay["[object String]"]=Ay["[object WeakMap]"]=!1;var Ny=function(e){return yy(e)&&Ry(e.length)&&!!Ay[vy(e)]};var Dy=function(e){return function(t){return e(t)}},Py=Ne((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,o=r&&r.exports===n&&iy.process,i=function(){try{var e=r&&r.require&&r.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(e){}}();e.exports=i})),My=Py&&Py.isTypedArray,Iy=My?Dy(My):Ny,Fy=Object.prototype.hasOwnProperty;var Ly=function(e,t){var n=Ey(e),r=!n&&xy(e),o=!n&&!r&&_y(e),i=!n&&!r&&!o&&Iy(e),a=n||r||o||i,s=a?oy(e.length,String):[],l=s.length;for(var u in e)!t&&!Fy.call(e,u)||a&&("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Ty(u,l))||s.push(u);return s},By=Object.prototype;var jy=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||By)};var zy=function(e,t){return function(n){return e(t(n))}},Vy=zy(Object.keys,Object),Uy=Object.prototype.hasOwnProperty;var Hy=function(e){if(!jy(e))return Vy(e);var t=[];for(var n in Object(e))Uy.call(e,n)&&"constructor"!=n&&t.push(n);return t};var Gy=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var Wy=function(e){if(!Gy(e))return!1;var t=vy(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t};var qy=function(e){return null!=e&&Ry(e.length)&&!Wy(e)};var Yy=function(e){return qy(e)?Ly(e):Hy(e)};var Ky=function(e,t){return function(n,r){if(null==n)return n;if(!qy(n))return e(n,r);for(var o=n.length,i=t?o:-1,a=Object(n);(t?i--:++i<o)&&!1!==r(a[i],i,a););return n}}((function(e,t){return e&&ry(e,t,Yy)}));var $y=function(e){return e};var Xy=function(e){return"function"==typeof e?e:$y};var Jy=function(e,t){return(Ey(e)?ny:Ky)(e,Xy(t))},Qy=Ne((function(e){!function(t){var n=/^\s+/,r=/\s+$/,o=0,i=t.round,a=t.min,s=t.max,l=t.random;function u(e,l){if(l=l||{},(e=e||"")instanceof u)return e;if(!(this instanceof u))return new u(e,l);var c=function(e){var o={r:0,g:0,b:0},i=1,l=null,u=null,c=null,d=!1,p=!1;"string"==typeof e&&(e=function(e){e=e.replace(n,"").replace(r,"").toLowerCase();var t,o=!1;if(O[e])e=O[e],o=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};if(t=z.rgb.exec(e))return{r:t[1],g:t[2],b:t[3]};if(t=z.rgba.exec(e))return{r:t[1],g:t[2],b:t[3],a:t[4]};if(t=z.hsl.exec(e))return{h:t[1],s:t[2],l:t[3]};if(t=z.hsla.exec(e))return{h:t[1],s:t[2],l:t[3],a:t[4]};if(t=z.hsv.exec(e))return{h:t[1],s:t[2],v:t[3]};if(t=z.hsva.exec(e))return{h:t[1],s:t[2],v:t[3],a:t[4]};if(t=z.hex8.exec(e))return{r:D(t[1]),g:D(t[2]),b:D(t[3]),a:F(t[4]),format:o?"name":"hex8"};if(t=z.hex6.exec(e))return{r:D(t[1]),g:D(t[2]),b:D(t[3]),format:o?"name":"hex"};if(t=z.hex4.exec(e))return{r:D(t[1]+""+t[1]),g:D(t[2]+""+t[2]),b:D(t[3]+""+t[3]),a:F(t[4]+""+t[4]),format:o?"name":"hex8"};if(t=z.hex3.exec(e))return{r:D(t[1]+""+t[1]),g:D(t[2]+""+t[2]),b:D(t[3]+""+t[3]),format:o?"name":"hex"};return!1}(e));"object"==typeof e&&(V(e.r)&&V(e.g)&&V(e.b)?(f=e.r,h=e.g,m=e.b,o={r:255*A(f,255),g:255*A(h,255),b:255*A(m,255)},d=!0,p="%"===String(e.r).substr(-1)?"prgb":"rgb"):V(e.h)&&V(e.s)&&V(e.v)?(l=M(e.s),u=M(e.v),o=function(e,n,r){e=6*A(e,360),n=A(n,100),r=A(r,100);var o=t.floor(e),i=e-o,a=r*(1-n),s=r*(1-i*n),l=r*(1-(1-i)*n),u=o%6;return{r:255*[r,s,a,a,l,r][u],g:255*[l,r,r,s,a,a][u],b:255*[a,a,l,r,r,s][u]}}(e.h,l,u),d=!0,p="hsv"):V(e.h)&&V(e.s)&&V(e.l)&&(l=M(e.s),c=M(e.l),o=function(e,t,n){var r,o,i;function a(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=A(e,360),t=A(t,100),n=A(n,100),0===t)r=o=i=n;else{var s=n<.5?n*(1+t):n+t-n*t,l=2*n-s;r=a(l,s,e+1/3),o=a(l,s,e),i=a(l,s,e-1/3)}return{r:255*r,g:255*o,b:255*i}}(e.h,l,c),d=!0,p="hsl"),e.hasOwnProperty("a")&&(i=e.a));var f,h,m;return i=R(i),{ok:d,format:e.format||p,r:a(255,s(o.r,0)),g:a(255,s(o.g,0)),b:a(255,s(o.b,0)),a:i}}(e);this._originalInput=e,this._r=c.r,this._g=c.g,this._b=c.b,this._a=c.a,this._roundA=i(100*this._a)/100,this._format=l.format||c.format,this._gradientType=l.gradientType,this._r<1&&(this._r=i(this._r)),this._g<1&&(this._g=i(this._g)),this._b<1&&(this._b=i(this._b)),this._ok=c.ok,this._tc_id=o++}function c(e,t,n){e=A(e,255),t=A(t,255),n=A(n,255);var r,o,i=s(e,t,n),l=a(e,t,n),u=(i+l)/2;if(i==l)r=o=0;else{var c=i-l;switch(o=u>.5?c/(2-i-l):c/(i+l),i){case e:r=(t-n)/c+(t<n?6:0);break;case t:r=(n-e)/c+2;break;case n:r=(e-t)/c+4}r/=6}return{h:r,s:o,l:u}}function d(e,t,n){e=A(e,255),t=A(t,255),n=A(n,255);var r,o,i=s(e,t,n),l=a(e,t,n),u=i,c=i-l;if(o=0===i?0:c/i,i==l)r=0;else{switch(i){case e:r=(t-n)/c+(t<n?6:0);break;case t:r=(n-e)/c+2;break;case n:r=(e-t)/c+4}r/=6}return{h:r,s:o,v:u}}function p(e,t,n,r){var o=[P(i(e).toString(16)),P(i(t).toString(16)),P(i(n).toString(16))];return r&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function f(e,t,n,r){return[P(I(r)),P(i(e).toString(16)),P(i(t).toString(16)),P(i(n).toString(16))].join("")}function h(e,t){t=0===t?0:t||10;var n=u(e).toHsl();return n.s-=t/100,n.s=N(n.s),u(n)}function m(e,t){t=0===t?0:t||10;var n=u(e).toHsl();return n.s+=t/100,n.s=N(n.s),u(n)}function g(e){return u(e).desaturate(100)}function v(e,t){t=0===t?0:t||10;var n=u(e).toHsl();return n.l+=t/100,n.l=N(n.l),u(n)}function y(e,t){t=0===t?0:t||10;var n=u(e).toRgb();return n.r=s(0,a(255,n.r-i(-t/100*255))),n.g=s(0,a(255,n.g-i(-t/100*255))),n.b=s(0,a(255,n.b-i(-t/100*255))),u(n)}function b(e,t){t=0===t?0:t||10;var n=u(e).toHsl();return n.l-=t/100,n.l=N(n.l),u(n)}function w(e,t){var n=u(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,u(n)}function k(e){var t=u(e).toHsl();return t.h=(t.h+180)%360,u(t)}function C(e){var t=u(e).toHsl(),n=t.h;return[u(e),u({h:(n+120)%360,s:t.s,l:t.l}),u({h:(n+240)%360,s:t.s,l:t.l})]}function x(e){var t=u(e).toHsl(),n=t.h;return[u(e),u({h:(n+90)%360,s:t.s,l:t.l}),u({h:(n+180)%360,s:t.s,l:t.l}),u({h:(n+270)%360,s:t.s,l:t.l})]}function E(e){var t=u(e).toHsl(),n=t.h;return[u(e),u({h:(n+72)%360,s:t.s,l:t.l}),u({h:(n+216)%360,s:t.s,l:t.l})]}function S(e,t,n){t=t||6,n=n||30;var r=u(e).toHsl(),o=360/n,i=[u(e)];for(r.h=(r.h-(o*t>>1)+720)%360;--t;)r.h=(r.h+o)%360,i.push(u(r));return i}function _(e,t){t=t||6;for(var n=u(e).toHsv(),r=n.h,o=n.s,i=n.v,a=[],s=1/t;t--;)a.push(u({h:r,s:o,v:i})),i=(i+s)%1;return a}u.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,n,r,o=this.toRgb();return e=o.r/255,n=o.g/255,r=o.b/255,.2126*(e<=.03928?e/12.92:t.pow((e+.055)/1.055,2.4))+.7152*(n<=.03928?n/12.92:t.pow((n+.055)/1.055,2.4))+.0722*(r<=.03928?r/12.92:t.pow((r+.055)/1.055,2.4))},setAlpha:function(e){return this._a=R(e),this._roundA=i(100*this._a)/100,this},toHsv:function(){var e=d(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=d(this._r,this._g,this._b),t=i(360*e.h),n=i(100*e.s),r=i(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=c(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=c(this._r,this._g,this._b),t=i(360*e.h),n=i(100*e.s),r=i(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return p(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,n,r,o){var a=[P(i(e).toString(16)),P(i(t).toString(16)),P(i(n).toString(16)),P(I(r))];if(o&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1))return a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0);return a.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:i(this._r),g:i(this._g),b:i(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+i(this._r)+", "+i(this._g)+", "+i(this._b)+")":"rgba("+i(this._r)+", "+i(this._g)+", "+i(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:i(100*A(this._r,255))+"%",g:i(100*A(this._g,255))+"%",b:i(100*A(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+i(100*A(this._r,255))+"%, "+i(100*A(this._g,255))+"%, "+i(100*A(this._b,255))+"%)":"rgba("+i(100*A(this._r,255))+"%, "+i(100*A(this._g,255))+"%, "+i(100*A(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(T[p(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+f(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var o=u(e);n="#"+f(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0;return t||!r||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return u(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(v,arguments)},brighten:function(){return this._applyModification(y,arguments)},darken:function(){return this._applyModification(b,arguments)},desaturate:function(){return this._applyModification(h,arguments)},saturate:function(){return this._applyModification(m,arguments)},greyscale:function(){return this._applyModification(g,arguments)},spin:function(){return this._applyModification(w,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(S,arguments)},complement:function(){return this._applyCombination(k,arguments)},monochromatic:function(){return this._applyCombination(_,arguments)},splitcomplement:function(){return this._applyCombination(E,arguments)},triad:function(){return this._applyCombination(C,arguments)},tetrad:function(){return this._applyCombination(x,arguments)}},u.fromRatio=function(e,t){if("object"==typeof e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="a"===r?e[r]:M(e[r]));e=n}return u(e,t)},u.equals=function(e,t){return!(!e||!t)&&u(e).toRgbString()==u(t).toRgbString()},u.random=function(){return u.fromRatio({r:l(),g:l(),b:l()})},u.mix=function(e,t,n){n=0===n?0:n||50;var r=u(e).toRgb(),o=u(t).toRgb(),i=n/100;return u({r:(o.r-r.r)*i+r.r,g:(o.g-r.g)*i+r.g,b:(o.b-r.b)*i+r.b,a:(o.a-r.a)*i+r.a})},u.readability=function(e,n){var r=u(e),o=u(n);return(t.max(r.getLuminance(),o.getLuminance())+.05)/(t.min(r.getLuminance(),o.getLuminance())+.05)},u.isReadable=function(e,t,n){var r,o,i=u.readability(e,t);switch(o=!1,(r=function(e){var t,n;t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA");"small"!==n&&"large"!==n&&(n="small");return{level:t,size:n}}(n)).level+r.size){case"AAsmall":case"AAAlarge":o=i>=4.5;break;case"AAlarge":o=i>=3;break;case"AAAsmall":o=i>=7}return o},u.mostReadable=function(e,t,n){var r,o,i,a,s=null,l=0;o=(n=n||{}).includeFallbackColors,i=n.level,a=n.size;for(var c=0;c<t.length;c++)(r=u.readability(e,t[c]))>l&&(l=r,s=u(t[c]));return u.isReadable(e,s,{level:i,size:a})||!o?s:(n.includeFallbackColors=!1,u.mostReadable(e,["#fff","#000"],n))};var O=u.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},T=u.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(O);function R(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function A(e,n){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var r=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=a(n,s(0,parseFloat(e))),r&&(e=parseInt(e*n,10)/100),t.abs(e-n)<1e-6?1:e%n/parseFloat(n)}function N(e){return a(1,s(0,e))}function D(e){return parseInt(e,16)}function P(e){return 1==e.length?"0"+e:""+e}function M(e){return e<=1&&(e=100*e+"%"),e}function I(e){return t.round(255*parseFloat(e)).toString(16)}function F(e){return D(e)/255}var L,B,j,z=(B="[\\s|\\(]+("+(L="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+L+")[,|\\s]+("+L+")\\s*\\)?",j="[\\s|\\(]+("+L+")[,|\\s]+("+L+")[,|\\s]+("+L+")[,|\\s]+("+L+")\\s*\\)?",{CSS_UNIT:new RegExp(L),rgb:new RegExp("rgb"+B),rgba:new RegExp("rgba"+j),hsl:new RegExp("hsl"+B),hsla:new RegExp("hsla"+j),hsv:new RegExp("hsv"+B),hsva:new RegExp("hsva"+j),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function V(e){return!!z.CSS_UNIT.exec(e)}e.exports?e.exports=u:window.tinycolor=u}(Math)}));const Zy=(e,t)=>{const n=e.hex?Qy(e.hex):Qy(e),r=n.toHsl(),o=n.toHsv(),i=n.toRgb(),a=n.toHex();0===r.s&&(r.h=t||0,o.h=t||0);return{hsl:r,hex:"000000"===a&&0===i.a?"transparent":`#${a}`,rgb:i,hsv:o,oldHue:e.h||t||r.h,source:e.source}};var eb=Zy,tb=e=>{let t=0,n=0;return Jy(["r","g","b","a","h","s","l","v"],(r=>{if(e[r]&&(t+=1,isNaN(e[r])||(n+=1),"s"===r||"l"===r)){/^\d+%$/.test(e[r])&&(n+=1)}})),t===n&&e},nb=e=>{const t="#"===String(e).charAt(0)?1:0;return e.length!==4+t&&e.length<7+t&&Qy(e).isValid()};const rb=[38,40];class ob extends(React.PureComponent||React.Component){constructor(e){super(void 0),this.handleBlur=()=>{this.state.blurValue&&this.setState({value:this.state.blurValue,blurValue:null})},this.handleChange=e=>{this.setUpdatedValue(e.target.value,e)},this.handleKeyDown=e=>{const t=(e=>Number(String(e).replace(/%/g,"")))(e.target.value);if(!isNaN(t)&&(n=e.keyCode,rb.indexOf(n)>-1)){const n=this.getArrowOffset(),r=38===e.keyCode?t+n:t-n;this.setUpdatedValue(r,e)}var n},this.handleDrag=e=>{if(this.props.dragLabel){const t=Math.round(this.props.value+e.movementX);t>=0&&t<=this.props.dragMax&&this.props.onChange&&this.props.onChange(this.getValueObjectWithLabel(t),e)}},this.handleMouseDown=e=>{this.props.dragLabel&&(e.preventDefault(),this.handleDrag(e),window.addEventListener("mousemove",this.handleDrag),window.addEventListener("mouseup",this.handleMouseUp))},this.handleMouseUp=()=>{this.unbindEventListeners()},this.unbindEventListeners=()=>{window.removeEventListener("mousemove",this.handleDrag),window.removeEventListener("mouseup",this.handleMouseUp)},this.state={value:String(e.value).toUpperCase(),blurValue:String(e.value).toUpperCase()}}componentWillReceiveProps(e){const t=this.input;e.value!==this.state.value&&(t===document.activeElement?this.setState({blurValue:String(e.value).toUpperCase()}):this.setState({value:String(e.value).toUpperCase(),blurValue:!this.state.blurValue&&String(e.value).toUpperCase()}))}componentWillUnmount(){this.unbindEventListeners()}getValueObjectWithLabel(e){return{[this.props.label]:e}}getArrowOffset(){return this.props.arrowOffset||1}setUpdatedValue(e,t){const n=this.props.label?this.getValueObjectWithLabel(e):e;this.props.onChange&&this.props.onChange(n,t);const r=(e=>String(e).indexOf("%")>-1)(t.target.value);var o;this.setState({value:r?(o=e,`${o}%`):e})}render(){const e={wrap:{position:"relative"},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}};return React.createElement("div",{style:e.wrap},React.createElement("input",{style:e.input,ref:e=>this.input=e,value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:!1}),this.props.label&&!this.props.hideLabel?React.createElement("span",{style:e.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}const ib=({onChange:e,rgb:t,hsl:n,hex:r,disableAlpha:o})=>{const i={fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},a=(r,o)=>{r.hex?nb(r.hex)&&e({hex:r.hex,source:"hex"},o):r.r||r.g||r.b?e({r:r.r||t.r,g:r.g||t.g,b:r.b||t.b,a:t.a,source:"rgb"},o):r.a&&(r.a<0?r.a=0:r.a>100&&(r.a=100),r.a/=100,e({h:n.h,s:n.s,l:n.l,a:r.a,source:"rgb"},o))};return React.createElement("div",{style:i.fields,className:"flexbox-fix"},React.createElement("div",{style:i.double},React.createElement(ob,{style:{input:i.input,label:i.label},label:"hex",value:r.replace("#",""),onChange:a})),React.createElement("div",{style:i.single},React.createElement(ob,{style:{input:i.input,label:i.label},label:"r",value:t.r,onChange:a,dragLabel:"true",dragMax:"255"})),React.createElement("div",{style:i.single},React.createElement(ob,{style:{input:i.input,label:i.label},label:"g",value:t.g,onChange:a,dragLabel:"true",dragMax:"255"})),React.createElement("div",{style:i.single},React.createElement(ob,{style:{input:i.input,label:i.label},label:"b",value:t.b,onChange:a,dragLabel:"true",dragMax:"255"})),React.createElement("div",{style:i.alpha},React.createElement(ob,{style:{input:i.input,label:i.label},label:"a",value:Math.round(100*t.a),onChange:a,dragLabel:"true",dragMax:"100"})))};var ab=function(){return sy.Date.now()};var sb=function(e){return"symbol"==typeof e||yy(e)&&"[object Symbol]"==vy(e)},lb=/^\s+|\s+$/g,ub=/^[-+]0x[0-9a-f]+$/i,cb=/^0b[01]+$/i,db=/^0o[0-7]+$/i,pb=parseInt;var fb=function(e){if("number"==typeof e)return e;if(sb(e))return NaN;if(Gy(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Gy(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(lb,"");var n=cb.test(e);return n||db.test(e)?pb(e.slice(2),n?2:8):ub.test(e)?NaN:+e},hb=Math.max,mb=Math.min;var gb=function(e,t,n){var r,o,i,a,s,l,u=0,c=!1,d=!1,p=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function f(t){var n=r,i=o;return r=o=void 0,u=t,a=e.apply(i,n)}function h(e){return u=e,s=setTimeout(g,t),c?f(e):a}function m(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-u>=i}function g(){var e=ab();if(m(e))return v(e);s=setTimeout(g,function(e){var n=t-(e-l);return d?mb(n,i-(e-u)):n}(e))}function v(e){return s=void 0,p&&r?f(e):(r=o=void 0,a)}function y(){var e=ab(),n=m(e);if(r=arguments,o=this,l=e,n){if(void 0===s)return h(l);if(d)return s=setTimeout(g,t),f(l)}return void 0===s&&(s=setTimeout(g,t)),a}return t=fb(t)||0,Gy(n)&&(c=!!n.leading,i=(d="maxWait"in n)?hb(fb(n.maxWait)||0,t):i,p="trailing"in n?!!n.trailing:p),y.cancel=function(){void 0!==s&&clearTimeout(s),u=0,r=l=o=s=void 0},y.flush=function(){return void 0===s?a:v(ab())},y};var vb=function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return Gy(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),gb(e,t,{leading:r,maxWait:t,trailing:o})};class yb extends(React.PureComponent||React.Component){constructor(e){super(e),this.handleChange=e=>{"function"==typeof this.props.onChange&&this.throttle(this.props.onChange,((e,t,n)=>{const{width:r,height:o}=n.getBoundingClientRect(),i="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,a="number"==typeof e.pageY?e.pageY:e.touches[0].pageY;let s=i-(n.getBoundingClientRect().left+window.pageXOffset),l=a-(n.getBoundingClientRect().top+window.pageYOffset);s<0?s=0:s>r?s=r:l<0?l=0:l>o&&(l=o);const u=100*s/r,c=-100*l/o+100;return{h:t.h,s:u,v:c,a:t.a,source:"rgb"}})(e,this.props.hsl,this.container),e)},this.handleMouseDown=e=>{this.handleChange(e),window.addEventListener("mousemove",this.handleChange),window.addEventListener("mouseup",this.handleMouseUp)},this.handleMouseUp=()=>{this.unbindEventListeners()},this.throttle=vb(((e,t,n)=>{e(t,n)}),50)}componentWillUnmount(){this.throttle.cancel(),this.unbindEventListeners()}unbindEventListeners(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}render(){this.props.style;const e={color:{position:"absolute",top:0,left:0,right:0,bottom:0,background:`hsl(${this.props.hsl.h},100%, 50%)`,borderRadius:this.props.radius},white:{position:"absolute",top:0,right:0,left:0,bottom:0,borderRadius:this.props.radius},black:{position:"absolute",top:0,left:0,bottom:0,right:0,boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-100*this.props.hsv.v+100+"%",left:100*this.props.hsv.s+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:"0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),\n            0 0 1px 2px rgba(0,0,0,.4)",borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}};return React.createElement("div",{style:e.color,ref:e=>this.container=e,onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},React.createElement("style",null,"\n          .saturation-white {\n            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));\n            background: linear-gradient(to right, #fff, rgba(255,255,255,0));\n          }\n          .saturation-black {\n            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));\n            background: linear-gradient(to top, #000, rgba(0,0,0,0));\n          }\n        "),React.createElement("div",{style:e.white,className:"saturation-white"},React.createElement("div",{style:e.black,className:"saturation-black"}),React.createElement("div",{style:e.pointer},this.props.pointer?React.createElement(this.props.pointer,this.props):React.createElement("div",{style:e.circle}))))}}class bb extends(React.PureComponent||React.Component){constructor(...e){super(...e),this.handleChange=e=>{const t=((e,t,n,r)=>{const o=r.clientWidth,i=r.clientHeight,a="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,s="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,l=a-(r.getBoundingClientRect().left+window.pageXOffset),u=s-(r.getBoundingClientRect().top+window.pageYOffset);if("vertical"===t){let e;if(e=u<0?359:u>i?0:360*(-100*u/i+100)/100,n.h!==e)return{h:e,s:n.s,l:n.l,a:n.a,source:"rgb"}}else{let e;if(e=l<0?0:l>o?359:100*l/o*360/100,n.h!==e)return{h:e,s:n.s,l:n.l,a:n.a,source:"rgb"}}return null})(e,this.props.direction,this.props.hsl,this.container);t&&"function"==typeof this.props.onChange&&this.props.onChange(t,e)},this.handleMouseDown=e=>{this.handleChange(e),window.addEventListener("mousemove",this.handleChange),window.addEventListener("mouseup",this.handleMouseUp)},this.handleMouseUp=()=>{this.unbindEventListeners()}}componentWillUnmount(){this.unbindEventListeners()}unbindEventListeners(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}render(){const{direction:e="horizontal"}=this.props,t={hue:{position:"absolute",top:0,left:0,right:0,bottom:0,borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:100*this.props.hsl.h/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}};return React.createElement("div",{style:t.hue},React.createElement("div",{className:`hue-${e}`,style:t.container,ref:e=>this.container=e,onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},React.createElement("style",null,"\n            .hue-horizontal {\n              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0\n                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to right, #f00 0%, #ff0\n                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n\n            .hue-vertical {\n              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,\n                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,\n                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n          "),React.createElement("div",{style:t.pointer},this.props.pointer?React.createElement(this.props.pointer,this.props):React.createElement("div",{style:t.slider}))))}}const wb={},kb=(e,t,n,r)=>{const o=`${e}-${t}-${n}${r?"-server":""}`;if(wb[o])return wb[o];const i=((e,t,n,r)=>{if("undefined"==typeof document&&!r)return null;const o=r?new r:document.createElement("canvas");o.width=2*n,o.height=2*n;const i=o.getContext("2d");return i?(i.fillStyle=e,i.fillRect(0,0,o.width,o.height),i.fillStyle=t,i.fillRect(0,0,n,n),i.translate(n,n),i.fillRect(0,0,n,n),o.toDataURL()):null})(e,t,n,r);return wb[o]=i,i},Cb=({white:e,grey:t,size:n,renderers:r,borderRadius:o,boxShadow:i})=>{const a={grid:{borderRadius:o,boxShadow:i,position:"absolute",top:0,left:0,right:0,bottom:0,background:`url(${kb(e,t,n,r.canvas)}) center left`}};return React.createElement("div",{style:a.grid})};Cb.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};class xb extends(React.PureComponent||React.Component){constructor(...e){super(...e),this.handleChange=e=>{const t=((e,t,n,r,o)=>{const i=o.clientWidth,a=o.clientHeight,s="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,l="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,u=s-(o.getBoundingClientRect().left+window.pageXOffset),c=l-(o.getBoundingClientRect().top+window.pageYOffset);if("vertical"===n){let e;if(e=c<0?0:c>a?1:Math.round(100*c/a)/100,t.a!==e)return{h:t.h,s:t.s,l:t.l,a:e,source:"rgb"}}else{let e;if(e=u<0?0:u>i?1:Math.round(100*u/i)/100,r!==e)return{h:t.h,s:t.s,l:t.l,a:e,source:"rgb"}}return null})(e,this.props.hsl,this.props.direction,this.props.a,this.container);t&&"function"==typeof this.props.onChange&&this.props.onChange(t,e)},this.handleMouseDown=e=>{this.handleChange(e),window.addEventListener("mousemove",this.handleChange),window.addEventListener("mouseup",this.handleMouseUp)},this.handleMouseUp=()=>{this.unbindEventListeners()},this.unbindEventListeners=()=>{window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}}componentWillUnmount(){this.unbindEventListeners()}render(){const e=this.props.rgb,t={alpha:{position:"absolute",too:"0",left:"0",right:"0",bottom:"0",borderRadius:this.props.radius},checkboard:{position:"absolute",too:"0",left:"0",right:"0",bottom:"0",overflow:"hidden",borderRadius:this.props.radius},gradient:{position:"absolute",too:"0",left:"0",right:"0",bottom:"0",background:`linear-gradient(to right, rgba(${e.r},${e.g},${e.b}, 0) 0%,\n           rgba(${e.r},${e.g},${e.b}, 1) 100%)`,boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:100*e.a+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}};return React.createElement("div",{style:t.alpha},React.createElement("div",{style:t.checkboard},React.createElement(Cb,{renderers:this.props.renderers})),React.createElement("div",{style:t.gradient}),React.createElement("div",{style:t.container,ref:e=>this.container=e,onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},React.createElement("div",{style:t.pointer},this.props.pointer?React.createElement(this.props.pointer,this.props):React.createElement("div",{style:t.slider}))))}}function Eb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Eb(n,!0).forEach((function(t){babelHelpers.defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Eb(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const _b=({white:e,grey:t,size:n,renderers:r,borderRadius:o,boxShadow:i})=>{const a={grid:{borderRadius:o,boxShadow:i,position:"absolute",top:0,left:0,right:0,bottom:0,background:`url(${kb(e,t,n,r.canvas)}) center left`}};return React.createElement("div",{style:a.grid})};function Ob(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}_b.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};const Tb=({width:e,rgb:t,hex:n,hsv:r,hsl:o,onChange:i,onSwatchHover:a,disableAlpha:s,presetColors:l,renderers:u,styles:c={},className:d=""})=>{const p=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ob(n,!0).forEach((function(t){babelHelpers.defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ob(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({picker:{width:e,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{position:"absolute",top:0,left:0,right:0,bottom:0,borderRadius:"2px",background:`rgba(${t.r},${t.g},${t.b},${t.a})`,boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},c);return React.createElement("div",{style:p.picker,className:`sketch-picker ${d}`},React.createElement("div",{style:p.saturation},React.createElement(yb,{style:p.Saturation,hsl:o,hsv:r,onChange:i})),React.createElement("div",{style:p.controls,className:"flexbox-fix"},React.createElement("div",{style:p.sliders},React.createElement("div",{style:p.hue},React.createElement(bb,{style:p.Hue,hsl:o,onChange:i})),React.createElement("div",{style:p.alpha},React.createElement(xb,{style:p.Alpha,rgb:t,hsl:o,renderers:u,onChange:i}))),React.createElement("div",{style:p.color},React.createElement(_b,null),React.createElement("div",{style:p.activeColor}))),React.createElement(ib,{rgb:t,hsl:o,hex:n,onChange:i,disableAlpha:s}))};Tb.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};var Rb=(e=>{class t extends(React.PureComponent||React.Component){constructor(e){super(void 0),this.handleChange=(e,t)=>{if(tb(e)){const n=eb(e,e.h||this.state.oldHue);this.setState(n),this.props.onChangeComplete&&this.debounce(this.props.onChangeComplete,n,t),this.props.onChange&&this.props.onChange(n,t)}},this.handleSwatchHover=(e,t)=>{if(tb(e)){const n=eb(e,e.h||this.state.oldHue);this.props.onSwatchHover&&this.props.onSwatchHover(n,t)}},this.state=Sb({},eb(e.color,0)),this.debounce=gb(((e,t,n)=>{e(t,n)}),100)}componentWillReceiveProps(e){this.setState(Sb({},eb(e.color,this.state.oldHue)))}render(){const t={};return this.props.onSwatchHover&&(t.onSwatchHover=this.handleSwatchHover),React.createElement(e,babelHelpers.extends({},this.props,this.state,{onChange:this.handleChange},t))}}return t.defaultProps=Sb({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),t})(Tb);class Ab extends React.Component{constructor(e){super(e),this.state={}}render(){const e={color:{width:"18px",height:"14px",borderRadius:"2px",background:this.props.ColorToUse},swatch:{padding:"5px",background:"#fff",borderRadius:"1px",boxShadow:"0 0 0 1px rgba(0,0,0,.1)",display:"block",cursor:"pointer"},popover:{position:"absolute",zIndex:"10000000",top:this.props.Container?this.props.Container.getBoundingClientRect().top+window.scrollY+this.props.Container.getBoundingClientRect().height+1+"px":null,left:this.props.Container?this.props.Container.getBoundingClientRect().left+window.scrollX+"px":null,border:"1px #dfdfdf solid",borderRadius:10},cover:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}};return this.props.FixedPosition&&(e.popover.position="fixed",e.popover.top=this.props.Container?this.props.Container.getBoundingClientRect().top+this.props.Container.getBoundingClientRect().height+1+"px":null,e.popover.left=this.props.Container?this.props.Container.getBoundingClientRect().left+"px":null),this.props.Visible?ReactDOM.createPortal(React.createElement("div",{style:e.popover,className:"rnColorPopOver rednao"},React.createElement("div",{style:e.cover,onClick:e=>{this.setState({displayColorPicker:!1})}}),React.createElement("div",{onMouseDown:e=>e.stopPropagation()},React.createElement(Rb,{color:this.props.ColorToUse,onChange:e=>{this.lastColor=e.hex}}),React.createElement("div",{style:{backgroundColor:"white",borderBottomRightRadius:10,borderBottomLeftRadius:10,textAlign:"center",marginBottom:2,position:"relative",zIndex:10}},React.createElement("button",{className:"rnbtn rnbtn-primary",onMouseDown:e=>this.props.ColorChanged&&this.props.ColorChanged(this.lastColor)},"Select")))),document.body):null}}Ab.defaultProps={Container:null,Visible:!1,FixedPosition:!1};class Nb extends React.Component{constructor(e){super(e),this.state={displayColorPicker:!1,Top:0}}render(){let e=""!=this.props.Color?this.props.Color:"#000";return React.createElement("div",{style:{display:"inline-block",cursor:"pointer"}},React.createElement("div",{ref:e=>this.Container=e,style:{padding:"5px",background:"#fff",borderRadius:"1px",boxShadow:"0 0 0 1px rgba(0,0,0,.1)",display:"block",cursor:"pointer"},onMouseDown:e=>{e.preventDefault(),this.setState({displayColorPicker:!this.state.displayColorPicker&&!this.props.Disabled})}},React.createElement("div",{style:{width:"18px",height:"14px",borderRadius:"2px",background:e}}),React.createElement(Ab,{ColorToUse:e,Container:this.Container,ColorChanged:e=>this.ColorSelected(e),Visible:this.state.displayColorPicker})))}ColorSelected(e){""!=e&&(We.ExecuteMethodPropIfDefined(this.props.ColorChanged,e),e=""),this.setState({displayColorPicker:!1})}}Nb.defaultProps={Color:"",Disabled:!1};class Db extends React.Component{constructor(e){super(e),this.state={CurrentValue:this.props.FontSize.toString(),DropdownIsOpen:!1}}componentWillReceiveProps(e,t){this.state.CurrentValue!=e.FontSize&&this.setState({CurrentValue:e.FontSize})}render(){let e=cc`          
          position:relative;
        `;return React.createElement("div",{className:e,style:{marginLeft:5,cursor:"pointer"}},React.createElement("input",{ref:e=>this.Input=e,onBlur:e=>this.setState({DropdownIsOpen:!1}),onFocus:e=>this.setState({DropdownIsOpen:!0}),style:{width:90,height:25},type:"text",value:this.state.CurrentValue,onChange:e=>this.InputChanged(e),onKeyPress:e=>"Enter"==e.key&&this.ApplyChange(this.state.CurrentValue)}),this.state.DropdownIsOpen&&React.createElement("ul",{style:{backgroundColor:"white",width:"100%",margin:0,position:"absolute",height:120,overflowY:"scroll",padding:5,zIndex:10}},this.props.Sizes.map((e=>React.createElement("li",{onMouseDown:t=>this.ApplyChange(e.toString()),className:cc`
                              cursor:pointer;
                              margin:0;
                              padding:2px 12px;
                              &:hover{
                                  background-color: #189ad3;
                                  color:white;
                              }`,value:e,key:e},e)))))}InputChanged(e){""==e.target.value&&this.setState({CurrentValue:""});let t=parseInt(e.target.value);isNaN(t)||this.setState({CurrentValue:t.toString()})}ApplyChange(e){let t=parseInt(e);isNaN(t)||(this.setState({CurrentValue:t.toString(),DropdownIsOpen:!1}),We.ExecuteMethodPropIfDefined(this.props.SizeChanged,t),null!=this.Input&&this.Input.blur())}}Db.defaultProps={Sizes:[8,9,10,11,12,14,16,18,20,22,24,26,28,36,48,72]};var Pb=Ne((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="align-left",r=[],o="f036",i="M12.83 352h262.34A12.82 12.82 0 0 0 288 339.17v-38.34A12.82 12.82 0 0 0 275.17 288H12.83A12.82 12.82 0 0 0 0 300.83v38.34A12.82 12.82 0 0 0 12.83 352zm0-256h262.34A12.82 12.82 0 0 0 288 83.17V44.83A12.82 12.82 0 0 0 275.17 32H12.83A12.82 12.82 0 0 0 0 44.83v38.34A12.82 12.82 0 0 0 12.83 96zM432 160H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0 256H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z";t.definition={prefix:"fas",iconName:n,icon:[448,512,r,o,i]},t.faAlignLeft=t.definition,t.prefix="fas",t.iconName=n,t.width=448,t.height=512,t.ligatures=r,t.unicode=o,t.svgPathData=i})),Mb=Ne((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="align-right",r=[],o="f038",i="M16 224h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16zm416 192H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm3.17-384H172.83A12.82 12.82 0 0 0 160 44.83v38.34A12.82 12.82 0 0 0 172.83 96h262.34A12.82 12.82 0 0 0 448 83.17V44.83A12.82 12.82 0 0 0 435.17 32zm0 256H172.83A12.82 12.82 0 0 0 160 300.83v38.34A12.82 12.82 0 0 0 172.83 352h262.34A12.82 12.82 0 0 0 448 339.17v-38.34A12.82 12.82 0 0 0 435.17 288z";t.definition={prefix:"fas",iconName:n,icon:[448,512,r,o,i]},t.faAlignRight=t.definition,t.prefix="fas",t.iconName=n,t.width=448,t.height=512,t.ligatures=r,t.unicode=o,t.svgPathData=i})),Ib=Ne((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="align-center",r=[],o="f037",i="M432 160H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0 256H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM108.1 96h231.81A12.09 12.09 0 0 0 352 83.9V44.09A12.09 12.09 0 0 0 339.91 32H108.1A12.09 12.09 0 0 0 96 44.09V83.9A12.1 12.1 0 0 0 108.1 96zm231.81 256A12.09 12.09 0 0 0 352 339.9v-39.81A12.09 12.09 0 0 0 339.91 288H108.1A12.09 12.09 0 0 0 96 300.09v39.81a12.1 12.1 0 0 0 12.1 12.1z";t.definition={prefix:"fas",iconName:n,icon:[448,512,r,o,i]},t.faAlignCenter=t.definition,t.prefix="fas",t.iconName=n,t.width=448,t.height=512,t.ligatures=r,t.unicode=o,t.svgPathData=i})),Fb=function e(t){if(Lb(t))return t;if(Lb(t.ownerDocument))return t.ownerDocument;if(Lb(t.document))return t.document;if(t.parentNode)return e(t.parentNode);if(t.commonAncestorContainer)return e(t.commonAncestorContainer);if(t.startContainer)return e(t.startContainer);if(t.anchorNode)return e(t.anchorNode)};function Lb(e){return e&&9===e.nodeType}var Bb=!!document.attachEvent&&window!==document.parentWindow,jb=function(e){if(function(e){return e&&e.window===e}(e))return e;var t=Fb(e);if(Bb){t.parentWindow.execScript("document._parentWindow = window;","Javascript");var n=t._parentWindow;return t._parentWindow=null,n}return t.defaultView||t.parentWindow};var zb=Object.freeze({__proto__:null,default:function(e,t){if(!e)throw new Error("Invariant failed")}});function Vb(e){return!0==(null!=(t=e)&&"object"==typeof t&&!1===Array.isArray(t))&&"[object Object]"===Object.prototype.toString.call(e);var t}var Ub=Object.freeze({__proto__:null,default:function(e){var t,n;return!1!==Vb(e)&&("function"==typeof(t=e.constructor)&&(!1!==Vb(n=t.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf")))}}),Hb=Ne((function(e,t){e.exports=function(){var e=Array.prototype.slice;function t(e,t){t&&(e.prototype=Object.create(t.prototype)),e.prototype.constructor=e}function n(e){return a(e)?e:Y(e)}function r(e){return s(e)?e:K(e)}function o(e){return l(e)?e:$(e)}function i(e){return a(e)&&!u(e)?e:X(e)}function a(e){return!(!e||!e[d])}function s(e){return!(!e||!e[p])}function l(e){return!(!e||!e[f])}function u(e){return s(e)||l(e)}function c(e){return!(!e||!e[h])}t(r,n),t(o,n),t(i,n),n.isIterable=a,n.isKeyed=s,n.isIndexed=l,n.isAssociative=u,n.isOrdered=c,n.Keyed=r,n.Indexed=o,n.Set=i;var d="@@__IMMUTABLE_ITERABLE__@@",p="@@__IMMUTABLE_KEYED__@@",f="@@__IMMUTABLE_INDEXED__@@",h="@@__IMMUTABLE_ORDERED__@@",m="delete",g=5,v=1<<g,y=v-1,b={},w={value:!1},k={value:!1};function C(e){return e.value=!1,e}function x(e){e&&(e.value=!0)}function E(){}function S(e,t){t=t||0;for(var n=Math.max(0,e.length-t),r=new Array(n),o=0;o<n;o++)r[o]=e[o+t];return r}function _(e){return void 0===e.size&&(e.size=e.__iterate(T)),e.size}function O(e,t){if("number"!=typeof t){var n=t>>>0;if(""+n!==t||4294967295===n)return NaN;t=n}return t<0?_(e)+t:t}function T(){return!0}function R(e,t,n){return(0===e||void 0!==n&&e<=-n)&&(void 0===t||void 0!==n&&t>=n)}function A(e,t){return D(e,t,0)}function N(e,t){return D(e,t,t)}function D(e,t,n){return void 0===e?n:e<0?Math.max(0,t+e):void 0===t?e:Math.min(t,e)}var P=0,M=1,I=2,F="function"==typeof Symbol&&Symbol.iterator,L="@@iterator",B=F||L;function j(e){this.next=e}function z(e,t,n,r){var o=0===e?t:1===e?n:[t,n];return r?r.value=o:r={value:o,done:!1},r}function V(){return{value:void 0,done:!0}}function U(e){return!!W(e)}function H(e){return e&&"function"==typeof e.next}function G(e){var t=W(e);return t&&t.call(e)}function W(e){var t=e&&(F&&e[F]||e[L]);if("function"==typeof t)return t}function q(e){return e&&"number"==typeof e.length}function Y(e){return null==e?ae():a(e)?e.toSeq():ue(e)}function K(e){return null==e?ae().toKeyedSeq():a(e)?s(e)?e.toSeq():e.fromEntrySeq():se(e)}function $(e){return null==e?ae():a(e)?s(e)?e.entrySeq():e.toIndexedSeq():le(e)}function X(e){return(null==e?ae():a(e)?s(e)?e.entrySeq():e:le(e)).toSetSeq()}j.prototype.toString=function(){return"[Iterator]"},j.KEYS=P,j.VALUES=M,j.ENTRIES=I,j.prototype.inspect=j.prototype.toSource=function(){return this.toString()},j.prototype[B]=function(){return this},t(Y,n),Y.of=function(){return Y(arguments)},Y.prototype.toSeq=function(){return this},Y.prototype.toString=function(){return this.__toString("Seq {","}")},Y.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},Y.prototype.__iterate=function(e,t){return de(this,e,t,!0)},Y.prototype.__iterator=function(e,t){return pe(this,e,t,!0)},t(K,Y),K.prototype.toKeyedSeq=function(){return this},t($,Y),$.of=function(){return $(arguments)},$.prototype.toIndexedSeq=function(){return this},$.prototype.toString=function(){return this.__toString("Seq [","]")},$.prototype.__iterate=function(e,t){return de(this,e,t,!1)},$.prototype.__iterator=function(e,t){return pe(this,e,t,!1)},t(X,Y),X.of=function(){return X(arguments)},X.prototype.toSetSeq=function(){return this},Y.isSeq=ie,Y.Keyed=K,Y.Set=X,Y.Indexed=$;var J,Q,Z,ee="@@__IMMUTABLE_SEQ__@@";function te(e){this._array=e,this.size=e.length}function ne(e){var t=Object.keys(e);this._object=e,this._keys=t,this.size=t.length}function re(e){this._iterable=e,this.size=e.length||e.size}function oe(e){this._iterator=e,this._iteratorCache=[]}function ie(e){return!(!e||!e[ee])}function ae(){return J||(J=new te([]))}function se(e){var t=Array.isArray(e)?new te(e).fromEntrySeq():H(e)?new oe(e).fromEntrySeq():U(e)?new re(e).fromEntrySeq():"object"==typeof e?new ne(e):void 0;if(!t)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+e);return t}function le(e){var t=ce(e);if(!t)throw new TypeError("Expected Array or iterable object of values: "+e);return t}function ue(e){var t=ce(e)||"object"==typeof e&&new ne(e);if(!t)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+e);return t}function ce(e){return q(e)?new te(e):H(e)?new oe(e):U(e)?new re(e):void 0}function de(e,t,n,r){var o=e._cache;if(o){for(var i=o.length-1,a=0;a<=i;a++){var s=o[n?i-a:a];if(!1===t(s[1],r?s[0]:a,e))return a+1}return a}return e.__iterateUncached(t,n)}function pe(e,t,n,r){var o=e._cache;if(o){var i=o.length-1,a=0;return new j((function(){var e=o[n?i-a:a];return a++>i?V():z(t,r?e[0]:a-1,e[1])}))}return e.__iteratorUncached(t,n)}function fe(e,t){return t?he(t,e,"",{"":e}):me(e)}function he(e,t,n,r){return Array.isArray(t)?e.call(r,n,$(t).map((function(n,r){return he(e,n,r,t)}))):ge(t)?e.call(r,n,K(t).map((function(n,r){return he(e,n,r,t)}))):t}function me(e){return Array.isArray(e)?$(e).map(me).toList():ge(e)?K(e).map(me).toMap():e}function ge(e){return e&&(e.constructor===Object||void 0===e.constructor)}function ve(e,t){if(e===t||e!=e&&t!=t)return!0;if(!e||!t)return!1;if("function"==typeof e.valueOf&&"function"==typeof t.valueOf){if((e=e.valueOf())===(t=t.valueOf())||e!=e&&t!=t)return!0;if(!e||!t)return!1}return!("function"!=typeof e.equals||"function"!=typeof t.equals||!e.equals(t))}function ye(e,t){if(e===t)return!0;if(!a(t)||void 0!==e.size&&void 0!==t.size&&e.size!==t.size||void 0!==e.__hash&&void 0!==t.__hash&&e.__hash!==t.__hash||s(e)!==s(t)||l(e)!==l(t)||c(e)!==c(t))return!1;if(0===e.size&&0===t.size)return!0;var n=!u(e);if(c(e)){var r=e.entries();return t.every((function(e,t){var o=r.next().value;return o&&ve(o[1],e)&&(n||ve(o[0],t))}))&&r.next().done}var o=!1;if(void 0===e.size)if(void 0===t.size)"function"==typeof e.cacheResult&&e.cacheResult();else{o=!0;var i=e;e=t,t=i}var d=!0,p=t.__iterate((function(t,r){if(n?!e.has(t):o?!ve(t,e.get(r,b)):!ve(e.get(r,b),t))return d=!1,!1}));return d&&e.size===p}function be(e,t){if(!(this instanceof be))return new be(e,t);if(this._value=e,this.size=void 0===t?1/0:Math.max(0,t),0===this.size){if(Q)return Q;Q=this}}function we(e,t){if(!e)throw new Error(t)}function ke(e,t,n){if(!(this instanceof ke))return new ke(e,t,n);if(we(0!==n,"Cannot step a Range by 0"),e=e||0,void 0===t&&(t=1/0),n=void 0===n?1:Math.abs(n),t<e&&(n=-n),this._start=e,this._end=t,this._step=n,this.size=Math.max(0,Math.ceil((t-e)/n-1)+1),0===this.size){if(Z)return Z;Z=this}}function Ce(){throw TypeError("Abstract")}function xe(){}function Ee(){}function Se(){}Y.prototype[ee]=!0,t(te,$),te.prototype.get=function(e,t){return this.has(e)?this._array[O(this,e)]:t},te.prototype.__iterate=function(e,t){for(var n=this._array,r=n.length-1,o=0;o<=r;o++)if(!1===e(n[t?r-o:o],o,this))return o+1;return o},te.prototype.__iterator=function(e,t){var n=this._array,r=n.length-1,o=0;return new j((function(){return o>r?V():z(e,o,n[t?r-o++:o++])}))},t(ne,K),ne.prototype.get=function(e,t){return void 0===t||this.has(e)?this._object[e]:t},ne.prototype.has=function(e){return this._object.hasOwnProperty(e)},ne.prototype.__iterate=function(e,t){for(var n=this._object,r=this._keys,o=r.length-1,i=0;i<=o;i++){var a=r[t?o-i:i];if(!1===e(n[a],a,this))return i+1}return i},ne.prototype.__iterator=function(e,t){var n=this._object,r=this._keys,o=r.length-1,i=0;return new j((function(){var a=r[t?o-i:i];return i++>o?V():z(e,a,n[a])}))},ne.prototype[h]=!0,t(re,$),re.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var n=G(this._iterable),r=0;if(H(n))for(var o;!(o=n.next()).done&&!1!==e(o.value,r++,this););return r},re.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=G(this._iterable);if(!H(n))return new j(V);var r=0;return new j((function(){var t=n.next();return t.done?t:z(e,r++,t.value)}))},t(oe,$),oe.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);for(var n,r=this._iterator,o=this._iteratorCache,i=0;i<o.length;)if(!1===e(o[i],i++,this))return i;for(;!(n=r.next()).done;){var a=n.value;if(o[i]=a,!1===e(a,i++,this))break}return i},oe.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=this._iterator,r=this._iteratorCache,o=0;return new j((function(){if(o>=r.length){var t=n.next();if(t.done)return t;r[o]=t.value}return z(e,o,r[o++])}))},t(be,$),be.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},be.prototype.get=function(e,t){return this.has(e)?this._value:t},be.prototype.includes=function(e){return ve(this._value,e)},be.prototype.slice=function(e,t){var n=this.size;return R(e,t,n)?this:new be(this._value,N(t,n)-A(e,n))},be.prototype.reverse=function(){return this},be.prototype.indexOf=function(e){return ve(this._value,e)?0:-1},be.prototype.lastIndexOf=function(e){return ve(this._value,e)?this.size:-1},be.prototype.__iterate=function(e,t){for(var n=0;n<this.size;n++)if(!1===e(this._value,n,this))return n+1;return n},be.prototype.__iterator=function(e,t){var n=this,r=0;return new j((function(){return r<n.size?z(e,r++,n._value):V()}))},be.prototype.equals=function(e){return e instanceof be?ve(this._value,e._value):ye(e)},t(ke,$),ke.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},ke.prototype.get=function(e,t){return this.has(e)?this._start+O(this,e)*this._step:t},ke.prototype.includes=function(e){var t=(e-this._start)/this._step;return t>=0&&t<this.size&&t===Math.floor(t)},ke.prototype.slice=function(e,t){return R(e,t,this.size)?this:(e=A(e,this.size),(t=N(t,this.size))<=e?new ke(0,0):new ke(this.get(e,this._end),this.get(t,this._end),this._step))},ke.prototype.indexOf=function(e){var t=e-this._start;if(t%this._step==0){var n=t/this._step;if(n>=0&&n<this.size)return n}return-1},ke.prototype.lastIndexOf=function(e){return this.indexOf(e)},ke.prototype.__iterate=function(e,t){for(var n=this.size-1,r=this._step,o=t?this._start+n*r:this._start,i=0;i<=n;i++){if(!1===e(o,i,this))return i+1;o+=t?-r:r}return i},ke.prototype.__iterator=function(e,t){var n=this.size-1,r=this._step,o=t?this._start+n*r:this._start,i=0;return new j((function(){var a=o;return o+=t?-r:r,i>n?V():z(e,i++,a)}))},ke.prototype.equals=function(e){return e instanceof ke?this._start===e._start&&this._end===e._end&&this._step===e._step:ye(this,e)},t(Ce,n),t(xe,Ce),t(Ee,Ce),t(Se,Ce),Ce.Keyed=xe,Ce.Indexed=Ee,Ce.Set=Se;var _e="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(e,t){var n=65535&(e|=0),r=65535&(t|=0);return n*r+((e>>>16)*r+n*(t>>>16)<<16>>>0)|0};function Oe(e){return e>>>1&1073741824|3221225471&e}function Te(e){if(!1===e||null==e)return 0;if("function"==typeof e.valueOf&&(!1===(e=e.valueOf())||null==e))return 0;if(!0===e)return 1;var t=typeof e;if("number"===t){if(e!=e||e===1/0)return 0;var n=0|e;for(n!==e&&(n^=4294967295*e);e>4294967295;)n^=e/=4294967295;return Oe(n)}if("string"===t)return e.length>je?Re(e):Ae(e);if("function"==typeof e.hashCode)return e.hashCode();if("object"===t)return Ne(e);if("function"==typeof e.toString)return Ae(e.toString());throw new Error("Value type "+t+" cannot be hashed.")}function Re(e){var t=Ue[e];return void 0===t&&(t=Ae(e),Ve===ze&&(Ve=0,Ue={}),Ve++,Ue[e]=t),t}function Ae(e){for(var t=0,n=0;n<e.length;n++)t=31*t+e.charCodeAt(n)|0;return Oe(t)}function Ne(e){var t;if(Fe&&void 0!==(t=Ie.get(e)))return t;if(void 0!==(t=e[Be]))return t;if(!Pe){if(void 0!==(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[Be]))return t;if(void 0!==(t=Me(e)))return t}if(t=++Le,1073741824&Le&&(Le=0),Fe)Ie.set(e,t);else{if(void 0!==De&&!1===De(e))throw new Error("Non-extensible objects are not allowed as keys.");if(Pe)Object.defineProperty(e,Be,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(void 0!==e.propertyIsEnumerable&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[Be]=t;else{if(void 0===e.nodeType)throw new Error("Unable to set a non-enumerable property on object.");e[Be]=t}}return t}var De=Object.isExtensible,Pe=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}();function Me(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}var Ie,Fe="function"==typeof WeakMap;Fe&&(Ie=new WeakMap);var Le=0,Be="__immutablehash__";"function"==typeof Symbol&&(Be=Symbol(Be));var je=16,ze=255,Ve=0,Ue={};function He(e){we(e!==1/0,"Cannot perform this action with an infinite size.")}function Ge(e){return null==e?ot():We(e)&&!c(e)?e:ot().withMutations((function(t){var n=r(e);He(n.size),n.forEach((function(e,n){return t.set(n,e)}))}))}function We(e){return!(!e||!e[Ye])}t(Ge,xe),Ge.of=function(){var t=e.call(arguments,0);return ot().withMutations((function(e){for(var n=0;n<t.length;n+=2){if(n+1>=t.length)throw new Error("Missing value for key: "+t[n]);e.set(t[n],t[n+1])}}))},Ge.prototype.toString=function(){return this.__toString("Map {","}")},Ge.prototype.get=function(e,t){return this._root?this._root.get(0,void 0,e,t):t},Ge.prototype.set=function(e,t){return it(this,e,t)},Ge.prototype.setIn=function(e,t){return this.updateIn(e,b,(function(){return t}))},Ge.prototype.remove=function(e){return it(this,e,b)},Ge.prototype.deleteIn=function(e){return this.updateIn(e,(function(){return b}))},Ge.prototype.update=function(e,t,n){return 1===arguments.length?e(this):this.updateIn([e],t,n)},Ge.prototype.updateIn=function(e,t,n){n||(n=t,t=void 0);var r=gt(this,Cn(e),t,n);return r===b?void 0:r},Ge.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):ot()},Ge.prototype.merge=function(){return pt(this,void 0,arguments)},Ge.prototype.mergeWith=function(t){return pt(this,t,e.call(arguments,1))},Ge.prototype.mergeIn=function(t){var n=e.call(arguments,1);return this.updateIn(t,ot(),(function(e){return"function"==typeof e.merge?e.merge.apply(e,n):n[n.length-1]}))},Ge.prototype.mergeDeep=function(){return pt(this,ft,arguments)},Ge.prototype.mergeDeepWith=function(t){var n=e.call(arguments,1);return pt(this,ht(t),n)},Ge.prototype.mergeDeepIn=function(t){var n=e.call(arguments,1);return this.updateIn(t,ot(),(function(e){return"function"==typeof e.mergeDeep?e.mergeDeep.apply(e,n):n[n.length-1]}))},Ge.prototype.sort=function(e){return Ut(dn(this,e))},Ge.prototype.sortBy=function(e,t){return Ut(dn(this,t,e))},Ge.prototype.withMutations=function(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this},Ge.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new E)},Ge.prototype.asImmutable=function(){return this.__ensureOwner()},Ge.prototype.wasAltered=function(){return this.__altered},Ge.prototype.__iterator=function(e,t){return new et(this,e,t)},Ge.prototype.__iterate=function(e,t){var n=this,r=0;return this._root&&this._root.iterate((function(t){return r++,e(t[1],t[0],n)}),t),r},Ge.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?rt(this.size,this._root,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},Ge.isMap=We;var qe,Ye="@@__IMMUTABLE_MAP__@@",Ke=Ge.prototype;function $e(e,t){this.ownerID=e,this.entries=t}function Xe(e,t,n){this.ownerID=e,this.bitmap=t,this.nodes=n}function Je(e,t,n){this.ownerID=e,this.count=t,this.nodes=n}function Qe(e,t,n){this.ownerID=e,this.keyHash=t,this.entries=n}function Ze(e,t,n){this.ownerID=e,this.keyHash=t,this.entry=n}function et(e,t,n){this._type=t,this._reverse=n,this._stack=e._root&&nt(e._root)}function tt(e,t){return z(e,t[0],t[1])}function nt(e,t){return{node:e,index:0,__prev:t}}function rt(e,t,n,r){var o=Object.create(Ke);return o.size=e,o._root=t,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}function ot(){return qe||(qe=rt(0))}function it(e,t,n){var r,o;if(e._root){var i=C(w),a=C(k);if(r=at(e._root,e.__ownerID,0,void 0,t,n,i,a),!a.value)return e;o=e.size+(i.value?n===b?-1:1:0)}else{if(n===b)return e;o=1,r=new $e(e.__ownerID,[[t,n]])}return e.__ownerID?(e.size=o,e._root=r,e.__hash=void 0,e.__altered=!0,e):r?rt(o,r):ot()}function at(e,t,n,r,o,i,a,s){return e?e.update(t,n,r,o,i,a,s):i===b?e:(x(s),x(a),new Ze(t,r,[o,i]))}function st(e){return e.constructor===Ze||e.constructor===Qe}function lt(e,t,n,r,o){if(e.keyHash===r)return new Qe(t,r,[e.entry,o]);var i,a=(0===n?e.keyHash:e.keyHash>>>n)&y,s=(0===n?r:r>>>n)&y;return new Xe(t,1<<a|1<<s,a===s?[lt(e,t,n+g,r,o)]:(i=new Ze(t,r,o),a<s?[e,i]:[i,e]))}function ut(e,t,n,r){e||(e=new E);for(var o=new Ze(e,Te(n),[n,r]),i=0;i<t.length;i++){var a=t[i];o=o.update(e,0,void 0,a[0],a[1])}return o}function ct(e,t,n,r){for(var o=0,i=0,a=new Array(n),s=0,l=1,u=t.length;s<u;s++,l<<=1){var c=t[s];void 0!==c&&s!==r&&(o|=l,a[i++]=c)}return new Xe(e,o,a)}function dt(e,t,n,r,o){for(var i=0,a=new Array(v),s=0;0!==n;s++,n>>>=1)a[s]=1&n?t[i++]:void 0;return a[r]=o,new Je(e,i+1,a)}function pt(e,t,n){for(var o=[],i=0;i<n.length;i++){var s=n[i],l=r(s);a(s)||(l=l.map((function(e){return fe(e)}))),o.push(l)}return mt(e,t,o)}function ft(e,t,n){return e&&e.mergeDeep&&a(t)?e.mergeDeep(t):ve(e,t)?e:t}function ht(e){return function(t,n,r){if(t&&t.mergeDeepWith&&a(n))return t.mergeDeepWith(e,n);var o=e(t,n,r);return ve(t,o)?t:o}}function mt(e,t,n){return 0===(n=n.filter((function(e){return 0!==e.size}))).length?e:0!==e.size||e.__ownerID||1!==n.length?e.withMutations((function(e){for(var r=t?function(n,r){e.update(r,b,(function(e){return e===b?n:t(e,n,r)}))}:function(t,n){e.set(n,t)},o=0;o<n.length;o++)n[o].forEach(r)})):e.constructor(n[0])}function gt(e,t,n,r){var o=e===b,i=t.next();if(i.done){var a=o?n:e,s=r(a);return s===a?e:s}we(o||e&&e.set,"invalid keyPath");var l=i.value,u=o?b:e.get(l,b),c=gt(u,t,n,r);return c===u?e:c===b?e.remove(l):(o?ot():e).set(l,c)}function vt(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,e+=e>>8,127&(e+=e>>16)}function yt(e,t,n,r){var o=r?e:S(e);return o[t]=n,o}function bt(e,t,n,r){var o=e.length+1;if(r&&t+1===o)return e[t]=n,e;for(var i=new Array(o),a=0,s=0;s<o;s++)s===t?(i[s]=n,a=-1):i[s]=e[s+a];return i}function wt(e,t,n){var r=e.length-1;if(n&&t===r)return e.pop(),e;for(var o=new Array(r),i=0,a=0;a<r;a++)a===t&&(i=1),o[a]=e[a+i];return o}Ke[Ye]=!0,Ke[m]=Ke.remove,Ke.removeIn=Ke.deleteIn,$e.prototype.get=function(e,t,n,r){for(var o=this.entries,i=0,a=o.length;i<a;i++)if(ve(n,o[i][0]))return o[i][1];return r},$e.prototype.update=function(e,t,n,r,o,i,a){for(var s=o===b,l=this.entries,u=0,c=l.length;u<c&&!ve(r,l[u][0]);u++);var d=u<c;if(d?l[u][1]===o:s)return this;if(x(a),(s||!d)&&x(i),!s||1!==l.length){if(!d&&!s&&l.length>=kt)return ut(e,l,r,o);var p=e&&e===this.ownerID,f=p?l:S(l);return d?s?u===c-1?f.pop():f[u]=f.pop():f[u]=[r,o]:f.push([r,o]),p?(this.entries=f,this):new $e(e,f)}},Xe.prototype.get=function(e,t,n,r){void 0===t&&(t=Te(n));var o=1<<((0===e?t:t>>>e)&y),i=this.bitmap;return 0==(i&o)?r:this.nodes[vt(i&o-1)].get(e+g,t,n,r)},Xe.prototype.update=function(e,t,n,r,o,i,a){void 0===n&&(n=Te(r));var s=(0===t?n:n>>>t)&y,l=1<<s,u=this.bitmap,c=0!=(u&l);if(!c&&o===b)return this;var d=vt(u&l-1),p=this.nodes,f=c?p[d]:void 0,h=at(f,e,t+g,n,r,o,i,a);if(h===f)return this;if(!c&&h&&p.length>=Ct)return dt(e,p,u,s,h);if(c&&!h&&2===p.length&&st(p[1^d]))return p[1^d];if(c&&h&&1===p.length&&st(h))return h;var m=e&&e===this.ownerID,v=c?h?u:u^l:u|l,w=c?h?yt(p,d,h,m):wt(p,d,m):bt(p,d,h,m);return m?(this.bitmap=v,this.nodes=w,this):new Xe(e,v,w)},Je.prototype.get=function(e,t,n,r){void 0===t&&(t=Te(n));var o=(0===e?t:t>>>e)&y,i=this.nodes[o];return i?i.get(e+g,t,n,r):r},Je.prototype.update=function(e,t,n,r,o,i,a){void 0===n&&(n=Te(r));var s=(0===t?n:n>>>t)&y,l=o===b,u=this.nodes,c=u[s];if(l&&!c)return this;var d=at(c,e,t+g,n,r,o,i,a);if(d===c)return this;var p=this.count;if(c){if(!d&&--p<xt)return ct(e,u,p,s)}else p++;var f=e&&e===this.ownerID,h=yt(u,s,d,f);return f?(this.count=p,this.nodes=h,this):new Je(e,p,h)},Qe.prototype.get=function(e,t,n,r){for(var o=this.entries,i=0,a=o.length;i<a;i++)if(ve(n,o[i][0]))return o[i][1];return r},Qe.prototype.update=function(e,t,n,r,o,i,a){void 0===n&&(n=Te(r));var s=o===b;if(n!==this.keyHash)return s?this:(x(a),x(i),lt(this,e,t,n,[r,o]));for(var l=this.entries,u=0,c=l.length;u<c&&!ve(r,l[u][0]);u++);var d=u<c;if(d?l[u][1]===o:s)return this;if(x(a),(s||!d)&&x(i),s&&2===c)return new Ze(e,this.keyHash,l[1^u]);var p=e&&e===this.ownerID,f=p?l:S(l);return d?s?u===c-1?f.pop():f[u]=f.pop():f[u]=[r,o]:f.push([r,o]),p?(this.entries=f,this):new Qe(e,this.keyHash,f)},Ze.prototype.get=function(e,t,n,r){return ve(n,this.entry[0])?this.entry[1]:r},Ze.prototype.update=function(e,t,n,r,o,i,a){var s=o===b,l=ve(r,this.entry[0]);return(l?o===this.entry[1]:s)?this:(x(a),s?void x(i):l?e&&e===this.ownerID?(this.entry[1]=o,this):new Ze(e,this.keyHash,[r,o]):(x(i),lt(this,e,t,Te(r),[r,o])))},$e.prototype.iterate=Qe.prototype.iterate=function(e,t){for(var n=this.entries,r=0,o=n.length-1;r<=o;r++)if(!1===e(n[t?o-r:r]))return!1},Xe.prototype.iterate=Je.prototype.iterate=function(e,t){for(var n=this.nodes,r=0,o=n.length-1;r<=o;r++){var i=n[t?o-r:r];if(i&&!1===i.iterate(e,t))return!1}},Ze.prototype.iterate=function(e,t){return e(this.entry)},t(et,j),et.prototype.next=function(){for(var e=this._type,t=this._stack;t;){var n,r=t.node,o=t.index++;if(r.entry){if(0===o)return tt(e,r.entry)}else if(r.entries){if(o<=(n=r.entries.length-1))return tt(e,r.entries[this._reverse?n-o:o])}else if(o<=(n=r.nodes.length-1)){var i=r.nodes[this._reverse?n-o:o];if(i){if(i.entry)return tt(e,i.entry);t=this._stack=nt(i,t)}continue}t=this._stack=this._stack.__prev}return V()};var kt=v/4,Ct=v/2,xt=v/4;function Et(e){var t=Mt();if(null==e)return t;if(St(e))return e;var n=o(e),r=n.size;return 0===r?t:(He(r),r>0&&r<v?Pt(0,r,g,null,new Tt(n.toArray())):t.withMutations((function(e){e.setSize(r),n.forEach((function(t,n){return e.set(n,t)}))})))}function St(e){return!(!e||!e[_t])}t(Et,Ee),Et.of=function(){return this(arguments)},Et.prototype.toString=function(){return this.__toString("List [","]")},Et.prototype.get=function(e,t){if((e=O(this,e))>=0&&e<this.size){var n=Bt(this,e+=this._origin);return n&&n.array[e&y]}return t},Et.prototype.set=function(e,t){return It(this,e,t)},Et.prototype.remove=function(e){return this.has(e)?0===e?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},Et.prototype.insert=function(e,t){return this.splice(e,0,t)},Et.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=g,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):Mt()},Et.prototype.push=function(){var e=arguments,t=this.size;return this.withMutations((function(n){jt(n,0,t+e.length);for(var r=0;r<e.length;r++)n.set(t+r,e[r])}))},Et.prototype.pop=function(){return jt(this,0,-1)},Et.prototype.unshift=function(){var e=arguments;return this.withMutations((function(t){jt(t,-e.length);for(var n=0;n<e.length;n++)t.set(n,e[n])}))},Et.prototype.shift=function(){return jt(this,1)},Et.prototype.merge=function(){return zt(this,void 0,arguments)},Et.prototype.mergeWith=function(t){return zt(this,t,e.call(arguments,1))},Et.prototype.mergeDeep=function(){return zt(this,ft,arguments)},Et.prototype.mergeDeepWith=function(t){var n=e.call(arguments,1);return zt(this,ht(t),n)},Et.prototype.setSize=function(e){return jt(this,0,e)},Et.prototype.slice=function(e,t){var n=this.size;return R(e,t,n)?this:jt(this,A(e,n),N(t,n))},Et.prototype.__iterator=function(e,t){var n=0,r=Dt(this,t);return new j((function(){var t=r();return t===Nt?V():z(e,n++,t)}))},Et.prototype.__iterate=function(e,t){for(var n,r=0,o=Dt(this,t);(n=o())!==Nt&&!1!==e(n,r++,this););return r},Et.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Pt(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):(this.__ownerID=e,this)},Et.isList=St;var _t="@@__IMMUTABLE_LIST__@@",Ot=Et.prototype;function Tt(e,t){this.array=e,this.ownerID=t}Ot[_t]=!0,Ot[m]=Ot.remove,Ot.setIn=Ke.setIn,Ot.deleteIn=Ot.removeIn=Ke.removeIn,Ot.update=Ke.update,Ot.updateIn=Ke.updateIn,Ot.mergeIn=Ke.mergeIn,Ot.mergeDeepIn=Ke.mergeDeepIn,Ot.withMutations=Ke.withMutations,Ot.asMutable=Ke.asMutable,Ot.asImmutable=Ke.asImmutable,Ot.wasAltered=Ke.wasAltered,Tt.prototype.removeBefore=function(e,t,n){if(n===t?1<<t:0===this.array.length)return this;var r=n>>>t&y;if(r>=this.array.length)return new Tt([],e);var o,i=0===r;if(t>0){var a=this.array[r];if((o=a&&a.removeBefore(e,t-g,n))===a&&i)return this}if(i&&!o)return this;var s=Lt(this,e);if(!i)for(var l=0;l<r;l++)s.array[l]=void 0;return o&&(s.array[r]=o),s},Tt.prototype.removeAfter=function(e,t,n){if(n===(t?1<<t:0)||0===this.array.length)return this;var r,o=n-1>>>t&y;if(o>=this.array.length)return this;if(t>0){var i=this.array[o];if((r=i&&i.removeAfter(e,t-g,n))===i&&o===this.array.length-1)return this}var a=Lt(this,e);return a.array.splice(o+1),r&&(a.array[o]=r),a};var Rt,At,Nt={};function Dt(e,t){var n=e._origin,r=e._capacity,o=Vt(r),i=e._tail;return a(e._root,e._level,0);function a(e,t,n){return 0===t?s(e,n):l(e,t,n)}function s(e,a){var s=a===o?i&&i.array:e&&e.array,l=a>n?0:n-a,u=r-a;return u>v&&(u=v),function(){if(l===u)return Nt;var e=t?--u:l++;return s&&s[e]}}function l(e,o,i){var s,l=e&&e.array,u=i>n?0:n-i>>o,c=1+(r-i>>o);return c>v&&(c=v),function(){for(;;){if(s){var e=s();if(e!==Nt)return e;s=null}if(u===c)return Nt;var n=t?--c:u++;s=a(l&&l[n],o-g,i+(n<<o))}}}}function Pt(e,t,n,r,o,i,a){var s=Object.create(Ot);return s.size=t-e,s._origin=e,s._capacity=t,s._level=n,s._root=r,s._tail=o,s.__ownerID=i,s.__hash=a,s.__altered=!1,s}function Mt(){return Rt||(Rt=Pt(0,0,g))}function It(e,t,n){if((t=O(e,t))!=t)return e;if(t>=e.size||t<0)return e.withMutations((function(e){t<0?jt(e,t).set(0,n):jt(e,0,t+1).set(t,n)}));t+=e._origin;var r=e._tail,o=e._root,i=C(k);return t>=Vt(e._capacity)?r=Ft(r,e.__ownerID,0,t,n,i):o=Ft(o,e.__ownerID,e._level,t,n,i),i.value?e.__ownerID?(e._root=o,e._tail=r,e.__hash=void 0,e.__altered=!0,e):Pt(e._origin,e._capacity,e._level,o,r):e}function Ft(e,t,n,r,o,i){var a,s=r>>>n&y,l=e&&s<e.array.length;if(!l&&void 0===o)return e;if(n>0){var u=e&&e.array[s],c=Ft(u,t,n-g,r,o,i);return c===u?e:((a=Lt(e,t)).array[s]=c,a)}return l&&e.array[s]===o?e:(x(i),a=Lt(e,t),void 0===o&&s===a.array.length-1?a.array.pop():a.array[s]=o,a)}function Lt(e,t){return t&&e&&t===e.ownerID?e:new Tt(e?e.array.slice():[],t)}function Bt(e,t){if(t>=Vt(e._capacity))return e._tail;if(t<1<<e._level+g){for(var n=e._root,r=e._level;n&&r>0;)n=n.array[t>>>r&y],r-=g;return n}}function jt(e,t,n){void 0!==t&&(t|=0),void 0!==n&&(n|=0);var r=e.__ownerID||new E,o=e._origin,i=e._capacity,a=o+t,s=void 0===n?i:n<0?i+n:o+n;if(a===o&&s===i)return e;if(a>=s)return e.clear();for(var l=e._level,u=e._root,c=0;a+c<0;)u=new Tt(u&&u.array.length?[void 0,u]:[],r),c+=1<<(l+=g);c&&(a+=c,o+=c,s+=c,i+=c);for(var d=Vt(i),p=Vt(s);p>=1<<l+g;)u=new Tt(u&&u.array.length?[u]:[],r),l+=g;var f=e._tail,h=p<d?Bt(e,s-1):p>d?new Tt([],r):f;if(f&&p>d&&a<i&&f.array.length){for(var m=u=Lt(u,r),v=l;v>g;v-=g){var b=d>>>v&y;m=m.array[b]=Lt(m.array[b],r)}m.array[d>>>g&y]=f}if(s<i&&(h=h&&h.removeAfter(r,0,s)),a>=p)a-=p,s-=p,l=g,u=null,h=h&&h.removeBefore(r,0,a);else if(a>o||p<d){for(c=0;u;){var w=a>>>l&y;if(w!==p>>>l&y)break;w&&(c+=(1<<l)*w),l-=g,u=u.array[w]}u&&a>o&&(u=u.removeBefore(r,l,a-c)),u&&p<d&&(u=u.removeAfter(r,l,p-c)),c&&(a-=c,s-=c)}return e.__ownerID?(e.size=s-a,e._origin=a,e._capacity=s,e._level=l,e._root=u,e._tail=h,e.__hash=void 0,e.__altered=!0,e):Pt(a,s,l,u,h)}function zt(e,t,n){for(var r=[],i=0,s=0;s<n.length;s++){var l=n[s],u=o(l);u.size>i&&(i=u.size),a(l)||(u=u.map((function(e){return fe(e)}))),r.push(u)}return i>e.size&&(e=e.setSize(i)),mt(e,t,r)}function Vt(e){return e<v?0:e-1>>>g<<g}function Ut(e){return null==e?Wt():Ht(e)?e:Wt().withMutations((function(t){var n=r(e);He(n.size),n.forEach((function(e,n){return t.set(n,e)}))}))}function Ht(e){return We(e)&&c(e)}function Gt(e,t,n,r){var o=Object.create(Ut.prototype);return o.size=e?e.size:0,o._map=e,o._list=t,o.__ownerID=n,o.__hash=r,o}function Wt(){return At||(At=Gt(ot(),Mt()))}function qt(e,t,n){var r,o,i=e._map,a=e._list,s=i.get(t),l=void 0!==s;if(n===b){if(!l)return e;a.size>=v&&a.size>=2*i.size?(r=(o=a.filter((function(e,t){return void 0!==e&&s!==t}))).toKeyedSeq().map((function(e){return e[0]})).flip().toMap(),e.__ownerID&&(r.__ownerID=o.__ownerID=e.__ownerID)):(r=i.remove(t),o=s===a.size-1?a.pop():a.set(s,void 0))}else if(l){if(n===a.get(s)[1])return e;r=i,o=a.set(s,[t,n])}else r=i.set(t,a.size),o=a.set(a.size,[t,n]);return e.__ownerID?(e.size=r.size,e._map=r,e._list=o,e.__hash=void 0,e):Gt(r,o)}function Yt(e,t){this._iter=e,this._useKeys=t,this.size=e.size}function Kt(e){this._iter=e,this.size=e.size}function $t(e){this._iter=e,this.size=e.size}function Xt(e){this._iter=e,this.size=e.size}function Jt(e){var t=bn(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var t=e.reverse.apply(this);return t.flip=function(){return e.reverse()},t},t.has=function(t){return e.includes(t)},t.includes=function(t){return e.has(t)},t.cacheResult=wn,t.__iterateUncached=function(t,n){var r=this;return e.__iterate((function(e,n){return!1!==t(n,e,r)}),n)},t.__iteratorUncached=function(t,n){if(t===I){var r=e.__iterator(t,n);return new j((function(){var e=r.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1],e.value[1]=t}return e}))}return e.__iterator(t===M?P:M,n)},t}function Qt(e,t,n){var r=bn(e);return r.size=e.size,r.has=function(t){return e.has(t)},r.get=function(r,o){var i=e.get(r,b);return i===b?o:t.call(n,i,r,e)},r.__iterateUncached=function(r,o){var i=this;return e.__iterate((function(e,o,a){return!1!==r(t.call(n,e,o,a),o,i)}),o)},r.__iteratorUncached=function(r,o){var i=e.__iterator(I,o);return new j((function(){var o=i.next();if(o.done)return o;var a=o.value,s=a[0];return z(r,s,t.call(n,a[1],s,e),o)}))},r}function Zt(e,t){var n=bn(e);return n._iter=e,n.size=e.size,n.reverse=function(){return e},e.flip&&(n.flip=function(){var t=Jt(e);return t.reverse=function(){return e.flip()},t}),n.get=function(n,r){return e.get(t?n:-1-n,r)},n.has=function(n){return e.has(t?n:-1-n)},n.includes=function(t){return e.includes(t)},n.cacheResult=wn,n.__iterate=function(t,n){var r=this;return e.__iterate((function(e,n){return t(e,n,r)}),!n)},n.__iterator=function(t,n){return e.__iterator(t,!n)},n}function en(e,t,n,r){var o=bn(e);return r&&(o.has=function(r){var o=e.get(r,b);return o!==b&&!!t.call(n,o,r,e)},o.get=function(r,o){var i=e.get(r,b);return i!==b&&t.call(n,i,r,e)?i:o}),o.__iterateUncached=function(o,i){var a=this,s=0;return e.__iterate((function(e,i,l){if(t.call(n,e,i,l))return s++,o(e,r?i:s-1,a)}),i),s},o.__iteratorUncached=function(o,i){var a=e.__iterator(I,i),s=0;return new j((function(){for(;;){var i=a.next();if(i.done)return i;var l=i.value,u=l[0],c=l[1];if(t.call(n,c,u,e))return z(o,r?u:s++,c,i)}}))},o}function tn(e,t,n){var r=Ge().asMutable();return e.__iterate((function(o,i){r.update(t.call(n,o,i,e),0,(function(e){return e+1}))})),r.asImmutable()}function nn(e,t,n){var r=s(e),o=(c(e)?Ut():Ge()).asMutable();e.__iterate((function(i,a){o.update(t.call(n,i,a,e),(function(e){return(e=e||[]).push(r?[a,i]:i),e}))}));var i=yn(e);return o.map((function(t){return mn(e,i(t))}))}function rn(e,t,n,r){var o=e.size;if(void 0!==t&&(t|=0),void 0!==n&&(n===1/0?n=o:n|=0),R(t,n,o))return e;var i=A(t,o),a=N(n,o);if(i!=i||a!=a)return rn(e.toSeq().cacheResult(),t,n,r);var s,l=a-i;l==l&&(s=l<0?0:l);var u=bn(e);return u.size=0===s?s:e.size&&s||void 0,!r&&ie(e)&&s>=0&&(u.get=function(t,n){return(t=O(this,t))>=0&&t<s?e.get(t+i,n):n}),u.__iterateUncached=function(t,n){var o=this;if(0===s)return 0;if(n)return this.cacheResult().__iterate(t,n);var a=0,l=!0,u=0;return e.__iterate((function(e,n){if(!l||!(l=a++<i))return u++,!1!==t(e,r?n:u-1,o)&&u!==s})),u},u.__iteratorUncached=function(t,n){if(0!==s&&n)return this.cacheResult().__iterator(t,n);var o=0!==s&&e.__iterator(t,n),a=0,l=0;return new j((function(){for(;a++<i;)o.next();if(++l>s)return V();var e=o.next();return r||t===M?e:z(t,l-1,t===P?void 0:e.value[1],e)}))},u}function on(e,t,n){var r=bn(e);return r.__iterateUncached=function(r,o){var i=this;if(o)return this.cacheResult().__iterate(r,o);var a=0;return e.__iterate((function(e,o,s){return t.call(n,e,o,s)&&++a&&r(e,o,i)})),a},r.__iteratorUncached=function(r,o){var i=this;if(o)return this.cacheResult().__iterator(r,o);var a=e.__iterator(I,o),s=!0;return new j((function(){if(!s)return V();var e=a.next();if(e.done)return e;var o=e.value,l=o[0],u=o[1];return t.call(n,u,l,i)?r===I?e:z(r,l,u,e):(s=!1,V())}))},r}function an(e,t,n,r){var o=bn(e);return o.__iterateUncached=function(o,i){var a=this;if(i)return this.cacheResult().__iterate(o,i);var s=!0,l=0;return e.__iterate((function(e,i,u){if(!s||!(s=t.call(n,e,i,u)))return l++,o(e,r?i:l-1,a)})),l},o.__iteratorUncached=function(o,i){var a=this;if(i)return this.cacheResult().__iterator(o,i);var s=e.__iterator(I,i),l=!0,u=0;return new j((function(){var e,i,c;do{if((e=s.next()).done)return r||o===M?e:z(o,u++,o===P?void 0:e.value[1],e);var d=e.value;i=d[0],c=d[1],l&&(l=t.call(n,c,i,a))}while(l);return o===I?e:z(o,i,c,e)}))},o}function sn(e,t){var n=s(e),o=[e].concat(t).map((function(e){return a(e)?n&&(e=r(e)):e=n?se(e):le(Array.isArray(e)?e:[e]),e})).filter((function(e){return 0!==e.size}));if(0===o.length)return e;if(1===o.length){var i=o[0];if(i===e||n&&s(i)||l(e)&&l(i))return i}var u=new te(o);return n?u=u.toKeyedSeq():l(e)||(u=u.toSetSeq()),(u=u.flatten(!0)).size=o.reduce((function(e,t){if(void 0!==e){var n=t.size;if(void 0!==n)return e+n}}),0),u}function ln(e,t,n){var r=bn(e);return r.__iterateUncached=function(r,o){var i=0,s=!1;function l(e,u){var c=this;e.__iterate((function(e,o){return(!t||u<t)&&a(e)?l(e,u+1):!1===r(e,n?o:i++,c)&&(s=!0),!s}),o)}return l(e,0),i},r.__iteratorUncached=function(r,o){var i=e.__iterator(r,o),s=[],l=0;return new j((function(){for(;i;){var e=i.next();if(!1===e.done){var u=e.value;if(r===I&&(u=u[1]),t&&!(s.length<t)||!a(u))return n?e:z(r,l++,u,e);s.push(i),i=u.__iterator(r,o)}else i=s.pop()}return V()}))},r}function un(e,t,n){var r=yn(e);return e.toSeq().map((function(o,i){return r(t.call(n,o,i,e))})).flatten(!0)}function cn(e,t){var n=bn(e);return n.size=e.size&&2*e.size-1,n.__iterateUncached=function(n,r){var o=this,i=0;return e.__iterate((function(e,r){return(!i||!1!==n(t,i++,o))&&!1!==n(e,i++,o)}),r),i},n.__iteratorUncached=function(n,r){var o,i=e.__iterator(M,r),a=0;return new j((function(){return(!o||a%2)&&(o=i.next()).done?o:a%2?z(n,a++,t):z(n,a++,o.value,o)}))},n}function dn(e,t,n){t||(t=kn);var r=s(e),o=0,i=e.toSeq().map((function(t,r){return[r,t,o++,n?n(t,r,e):t]})).toArray();return i.sort((function(e,n){return t(e[3],n[3])||e[2]-n[2]})).forEach(r?function(e,t){i[t].length=2}:function(e,t){i[t]=e[1]}),r?K(i):l(e)?$(i):X(i)}function pn(e,t,n){if(t||(t=kn),n){var r=e.toSeq().map((function(t,r){return[t,n(t,r,e)]})).reduce((function(e,n){return fn(t,e[1],n[1])?n:e}));return r&&r[0]}return e.reduce((function(e,n){return fn(t,e,n)?n:e}))}function fn(e,t,n){var r=e(n,t);return 0===r&&n!==t&&(null==n||n!=n)||r>0}function hn(e,t,r){var o=bn(e);return o.size=new te(r).map((function(e){return e.size})).min(),o.__iterate=function(e,t){for(var n,r=this.__iterator(M,t),o=0;!(n=r.next()).done&&!1!==e(n.value,o++,this););return o},o.__iteratorUncached=function(e,o){var i=r.map((function(e){return e=n(e),G(o?e.reverse():e)})),a=0,s=!1;return new j((function(){var n;return s||(n=i.map((function(e){return e.next()})),s=n.some((function(e){return e.done}))),s?V():z(e,a++,t.apply(null,n.map((function(e){return e.value}))))}))},o}function mn(e,t){return ie(e)?t:e.constructor(t)}function gn(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function vn(e){return He(e.size),_(e)}function yn(e){return s(e)?r:l(e)?o:i}function bn(e){return Object.create((s(e)?K:l(e)?$:X).prototype)}function wn(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):Y.prototype.cacheResult.call(this)}function kn(e,t){return e>t?1:e<t?-1:0}function Cn(e){var t=G(e);if(!t){if(!q(e))throw new TypeError("Expected iterable or array-like: "+e);t=G(n(e))}return t}function xn(e,t){var n,r=function(i){if(i instanceof r)return i;if(!(this instanceof r))return new r(i);if(!n){n=!0;var a=Object.keys(e);On(o,a),o.size=a.length,o._name=t,o._keys=a,o._defaultValues=e}this._map=Ge(i)},o=r.prototype=Object.create(En);return o.constructor=r,r}t(Ut,Ge),Ut.of=function(){return this(arguments)},Ut.prototype.toString=function(){return this.__toString("OrderedMap {","}")},Ut.prototype.get=function(e,t){var n=this._map.get(e);return void 0!==n?this._list.get(n)[1]:t},Ut.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):Wt()},Ut.prototype.set=function(e,t){return qt(this,e,t)},Ut.prototype.remove=function(e){return qt(this,e,b)},Ut.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},Ut.prototype.__iterate=function(e,t){var n=this;return this._list.__iterate((function(t){return t&&e(t[1],t[0],n)}),t)},Ut.prototype.__iterator=function(e,t){return this._list.fromEntrySeq().__iterator(e,t)},Ut.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e),n=this._list.__ensureOwner(e);return e?Gt(t,n,e,this.__hash):(this.__ownerID=e,this._map=t,this._list=n,this)},Ut.isOrderedMap=Ht,Ut.prototype[h]=!0,Ut.prototype[m]=Ut.prototype.remove,t(Yt,K),Yt.prototype.get=function(e,t){return this._iter.get(e,t)},Yt.prototype.has=function(e){return this._iter.has(e)},Yt.prototype.valueSeq=function(){return this._iter.valueSeq()},Yt.prototype.reverse=function(){var e=this,t=Zt(this,!0);return this._useKeys||(t.valueSeq=function(){return e._iter.toSeq().reverse()}),t},Yt.prototype.map=function(e,t){var n=this,r=Qt(this,e,t);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(e,t)}),r},Yt.prototype.__iterate=function(e,t){var n,r=this;return this._iter.__iterate(this._useKeys?function(t,n){return e(t,n,r)}:(n=t?vn(this):0,function(o){return e(o,t?--n:n++,r)}),t)},Yt.prototype.__iterator=function(e,t){if(this._useKeys)return this._iter.__iterator(e,t);var n=this._iter.__iterator(M,t),r=t?vn(this):0;return new j((function(){var o=n.next();return o.done?o:z(e,t?--r:r++,o.value,o)}))},Yt.prototype[h]=!0,t(Kt,$),Kt.prototype.includes=function(e){return this._iter.includes(e)},Kt.prototype.__iterate=function(e,t){var n=this,r=0;return this._iter.__iterate((function(t){return e(t,r++,n)}),t)},Kt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(M,t),r=0;return new j((function(){var t=n.next();return t.done?t:z(e,r++,t.value,t)}))},t($t,X),$t.prototype.has=function(e){return this._iter.includes(e)},$t.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate((function(t){return e(t,t,n)}),t)},$t.prototype.__iterator=function(e,t){var n=this._iter.__iterator(M,t);return new j((function(){var t=n.next();return t.done?t:z(e,t.value,t.value,t)}))},t(Xt,K),Xt.prototype.entrySeq=function(){return this._iter.toSeq()},Xt.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate((function(t){if(t){gn(t);var r=a(t);return e(r?t.get(1):t[1],r?t.get(0):t[0],n)}}),t)},Xt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(M,t);return new j((function(){for(;;){var t=n.next();if(t.done)return t;var r=t.value;if(r){gn(r);var o=a(r);return z(e,o?r.get(0):r[0],o?r.get(1):r[1],t)}}}))},Kt.prototype.cacheResult=Yt.prototype.cacheResult=$t.prototype.cacheResult=Xt.prototype.cacheResult=wn,t(xn,xe),xn.prototype.toString=function(){return this.__toString(_n(this)+" {","}")},xn.prototype.has=function(e){return this._defaultValues.hasOwnProperty(e)},xn.prototype.get=function(e,t){if(!this.has(e))return t;var n=this._defaultValues[e];return this._map?this._map.get(e,n):n},xn.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var e=this.constructor;return e._empty||(e._empty=Sn(this,ot()))},xn.prototype.set=function(e,t){if(!this.has(e))throw new Error('Cannot set unknown key "'+e+'" on '+_n(this));if(this._map&&!this._map.has(e)&&t===this._defaultValues[e])return this;var n=this._map&&this._map.set(e,t);return this.__ownerID||n===this._map?this:Sn(this,n)},xn.prototype.remove=function(e){if(!this.has(e))return this;var t=this._map&&this._map.remove(e);return this.__ownerID||t===this._map?this:Sn(this,t)},xn.prototype.wasAltered=function(){return this._map.wasAltered()},xn.prototype.__iterator=function(e,t){var n=this;return r(this._defaultValues).map((function(e,t){return n.get(t)})).__iterator(e,t)},xn.prototype.__iterate=function(e,t){var n=this;return r(this._defaultValues).map((function(e,t){return n.get(t)})).__iterate(e,t)},xn.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map&&this._map.__ensureOwner(e);return e?Sn(this,t,e):(this.__ownerID=e,this._map=t,this)};var En=xn.prototype;function Sn(e,t,n){var r=Object.create(Object.getPrototypeOf(e));return r._map=t,r.__ownerID=n,r}function _n(e){return e._name||e.constructor.name||"Record"}function On(e,t){try{t.forEach(Tn.bind(void 0,e))}catch(e){}}function Tn(e,t){Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(e){we(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})}function Rn(e){return null==e?Fn():An(e)&&!c(e)?e:Fn().withMutations((function(t){var n=i(e);He(n.size),n.forEach((function(e){return t.add(e)}))}))}function An(e){return!(!e||!e[Dn])}En[m]=En.remove,En.deleteIn=En.removeIn=Ke.removeIn,En.merge=Ke.merge,En.mergeWith=Ke.mergeWith,En.mergeIn=Ke.mergeIn,En.mergeDeep=Ke.mergeDeep,En.mergeDeepWith=Ke.mergeDeepWith,En.mergeDeepIn=Ke.mergeDeepIn,En.setIn=Ke.setIn,En.update=Ke.update,En.updateIn=Ke.updateIn,En.withMutations=Ke.withMutations,En.asMutable=Ke.asMutable,En.asImmutable=Ke.asImmutable,t(Rn,Se),Rn.of=function(){return this(arguments)},Rn.fromKeys=function(e){return this(r(e).keySeq())},Rn.prototype.toString=function(){return this.__toString("Set {","}")},Rn.prototype.has=function(e){return this._map.has(e)},Rn.prototype.add=function(e){return Mn(this,this._map.set(e,!0))},Rn.prototype.remove=function(e){return Mn(this,this._map.remove(e))},Rn.prototype.clear=function(){return Mn(this,this._map.clear())},Rn.prototype.union=function(){var t=e.call(arguments,0);return 0===(t=t.filter((function(e){return 0!==e.size}))).length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations((function(e){for(var n=0;n<t.length;n++)i(t[n]).forEach((function(t){return e.add(t)}))})):this.constructor(t[0])},Rn.prototype.intersect=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map((function(e){return i(e)}));var n=this;return this.withMutations((function(e){n.forEach((function(n){t.every((function(e){return e.includes(n)}))||e.remove(n)}))}))},Rn.prototype.subtract=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map((function(e){return i(e)}));var n=this;return this.withMutations((function(e){n.forEach((function(n){t.some((function(e){return e.includes(n)}))&&e.remove(n)}))}))},Rn.prototype.merge=function(){return this.union.apply(this,arguments)},Rn.prototype.mergeWith=function(t){var n=e.call(arguments,1);return this.union.apply(this,n)},Rn.prototype.sort=function(e){return Ln(dn(this,e))},Rn.prototype.sortBy=function(e,t){return Ln(dn(this,t,e))},Rn.prototype.wasAltered=function(){return this._map.wasAltered()},Rn.prototype.__iterate=function(e,t){var n=this;return this._map.__iterate((function(t,r){return e(r,r,n)}),t)},Rn.prototype.__iterator=function(e,t){return this._map.map((function(e,t){return t})).__iterator(e,t)},Rn.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);return e?this.__make(t,e):(this.__ownerID=e,this._map=t,this)},Rn.isSet=An;var Nn,Dn="@@__IMMUTABLE_SET__@@",Pn=Rn.prototype;function Mn(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:0===t.size?e.__empty():e.__make(t)}function In(e,t){var n=Object.create(Pn);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function Fn(){return Nn||(Nn=In(ot()))}function Ln(e){return null==e?Un():Bn(e)?e:Un().withMutations((function(t){var n=i(e);He(n.size),n.forEach((function(e){return t.add(e)}))}))}function Bn(e){return An(e)&&c(e)}Pn[Dn]=!0,Pn[m]=Pn.remove,Pn.mergeDeep=Pn.merge,Pn.mergeDeepWith=Pn.mergeWith,Pn.withMutations=Ke.withMutations,Pn.asMutable=Ke.asMutable,Pn.asImmutable=Ke.asImmutable,Pn.__empty=Fn,Pn.__make=In,t(Ln,Rn),Ln.of=function(){return this(arguments)},Ln.fromKeys=function(e){return this(r(e).keySeq())},Ln.prototype.toString=function(){return this.__toString("OrderedSet {","}")},Ln.isOrderedSet=Bn;var jn,zn=Ln.prototype;function Vn(e,t){var n=Object.create(zn);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function Un(){return jn||(jn=Vn(Wt()))}function Hn(e){return null==e?$n():Gn(e)?e:$n().unshiftAll(e)}function Gn(e){return!(!e||!e[qn])}zn[h]=!0,zn.__empty=Un,zn.__make=Vn,t(Hn,Ee),Hn.of=function(){return this(arguments)},Hn.prototype.toString=function(){return this.__toString("Stack [","]")},Hn.prototype.get=function(e,t){var n=this._head;for(e=O(this,e);n&&e--;)n=n.next;return n?n.value:t},Hn.prototype.peek=function(){return this._head&&this._head.value},Hn.prototype.push=function(){if(0===arguments.length)return this;for(var e=this.size+arguments.length,t=this._head,n=arguments.length-1;n>=0;n--)t={value:arguments[n],next:t};return this.__ownerID?(this.size=e,this._head=t,this.__hash=void 0,this.__altered=!0,this):Kn(e,t)},Hn.prototype.pushAll=function(e){if(0===(e=o(e)).size)return this;He(e.size);var t=this.size,n=this._head;return e.reverse().forEach((function(e){t++,n={value:e,next:n}})),this.__ownerID?(this.size=t,this._head=n,this.__hash=void 0,this.__altered=!0,this):Kn(t,n)},Hn.prototype.pop=function(){return this.slice(1)},Hn.prototype.unshift=function(){return this.push.apply(this,arguments)},Hn.prototype.unshiftAll=function(e){return this.pushAll(e)},Hn.prototype.shift=function(){return this.pop.apply(this,arguments)},Hn.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):$n()},Hn.prototype.slice=function(e,t){if(R(e,t,this.size))return this;var n=A(e,this.size);if(N(t,this.size)!==this.size)return Ee.prototype.slice.call(this,e,t);for(var r=this.size-n,o=this._head;n--;)o=o.next;return this.__ownerID?(this.size=r,this._head=o,this.__hash=void 0,this.__altered=!0,this):Kn(r,o)},Hn.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Kn(this.size,this._head,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},Hn.prototype.__iterate=function(e,t){if(t)return this.reverse().__iterate(e);for(var n=0,r=this._head;r&&!1!==e(r.value,n++,this);)r=r.next;return n},Hn.prototype.__iterator=function(e,t){if(t)return this.reverse().__iterator(e);var n=0,r=this._head;return new j((function(){if(r){var t=r.value;return r=r.next,z(e,n++,t)}return V()}))},Hn.isStack=Gn;var Wn,qn="@@__IMMUTABLE_STACK__@@",Yn=Hn.prototype;function Kn(e,t,n,r){var o=Object.create(Yn);return o.size=e,o._head=t,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}function $n(){return Wn||(Wn=Kn(0))}function Xn(e,t){var n=function(n){e.prototype[n]=t[n]};return Object.keys(t).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(n),e}Yn[qn]=!0,Yn.withMutations=Ke.withMutations,Yn.asMutable=Ke.asMutable,Yn.asImmutable=Ke.asImmutable,Yn.wasAltered=Ke.wasAltered,n.Iterator=j,Xn(n,{toArray:function(){He(this.size);var e=new Array(this.size||0);return this.valueSeq().__iterate((function(t,n){e[n]=t})),e},toIndexedSeq:function(){return new Kt(this)},toJS:function(){return this.toSeq().map((function(e){return e&&"function"==typeof e.toJS?e.toJS():e})).__toJS()},toJSON:function(){return this.toSeq().map((function(e){return e&&"function"==typeof e.toJSON?e.toJSON():e})).__toJS()},toKeyedSeq:function(){return new Yt(this,!0)},toMap:function(){return Ge(this.toKeyedSeq())},toObject:function(){He(this.size);var e={};return this.__iterate((function(t,n){e[n]=t})),e},toOrderedMap:function(){return Ut(this.toKeyedSeq())},toOrderedSet:function(){return Ln(s(this)?this.valueSeq():this)},toSet:function(){return Rn(s(this)?this.valueSeq():this)},toSetSeq:function(){return new $t(this)},toSeq:function(){return l(this)?this.toIndexedSeq():s(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Hn(s(this)?this.valueSeq():this)},toList:function(){return Et(s(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(e,t){return 0===this.size?e+t:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){return mn(this,sn(this,e.call(arguments,0)))},includes:function(e){return this.some((function(t){return ve(t,e)}))},entries:function(){return this.__iterator(I)},every:function(e,t){He(this.size);var n=!0;return this.__iterate((function(r,o,i){if(!e.call(t,r,o,i))return n=!1,!1})),n},filter:function(e,t){return mn(this,en(this,e,t,!0))},find:function(e,t,n){var r=this.findEntry(e,t);return r?r[1]:n},forEach:function(e,t){return He(this.size),this.__iterate(t?e.bind(t):e)},join:function(e){He(this.size),e=void 0!==e?""+e:",";var t="",n=!0;return this.__iterate((function(r){n?n=!1:t+=e,t+=null!=r?r.toString():""})),t},keys:function(){return this.__iterator(P)},map:function(e,t){return mn(this,Qt(this,e,t))},reduce:function(e,t,n){var r,o;return He(this.size),arguments.length<2?o=!0:r=t,this.__iterate((function(t,i,a){o?(o=!1,r=t):r=e.call(n,r,t,i,a)})),r},reduceRight:function(e,t,n){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return mn(this,Zt(this,!0))},slice:function(e,t){return mn(this,rn(this,e,t,!0))},some:function(e,t){return!this.every(tr(e),t)},sort:function(e){return mn(this,dn(this,e))},values:function(){return this.__iterator(M)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some((function(){return!0}))},count:function(e,t){return _(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return tn(this,e,t)},equals:function(e){return ye(this,e)},entrySeq:function(){var e=this;if(e._cache)return new te(e._cache);var t=e.toSeq().map(er).toIndexedSeq();return t.fromEntrySeq=function(){return e.toSeq()},t},filterNot:function(e,t){return this.filter(tr(e),t)},findEntry:function(e,t,n){var r=n;return this.__iterate((function(n,o,i){if(e.call(t,n,o,i))return r=[o,n],!1})),r},findKey:function(e,t){var n=this.findEntry(e,t);return n&&n[0]},findLast:function(e,t,n){return this.toKeyedSeq().reverse().find(e,t,n)},findLastEntry:function(e,t,n){return this.toKeyedSeq().reverse().findEntry(e,t,n)},findLastKey:function(e,t){return this.toKeyedSeq().reverse().findKey(e,t)},first:function(){return this.find(T)},flatMap:function(e,t){return mn(this,un(this,e,t))},flatten:function(e){return mn(this,ln(this,e,!0))},fromEntrySeq:function(){return new Xt(this)},get:function(e,t){return this.find((function(t,n){return ve(n,e)}),void 0,t)},getIn:function(e,t){for(var n,r=this,o=Cn(e);!(n=o.next()).done;){var i=n.value;if((r=r&&r.get?r.get(i,b):b)===b)return t}return r},groupBy:function(e,t){return nn(this,e,t)},has:function(e){return this.get(e,b)!==b},hasIn:function(e){return this.getIn(e,b)!==b},isSubset:function(e){return e="function"==typeof e.includes?e:n(e),this.every((function(t){return e.includes(t)}))},isSuperset:function(e){return(e="function"==typeof e.isSubset?e:n(e)).isSubset(this)},keyOf:function(e){return this.findKey((function(t){return ve(t,e)}))},keySeq:function(){return this.toSeq().map(Zn).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},lastKeyOf:function(e){return this.toKeyedSeq().reverse().keyOf(e)},max:function(e){return pn(this,e)},maxBy:function(e,t){return pn(this,t,e)},min:function(e){return pn(this,e?nr(e):ir)},minBy:function(e,t){return pn(this,t?nr(t):ir,e)},rest:function(){return this.slice(1)},skip:function(e){return this.slice(Math.max(0,e))},skipLast:function(e){return mn(this,this.toSeq().reverse().skip(e).reverse())},skipWhile:function(e,t){return mn(this,an(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile(tr(e),t)},sortBy:function(e,t){return mn(this,dn(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return mn(this,this.toSeq().reverse().take(e).reverse())},takeWhile:function(e,t){return mn(this,on(this,e,t))},takeUntil:function(e,t){return this.takeWhile(tr(e),t)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=ar(this))}});var Jn=n.prototype;Jn[d]=!0,Jn[B]=Jn.values,Jn.__toJS=Jn.toArray,Jn.__toStringMapper=rr,Jn.inspect=Jn.toSource=function(){return this.toString()},Jn.chain=Jn.flatMap,Jn.contains=Jn.includes,Xn(r,{flip:function(){return mn(this,Jt(this))},mapEntries:function(e,t){var n=this,r=0;return mn(this,this.toSeq().map((function(o,i){return e.call(t,[i,o],r++,n)})).fromEntrySeq())},mapKeys:function(e,t){var n=this;return mn(this,this.toSeq().flip().map((function(r,o){return e.call(t,r,o,n)})).flip())}});var Qn=r.prototype;function Zn(e,t){return t}function er(e,t){return[t,e]}function tr(e){return function(){return!e.apply(this,arguments)}}function nr(e){return function(){return-e.apply(this,arguments)}}function rr(e){return"string"==typeof e?JSON.stringify(e):String(e)}function or(){return S(arguments)}function ir(e,t){return e<t?1:e>t?-1:0}function ar(e){if(e.size===1/0)return 0;var t=c(e),n=s(e),r=t?1:0;return sr(e.__iterate(n?t?function(e,t){r=31*r+lr(Te(e),Te(t))|0}:function(e,t){r=r+lr(Te(e),Te(t))|0}:t?function(e){r=31*r+Te(e)|0}:function(e){r=r+Te(e)|0}),r)}function sr(e,t){return t=_e(t,3432918353),t=_e(t<<15|t>>>-15,461845907),t=_e(t<<13|t>>>-13,5),t=_e((t=(t+3864292196|0)^e)^t>>>16,2246822507),t=Oe((t=_e(t^t>>>13,3266489909))^t>>>16)}function lr(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}return Qn[p]=!0,Qn[B]=Jn.entries,Qn.__toJS=Jn.toObject,Qn.__toStringMapper=function(e,t){return JSON.stringify(t)+": "+rr(e)},Xn(o,{toKeyedSeq:function(){return new Yt(this,!1)},filter:function(e,t){return mn(this,en(this,e,t,!1))},findIndex:function(e,t){var n=this.findEntry(e,t);return n?n[0]:-1},indexOf:function(e){var t=this.keyOf(e);return void 0===t?-1:t},lastIndexOf:function(e){var t=this.lastKeyOf(e);return void 0===t?-1:t},reverse:function(){return mn(this,Zt(this,!1))},slice:function(e,t){return mn(this,rn(this,e,t,!1))},splice:function(e,t){var n=arguments.length;if(t=Math.max(0|t,0),0===n||2===n&&!t)return this;e=A(e,e<0?this.count():this.size);var r=this.slice(0,e);return mn(this,1===n?r:r.concat(S(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var n=this.findLastEntry(e,t);return n?n[0]:-1},first:function(){return this.get(0)},flatten:function(e){return mn(this,ln(this,e,!1))},get:function(e,t){return(e=O(this,e))<0||this.size===1/0||void 0!==this.size&&e>this.size?t:this.find((function(t,n){return n===e}),void 0,t)},has:function(e){return(e=O(this,e))>=0&&(void 0!==this.size?this.size===1/0||e<this.size:-1!==this.indexOf(e))},interpose:function(e){return mn(this,cn(this,e))},interleave:function(){var e=[this].concat(S(arguments)),t=hn(this.toSeq(),$.of,e),n=t.flatten(!0);return t.size&&(n.size=t.size*e.length),mn(this,n)},keySeq:function(){return ke(0,this.size)},last:function(){return this.get(-1)},skipWhile:function(e,t){return mn(this,an(this,e,t,!1))},zip:function(){return mn(this,hn(this,or,[this].concat(S(arguments))))},zipWith:function(e){var t=S(arguments);return t[0]=this,mn(this,hn(this,e,t))}}),o.prototype[f]=!0,o.prototype[h]=!0,Xn(i,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}}),i.prototype.has=Jn.includes,i.prototype.contains=i.prototype.includes,Xn(K,r.prototype),Xn($,o.prototype),Xn(X,i.prototype),Xn(xe,r.prototype),Xn(Ee,o.prototype),Xn(Se,i.prototype),{Iterable:n,Seq:Y,Collection:Ce,Map:Ge,OrderedMap:Ut,List:Et,Stack:Hn,Set:Rn,OrderedSet:Ln,Record:xn,Range:ke,Repeat:be,is:ve,fromJS:fe}}()}));var Gb=Object.freeze({__proto__:null,default:function(e,t){}}),Wb=1e3,qb=60*Wb,Yb=60*qb,Kb=24*Yb,$b=7*Kb,Xb=365.25*Kb,Jb=function(e,t){t=t||{};var n=typeof e;if("string"===n&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*Xb;case"weeks":case"week":case"w":return n*$b;case"days":case"day":case"d":return n*Kb;case"hours":case"hour":case"hrs":case"hr":case"h":return n*Yb;case"minutes":case"minute":case"mins":case"min":case"m":return n*qb;case"seconds":case"second":case"secs":case"sec":case"s":return n*Wb;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}(e);if("number"===n&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=Kb)return Qb(e,t,Kb,"day");if(t>=Yb)return Qb(e,t,Yb,"hour");if(t>=qb)return Qb(e,t,qb,"minute");if(t>=Wb)return Qb(e,t,Wb,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=Kb)return Math.round(e/Kb)+"d";if(t>=Yb)return Math.round(e/Yb)+"h";if(t>=qb)return Math.round(e/qb)+"m";if(t>=Wb)return Math.round(e/Wb)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function Qb(e,t,n,r){var o=t>=1.5*n;return Math.round(e/n)+" "+r+(o?"s":"")}var Zb=function(e){function t(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return n.colors[Math.abs(t)%n.colors.length]}function n(e){let i;function a(...e){if(!a.enabled)return;const t=a,r=Number(new Date),o=r-(i||r);t.diff=o,t.prev=i,t.curr=r,i=r,e[0]=n.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let s=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((r,o)=>{if("%%"===r)return r;s++;const i=n.formatters[o];if("function"==typeof i){const n=e[s];r=i.call(t,n),e.splice(s,1),s--}return r})),n.formatArgs.call(t,e);(t.log||n.log).apply(t,e)}return a.namespace=e,a.enabled=n.enabled(e),a.useColors=n.useColors(),a.color=t(e),a.destroy=r,a.extend=o,"function"==typeof n.init&&n.init(a),n.instances.push(a),a}function r(){const e=n.instances.indexOf(this);return-1!==e&&(n.instances.splice(e,1),!0)}function o(e,t){const r=n(this.namespace+(void 0===t?":":t)+e);return r.log=this.log,r}function i(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return n.debug=n,n.default=n,n.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},n.disable=function(){const e=[...n.names.map(i),...n.skips.map(i).map((e=>"-"+e))].join(",");return n.enable(""),e},n.enable=function(e){let t;n.save(e),n.names=[],n.skips=[];const r=("string"==typeof e?e:"").split(/[\s,]+/),o=r.length;for(t=0;t<o;t++)r[t]&&("-"===(e=r[t].replace(/\*/g,".*?"))[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")));for(t=0;t<n.instances.length;t++){const e=n.instances[t];e.enabled=n.enabled(e.namespace)}},n.enabled=function(e){if("*"===e[e.length-1])return!0;let t,r;for(t=0,r=n.skips.length;t<r;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;t<r;t++)if(n.names[t].test(e))return!0;return!1},n.humanize=Jb,Object.keys(e).forEach((t=>{n[t]=e[t]})),n.instances=[],n.names=[],n.skips=[],n.formatters={},n.selectColor=t,n.enable(n.load()),n},ew=Ne((function(e,t){t.log=function(...e){return"object"==typeof console&&console.log&&console.log(...e)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(r++,"%c"===e&&(o=r))})),t.splice(o,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=Zb(t);const{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}})),tw=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,nw=/^\w*$/;var rw=function(e,t){if(Ey(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!sb(e))||(nw.test(e)||!tw.test(e)||null!=t&&e in Object(t))},ow=sy["__core-js_shared__"],iw=function(){var e=/[^.]+$/.exec(ow&&ow.keys&&ow.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var aw=function(e){return!!iw&&iw in e},sw=Function.prototype.toString;var lw=function(e){if(null!=e){try{return sw.call(e)}catch(e){}try{return e+""}catch(e){}}return""},uw=/^\[object .+?Constructor\]$/,cw=Function.prototype,dw=Object.prototype,pw=cw.toString,fw=dw.hasOwnProperty,hw=RegExp("^"+pw.call(fw).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var mw=function(e){return!(!Gy(e)||aw(e))&&(Wy(e)?hw:uw).test(lw(e))};var gw=function(e,t){return null==e?void 0:e[t]};var vw=function(e,t){var n=gw(e,t);return mw(n)?n:void 0},yw=vw(Object,"create");var bw=function(){this.__data__=yw?yw(null):{},this.size=0};var ww=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},kw=Object.prototype.hasOwnProperty;var Cw=function(e){var t=this.__data__;if(yw){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return kw.call(t,e)?t[e]:void 0},xw=Object.prototype.hasOwnProperty;var Ew=function(e){var t=this.__data__;return yw?void 0!==t[e]:xw.call(t,e)};var Sw=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=yw&&void 0===t?"__lodash_hash_undefined__":t,this};function _w(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}_w.prototype.clear=bw,_w.prototype.delete=ww,_w.prototype.get=Cw,_w.prototype.has=Ew,_w.prototype.set=Sw;var Ow=_w;var Tw=function(){this.__data__=[],this.size=0};var Rw=function(e,t){return e===t||e!=e&&t!=t};var Aw=function(e,t){for(var n=e.length;n--;)if(Rw(e[n][0],t))return n;return-1},Nw=Array.prototype.splice;var Dw=function(e){var t=this.__data__,n=Aw(t,e);return!(n<0)&&(n==t.length-1?t.pop():Nw.call(t,n,1),--this.size,!0)};var Pw=function(e){var t=this.__data__,n=Aw(t,e);return n<0?void 0:t[n][1]};var Mw=function(e){return Aw(this.__data__,e)>-1};var Iw=function(e,t){var n=this.__data__,r=Aw(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function Fw(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Fw.prototype.clear=Tw,Fw.prototype.delete=Dw,Fw.prototype.get=Pw,Fw.prototype.has=Mw,Fw.prototype.set=Iw;var Lw=Fw,Bw=vw(sy,"Map");var jw=function(){this.size=0,this.__data__={hash:new Ow,map:new(Bw||Lw),string:new Ow}};var zw=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var Vw=function(e,t){var n=e.__data__;return zw(t)?n["string"==typeof t?"string":"hash"]:n.map};var Uw=function(e){var t=Vw(this,e).delete(e);return this.size-=t?1:0,t};var Hw=function(e){return Vw(this,e).get(e)};var Gw=function(e){return Vw(this,e).has(e)};var Ww=function(e,t){var n=Vw(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function qw(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}qw.prototype.clear=jw,qw.prototype.delete=Uw,qw.prototype.get=Hw,qw.prototype.has=Gw,qw.prototype.set=Ww;var Yw=qw;function Kw(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(Kw.Cache||Yw),n}Kw.Cache=Yw;var $w=Kw;var Xw=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Jw=/\\(\\)?/g,Qw=function(e){var t=$w(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Xw,(function(e,n,r,o){t.push(r?o.replace(Jw,"$1"):n||e)})),t}));var Zw=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o},ek=ly?ly.prototype:void 0,tk=ek?ek.toString:void 0;var nk=function e(t){if("string"==typeof t)return t;if(Ey(t))return Zw(t,e)+"";if(sb(t))return tk?tk.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n};var rk=function(e){return null==e?"":nk(e)};var ok=function(e,t){return Ey(e)?e:rw(e,t)?[e]:Qw(rk(e))};var ik=function(e){if("string"==typeof e||sb(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t};var ak=function(e,t){for(var n=0,r=(t=ok(t,e)).length;null!=e&&n<r;)e=e[ik(t[n++])];return n&&n==r?e:void 0},sk=function(){try{var e=vw(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();var lk=function(e,t,n){"__proto__"==t&&sk?sk(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},uk=Object.prototype.hasOwnProperty;var ck=function(e,t,n){var r=e[t];uk.call(e,t)&&Rw(r,n)&&(void 0!==n||t in e)||lk(e,t,n)};var dk=function(e,t,n,r){if(!Gy(e))return e;for(var o=-1,i=(t=ok(t,e)).length,a=i-1,s=e;null!=s&&++o<i;){var l=ik(t[o]),u=n;if(o!=a){var c=s[l];void 0===(u=r?r(c,l,s):void 0)&&(u=Gy(c)?c:Ty(t[o+1])?[]:{})}ck(s,l,u),s=s[l]}return e};var pk=function(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var a=t[r],s=ak(e,a);n(s,a)&&dk(i,ok(a,e),s)}return i};var fk=function(e,t){return null!=e&&t in Object(e)};var hk=function(e,t,n){for(var r=-1,o=(t=ok(t,e)).length,i=!1;++r<o;){var a=ik(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&Ry(o)&&Ty(a,o)&&(Ey(e)||xy(e))};var mk=function(e,t){return null!=e&&hk(e,t,fk)};var gk=function(e,t){return pk(e,t,(function(t,n){return mk(e,n)}))};var vk=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e},yk=ly?ly.isConcatSpreadable:void 0;var bk=function(e){return Ey(e)||xy(e)||!!(yk&&e&&e[yk])};var wk=function e(t,n,r,o,i){var a=-1,s=t.length;for(r||(r=bk),i||(i=[]);++a<s;){var l=t[a];n>0&&r(l)?n>1?e(l,n-1,r,o,i):vk(i,l):o||(i[i.length]=l)}return i};var kk=function(e){return(null==e?0:e.length)?wk(e,1):[]};var Ck=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},xk=Math.max;var Ek=function(e,t,n){return t=xk(void 0===t?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=xk(r.length-t,0),a=Array(i);++o<i;)a[o]=r[t+o];o=-1;for(var s=Array(t+1);++o<t;)s[o]=r[o];return s[t]=n(a),Ck(e,this,s)}};var Sk=function(e){return function(){return e}},_k=sk?function(e,t){return sk(e,"toString",{configurable:!0,enumerable:!1,value:Sk(t),writable:!0})}:$y,Ok=Date.now;var Tk=function(e){var t=0,n=0;return function(){var r=Ok(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(_k);var Rk=function(e){return Tk(Ek(e,void 0,kk),e+"")},Ak=Rk((function(e,t){return null==e?{}:gk(e,t)})),Nk=Ne((function(e,t){!function(n){var r=t,o=e&&e.exports==r&&e,i="object"==typeof Te&&Te;i.global!==i&&i.window!==i||(n=i);var a=/([\0-\u02FF\u0370-\u1AAF\u1B00-\u1DBF\u1E00-\u20CF\u2100-\uD7FF\uE000-\uFE1F\uFE30-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])([\u0300-\u036F\u1AB0-\u1AFF\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]+)/g,s=/([\uD800-\uDBFF])([\uDC00-\uDFFF])/g,l=function(e){for(var t="",n=(e=e.replace(a,(function(e,t,n){return l(n)+t})).replace(s,"$2$1")).length;n--;)t+=e.charAt(n);return t},u={version:"0.2.0",reverse:l};if(r&&!r.nodeType)if(o)o.exports=u;else for(var c in u)u.hasOwnProperty(c)&&(r[c]=u[c]);else n.esrever=u}(Te)}));var Dk=function(){this.__data__=new Lw,this.size=0};var Pk=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};var Mk=function(e){return this.__data__.get(e)};var Ik=function(e){return this.__data__.has(e)};var Fk=function(e,t){var n=this.__data__;if(n instanceof Lw){var r=n.__data__;if(!Bw||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Yw(r)}return n.set(e,t),this.size=n.size,this};function Lk(e){var t=this.__data__=new Lw(e);this.size=t.size}Lk.prototype.clear=Dk,Lk.prototype.delete=Pk,Lk.prototype.get=Mk,Lk.prototype.has=Ik,Lk.prototype.set=Fk;var Bk=Lk;var jk=function(e,t,n,r){var o=!n;n||(n={});for(var i=-1,a=t.length;++i<a;){var s=t[i],l=r?r(n[s],e[s],s,n,e):void 0;void 0===l&&(l=e[s]),o?lk(n,s,l):ck(n,s,l)}return n};var zk=function(e,t){return e&&jk(t,Yy(t),e)};var Vk=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t},Uk=Object.prototype.hasOwnProperty;var Hk=function(e){if(!Gy(e))return Vk(e);var t=jy(e),n=[];for(var r in e)("constructor"!=r||!t&&Uk.call(e,r))&&n.push(r);return n};var Gk=function(e){return qy(e)?Ly(e,!0):Hk(e)};var Wk=function(e,t){return e&&jk(t,Gk(t),e)},qk=Ne((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,o=r&&r.exports===n?sy.Buffer:void 0,i=o?o.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=i?i(n):new e.constructor(n);return e.copy(r),r}}));var Yk=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t};var Kk=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i};var $k=function(){return[]},Xk=Object.prototype.propertyIsEnumerable,Jk=Object.getOwnPropertySymbols,Qk=Jk?function(e){return null==e?[]:(e=Object(e),Kk(Jk(e),(function(t){return Xk.call(e,t)})))}:$k;var Zk=function(e,t){return jk(e,Qk(e),t)},eC=zy(Object.getPrototypeOf,Object),tC=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)vk(t,Qk(e)),e=eC(e);return t}:$k;var nC=function(e,t){return jk(e,tC(e),t)};var rC=function(e,t,n){var r=t(e);return Ey(e)?r:vk(r,n(e))};var oC=function(e){return rC(e,Yy,Qk)};var iC=function(e){return rC(e,Gk,tC)},aC=vw(sy,"DataView"),sC=vw(sy,"Promise"),lC=vw(sy,"Set"),uC=vw(sy,"WeakMap"),cC="[object Map]",dC="[object Promise]",pC="[object Set]",fC="[object WeakMap]",hC="[object DataView]",mC=lw(aC),gC=lw(Bw),vC=lw(sC),yC=lw(lC),bC=lw(uC),wC=vy;(aC&&wC(new aC(new ArrayBuffer(1)))!=hC||Bw&&wC(new Bw)!=cC||sC&&wC(sC.resolve())!=dC||lC&&wC(new lC)!=pC||uC&&wC(new uC)!=fC)&&(wC=function(e){var t=vy(e),n="[object Object]"==t?e.constructor:void 0,r=n?lw(n):"";if(r)switch(r){case mC:return hC;case gC:return cC;case vC:return dC;case yC:return pC;case bC:return fC}return t});var kC=wC,CC=Object.prototype.hasOwnProperty;var xC=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&CC.call(e,"index")&&(n.index=e.index,n.input=e.input),n},EC=sy.Uint8Array;var SC=function(e){var t=new e.constructor(e.byteLength);return new EC(t).set(new EC(e)),t};var _C=function(e,t){var n=t?SC(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)},OC=/\w*$/;var TC=function(e){var t=new e.constructor(e.source,OC.exec(e));return t.lastIndex=e.lastIndex,t},RC=ly?ly.prototype:void 0,AC=RC?RC.valueOf:void 0;var NC=function(e){return AC?Object(AC.call(e)):{}};var DC=function(e,t){var n=t?SC(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)};var PC=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return SC(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return _C(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return DC(e,n);case"[object Map]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return TC(e);case"[object Set]":return new r;case"[object Symbol]":return NC(e)}},MC=Object.create,IC=function(){function e(){}return function(t){if(!Gy(t))return{};if(MC)return MC(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();var FC=function(e){return"function"!=typeof e.constructor||jy(e)?{}:IC(eC(e))};var LC=function(e){return yy(e)&&"[object Map]"==kC(e)},BC=Py&&Py.isMap,jC=BC?Dy(BC):LC;var zC=function(e){return yy(e)&&"[object Set]"==kC(e)},VC=Py&&Py.isSet,UC=VC?Dy(VC):zC,HC="[object Arguments]",GC="[object Function]",WC="[object Object]",qC={};qC[HC]=qC["[object Array]"]=qC["[object ArrayBuffer]"]=qC["[object DataView]"]=qC["[object Boolean]"]=qC["[object Date]"]=qC["[object Float32Array]"]=qC["[object Float64Array]"]=qC["[object Int8Array]"]=qC["[object Int16Array]"]=qC["[object Int32Array]"]=qC["[object Map]"]=qC["[object Number]"]=qC[WC]=qC["[object RegExp]"]=qC["[object Set]"]=qC["[object String]"]=qC["[object Symbol]"]=qC["[object Uint8Array]"]=qC["[object Uint8ClampedArray]"]=qC["[object Uint16Array]"]=qC["[object Uint32Array]"]=!0,qC["[object Error]"]=qC[GC]=qC["[object WeakMap]"]=!1;var YC=function e(t,n,r,o,i,a){var s,l=1&n,u=2&n,c=4&n;if(r&&(s=i?r(t,o,i,a):r(t)),void 0!==s)return s;if(!Gy(t))return t;var d=Ey(t);if(d){if(s=xC(t),!l)return Yk(t,s)}else{var p=kC(t),f=p==GC||"[object GeneratorFunction]"==p;if(_y(t))return qk(t,l);if(p==WC||p==HC||f&&!i){if(s=u||f?{}:FC(t),!l)return u?nC(t,Wk(s,t)):Zk(t,zk(s,t))}else{if(!qC[p])return i?t:{};s=PC(t,p,l)}}a||(a=new Bk);var h=a.get(t);if(h)return h;if(a.set(t,s),UC(t))return t.forEach((function(o){s.add(e(o,n,r,o,t,a))})),s;if(jC(t))return t.forEach((function(o,i){s.set(i,e(o,n,r,i,t,a))})),s;var m=c?u?iC:oC:u?keysIn:Yy,g=d?void 0:m(t);return ny(g||t,(function(o,i){g&&(o=t[i=o]),ck(s,i,e(o,n,r,i,t,a))})),s};var KC=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0};var $C=function(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i};var XC=function(e,t){return t.length<2?e:ak(e,$C(t,0,-1))};var JC=function(e,t){return t=ok(t,e),null==(e=XC(e,t))||delete e[ik(KC(t))]},QC=Function.prototype,ZC=Object.prototype,ex=QC.toString,tx=ZC.hasOwnProperty,nx=ex.call(Object);var rx=function(e){if(!yy(e)||"[object Object]"!=vy(e))return!1;var t=eC(e);if(null===t)return!0;var n=tx.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&ex.call(n)==nx};var ox=function(e){return rx(e)?void 0:e},ix=Rk((function(e,t){var n={};if(null==e)return n;var r=!1;t=Zw(t,(function(t){return t=ok(t,e),r||(r=t.length>1),t})),jk(e,iC(e),n),r&&(n=YC(n,7,ox));for(var o=t.length;o--;)JC(n,t[o]);return n})),ax=function(e){if(e=String(e||""),ux.test(e))return"rtl";if(cx.test(e))return"ltr";return"neutral"},sx="֑-߿יִ-﷽ﹰ-ﻼ",lx="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",ux=new RegExp("^[^"+lx+"]*["+sx+"]"),cx=new RegExp("^[^"+sx+"]*["+lx+"]");var dx=Ae(Ub),px=Ae(Gb),fx=Ae(zb);function hx(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var mx=hx(dx),gx=hx(px),vx=hx(fx),yx=hx(ew),bx=hx(Ak),wx=hx(ix),kx=hx(ax),Cx=void 0,xx=void 0;function Ex(){Cx=0,xx=function(){return""+Cx++}}Ex();var Sx={create:function(e){if(null==e)return xx();if("string"==typeof e)return e;throw new Error("Keys must be strings, but you passed: "+e)},setGenerator:function(e){xx=e},resetGenerator:Ex},_x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ox=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Tx=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Rx=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ax=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},Nx=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},Dx=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},Px=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},Mx=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},Ix=function(){function e(){Ox(this,e)}return Tx(e,null,[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Hb.Map.isMap(t))return t;if(mx(t))return e.fromJSON(t);throw new Error("`Data.create` only accepts objects or maps, but you passed it: "+t)}},{key:"fromJSON",value:function(e){return new Hb.Map(e)}}]),e}();Ix.fromJS=Ix.fromJSON;var Fx={data:void 0,key:void 0,nodes:void 0},Lx=function(e){function t(){return Ox(this,t),Dx(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Ax(t,e),Tx(t,[{key:"toJSON",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={object:this.object,data:this.data.toJSON(),nodes:this.nodes.toArray().map((function(t){return t.toJSON(e)}))};return e.preserveKeys&&(t.key=this.key),t}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isDocument(e))return e;if((Hb.List.isList(e)||Array.isArray(e))&&(e={nodes:e}),mx(e))return t.fromJSON(e);throw new Error("`Document.create` only accepts objects, arrays, lists or documents, but you passed it: "+e)}},{key:"fromJSON",value:function(e){if(t.isDocument(e))return e;var n=e.data,r=void 0===n?{}:n,o=e.key,i=void 0===o?Sx.create():o,a=e.nodes,s=void 0===a?[]:a;return new t({key:i,data:new Hb.Map(r),nodes:nE.createList(s)})}}]),t}(Hb.Record(Fx)),Bx={data:void 0,key:void 0,nodes:void 0,type:void 0},jx=function(e){function t(){return Ox(this,t),Dx(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Ax(t,e),Tx(t,[{key:"toJSON",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={object:this.object,type:this.type,data:this.data.toJSON(),nodes:this.nodes.toArray().map((function(t){return t.toJSON(e)}))};return e.preserveKeys&&(t.key=this.key),t}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isInline(e))return e;if("string"==typeof e&&(e={type:e}),mx(e))return t.fromJSON(e);throw new Error("`Inline.create` only accepts objects, strings or inlines, but you passed it: "+e)}},{key:"createList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(Hb.List.isList(e)||Array.isArray(e)){var n=new Hb.List(e.map(t.create));return n}throw new Error("`Inline.createList` only accepts arrays or lists, but you passed it: "+e)}},{key:"fromJSON",value:function(e){if(t.isInline(e))return e;var n=e.data,r=void 0===n?{}:n,o=e.key,i=void 0===o?Sx.create():o,a=e.nodes,s=void 0===a?[]:a,l=e.type;if("string"!=typeof l)throw new Error("`Inline.fromJS` requires a `type` string.");return new t({key:i,type:l,data:new Hb.Map(r),nodes:nE.createList(s)})}},{key:"isInlineList",value:function(e){return Hb.List.isList(e)&&e.every((function(e){return t.isInline(e)}))}}]),t}(Hb.Record(Bx)),zx={data:void 0,type:void 0},Vx=function(e){function t(){return Ox(this,t),Dx(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Ax(t,e),Tx(t,[{key:"toJSON",value:function(){return{object:this.object,type:this.type,data:this.data.toJSON()}}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isMark(e))return e;if("string"==typeof e&&(e={type:e}),mx(e))return t.fromJSON(e);throw new Error("`Mark.create` only accepts objects, strings or marks, but you passed it: "+e)}},{key:"createSet",value:function(e){if(Hb.Set.isSet(e)||Array.isArray(e))return new Hb.Set(e.map(t.create));if(null==e)return Hb.Set();throw new Error("`Mark.createSet` only accepts sets, arrays or null, but you passed it: "+e)}},{key:"createProperties",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isMark(e))return{data:e.data,type:e.type};if("string"==typeof e)return{type:e};if(mx(e)){var n={};return"type"in e&&(n.type=e.type),"data"in e&&(n.data=Ix.create(e.data)),n}throw new Error("`Mark.createProperties` only accepts objects, strings or marks, but you passed it: "+e)}},{key:"fromJSON",value:function(e){var n=e.data,r=void 0===n?{}:n,o=e.type;if("string"!=typeof o)throw new Error("`Mark.fromJS` requires a `type` string.");return new t({type:o,data:new Hb.Map(r)})}},{key:"isMarkSet",value:function(e){return Hb.Set.isSet(e)&&e.every((function(e){return t.isMark(e)}))}}]),t}(Hb.Record(zx)),Ux={marks:void 0,text:void 0},Hx=function(e){function t(){return Ox(this,t),Dx(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Ax(t,e),Tx(t,[{key:"updateMark",value:function(e,t){var n=this.marks;if(t.equals(e))return this;if(!n.has(e))return this;var r=n.withMutations((function(n){n.remove(e).add(t)}));return this.set("marks",r)}},{key:"addMark",value:function(e){var t=this.marks;return this.set("marks",t.add(e))}},{key:"addMarks",value:function(e){var t=this.marks;return this.set("marks",t.union(e))}},{key:"insertText",value:function(e,t){var n=this.text,r=n.slice(0,e)+t+n.slice(e);return this.set("text",r)}},{key:"removeMark",value:function(e){var t=this.marks;return this.set("marks",t.remove(e))}},{key:"toJSON",value:function(){return{object:this.object,text:this.text,marks:this.marks.toArray().map((function(e){return e.toJSON()}))}}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isLeaf(e))return e;if("string"==typeof e&&(e={text:e}),mx(e))return t.fromJSON(e);throw new Error("`Leaf.create` only accepts objects, strings or leaves, but you passed it: "+e)}},{key:"createLeaves",value:function(e){if(e.size<=1)return e;var t=!1,n=Hb.List().withMutations((function(n){e.findLast((function(e,r){var o=n.first();if(o){if(o.marks.equals(e.marks))return t=!0,void n.set(0,o.set("text",""+e.text+o.text));if(""===o.text)return t=!0,void n.set(0,e);if(""===e.text)return void(t=!0)}n.unshift(e)}))}));return t?n:e}},{key:"splitLeaves",value:function(e,t){if(t<0)return[Hb.List(),e];if(0===e.size)return[Hb.List(),Hb.List()];var n=0,r=-1,o=void 0,i=void 0;return e.find((function(e){r++;var a=n,s=e.text;if((n+=s.length)<t)return!1;if(a>t)return!1;var l=t-a;return o=e.set("text",s.slice(0,l)),i=e.set("text",s.slice(l)),!0})),o?""===o.text?0===r?[Hb.List.of(o),e]:[e.take(r),e.skip(r)]:""===i.text?r===e.size-1?[e,Hb.List.of(i)]:[e.take(r+1),e.skip(r+1)]:[e.take(r).push(o),e.skip(r+1).unshift(i)]:[e,Hb.List()]}},{key:"createList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(Hb.List.isList(e)||Array.isArray(e)){var n=new Hb.List(e.map(t.create));return n}throw new Error("`Leaf.createList` only accepts arrays or lists, but you passed it: "+e)}},{key:"fromJSON",value:function(e){var n=e.text,r=void 0===n?"":n,o=e.marks,i=void 0===o?[]:o;return new t({text:r,marks:Hb.Set(i.map(Vx.fromJSON))})}},{key:"isLeafList",value:function(e){return Hb.List.isList(e)&&e.every((function(e){return t.isLeaf(e)}))}}]),t}(Hb.Record(Ux)),Gx=!0,Wx=Symbol("LEAF"),qx=Symbol("STORE_KEY"),Yx=Symbol("undefined"),Kx=Symbol("null"),$x=void 0,Xx=new WeakMap;function Jx(e,t){var n=function(t){var n=e[t];if(!n)throw new Error('Object does not have a property named "'+t+'".');e[t]=function(){for(var e=arguments.length,r=Array(e),o=0;o<e;o++)r[o]=arguments[o];if(!Gx)return n.apply(this,r);Xx.has(this)||Xx.set(this,{noArgs:{},hasArgs:{}});var i=Xx.get(this),a=i.noArgs,s=i.hasArgs,l=0!==r.length,u=void 0,c=void 0;if((u=l?Qx(s,c=[t].concat(r)):a[t])!==$x)return u===Yx?void 0:u;var d=n.apply(this,r),p=void 0===d?Yx:d;return l?Zx(s,c,p):a[t]=p,d}},r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){n(a.value)}}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}}function Qx(e,t){var n=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;if(void 0===s?s=Yx:null==s&&(s=Kx),(e="object"===(void 0===s?"undefined":_x(s))?e[qx]&&e[qx].get(s):e[s])===$x)return $x}}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}return e[Wx]}function Zx(e,t,n){var r=e,o=!0,i=!1,a=void 0;try{for(var s,l=t[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var u=s.value;if(void 0===u?u=Yx:null==u&&(u=Kx),"object"===(void 0===u?"undefined":_x(u)))if(r[qx]||(r[qx]=new WeakMap),r[qx].has(u))r=r[qx].get(u);else{var c={};r[qx].set(u,c),r=c}else r[u]||(r[u]={}),r=r[u]}}catch(e){i=!0,a=e}finally{try{!o&&l.return&&l.return()}finally{if(i)throw a}}return r[Wx]=n,e}var eE={leaves:void 0,key:void 0},tE=function(e){function t(){return Ox(this,t),Dx(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Ax(t,e),Tx(t,[{key:"searchLeafAtOffset",value:function(e){var t=0,n=0,r=-1;return{leaf:this.leaves.find((function(o){return r++,(t=(n=t)+o.text.length)>=e})),endOffset:t,index:r,startOffset:n}}},{key:"addMark",value:function(e,t,n){var r=Hb.Set.of(n);return this.addMarks(e,t,r)}},{key:"addMarks",value:function(e,t,n){if(""===this.text&&0===t&&0===e){var r=this.leaves.first();if(!r)return this.set("leaves",Hb.List.of(Hx.fromJSON({text:"",marks:n})));var o=r.addMarks(n);return o===r?this:this.set("leaves",Hb.List.of(o))}if(""===this.text)return this;if(0===t)return this;if(e>=this.text.length)return this;var i=Hx.splitLeaves(this.leaves,e),a=Px(i,2),s=a[0],l=a[1],u=Hx.splitLeaves(l,t),c=Px(u,2),d=c[0],p=c[1],f=s.concat(d.map((function(e){return e.addMarks(n)})),p);return this.setLeaves(f)}},{key:"getLeaves",value:function(e){var t=this.leaves;if(!e||0===e.size)return t;if(0===t.size){var n=e.map((function(e){return e.mark})),r=Hx.create({marks:n});return Hb.List([r])}if(0===this.text.length){var o=e.map((function(e){return e.mark})),i=Hx.create({marks:o});return Hb.List([i])}var a=this.key,s=this.text;return e.forEach((function(e){var n=e.start,r=e.end,o=e.mark,i=n.key===a,l=r.key===a;if(i&&l){var u=i?n.offset:0,c=l?r.offset-u:s.length-u;if(c<1)return;if(u>=s.length)return;if(0!==u||c<s.length){var d=Hx.splitLeaves(t,u),p=Px(d,2),f=p[0],h=p[1],m=Hx.splitLeaves(h,c),g=Px(m,2),v=g[0],y=g[1];return void(t=f.concat(v.map((function(e){return e.addMark(o)})),y))}}t=t.map((function(e){return e.addMark(o)}))})),t===this.leaves?t:Hx.createLeaves(t)}},{key:"getActiveMarksBetweenOffsets",value:function(e,t){if(e<=0&&t>=this.text.length)return this.getActiveMarks();if(e>=t)return Hb.Set();if(""===this.text)return this.getActiveMarks();var n=null,r=0;return this.leaves.forEach((function(o){var i=r;if(!((r=i+o.text.length)<=e)){if(i>=t)return!1;if(n)return(n=n.intersect(o.marks))&&n.size,!1;n=o.marks}})),n||Hb.Set()}},{key:"getActiveMarks",value:function(){var e=this;if(0===this.leaves.size)return Hb.Set();var t=this.leaves.first().marks;return 0===t.size?t:t.toOrderedSet().withMutations((function(t){e.leaves.forEach((function(e){if(t.intersect(e.marks),0===t.size)return!1}))}))}},{key:"getMarksBetweenOffsets",value:function(e,t){if(e<=0&&t>=this.text.length)return this.getMarks();if(e>=t)return Hb.Set();if(""===this.text)return this.getActiveMarks();var n=null,r=0;return this.leaves.forEach((function(o){var i=r;if(!((r=i+o.text.length)<=e))return!(i>=t)&&void(n=n?n.union(o.marks):o.marks)})),n||Hb.Set()}},{key:"getMarks",value:function(){var e=this.getMarksAsArray();return new Hb.OrderedSet(e)}},{key:"getMarksAsArray",value:function(){if(0===this.leaves.size)return[];var e=this.leaves.first().marks;if(1===this.leaves.size)return e.toArray();var t=[];return this.leaves.forEach((function(e){t.push(e.marks.toArray())})),Array.prototype.concat.apply(e.toArray(),t)}},{key:"getMarksAtIndex",value:function(e){var t=this.searchLeafAtOffset(e).leaf;return t?t.marks:Hb.Set()}},{key:"insertText",value:function(e,t,n){if(""===this.text)return this.set("leaves",Hb.List.of(Hx.create({text:t,marks:n})));if(0===t.length)return this;n||(n=Hb.Set());var r=this.searchLeafAtOffset(e),o=r.startOffset,i=r.leaf,a=r.index,s=e-o,l=i.text.slice(0,s),u=i.text.slice(s),c=this.leaves;if(i.marks.equals(n))return this.set("leaves",c.set(a,i.set("text",l+t+u)));var d=c.splice(a,1,i.set("text",l),Hx.create({text:t,marks:n}),i.set("text",u));return this.setLeaves(d)}},{key:"removeMark",value:function(e,t,n){if(""===this.text&&0===e&&0===t){var r=this.leaves.first();if(!r)return this;var o=r.removeMark(n);return o===r?this:this.set("leaves",Hb.List.of(o))}if(t<=0)return this;if(e>=this.text.length)return this;var i=Hx.splitLeaves(this.leaves,e),a=Px(i,2),s=a[0],l=a[1],u=Hx.splitLeaves(l,t),c=Px(u,2),d=c[0],p=c[1],f=s.concat(d.map((function(e){return e.removeMark(n)})),p);return this.setLeaves(f)}},{key:"removeText",value:function(e,t){if(t<=0)return this;if(e>=this.text.length)return this;if(1===t){var n=this.searchLeafAtOffset(e+1),r=n.leaf,o=n.index,i=e-n.startOffset;if(r){if(1===r.text.length){var a=this.leaves.remove(o);return this.setLeaves(a)}var s=r.text.slice(0,i)+r.text.slice(i+t);if(s.length>0)return this.set("leaves",this.leaves.set(o,r.set("text",s)))}}var l=Hx.splitLeaves(this.leaves,e),u=Px(l,2),c=u[0],d=u[1],p=Hx.splitLeaves(d,t)[1],f=Hx.createLeaves(c.concat(p));if(1===f.size){var h=f.first();if(""===h.text)return this.set("leaves",Hb.List.of(h.set("marks",this.getActiveMarks())))}return this.set("leaves",f)}},{key:"toJSON",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={object:this.object,leaves:this.getLeaves().toArray().map((function(e){return e.toJSON()}))};return e.preserveKeys&&(t.key=this.key),t}},{key:"updateMark",value:function(e,t,n,r){var o=n.merge(r);if(""===this.text&&0===t&&0===e){var i=this.leaves.first();if(!i)return this;var a=i.updateMark(n,o);return a===i?this:this.set("leaves",Hb.List.of(a))}if(t<=0)return this;if(e>=this.text.length)return this;var s=Hx.splitLeaves(this.leaves,e),l=Px(s,2),u=l[0],c=l[1],d=Hx.splitLeaves(c,t),p=Px(d,2),f=p[0],h=p[1],m=u.concat(f.map((function(e){return e.updateMark(n,o)})),h);return this.setLeaves(m)}},{key:"splitText",value:function(e){var t=Hx.splitLeaves(this.leaves,e);return[this.set("leaves",t[0]),this.set("leaves",t[1]).regenerateKey()]}},{key:"mergeText",value:function(e){var t=this.leaves.concat(e.leaves);return this.setLeaves(t)}},{key:"setLeaves",value:function(e){if(1===(e=Hx.createLeaves(e)).size){var t=e.first();if((!t.marks||0===t.marks.size)&&""===t.text)return this.set("leaves",Hb.List([Hx.create()]))}return 0===e.size&&(e=e.push(Hx.create())),this.set("leaves",e)}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(t.isText(e))return e;if("string"==typeof e&&(e={leaves:[{text:e}]}),mx(e)){if(e.text){var n=e,r=n.text,o=n.marks,i=n.key;e={key:i,leaves:[{text:r,marks:o}]}}return t.fromJSON(e)}throw new Error("`Text.create` only accepts objects, arrays, strings or texts, but you passed it: "+e)}},{key:"createList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(Hb.List.isList(e)||Array.isArray(e)){var n=new Hb.List(e.map(t.create));return n}throw new Error("`Text.createList` only accepts arrays or lists, but you passed it: "+e)}},{key:"fromJSON",value:function(e){if(t.isText(e))return e;var n=e.key,r=void 0===n?Sx.create():n,o=e.leaves;if(o||(e.ranges?(gx(!1,"As of slate@0.27.0, the `ranges` property of Slate objects has been renamed to `leaves`."),o=e.ranges):o=Hb.List()),Array.isArray(o))o=Hb.List(o.map((function(e){return Hx.create(e)})));else{if(!Hb.List.isList(o))throw new Error("leaves must be either Array or Immutable.List");o=o.map((function(e){return Hx.create(e)}))}return 0===o.size&&(o=o.push(Hx.create())),new t({leaves:Hx.createLeaves(o),key:r})}},{key:"isTextList",value:function(e){return Hb.List.isList(e)&&e.every((function(e){return t.isText(e)}))}}]),t}(Hb.Record(eE));Jx(tE.prototype,["getActiveMarks","getMarks","getMarksAsArray"]);var nE=function(){function e(){Ox(this,e)}return Tx(e,null,[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.isNode(t))return t;if(mx(t)){var n=t.object;switch(!n&&t.kind&&(gx(!1,"As of slate@0.32.0, the `kind` property of Slate objects has been renamed to `object`."),n=t.kind),n){case"block":return oE.create(t);case"document":return Lx.create(t);case"inline":return jx.create(t);case"text":return tE.create(t);default:throw new Error("`Node.create` requires a `object` string.")}}throw new Error("`Node.create` only accepts objects or nodes but you passed it: "+t)}},{key:"createList",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(Hb.List.isList(t)||Array.isArray(t)){var n=Hb.List(t.map(e.create));return n}throw new Error("`Node.createList` only accepts lists or arrays, but you passed it: "+t)}},{key:"createProperties",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(oE.isBlock(e)||jx.isInline(e))return{data:e.data,type:e.type};if("string"==typeof e)return{type:e};if(mx(e)){var t={};return"type"in e&&(t.type=e.type),"data"in e&&(t.data=Ix.create(e.data)),t}throw new Error("`Node.createProperties` only accepts objects, strings, blocks or inlines, but you passed it: "+e)}},{key:"fromJSON",value:function(e){var t=e.object;switch(!t&&e.kind&&(gx(!1,"As of slate@0.32.0, the `kind` property of Slate objects has been renamed to `object`."),t=e.kind),t){case"block":return oE.fromJSON(e);case"document":return Lx.fromJSON(e);case"inline":return jx.fromJSON(e);case"text":return tE.fromJSON(e);default:throw new Error("`Node.fromJSON` requires an `object` of either 'block', 'document', 'inline' or 'text', but you passed: "+e)}}},{key:"isNode",value:function(e){return oE.isBlock(e)||Lx.isDocument(e)||jx.isInline(e)||tE.isText(e)}},{key:"isNodeList",value:function(t){return Hb.List.isList(t)&&t.every((function(t){return e.isNode(t)}))}}]),e}(),rE={data:void 0,key:void 0,nodes:void 0,type:void 0},oE=function(e){function t(){return Ox(this,t),Dx(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Ax(t,e),Tx(t,[{key:"toJSON",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={object:this.object,type:this.type,data:this.data.toJSON(),nodes:this.nodes.toArray().map((function(t){return t.toJSON(e)}))};return e.preserveKeys&&(t.key=this.key),t}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isBlock(e))return e;if("string"==typeof e&&(e={type:e}),mx(e))return t.fromJSON(e);throw new Error("`Block.create` only accepts objects, strings or blocks, but you passed it: "+e)}},{key:"createList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(Hb.List.isList(e)||Array.isArray(e)){var n=new Hb.List(e.map(t.create));return n}throw new Error("`Block.createList` only accepts arrays or lists, but you passed it: "+e)}},{key:"fromJSON",value:function(e){if(t.isBlock(e))return e;var n=e.data,r=void 0===n?{}:n,o=e.key,i=void 0===o?Sx.create():o,a=e.nodes,s=void 0===a?[]:a,l=e.type;if("string"!=typeof l)throw new Error("`Block.fromJSON` requires a `type` string.");return new t({key:i,type:l,data:Hb.fromJS(r),nodes:nE.createList(s)})}},{key:"isBlockList",value:function(e){return Hb.List.isList(e)&&e.every((function(e){return t.isBlock(e)}))}}]),t}(Hb.Record(rE));function iE(e,t){for(var n=fE(e,t),r=0;r<n;r++){var o=e.get(r),i=t.get(r);if(o<i)return-1;if(o>i)return 1}return e.size===t.size?0:null}function aE(e){if(null==e)return null;if(Hb.List.isList(e))return e;if(Array.isArray(e))return Hb.List(e);throw new Error("Paths can only be created from arrays or lists, but you passed: "+e)}function sE(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fE(e,t),r=e.slice(0,n),o=t.slice(0,n);return[r,o]}function lE(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.size-1;return uE(e,0-t,n)}function uE(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.size-1,r=e.get(n),o=r+t,i=e.set(n,o);return i}function cE(e,t){var n=sE(e,t),r=Px(n,2),o=r[0],i=r[1];return e.size<t.size&&0===iE(o,i)}function dE(e,t){return e.equals(t)}function pE(e,t){var n=e.size-1,r=sE(e,t,n),o=Px(r,2),i=o[0],a=o[1],s=e.get(n),l=t.get(n);return dE(i,a)&&s<l}function fE(e,t){return Math.min(e.size,t.size)}var hE={compare:iE,create:aE,crop:sE,decrement:lE,getAncestors:function(e){return Hb.List().withMutations((function(t){for(var n=0;n<e.size;n++)t.push(e.slice(0,n))}))},increment:uE,isAbove:cE,isAfter:function(e,t){var n=sE(e,t),r=Px(n,2);return 1===iE(r[0],r[1])},isBefore:function(e,t){var n=sE(e,t),r=Px(n,2);return-1===iE(r[0],r[1])},isEqual:dE,isOlder:function(e,t){var n=e.size-1,r=sE(e,t,n),o=Px(r,2),i=o[0],a=o[1],s=e.get(n),l=t.get(n);return dE(i,a)&&s>l},isSibling:function(e,t){if(e.size!==t.size)return!1;var n=e.butLast(),r=t.butLast();return n.equals(r)},isYounger:pE,lift:function(e){return e.slice(0,-1)},drop:function(e){return e.slice(1)},max:function(e,t){return Math.max(e.size,t.size)},min:fE,relate:function(e,t){for(var n=[],r=0;r<e.size&&r<t.size;r++){var o=e.get(r);if(o!==t.get(r))break;n.push(o)}return aE(n)},transform:function(e,t){var n=t.type,r=t.position,o=t.path;if("add_mark"===n||"insert_text"===n||"remove_mark"===n||"remove_text"===n||"set_mark"===n||"set_node"===n||"set_selection"===n||"set_value"===n||0===e.size)return Hb.List([e]);var i=o.size-1,a=dE(o,e),s=pE(o,e),l=cE(o,e);if("insert_node"===n&&(a||s||l)&&(e=uE(e,1,i)),"remove_node"===n&&(s?e=lE(e,1,i):(a||l)&&(e=[])),"merge_node"===n&&(a||s?e=lE(e,1,i):l&&(e=uE(e=lE(e,1,i),r,i+1))),"split_node"===n&&(a?e=[e,uE(e)]:s?e=uE(e,1,i):l&&e.get(i+1)>=r&&(e=lE(e=uE(e,1,i),r,i+1))),"move_node"===n){var u=t.newPath;if(dE(o,u))return Hb.List([e]);l||a?e=pE(o,u)&&o.size<u.size?lE(u,1,fE(u,o)-1).concat(e.slice(o.size)):u.concat(e.slice(o.size)):(s&&(e=lE(e,1,i)),(pE(u,e)||dE(u,e)||cE(u,e))&&(e=uE(e,1,u.size-1)))}var c=Array.isArray(e)?e:[e];return Hb.List(c)}},mE={key:void 0,offset:void 0,path:void 0},gE=function(e){function t(){return Ox(this,t),Dx(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Ax(t,e),Tx(t,[{key:"isAfterPoint",value:function(e){return!this.isUnset&&(this.key===e.key&&this.offset>e.offset||1===hE.compare(this.path,e.path))}},{key:"isAfterRange",value:function(e){return!this.isUnset&&this.isAfterPoint(e.end)}},{key:"isAtEndOfRange",value:function(e){return!this.isUnset&&this.equals(e.end)}},{key:"isAtStartOfRange",value:function(e){return!this.isUnset&&this.equals(e.start)}},{key:"isBeforePoint",value:function(e){return!this.isUnset&&(this.key===e.key&&this.offset<e.offset||-1===hE.compare(this.path,e.path))}},{key:"isBeforeRange",value:function(e){return!this.isUnset&&this.isBeforePoint(e.start)}},{key:"isInRange",value:function(e){return!this.isUnset&&(this.equals(e.start)||this.equals(e.end)||this.isAfterPoint(e.start)&&this.isBeforePoint(e.end))}},{key:"isAtEndOfNode",value:function(e){if(this.isUnset)return!1;var t=e.getLastText();return this.key===t.key&&this.offset===t.text.length}},{key:"isAtStartOfNode",value:function(e){if(this.isUnset)return!1;if(0!==this.offset)return!1;var t=e.getFirstText();return this.key===t.key}},{key:"isInNode",value:function(e){return!this.isUnset&&("text"===e.object&&e.key===this.key||!!e.hasNode(this.key))}},{key:"moveBackward",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(0===e)return this;if(e<0)return this.moveForward(-e);var t=this.setOffset(this.offset-e);return t}},{key:"moveForward",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(0===e)return this;if(e<0)return this.moveBackward(-e);var t=this.setOffset(this.offset+e);return t}},{key:"moveTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.key;"number"==typeof e?(t=e,e=this.path):"string"==typeof e?e=(n=e)===this.key?this.path:null:n=e.equals(this.path)?this.key:null;var r=this.merge({key:n,path:e,offset:t});return r}},{key:"moveToStartOfNode",value:function(e){var t=e.getFirstText();return this.moveTo(t.key,0)}},{key:"moveToEndOfNode",value:function(e){var t=e.getLastText();return this.moveTo(t.key,t.text.length)}},{key:"normalize",value:function(e){if(null==this.key&&null==this.path)return this.setOffset(null);var n=this.key,r=this.offset,o=this.path,i=o&&e.getNode(o);if(!i&&(i=e.getNode(n)))return this.merge({path:e.getPath(n)});if(!i){gx(!1,"A point's `path` or `key` invalid and was reset!");var a=e.getFirstText();return a?this.merge({key:a.key,offset:0,path:e.getPath(a.key)}):t.create()}if("text"!==i.object){gx(!1,"A point should not reference a non-text node!");var s=i.getTextAtOffset(r),l=i.getOffset(s.key);return this.merge({offset:r-l,key:s.key,path:e.getPath(s.key)})}return i&&o&&n&&n!==i.key&&gx(!1,"A point's `key` did not match its `path`!"),this.merge({key:i.key,path:null==o?e.getPath(i.key):o,offset:null==r?0:Math.min(r,i.text.length)})}},{key:"setKey",value:function(e){return null!=e&&(e=Sx.create(e)),this.set("key",e)}},{key:"setOffset",value:function(e){return this.set("offset",e)}},{key:"setPath",value:function(e){return null!=e&&(e=hE.create(e)),this.set("path",e)}},{key:"toJSON",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={object:this.object,key:this.key,offset:this.offset,path:this.path&&this.path.toArray()};return e.preserveKeys||delete t.key,t}},{key:"unset",value:function(){return this.merge({key:null,offset:null,path:null})}},{key:"isSet",get:function(){return null!=this.key&&null!=this.offset&&null!=this.path}},{key:"isUnset",get:function(){return!this.isSet}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isPoint(e))return e;if(mx(e))return t.fromJSON(e);throw new Error("`Point.create` only accepts objects or points, but you passed it: "+e)}},{key:"createProperties",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isPoint(e))return{key:e.key,offset:e.offset,path:e.path};if(mx(e)){var n={};return"key"in e&&(n.key=e.key),"offset"in e&&(n.offset=e.offset),"path"in e&&(n.path=hE.create(e.path)),"path"in e&&!("key"in e)&&(n.key=null),"key"in e&&!("path"in e)&&(n.path=null),n}throw new Error("`Point.createProperties` only accepts objects or points, but you passed it: "+e)}},{key:"fromJSON",value:function(e){var n=e.key,r=void 0===n?null:n,o=e.offset,i=void 0===o?null:o,a=e.path,s=void 0===a?null:a;return new t({key:r,offset:i,path:hE.create(s)})}}]),t}(Hb.Record(mE)),vE={anchor:void 0,focus:void 0,mark:void 0},yE=function(e){function t(){return Ox(this,t),Dx(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Ax(t,e),Tx(t,[{key:"setProperties",value:function(e){var n=e=t.createProperties(e),r=n.anchor,o=n.focus,i=n.mark,a={};return r&&(a.anchor=gE.create(r)),o&&(a.focus=gE.create(o)),i&&(a.mark=Vx.create(i)),this.merge(a)}},{key:"toJSON",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={object:this.object,anchor:this.anchor.toJSON(e),focus:this.focus.toJSON(e),mark:this.mark.toJSON(e)};return t}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isDecoration(e))return e;if(CE.isRange(e))return t.fromJSON(CE.createProperties(e));if(mx(e))return t.fromJSON(e);throw new Error("`Decoration.create` only accepts objects or decorations, but you passed it: "+e)}},{key:"createList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(Hb.List.isList(e)||Array.isArray(e)){var n=new Hb.List(e.map(t.create));return n}throw new Error("`Decoration.createList` only accepts arrays or lists, but you passed it: "+e)}},{key:"createProperties",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isDecoration(e))return{anchor:gE.createProperties(e.anchor),focus:gE.createProperties(e.focus),mark:Vx.create(e.mark)};if(mx(e)){var n={};return"anchor"in e&&(n.anchor=gE.create(e.anchor)),"focus"in e&&(n.focus=gE.create(e.focus)),"mark"in e&&(n.mark=Vx.create(e.mark)),n}throw new Error("`Decoration.createProperties` only accepts objects or decorations, but you passed it: "+e)}},{key:"fromJSON",value:function(e){var n=e.anchor,r=e.focus,o=e.mark;if(!o)throw new Error("Decorations must be created with a `mark`, but you passed: "+JSON.stringify(e));return new t({anchor:gE.fromJSON(n||{}),focus:gE.fromJSON(r||{}),mark:Vx.fromJSON(o)})}}]),t}(Hb.Record(vE)),bE={block:"@@__SLATE_BLOCK__@@",change:"@@__SLATE_CHANGE__@@",decoration:"@@__SLATE_DECORATION__@@",document:"@@__SLATE_DOCUMENT__@@",editor:"@@__SLATE_EDITOR__@@",inline:"@@__SLATE_INLINE__@@",leaf:"@@__SLATE_LEAF__@@",mark:"@@__SLATE_MARK__@@",operation:"@@__SLATE_OPERATION__@@",point:"@@__SLATE_POINT__@@",range:"@@__SLATE_RANGE__@@",selection:"@@__SLATE_SELECTION__@@",text:"@@__SLATE_TEXT__@@",value:"@@__SLATE_VALUE__@@"};function wE(e,t){return!(!t||!t[bE[e]])}var kE={anchor:void 0,focus:void 0},CE=function(e){function t(){return Ox(this,t),Dx(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Ax(t,e),Tx(t,[{key:"toJSON",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={object:this.object,anchor:this.anchor.toJSON(e),focus:this.focus.toJSON(e)};return t}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isRange(e))return"range"===e.object?e:t.fromJSON(t.createProperties(e));if(mx(e))return t.fromJSON(e);throw new Error("`Range.create` only accepts objects or ranges, but you passed it: "+e)}},{key:"createList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(Hb.List.isList(e)||Array.isArray(e)){var n=new Hb.List(e.map(t.create));return n}throw new Error("`Range.createList` only accepts arrays or lists, but you passed it: "+e)}},{key:"createProperties",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isRange(e))return{anchor:gE.createProperties(e.anchor),focus:gE.createProperties(e.focus)};if(mx(e)){var n={};return"anchor"in e&&(n.anchor=gE.create(e.anchor)),"focus"in e&&(n.focus=gE.create(e.focus)),n}throw new Error("`Range.createProperties` only accepts objects, decorations, ranges or selections, but you passed it: "+e)}},{key:"fromJSON",value:function(e){var n=e.anchor,r=e.focus;return new t({anchor:gE.fromJSON(n||{}),focus:gE.fromJSON(r||{})})}},{key:"isRange",value:function(e){return wE("range",e)||yE.isDecoration(e)||EE.isSelection(e)}}]),t}(Hb.Record(kE)),xE={anchor:void 0,focus:void 0,isFocused:void 0,marks:void 0},EE=function(e){function t(){return Ox(this,t),Dx(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Ax(t,e),Tx(t,[{key:"setIsFocused",value:function(e){return this.set("isFocused",e)}},{key:"setMarks",value:function(e){return this.set("marks",e)}},{key:"setProperties",value:function(e){var n=e=t.createProperties(e),r=n.anchor,o=n.focus,i=Nx(n,["anchor","focus"]);return r&&(i.anchor=gE.create(r)),o&&(i.focus=gE.create(o)),this.merge(i)}},{key:"toJSON",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={object:this.object,anchor:this.anchor.toJSON(e),focus:this.focus.toJSON(e),isFocused:this.isFocused,marks:null==this.marks?null:this.marks.toArray().map((function(e){return e.toJSON()}))};return t}},{key:"isBlurred",get:function(){return!this.isFocused}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isSelection(e))return e;if(CE.isRange(e))return t.fromJSON(CE.createProperties(e));if(mx(e))return t.fromJSON(e);throw new Error("`Selection.create` only accepts objects, ranges or selections, but you passed it: "+e)}},{key:"createProperties",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isSelection(e))return{anchor:gE.createProperties(e.anchor),focus:gE.createProperties(e.focus),isFocused:e.isFocused,marks:e.marks};if(CE.isRange(e))return{anchor:gE.createProperties(e.anchor),focus:gE.createProperties(e.focus)};if(mx(e)){var n={};return"anchor"in e&&(n.anchor=gE.create(e.anchor)),"focus"in e&&(n.focus=gE.create(e.focus)),"isFocused"in e&&(n.isFocused=e.isFocused),"marks"in e&&(n.marks=null==e.marks?null:Vx.createSet(e.marks)),n}throw new Error("`Selection.createProperties` only accepts objects, ranges or selections, but you passed it: "+e)}},{key:"fromJSON",value:function(e){var n=e.anchor,r=e.focus,o=e.isFocused,i=void 0!==o&&o,a=e.marks,s=void 0===a?null:a;return new t({anchor:gE.fromJSON(n||{}),focus:gE.fromJSON(r||{}),isFocused:i,marks:null==s?null:new Hb.Set(s.map(Vx.fromJSON))})}}]),t}(Hb.Record(xE)),SE={data:void 0,decorations:void 0,document:void 0,selection:void 0},_E=function(e){function t(){return Ox(this,t),Dx(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Ax(t,e),Tx(t,[{key:"addMark",value:function(e,t,n,r){var o=this,i=o.document;return i=i.addMark(e,t,n,r),o=this.set("document",i)}},{key:"insertNode",value:function(e,t){var n=this,r=n.document;return r=r.insertNode(e,t),n=(n=n.set("document",r)).mapRanges((function(e){return e.updatePoints((function(e){return e.setPath(null)}))}))}},{key:"insertText",value:function(e,t,n,r){var o=this,i=o.document,a=i.assertNode(e);return i=i.insertText(e,t,n,r),o=(o=o.set("document",i)).mapRanges((function(e){return e.updatePoints((function(e){return e.key===a.key&&e.offset>=t?e.setOffset(e.offset+n.length):e}))}))}},{key:"mergeNode",value:function(e){var t=this,n=t.document,r=n.mergeNode(e);e=n.resolvePath(e);var o=hE.decrement(e),i=n.getNode(o),a=n.getNode(e);return t=(t=t.set("document",r)).mapRanges((function(e){if("text"===a.object){var t=i.text.length;e.anchor.key===a.key&&(e=e.moveAnchorTo(i.key,t+e.anchor.offset)),e.focus.key===a.key&&(e=e.moveFocusTo(i.key,t+e.focus.offset))}return e=e.updatePoints((function(e){return e.setPath(null)}))}))}},{key:"moveNode",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this,o=r,i=o.document;return i=i.moveNode(e,t,n),r=(r=r.set("document",i)).mapRanges((function(e){return e.updatePoints((function(e){return e.setPath(null)}))}))}},{key:"removeMark",value:function(e,t,n,r){var o=this,i=o.document;return i=i.removeMark(e,t,n,r),o=this.set("document",i)}},{key:"removeNode",value:function(e){var t=this,n=t.document,r=n.assertNode(e),o="text"===r.object?r:r.getFirstText()||r,i="text"===r.object?r:r.getLastText()||r,a=n.getPreviousText(o.key),s=n.getNextText(i.key);return n=n.removeNode(e),t=(t=t.set("document",n)).mapRanges((function(e){var t=e,n=t.start,o=t.end;return r.hasNode(n.key)&&(e=a?e.moveStartTo(a.key,a.text.length):s?e.moveStartTo(s.key,0):e.unset()),r.hasNode(o.key)&&(e=a?e.moveEndTo(a.key,a.text.length):s?e.moveEndTo(s.key,0):e.unset()),e=e.updatePoints((function(e){return e.setPath(null)}))}))}},{key:"removeText",value:function(e,t,n){var r=this,o=r.document,i=o.assertNode(e);o=o.removeText(e,t,n),r=r.set("document",o);var a=n.length,s=t,l=t+a;return r=r.mapRanges((function(e){return e.updatePoints((function(e){return e.key!==i.key?e:e.offset>=l?e.setOffset(e.offset-a):e.offset>s?e.setOffset(s):e}))}))}},{key:"setNode",value:function(e,t){var n=this,r=n.document;return r=r.setNode(e,t),n=n.set("document",r)}},{key:"setMark",value:function(e,t,n,r,o){var i=this,a=i.document;return a=a.setMark(e,t,n,r,o),i=i.set("document",a)}},{key:"setProperties",value:function(e){var t=this,n=t.document,r=e.data,o=e.decorations,i={};return r&&(i.data=r),o&&(i.decorations=o.map((function(e){return e.isSet?e:n.resolveDecoration(e)}))),t=t.merge(i)}},{key:"setSelection",value:function(e){var t=this,n=t,r=n.document,o=n.selection,i=o.setProperties(e);return o=r.resolveSelection(i),t=t.set("selection",o)}},{key:"splitNode",value:function(e,t,n){var r=this,o=r.document,i=o.splitNode(e,t,n),a=o.assertNode(e);return r=(r=r.set("document",i)).mapRanges((function(e){var n=i.getNextText(a.key),r=e,o=r.start,s=r.end;return a.key===o.key&&t<=o.offset&&(e=e.moveStartTo(n.key,o.offset-t)),a.key===s.key&&t<=s.offset&&(e=e.moveEndTo(n.key,s.offset-t)),e=e.updatePoints((function(e){return e.setPath(null)}))}))}},{key:"mapRanges",value:function(e){var t=this,n=t,r=n.document,o=n.selection,i=n.decorations,a=o.isSet?e(o):o;a||(a=o.unset()),a!==o&&(a=r.createSelection(a)),t=t.set("selection",a);var s=i.map((function(t){var n=t.isSet?e(t):t;return n&&n!==t&&(n=r.createDecoration(n)),n}));return s=s.filter((function(e){return!!e})),t=t.set("decorations",s)}},{key:"toJSON",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={object:this.object,document:this.document.toJSON(e)};return e.preserveData&&(t.data=this.data.toJSON(e)),e.preserveDecorations&&(t.decorations=this.decorations.toArray().map((function(t){return t.toJSON(e)}))),e.preserveSelection&&(t.selection=this.selection.toJSON(e)),t}},{key:"change",value:function(){vx(!1,"As of Slate 0.42.0, value object are no longer schema-aware, and the `value.change()` method is no longer available. Use the `editor.change()` method on the new `Editor` controller instead.")}},{key:"startBlock",get:function(){return this.selection.start.key&&this.document.getClosestBlock(this.selection.start.key)}},{key:"endBlock",get:function(){return this.selection.end.key&&this.document.getClosestBlock(this.selection.end.key)}},{key:"anchorBlock",get:function(){return this.selection.anchor.key&&this.document.getClosestBlock(this.selection.anchor.key)}},{key:"focusBlock",get:function(){return this.selection.focus.key&&this.document.getClosestBlock(this.selection.focus.key)}},{key:"startInline",get:function(){return this.selection.start.key&&this.document.getClosestInline(this.selection.start.key)}},{key:"endInline",get:function(){return this.selection.end.key&&this.document.getClosestInline(this.selection.end.key)}},{key:"anchorInline",get:function(){return this.selection.anchor.key&&this.document.getClosestInline(this.selection.anchor.key)}},{key:"focusInline",get:function(){return this.selection.focus.key&&this.document.getClosestInline(this.selection.focus.key)}},{key:"startText",get:function(){return this.selection.start.key&&this.document.getDescendant(this.selection.start.key)}},{key:"endText",get:function(){return this.selection.end.key&&this.document.getDescendant(this.selection.end.key)}},{key:"anchorText",get:function(){return this.selection.anchor.key&&this.document.getDescendant(this.selection.anchor.key)}},{key:"focusText",get:function(){return this.selection.focus.key&&this.document.getDescendant(this.selection.focus.key)}},{key:"nextBlock",get:function(){return this.selection.end.key&&this.document.getNextBlock(this.selection.end.key)}},{key:"previousBlock",get:function(){return this.selection.start.key&&this.document.getPreviousBlock(this.selection.start.key)}},{key:"nextInline",get:function(){return this.selection.end.key&&this.document.getNextInline(this.selection.end.key)}},{key:"previousInline",get:function(){return this.selection.start.key&&this.document.getPreviousInline(this.selection.start.key)}},{key:"nextText",get:function(){return this.selection.end.key&&this.document.getNextText(this.selection.end.key)}},{key:"previousText",get:function(){return this.selection.start.key&&this.document.getPreviousText(this.selection.start.key)}},{key:"marks",get:function(){return this.selection.isUnset?new Hb.Set:this.selection.marks||this.document.getMarksAtRange(this.selection)}},{key:"activeMarks",get:function(){return this.selection.isUnset?new Hb.Set:this.selection.marks||this.document.getActiveMarksAtRange(this.selection)}},{key:"blocks",get:function(){return this.selection.isUnset?new Hb.List:this.document.getLeafBlocksAtRange(this.selection)}},{key:"fragment",get:function(){return this.selection.isUnset?Lx.create():this.document.getFragmentAtRange(this.selection)}},{key:"inlines",get:function(){return this.selection.isUnset?new Hb.List:this.document.getLeafInlinesAtRange(this.selection)}},{key:"texts",get:function(){return this.selection.isUnset?new Hb.List:this.document.getTextsAtRange(this.selection)}},{key:"history",get:function(){vx(!1,"As of Slate 0.42.0, the `value.history` model no longer exists, and the history is stored in `value.data` instead using plugins.")}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.isValue(e))return e;if(mx(e))return t.fromJSON(e,n);throw new Error("`Value.create` only accepts objects or values, but you passed it: "+e)}},{key:"createProperties",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isValue(e))return{data:e.data,decorations:e.decorations};if(mx(e)){var n={};return"data"in e&&(n.data=Ix.create(e.data)),"decorations"in e&&(n.decorations=yE.createList(e.decorations)),n}throw new Error("`Value.createProperties` only accepts objects or values, but you passed it: "+e)}},{key:"fromJSON",value:function(e){var n=e.data,r=void 0===n?{}:n,o=e.decorations,i=void 0===o?[]:o,a=e.document,s=void 0===a?{}:a,l=e.selection,u=void 0===l?{}:l;if(r=Ix.fromJSON(r),u=(s=Lx.fromJSON(s)).createSelection(u),i=Hb.List(i.map((function(e){return yE.fromJSON(e)}))),u.isUnset){var c=s.getFirstText();c&&(u=u.moveToStartOfNode(c)),u=s.createSelection(u)}return new t({data:r,decorations:i,document:s,selection:u})}}]),t}(Hb.Record(SE)),OE=yx("slate:operation:apply");function TE(e,t){var n=(t=PE.create(t)).type;switch(OE(n,t),n){case"add_mark":var r=t,o=r.path,i=r.offset,a=r.length,s=r.mark;return e.addMark(o,i,a,s);case"insert_node":var l=t,u=l.path,c=l.node;return e.insertNode(u,c);case"insert_text":var d=t,p=d.path,f=d.offset,h=d.text,m=d.marks;return e.insertText(p,f,h,m);case"merge_node":var g=t.path;return e.mergeNode(g);case"move_node":var v=t,y=v.path,b=v.newPath;return hE.isEqual(y,b)?e:e.moveNode(y,b);case"remove_mark":var w=t,k=w.path,C=w.offset,x=w.length,E=w.mark;return e.removeMark(k,C,x,E);case"remove_node":var S=t.path;return e.removeNode(S);case"remove_text":var _=t,O=_.path,T=_.offset,R=_.text;return e.removeText(O,T,R);case"set_mark":var A=t,N=A.path,D=A.offset,P=A.length,M=A.mark,I=A.properties;return e.setMark(N,D,P,M,I);case"set_node":var F=t,L=F.path,B=F.properties;return e.setNode(L,B);case"set_selection":var j=t.properties;return e.setSelection(j);case"set_value":var z=t.properties;return e.setProperties(z);case"split_node":var V=t,U=V.path,H=V.position,G=V.properties;return e.splitNode(U,H,G);default:throw new Error('Unknown operation type: "'+n+'".')}}var RE=yx("slate:operation:invert");function AE(e){var t=(e=PE.create(e)).type;switch(RE(t,e),t){case"insert_node":return e.set("type","remove_node");case"remove_node":return e.set("type","insert_node");case"move_node":var n=e,r=n.newPath,o=n.path;if(hE.isEqual(r,o))return e;var i=hE.transform(o,e).first(),a=hE.transform(hE.increment(o),e).first();return e.set("path",i).set("newPath",a);case"merge_node":var s=e.path,l=hE.decrement(s);return e.set("type","split_node").set("path",l);case"split_node":var u=e.path,c=hE.increment(u);return e.set("type","merge_node").set("path",c);case"set_node":var d=e,p=d.properties,f=d.node,h=f.merge(p),m=bx(f,Object.keys(p));return e.set("node",h).set("properties",m);case"insert_text":return e.set("type","remove_text");case"remove_text":return e.set("type","insert_text");case"add_mark":return e.set("type","remove_mark");case"remove_mark":return e.set("type","add_mark");case"set_mark":var g=e,v=g.properties,y=g.mark,b=y.merge(v),w=bx(y,Object.keys(v));return e.set("mark",b).set("properties",w);case"set_selection":var k=e,C=k.properties,x=k.selection,E=x.merge(C),S=bx(x,Object.keys(C));return e.set("selection",E).set("properties",S);case"set_value":var _=e,O=_.properties,T=_.value,R=T.merge(O),A=bx(T,Object.keys(O));return e.set("value",R).set("properties",A);default:throw new Error('Unknown operation type: "'+t+'".')}}var NE={add_mark:["value","path","offset","length","mark","data"],insert_node:["value","path","node","data"],insert_text:["value","path","offset","text","marks","data"],merge_node:["value","path","position","properties","target","data"],move_node:["value","path","newPath","data"],remove_mark:["value","path","offset","length","mark","data"],remove_node:["value","path","node","data"],remove_text:["value","path","offset","text","marks","data"],set_mark:["value","path","offset","length","mark","properties","data"],set_node:["value","path","node","properties","data"],set_selection:["value","selection","properties","data"],set_value:["value","properties","data"],split_node:["value","path","position","properties","target","data"]},DE={length:void 0,mark:void 0,marks:void 0,newPath:void 0,node:void 0,offset:void 0,path:void 0,position:void 0,properties:void 0,selection:void 0,target:void 0,text:void 0,type:void 0,value:void 0,data:void 0},PE=function(e){function t(){return Ox(this,t),Dx(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Ax(t,e),Tx(t,[{key:"apply",value:function(e){return TE(e,this)}},{key:"invert",value:function(){return AE(this)}},{key:"toJSON",value:function(){var e=this.object,t=this.type,n={object:e,type:t},r=NE[t],o=!0,i=!1,a=void 0;try{for(var s,l=r[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var u=s.value,c=this[u];if("document"!==u&&("selection"!==u&&"value"!==u&&("node"!==u||"insert_node"===t))){if("mark"!==u&&"marks"!==u&&"node"!==u&&"path"!==u&&"newPath"!==u||(c=c.toJSON()),"properties"===u&&"merge_node"===t){var d={};"data"in c&&(d.data=c.data.toJS()),"type"in c&&(d.type=c.type),c=d}if("properties"===u&&"set_mark"===t){var p={};"data"in c&&(p.data=c.data.toJS()),"type"in c&&(p.type=c.type),c=p}if("properties"===u&&"set_node"===t){var f={};"data"in c&&(f.data=c.data.toJS()),"type"in c&&(f.type=c.type),c=f}if("properties"===u&&"set_selection"===t){var h={};"anchor"in c&&(h.anchor=c.anchor.toJSON()),"focus"in c&&(h.focus=c.focus.toJSON()),"isFocused"in c&&(h.isFocused=c.isFocused),"marks"in c&&(h.marks=c.marks&&c.marks.toJSON()),c=h}if("properties"===u&&"set_value"===t){var m={};"data"in c&&(m.data=c.data.toJS()),"decorations"in c&&(m.decorations=c.decorations.toJS()),c=m}if("properties"===u&&"split_node"===t){var g={};"data"in c&&(g.data=c.data.toJS()),"type"in c&&(g.type=c.type),c=g}"data"===u&&(c=c.toJSON()),n[u]=c}}}catch(e){i=!0,a=e}finally{try{!o&&l.return&&l.return()}finally{if(i)throw a}}return n}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isOperation(e))return e;if(mx(e))return t.fromJSON(e);throw new Error("`Operation.create` only accepts objects or operations, but you passed it: "+e)}},{key:"createList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(Hb.List.isList(e)||Array.isArray(e)){var n=new Hb.List(e.map(t.create));return n}throw new Error("`Operation.createList` only accepts arrays or lists, but you passed it: "+e)}},{key:"fromJSON",value:function(e){if(t.isOperation(e))return e;var n=e.type,r=NE[n],o={type:n};if(!r)throw new Error('`Operation.fromJSON` was passed an unrecognized operation type: "'+n+'"');var i=!0,a=!1,s=void 0;try{for(var l,u=r[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){var c=l.value,d=e[c];if("data"===c&&void 0===d&&(d={}),void 0===d){if("document"===c)continue;if("selection"===c)continue;if("value"===c)continue;if("node"===c&&"insert_node"!==n)continue;throw new Error('`Operation.fromJSON` was passed a "'+n+'" operation without the required "'+c+'" attribute.')}"path"!==c&&"newPath"!==c||(d=hE.create(d)),"mark"===c&&(d=Vx.create(d)),"marks"===c&&null!=d&&(d=Vx.createSet(d)),"node"===c&&(d=nE.create(d)),"selection"===c&&(d=EE.create(d)),"value"===c&&(d=_E.create(d)),"properties"===c&&"merge_node"===n&&(d=nE.createProperties(d)),"properties"===c&&"set_mark"===n&&(d=Vx.createProperties(d)),"properties"===c&&"set_node"===n&&(d=nE.createProperties(d)),"properties"===c&&"set_selection"===n&&(d=EE.createProperties(d)),"properties"===c&&"set_value"===n&&(d=_E.createProperties(d)),"properties"===c&&"split_node"===n&&(d=nE.createProperties(d)),"data"===c&&(d=Hb.Map(d)),o[c]=d}}catch(e){a=!0,s=e}finally{try{!i&&u.return&&u.return()}finally{if(a)throw s}}return new t(o)}},{key:"isOperationList",value:function(e){return Hb.List.isList(e)&&e.every((function(e){return t.isOperation(e)}))}}]),t}(Hb.Record(DE)),ME={operations:void 0,value:void 0},IE=function(e){function t(){return Ox(this,t),Dx(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Ax(t,e),Tx(t,[{key:"toJSON",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={object:this.object,value:this.value.toJSON(e),operations:this.operations.toArray().map((function(t){return t.toJSON(e)}))};return t}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isChange(e))return e;if(mx(e))return t.fromJSON(e);throw new Error("`Change.create` only accepts objects or changes, but you passed it: "+e)}},{key:"fromJSON",value:function(e){var n=e.value,r=e.operations,o=void 0===r?[]:r;return new t({value:_E.create(n),operations:PE.createList(o)})}}]),t}(Hb.Record(ME));function FE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};function t(t,n,r){var o=t.type,i=t.args,a=e[o];if(!a)return r();n.command.apply(n,[a].concat(Mx(i)))}function n(t,n){for(var r in e)t.registerCommand(r);return n()}return{onCommand:t,onConstruct:n}}var LE=/\s/,BE=/['\u2018\u2019]/,jE=/[\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/;function zE(e){return 55296<=e&&e<=57343}function VE(e,t){if(LE.test(e))return!1;if(BE.test(e)){var n=t.charAt(0),r=UE(n);if(VE(n=t.slice(0,r),t.slice(r)))return!0}return!jE.test(e)}function UE(e){return zE(e.charCodeAt(0))?2:1}function HE(e){return UE(e.charAt(0))}function GE(e){for(var t=0,n=0,r=!1,o=void 0;o=e.charAt(n);){var i=UE(o);if(VE(o=e.slice(n,n+i),e.slice(n+i)))r=!0,t+=i;else{if(r)break;t+=i}n+=i}return t}var WE={getCharLength:UE,getCharOffset:HE,getCharOffsetBackward:function(e,t){return e=e.slice(0,t),HE(e=Nk.reverse(e))},getCharOffsetForward:function(e,t){return HE(e=e.slice(t))},getWordOffset:GE,getWordOffsetBackward:function(e,t){return e=e.slice(0,t),GE(e=Nk.reverse(e))},getWordOffsetForward:function(e,t){return GE(e=e.slice(t))},isSurrogate:zE,isWord:VE};function qE(e,t){t.isExpanded&&e.deleteAtRange(t);var n=e.value.document,r=t,o=r.start,i=r.end;return t=n.hasDescendant(o.key)?t.moveToStart():t.moveTo(i.key,0).normalize(n)}var YE={addMarkAtRange:function(e,t,n){if(!t.isCollapsed){var r=e.value.document,o=t.start,i=t.end,a=r.getTextsAtRange(t);e.withoutNormalizing((function(){a.forEach((function(t){var r=t.key,a=0,s=t.text.length;r===o.key&&(a=o.offset),r===i.key&&(s=i.offset),r===o.key&&r===i.key&&(s=i.offset-o.offset),e.addMarkByKey(r,a,s,n)}))}))}},addMarksAtRange:function(e,t,n){n.forEach((function(n){return e.addMarkAtRange(t,n)}))},deleteAtRange:function(e,t){e.snapshotSelection();var n=e.value,r=t.start,o=t.end,i=r.key,a=r.offset,s=o.key,l=o.offset,u=n.document,c=u.hasVoidParent(i,e),d=u.hasVoidParent(s,e),p=u.getClosestBlock(i),f=u.getClosestBlock(s),h=0===a&&0===l&&!1===c&&i===p.getFirstText().key&&s===f.getFirstText().key;if(h&&d){var m=u.getPreviousText(s);s=m.key,l=m.text.length,d=u.hasVoidParent(s,e)}e.withoutNormalizing((function(){for(;c;){var t=u.getClosestVoid(i,e),n=u.getNextText(i);if(e.removeNodeByKey(t.key),i===s)return;if(!n)return;u=e.value.document,i=n.key,a=0,c=u.hasVoidParent(i,e)}for(;d;){var r=u.getClosestVoid(s,e),o=u.getPreviousText(s);e.removeNodeByKey(r.key),u=e.value.document,s=o.key,l=o.text.length,d=u.hasVoidParent(s,e)}if(i===s&&h)e.removeNodeByKey(p.key);else if(i!==s){p=u.getClosestBlock(i),f=u.getClosestBlock(s);var m=u.getNode(i),g=u.getNode(s),v=m.text.length-a,y=l,b=u.getCommonAncestor(i,s),w=b.getFurthestAncestor(i),k=b.getFurthestAncestor(s),C=u.getParent(p.key),x=C.nodes.indexOf(p),E=C.nodes.indexOf(f),S=void 0;for(S=m;S.key!==w.key;){var _=u.getParent(S.key),O=_.nodes.indexOf(S);_.nodes.slice(O+1).reverse().forEach((function(t){e.removeNodeByKey(t.key)})),S=_}var T=b.nodes.indexOf(w),R=b.nodes.indexOf(k);for(b.nodes.slice(T+1,R).reverse().forEach((function(t){e.removeNodeByKey(t.key)})),S=g;S.key!==k.key;){var A=u.getParent(S.key),N=A.nodes.indexOf(S);A.nodes.slice(0,N).reverse().forEach((function(t){e.removeNodeByKey(t.key)})),S=A}if(0!==v&&e.removeTextByKey(i,a,v),0!==y&&e.removeTextByKey(s,0,l),p.key!==f.key){var D=(u=e.value.document).getFurthestOnlyChildAncestor(f.key);E!==x+1&&e.moveNodeByKey(f.key,C.key,x+1),h?e.removeNodeByKey(p.key):e.mergeNodeByKey(f.key),D&&e.removeNodeByKey(D.key)}}else{var P=a,M=l-a;e.removeTextByKey(i,P,M)}}))},deleteBackwardAtRange:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(0!==n){var r=e.value,o=r.document,i=t,a=i.start,s=i.focus;if(t.isExpanded)e.deleteAtRange(t);else{var l=o.getClosestVoid(a.key,e);if(l)e.removeNodeByKey(l.key);else if(!a.isAtStartOfNode(o)){var u=o.getClosestBlock(a.key);if(1!==o.nodes.size&&u&&""===u.text&&1===u.nodes.size)e.removeNodeByKey(u.key);else{var c=o.getDescendant(a.key);if(a.isAtStartOfNode(c)){var d=o.getPreviousText(c.key),p=o.getClosestInline(c.key);p&&""===d.text&&(d=o.getPreviousText(d.key));var f=o.getClosestBlock(d.key),h=o.getClosestVoid(d.key,e);if(h)return void e.removeNodeByKey(h.key);if(1===n&&f!==u)return t=t.moveAnchorTo(d.key,d.text.length),void e.deleteAtRange(t)}if(n<s.offset)return t=t.moveFocusBackward(n),void e.deleteAtRange(t);for(var m=c,g=0,v=s.offset;n>v;){var y=v+(m=o.getPreviousText(m.key)).text.length;if(n<=y){g=y-n;break}v=y}t=t.moveAnchorTo(m.key,g),e.deleteAtRange(t)}}}}},deleteCharBackwardAtRange:function(e,t){if(t.isExpanded)e.deleteAtRange(t);else{var n=e.value.document,r=t.start,o=n.getClosestBlock(r.key),i=o.getOffset(r.key)+r.offset,a=o.text,s=WE.getCharOffsetBackward(a,i);e.deleteBackwardAtRange(t,s)}},deleteCharForwardAtRange:function(e,t){if(t.isExpanded)e.deleteAtRange(t);else{var n=e.value.document,r=t.start,o=n.getClosestBlock(r.key),i=o.getOffset(r.key)+r.offset,a=o.text,s=WE.getCharOffsetForward(a,i);e.deleteForwardAtRange(t,s)}},deleteForwardAtRange:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(0!==n){var r=e.value,o=r.document,i=t,a=i.start,s=i.focus;if(t.isExpanded)e.deleteAtRange(t);else{var l=o.getClosestVoid(a.key,e);if(l)e.removeNodeByKey(l.key);else{var u=o.getClosestBlock(a.key);if(u&&!e.isVoid(u)&&""===u.text&&1!==o.nodes.size){var c=o.getNextBlock(u.key);return e.removeNodeByKey(u.key),void(c&&c.key&&e.moveToStartOfNode(c))}if(!a.isAtEndOfNode(o)){var d=o.getDescendant(a.key);if(a.isAtEndOfNode(d)){var p=o.getNextText(d.key),f=o.getClosestBlock(p.key),h=o.getClosestVoid(p.key,e);if(h)return void e.removeNodeByKey(h.key);if(1===n&&f!==u)return t=t.moveFocusTo(p.key,0),void e.deleteAtRange(t)}if(n<=d.text.length-s.offset)return t=t.moveFocusForward(n),void e.deleteAtRange(t);for(var m=d,g=s.offset,v=d.text.length-s.offset;n>v;){var y=v+(m=o.getNextText(m.key)).text.length;if(n<=y){g=n-v;break}v=y}t=t.moveFocusTo(m.key,g),e.deleteAtRange(t)}}}}},deleteLineBackwardAtRange:function(e,t){if(t.isExpanded)e.deleteAtRange(t);else{var n=e.value.document,r=t.start,o=n.getClosestBlock(r.key).getOffset(r.key)+r.offset;e.deleteBackwardAtRange(t,o)}},deleteLineForwardAtRange:function(e,t){if(t.isExpanded)e.deleteAtRange(t);else{var n=e.value.document,r=t.start,o=n.getClosestBlock(r.key),i=o.getOffset(r.key)+r.offset;e.deleteForwardAtRange(t,o.text.length-i)}},deleteWordBackwardAtRange:function(e,t){if(t.isExpanded)e.deleteAtRange(t);else{var n=e.value.document,r=t.start,o=n.getClosestBlock(r.key),i=o.getOffset(r.key)+r.offset,a=o.text,s=0===i?1:WE.getWordOffsetBackward(a,i);e.deleteBackwardAtRange(t,s)}},deleteWordForwardAtRange:function(e,t){if(t.isExpanded)e.deleteAtRange(t);else{var n=e.value.document,r=t.start,o=n.getClosestBlock(r.key),i=o.getOffset(r.key)+r.offset,a=o.text,s=WE.getWordOffsetForward(a,i),l=0===s?1:s;e.deleteForwardAtRange(t,l)}},insertBlockAtRange:function(e,t,n){t=qE(e,t),n=oE.create(n);var r=e.value.document,o=t.start,i=o.key,a=o.offset,s=r.getClosestBlock(i),l=r.getClosestInline(i),u=r.getParent(s.key),c=u.nodes.indexOf(s);if(e.isVoid(s)){var d=o.isAtEndOfNode(s)?1:0;e.insertNodeByKey(u.key,c+d,n)}else if(l||""!==s.text)if(o.isAtStartOfNode(s))e.insertNodeByKey(u.key,c,n);else if(o.isAtEndOfNode(s))e.insertNodeByKey(u.key,c+1,n);else{if(l&&e.isVoid(l)){var p=o.isAtEndOfNode(l),f=p?r.getNextText(i):r.getPreviousText(i),h=p?t.moveToStartOfNode(f):t.moveToEndOfNode(f);i=h.start.key,a=h.start.offset}e.withoutNormalizing((function(){e.splitDescendantsByKey(s.key,i,a),e.insertNodeByKey(u.key,c+1,n)}))}else e.insertNodeByKey(u.key,c+1,n)},insertFragmentAtRange:function(e,t,n){e.withoutNormalizing((function(){if(t=qE(e,t),n.nodes.size){n=n.mapDescendants((function(e){return e.regenerateKey()}));var r=t.start,o=e.value.document,i=o.getDescendant(r.key),a=o.getClosestBlock(i.key),s=a.getFurthestAncestor(i.key),l=r.isAtStartOfNode(a),u=o.getParent(a.key),c=u.nodes.indexOf(a),d=n.getBlocks(),p=n.nodes.first(),f=n.nodes.last(),h=d.first(),m=d.last(),g=KE(n,o,a.key);if(h===m&&e.isVoid(h))e.insertBlockAtRange(t,h);else if(g!==n||!p.hasBlockChildren()&&!f.hasBlockChildren()){if(h!==m){var v=g.getFurthest(h.key,(function(e){return 1===e.nodes.size}))||h,y=u.nodes.indexOf(a);g.removeNode(v.key).nodes.forEach((function(t,n){var r=y+n+1;e.insertNodeByKey(u.key,r,t)}))}if(0!==r.offset&&e.splitDescendantsByKey(s.key,r.key,r.offset),i=(o=e.value.document).getDescendant(r.key),s=(a=o.getClosestBlock(r.key)).getFurthestAncestor(i.key),h!==m){var b=l?s:a.getNextSibling(s.key),w=b?a.nodes.skipUntil((function(e){return e.key===b.key})):Hb.List(),k=m.nodes.size;w.forEach((function(t,n){var r=k+n;e.moveNodeByKey(t.key,m.key,r)}))}if(e.isVoid(a)||""!==a.text||a.findDescendant((function(t){return e.isVoid(t)}))){var C=a.getFurthestAncestor(i.key),x=a.nodes.indexOf(C);h.nodes.forEach((function(t,n){var o=0===r.offset?0:1,i=x+n+o;e.insertNodeByKey(a.key,i,t)}))}else e.removeNodeByKey(a.key),e.insertNodeByKey(u.key,c,h)}else n.nodes.reverse().forEach((function(n){e.insertBlockAtRange(t,n)}))}}))}},KE=function(e,t,n){var r=function(e){if(e&&"text"!==e.object)return 1===e.nodes.size},o=function(e){return e&&e.nodes.first()},i=e;if(r(e)){var a=o(e),s=t.getFurthest(n,(function(e){return e.type===a.type}));for(s===t.getParent(n)&&(i=a);r(a)&&r(s)&&(a=o(a),s=o(s),a.type===s.type);)i=a}return i};YE.insertInlineAtRange=function(e,t,n){n=jx.create(n),e.withoutNormalizing((function(){t=qE(e,t);var r=e.value.document,o=t.start,i=r.getParent(o.key),a=r.assertDescendant(o.key),s=i.nodes.indexOf(a);e.isVoid(i)||(e.splitNodeByKey(o.key,o.offset),e.insertNodeByKey(i.key,s+1,n))}))},YE.insertTextAtRange=function(e,t,n,r){t=qE(e,t);var o=e.value.document,i=t.start,a=i.offset,s=o.getParent(i.key);e.isVoid(s)||e.insertTextByKey(i.key,a,n,r)},YE.removeMarkAtRange=function(e,t,n){if(!t.isCollapsed){var r=e.value.document.getTextsAtRange(t),o=t.start,i=t.end;e.withoutNormalizing((function(){r.forEach((function(t){var r=t.key,a=0,s=t.text.length;r===o.key&&(a=o.offset),r===i.key&&(s=i.offset),r===o.key&&r===i.key&&(s=i.offset-o.offset),e.removeMarkByKey(r,a,s,n)}))}))}},YE.setBlocksAtRange=function(e,t,n){var r=e.value.document,o=r.getLeafBlocksAtRange(t),i=t.start,a=t.end,s=t.isCollapsed,l=r.hasVoidParent(i.key,e),u=r.getClosestBlock(i.key),c=r.getClosestBlock(a.key),d=!1===s&&0===i.offset&&0===a.offset&&!1===l&&i.key===u.getFirstText().key&&a.key===c.getFirstText().key?o.slice(0,-1):o;e.withoutNormalizing((function(){d.forEach((function(t){e.setNodeByKey(t.key,n)}))}))},YE.setInlinesAtRange=function(e,t,n){var r=e.value.document.getLeafInlinesAtRange(t);e.withoutNormalizing((function(){r.forEach((function(t){e.setNodeByKey(t.key,n)}))}))},YE.splitBlockAtRange=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=t=qE(e,t),o=r.start,i=r.end,a=e.value,s=a,l=s.document,u=l.assertDescendant(o.key),c=l.getClosestBlock(u.key),d=0;c&&"block"===c.object&&d<n;)u=c,c=l.getClosestBlock(c.key),d++;e.withoutNormalizing((function(){if(e.splitDescendantsByKey(u.key,o.key,o.offset),a=e.value,l=a.document,t.isExpanded){t.isBackward&&(t=t.flip());var n=l.getNextBlock(u.key);t=(t=t.moveAnchorToStartOfNode(n)).setFocus(t.focus.setPath(null)),o.key===i.key&&(t=t.moveFocusTo(t.anchor.key,i.offset-o.offset)),t=l.resolveRange(t),e.deleteAtRange(t)}}))},YE.splitInlineAtRange=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,r=t=qE(e,t),o=r.start,i=e.value,a=i.document,s=a.assertDescendant(o.key),l=a.getClosestInline(s.key),u=0;l&&"inline"===l.object&&u<n;)s=l,l=a.getClosestInline(l.key),u++;e.splitDescendantsByKey(s.key,o.key,o.offset)},YE.toggleMarkAtRange=function(e,t,n){t.isCollapsed||(n=Vx.create(n),e.value.document.getActiveMarksAtRange(t).some((function(e){return e.equals(n)}))?e.removeMarkAtRange(t,n):e.addMarkAtRange(t,n))},YE.unwrapBlockAtRange=function(e,t,n){n=nE.createProperties(n);var r=e.value.document,o=r.getLeafBlocksAtRange(t),i=o.map((function(e){return r.getClosest(e.key,(function(e){return"block"===e.object&&((null==n.type||e.type===n.type)&&!(null!=n.data&&!e.data.isSuperset(n.data)))}))})).filter((function(e){return e})).toOrderedSet().toList();e.withoutNormalizing((function(){i.forEach((function(t){var n=t.nodes.first(),i=t.nodes.last(),a=e.value.document.getParent(t.key),s=a.nodes.indexOf(t),l=t.nodes.filter((function(e){return o.some((function(t){return e===t||e.hasDescendant(t.key)}))})),u=l.first(),c=l.last();if(n===u&&i===c)t.nodes.forEach((function(t,n){e.moveNodeByKey(t.key,a.key,s+n)})),e.removeNodeByKey(t.key);else if(i===c)t.nodes.skipUntil((function(e){return e===u})).forEach((function(t,n){e.moveNodeByKey(t.key,a.key,s+1+n)}));else if(n===u)t.nodes.takeUntil((function(e){return e===c})).push(c).forEach((function(t,n){e.moveNodeByKey(t.key,a.key,s+n)}));else{var d=u.getFirstText();e.splitDescendantsByKey(t.key,d.key,0),r=e.value.document,l.forEach((function(t,n){if(0===n){var o=t;t=r.getNextBlock(t.key),e.removeNodeByKey(o.key)}e.moveNodeByKey(t.key,a.key,s+1+n)}))}}))}))},YE.unwrapInlineAtRange=function(e,t,n){n=nE.createProperties(n);var r=e.value.document,o=r.getTextsAtRange(t).map((function(e){return r.getClosest(e.key,(function(e){return"inline"===e.object&&((null==n.type||e.type===n.type)&&!(null!=n.data&&!e.data.isSuperset(n.data)))}))})).filter((function(e){return e})).toOrderedSet().toList();e.withoutNormalizing((function(){o.forEach((function(t){var n=e.value.document.getParent(t.key),r=n.nodes.indexOf(t);t.nodes.forEach((function(t,o){e.moveNodeByKey(t.key,n.key,r+o)})),e.removeNodeByKey(t.key)}))}))},YE.wrapBlockAtRange=function(e,t,n){n=(n=oE.create(n)).set("nodes",n.nodes.clear());var r=e.value.document,o=r.getLeafBlocksAtRange(t),i=o.first(),a=o.last(),s=void 0,l=void 0,u=void 0;if(1===o.length?(s=r.getParent(i.key),l=o):s=r.getClosest(i.key,(function(e){return!!r.getClosest(a.key,(function(t){return e===t}))})),null==s&&(s=r),null==l){var c=s.nodes.reduce((function(e,t,n){return(t===i||t.hasDescendant(i.key))&&(e[0]=n),(t===a||t.hasDescendant(a.key))&&(e[1]=n),e}),[]);u=c[0],l=s.nodes.slice(c[0],c[1]+1)}null==u&&(u=s.nodes.indexOf(l.first())),e.withoutNormalizing((function(){e.insertNodeByKey(s.key,u,n),l.forEach((function(t,r){e.moveNodeByKey(t.key,n.key,r)}))}))},YE.wrapInlineAtRange=function(e,t,n){var r=e.value.document,o=t.start,i=t.end;if(t.isCollapsed){var a=r.getClosestInline(o.key);if(!a)return;if(!e.isVoid(a))return;return e.wrapInlineByKey(a.key,n)}n=(n=jx.create(n)).set("nodes",n.nodes.clear());var s=r.getLeafBlocksAtRange(t),l=r.getClosestBlock(o.key),u=r.getClosestBlock(i.key),c=r.getClosestInline(o.key),d=r.getClosestInline(i.key),p=l.getFurthestAncestor(o.key),f=u.getFurthestAncestor(i.key);e.withoutNormalizing((function(){c&&c===d||(e.splitDescendantsByKey(f.key,i.key,i.offset),e.splitDescendantsByKey(p.key,o.key,o.offset)),r=e.value.document,l=r.getDescendant(l.key),u=r.getDescendant(u.key),p=l.getFurthestAncestor(o.key),f=u.getFurthestAncestor(i.key);var a=l.nodes.indexOf(p),h=u.nodes.indexOf(f);if(c&&c===d){var m=l.getTextsAtRange(t).get(0).splitText(o.offset)[1].splitText(i.offset-o.offset)[0];n=n.set("nodes",Hb.List([m])),e.insertInlineAtRange(t,n);var g=n.getFirstText().key,v={anchor:{key:g,offset:0},focus:{key:g,offset:i.offset-o.offset},isFocused:!0};e.select(v)}else if(l===u){r=e.value.document,l=r.getClosestBlock(o.key),p=l.getFurthestAncestor(o.key);var y=r.getNextSibling(p.key),b=l.nodes.indexOf(y),w=o.key===i.key?y:l.getFurthestAncestor(i.key),k=l.nodes.skipUntil((function(e){return e===y})).takeUntil((function(e){return e===w})).push(w),C=n.regenerateKey();e.insertNodeByKey(l.key,b,C),k.forEach((function(t,n){e.moveNodeByKey(t.key,C.key,n)}))}else{var x=l.nodes.slice(a+1),E=u.nodes.slice(0,h+1),S=n.regenerateKey(),_=n.regenerateKey();e.insertNodeByKey(l.key,a+1,S),e.insertNodeByKey(u.key,h,_),x.forEach((function(t,n){e.moveNodeByKey(t.key,S.key,n)})),E.forEach((function(t,n){e.moveNodeByKey(t.key,_.key,n)})),s.slice(1,-1).forEach((function(t){var r=n.regenerateKey();e.insertNodeByKey(t.key,0,r),t.nodes.forEach((function(t,n){e.moveNodeByKey(t.key,r.key,n)}))}))}}))},YE.wrapTextAtRange=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n,o=t.start,i=t.end,a=t.moveToStart(),s=t.moveToEnd();o.key===i.key&&(s=s.moveForward(n.length)),e.withoutNormalizing((function(){e.insertTextAtRange(a,n,[]),e.insertTextAtRange(s,r,[])}))};var $E={addMarkByPath:function(e,t,n,r,o){o=Vx.create(o);var i=e.value,a=i.document.assertNode(t).getLeaves(),s=[],l=n,u=n+r,c=0;a.forEach((function(e){var n=c,r=n+e.text.length;if(c+=e.text.length,!(r<l||u<n||e.marks.has(o))){var a=Math.max(n,l),d=Math.min(r,u);s.push({type:"add_mark",value:i,path:t,offset:a,length:d-a,mark:o})}})),s.forEach((function(t){return e.applyOperation(t)}))},insertFragmentByPath:function(e,t,n,r){r.nodes.forEach((function(r,o){e.insertNodeByPath(t,n+o,r)}))},insertNodeByPath:function(e,t,n,r){var o=e.value;e.applyOperation({type:"insert_node",value:o,path:t.concat(n),node:r})},insertTextByPath:function(e,t,n,r,o){var i=e.value,a=i.decorations,s=i.document.assertNode(t);o=o||s.getMarksAtIndex(n);var l=!1,u=s.key,c=a.filter((function(t){var r=t.start,o=t.end,i=t.mark;return!e.isAtomic(i)||(r.key!==u||(!(r.offset<n&&(o.key!==u||o.offset>n))||(l=!0,!1)))}));l&&e.setDecorations(c),e.applyOperation({type:"insert_text",value:i,path:t,offset:n,text:r,marks:o})},mergeNodeByPath:function(e,t){var n=e.value,r=n.document,o=r.getDescendant(t),i=r.getPreviousSibling(t);if(!i)throw new Error('Unable to merge node with path "'+t+'", because it has no previous sibling.');var a="text"===i.object?i.text.length:i.nodes.size;e.applyOperation({type:"merge_node",value:n,path:t,position:a,properties:{type:o.type,data:o.data},target:null})},moveNodeByPath:function(e,t,n,r){var o=e.value;if(hE.isEqual(t,n))return e;var i=n.concat(r);if(hE.isEqual(t,i))return e;e.applyOperation({type:"move_node",value:o,path:t,newPath:i})},removeMarkByPath:function(e,t,n,r,o){o=Vx.create(o);var i=e.value,a=i.document.assertNode(t).getLeaves(),s=[],l=n,u=n+r,c=0;a.forEach((function(e){var n=c,r=n+e.text.length;if(c+=e.text.length,!(r<l||u<n)&&e.marks.has(o)){var a=Math.max(n,l),d=Math.min(r,u);s.push({type:"remove_mark",value:i,path:t,offset:a,length:d-a,mark:o})}})),s.forEach((function(t){return e.applyOperation(t)}))},removeAllMarksByPath:function(e,t){var n=e.state.document.assertNode(t);("text"===n.object?[n]:n.getTextsAsArray()).forEach((function(t){t.getMarksAsArray().forEach((function(n){e.removeMarkByKey(t.key,0,t.text.length,n)}))}))},removeNodeByPath:function(e,t){var n=e.value,r=n.document.assertNode(t);e.applyOperation({type:"remove_node",value:n,path:t,node:r})},removeTextByPath:function(e,t,n,r){var o=e.value,i=o.decorations,a=o.document.assertNode(t),s=a.getLeaves(),l=a.text,u=!1,c=a.key,d=n,p=n+r,f=i.filter((function(t){var n=t.start,r=t.end,o=t.mark;return!e.isAtomic(o)||(n.key!==c||(n.offset<d&&(r.key!==c||r.offset>d)?(u=!0,!1):!(n.offset<p&&(r.key!==c||r.offset>p))||(u=!0,null)))}));u&&e.setDecorations(f);var h=[],m=n,g=n+r,v=0;s.forEach((function(e){var n=v,r=n+e.text.length;if(v+=e.text.length,!(r<m||g<n)){var i=Math.max(n,m),a=Math.min(r,g),s=l.slice(i,a);h.push({type:"remove_text",value:o,path:t,offset:i,text:s,marks:e.marks})}})),h.reverse().forEach((function(t){return e.applyOperation(t)}))},replaceNodeByPath:function(e,t,n){n=nE.create(n);var r=t.last(),o=hE.lift(t);e.withoutNormalizing((function(){e.removeNodeByPath(t),e.insertNodeByPath(o,r,n)}))},replaceTextByPath:function(e,t,n,r,o,i){var a=e.value.document,s=a.assertNode(t);r+n>s.text.length&&(r=s.text.length-n);var l=a.createRange({anchor:{path:t,offset:n},focus:{path:t,offset:n+r}}),u=a.getActiveMarksAtRange(l);e.withoutNormalizing((function(){e.removeTextByPath(t,n,r),i?u&&(u=u.filter((function(e){return!i.find((function(t){return e.type===t.type}))})),i=u.merge(i)):i=u||[],e.insertTextByPath(t,n,o,i)}))},setMarkByPath:function(e,t,n,r,o,i){o=Vx.create(o),i=Vx.createProperties(i);var a=e.value;e.applyOperation({type:"set_mark",value:a,path:t,offset:n,length:r,mark:o,properties:i})},setNodeByPath:function(e,t,n){n=nE.createProperties(n);var r=e.value,o=r.document.assertNode(t);e.applyOperation({type:"set_node",value:r,path:t,node:o,properties:n})},setTextByPath:function(e,t,n,r){var o=e.value.document.assertNode(t).text.length;e.replaceTextByPath(t,0,o,n,r)},splitNodeByPath:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=r.target,i=void 0===o?null:o,a=e.value,s=a.document,l=s.getDescendant(t);e.applyOperation({type:"split_node",value:a,path:t,position:n,target:i,properties:{type:l.type,data:l.data}})},splitDescendantsByPath:function(e,t,n,r){if(t.equals(n))e.splitNodeByPath(n,r);else{var o=e.value.document,i=o.assertNode(t),a=o.assertNode(n),s=o.getAncestors(n).skipUntil((function(e){return e.key===i.key})).reverse().unshift(a),l=void 0,u=void 0;e.withoutNormalizing((function(){s.forEach((function(t){var n=null==u?null:u;u=l?t.nodes.indexOf(l)+1:r,l=t,e.splitNodeByKey(t.key,u,{target:n})}))}))}},unwrapInlineByPath:function(e,t,n){var r=e.value,o=r.document,i=r.selection,a=o.assertNode(t),s=a.getFirstText(),l=a.getLastText(),u=i.moveToRangeOfNode(s,l);e.unwrapInlineAtRange(u,n)},unwrapBlockByPath:function(e,t,n){var r=e.value,o=r.document,i=r.selection,a=o.assertNode(t),s=a.getFirstText(),l=a.getLastText(),u=i.moveToRangeOfNode(s,l);e.unwrapBlockAtRange(u,n)},unwrapNodeByPath:function(e,t){var n=e.value.document;n.assertNode(t);var r=hE.lift(t),o=n.assertNode(r),i=t.last(),a=r.last(),s=hE.lift(r),l=0===i,u=i===o.nodes.size-1;e.withoutNormalizing((function(){if(1===o.nodes.size)e.moveNodeByPath(t,s,a+1),e.removeNodeByPath(r);else if(l)e.moveNodeByPath(t,s,a);else if(u)e.moveNodeByPath(t,s,a+1);else{var n=hE.increment(t,1,r.size-1);n=n.set(n.size-1,0),e.splitNodeByPath(r,i),e.moveNodeByPath(n,s,a+1)}}))},unwrapChildrenByPath:function(e,t){t=hE.create(t);var n=e.value.document.assertNode(t),r=hE.lift(t),o=t.last(),i=n.nodes;e.withoutNormalizing((function(){i.reverse().forEach((function(n,a){var s=i.size-a-1,l=t.push(s);e.moveNodeByPath(l,r,o+1)})),e.removeNodeByPath(t)}))},wrapBlockByPath:function(e,t,n){n=(n=oE.create(n)).set("nodes",n.nodes.clear());var r=hE.lift(t),o=t.last(),i=hE.increment(t);e.withoutNormalizing((function(){e.insertNodeByPath(r,o,n),e.moveNodeByPath(i,t,0)}))},wrapInlineByPath:function(e,t,n){n=(n=jx.create(n)).set("nodes",n.nodes.clear());var r=hE.lift(t),o=t.last(),i=hE.increment(t);e.withoutNormalizing((function(){e.insertNodeByPath(r,o,n),e.moveNodeByPath(i,t,0)}))},wrapNodeByPath:function(e,t,n){"block"===(n=nE.create(n)).object?e.wrapBlockByPath(t,n):"inline"===n.object&&e.wrapInlineByPath(t,n)}},XE=function(e){$E[e+"ByKey"]=function(t,n){for(var r=arguments.length,o=Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];var a=t.value,s=a.document,l=s.assertPath(n);t[e+"ByPath"].apply(t,[l].concat(o))}},JE=!0,QE=!1,ZE=void 0;try{for(var eS,tS=["addMark","insertFragment","insertNode","insertText","mergeNode","removeAllMarks","removeMark","removeNode","removeText","replaceNode","replaceText","setMark","setNode","setText","splitNode","unwrapBlock","unwrapChildren","unwrapInline","unwrapNode","wrapBlock","wrapInline","wrapNode"][Symbol.iterator]();!(JE=(eS=tS.next()).done);JE=!0){XE(eS.value)}}catch(e){QE=!0,ZE=e}finally{try{!JE&&tS.return&&tS.return()}finally{if(QE)throw ZE}}$E.moveNodeByKey=function(e,t,n){for(var r=arguments.length,o=Array(r>3?r-3:0),i=3;i<r;i++)o[i-3]=arguments[i];var a=e.value,s=a.document,l=s.assertPath(t),u=s.assertPath(n);e.moveNodeByPath.apply(e,[l,u].concat(o))},$E.splitDescendantsByKey=function(e,t,n){for(var r=arguments.length,o=Array(r>3?r-3:0),i=3;i<r;i++)o[i-3]=arguments[i];var a=e.value,s=a.document,l=s.assertPath(t),u=s.assertPath(n);e.splitDescendantsByPath.apply(e,[l,u].concat(o))};var nS={};nS.save=function(e,t){var n=e.operations,r=e.value.data,o=e.tmp,i=o.save,a=o.merge;if(!1!==i){var s,l,u=r.get("undos")||Hb.List(),c=u.last(),d=c&&c.last();if(null==a&&(0!==n.size?a=!0:(s=t,a=!!(l=d)&&("set_selection"===s.type&&"set_selection"===l.type||"insert_text"===s.type&&"insert_text"===l.type&&s.offset===l.offset+l.text.length&&s.path.equals(l.path)||"remove_text"===s.type&&"remove_text"===l.type&&s.offset+s.text.length===l.offset&&s.path.equals(l.path)))),a&&c){var p=c.push(t);u=(u=u.pop()).push(p)}else{var f=Hb.List([t]);u=u.push(f)}u.size>100&&(u=u.takeLast(100)),e.withoutSaving((function(){var t=Hb.List(),n=r.set("undos",u).set("redos",t);e.setData(n)}))}},nS.redo=function(e){var t=e.value.data,n=t.get("redos")||Hb.List(),r=t.get("undos")||Hb.List(),o=n.last();o&&e.withoutSaving((function(){e.withoutNormalizing((function(){o.forEach((function(t){var n=t,r=n.type,o=n.properties;"set_selection"===r&&(t=t.set("properties",wx(o,"isFocused"))),e.applyOperation(t)})),n=n.pop(),r=r.push(o);var i=t.set("undos",r).set("redos",n);e.setData(i)}))}))},nS.undo=function(e){var t=e.value.data,n=t.get("redos")||Hb.List(),r=t.get("undos")||Hb.List(),o=r.last();o&&e.withoutSaving((function(){e.withoutNormalizing((function(){o.slice().reverse().map((function(e){return e.invert()})).forEach((function(t){var n=t,r=n.type,o=n.properties;"set_selection"===r&&(t=t.set("properties",wx(o,"isFocused"))),e.applyOperation(t)})),n=n.push(o),r=r.pop();var i=t.set("undos",r).set("redos",n);e.setData(i)}))}))},nS.withoutMerging=function(e,t){var n=e.tmp.merge;e.tmp.merge=!1,t(e),e.tmp.merge=n},nS.withoutSaving=function(e,t){var n=e.tmp.save;e.tmp.save=!1,t(e),e.tmp.save=n};var rS={};function oS(e,t){for(var n,r=arguments.length,o=Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];var a=(n=e.value.selection)[t].apply(n,o);e.select(a)}function iS(e,t,n,r){var o=t.slice(0,1).toUpperCase()+t.slice(1),i=n.slice(0,1).toUpperCase()+n.slice(1),a=r.slice(0,1).toUpperCase()+r.slice(1),s="move"+o+"To"+i+"OfNode",l="text"===r?"getNode":"getClosest"+a,u=e.value,c=u.document,d=u.selection[t],p=c[l](d.key);p&&e[s](p)}function aS(e,t,n,r,o){var i=t.slice(0,1).toUpperCase()+t.slice(1),a=n.slice(0,1).toUpperCase()+n.slice(1),s=r.slice(0,1).toUpperCase()+r.slice(1),l=o.slice(0,1).toUpperCase()+o.slice(1),u="move"+i+"To"+a+"OfNode",c="text"===o?"getNode":"getClosest"+l,d="get"+s+l,p=e.value,f=p.document,h=p.selection[t],m=f[c](h.key);if(m){var g=f[d](m.key);g&&e[u](g)}}function sS(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(0!==n){if(n<0)return lS(e,t,-n);var r=t.slice(0,1).toUpperCase()+t.slice(1),o=e.value,i=o.document,a=o.selection,s=a[t],l=i.hasVoidParent(s.path,e);if(!l&&s.offset-n>=0){var u=a["move"+r+"Backward"](n);e.select(u)}else{var c=i.getPreviousText(s.path);if(c){var d=i.getClosestBlock(s.path),p=d.hasNode(c.key),f=c&&i.hasVoidParent(c.key,e);if(e["move"+r+"ToEndOfNode"](c),!l&&!f&&p){var h=e.value.selection["move"+r+"Backward"](n);e.select(h)}}}}}function lS(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(0!==n){if(n<0)return sS(e,t,-n);var r=t.slice(0,1).toUpperCase()+t.slice(1),o=e.value,i=o.document,a=o.selection,s=a[t],l=i.getNode(s.path),u=i.hasVoidParent(s.path,e);if(!u&&s.offset+n<=l.text.length){var c=a["move"+r+"Forward"](n);e.select(c)}else{var d=i.getNextText(s.path);if(d){var p=i.getClosestBlock(s.path),f=p.hasNode(d.key),h=i.hasVoidParent(d.key,e);if(e["move"+r+"ToStartOfNode"](d),!u&&!h&&f){var m=e.value.selection["move"+r+"Forward"](n);e.select(m)}}}}}function uS(e,t){var n=e.value,r=n.document,o=n.selection[t],i=r.getClosestBlock(o.key),a=i.getOffset(o.key)+o.offset,s=i.text,l=WE.getWordOffsetBackward(s,a);e.command(sS,t,l>0?l:1)}function cS(e,t){var n=e.value,r=n.document,o=n.selection[t],i=r.getClosestBlock(o.key),a=i.getOffset(o.key)+o.offset,s=i.text,l=WE.getWordOffsetForward(s,a);e.command(lS,t,l>0?l:1)}rS.blur=function(e){e.select({isFocused:!1})},rS.deselect=function(e){var t=EE.create();e.select(t)},rS.focus=function(e){e.select({isFocused:!0})},rS.flip=function(e){e.command(oS,"flip")},rS.moveAnchorBackward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[sS,"anchor"].concat(n))},rS.moveAnchorWordBackward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[uS,"anchor"].concat(n))},rS.moveAnchorForward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[lS,"anchor"].concat(n))},rS.moveAnchorWordForward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[cS,"anchor"].concat(n))},rS.moveAnchorTo=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[oS,"moveAnchorTo"].concat(n))},rS.moveAnchorToEndOfBlock=function(e){e.command(iS,"anchor","end","block")},rS.moveAnchorToEndOfInline=function(e){e.command(iS,"anchor","end","inline")},rS.moveAnchorToEndOfDocument=function(e){e.moveAnchorToEndOfNode(e.value.document).moveToAnchor()},rS.moveAnchorToEndOfNextBlock=function(e){e.command(aS,"anchor","end","next","block")},rS.moveAnchorToEndOfNextInline=function(e){e.command(aS,"anchor","end","next","inline")},rS.moveAnchorToEndOfNextText=function(e){e.command(aS,"anchor","end","next","text")},rS.moveAnchorToEndOfNode=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[oS,"moveAnchorToEndOfNode"].concat(n))},rS.moveAnchorToEndOfPreviousBlock=function(e){e.command(aS,"anchor","end","previous","block")},rS.moveAnchorToEndOfPreviousInline=function(e){e.command(aS,"anchor","end","previous","inline")},rS.moveAnchorToEndOfPreviousText=function(e){e.command(aS,"anchor","end","previous","text")},rS.moveAnchorToEndOfText=function(e){e.command(iS,"anchor","end","text")},rS.moveAnchorToStartOfBlock=function(e){e.command(iS,"anchor","start","block")},rS.moveAnchorToStartOfDocument=function(e){e.moveAnchorToStartOfNode(e.value.document).moveToAnchor()},rS.moveAnchorToStartOfInline=function(e){e.command(iS,"anchor","start","inline")},rS.moveAnchorToStartOfNextBlock=function(e){e.command(aS,"anchor","start","next","block")},rS.moveAnchorToStartOfNextInline=function(e){e.command(aS,"anchor","start","next","inline")},rS.moveAnchorToStartOfNextText=function(e){e.command(aS,"anchor","start","next","text")},rS.moveAnchorToStartOfNode=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[oS,"moveAnchorToStartOfNode"].concat(n))},rS.moveAnchorToStartOfPreviousBlock=function(e){e.command(aS,"anchor","start","previous","block")},rS.moveAnchorToStartOfPreviousInline=function(e){e.command(aS,"anchor","start","previous","inline")},rS.moveAnchorToStartOfPreviousText=function(e){e.command(aS,"anchor","start","previous","text")},rS.moveAnchorToStartOfText=function(e){e.command(iS,"anchor","start","text")},rS.moveBackward=function(e){for(var t,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(t=e.moveAnchorBackward.apply(e,r)).moveFocusBackward.apply(t,r)},rS.moveWordBackward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.moveFocusWordBackward.apply(e,n).moveToFocus()},rS.moveEndBackward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[sS,"end"].concat(n))},rS.moveEndWordBackward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[uS,"end"].concat(n))},rS.moveEndForward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[lS,"end"].concat(n))},rS.moveEndWordForward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[cS,"end"].concat(n))},rS.moveEndTo=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[oS,"moveEndTo"].concat(n))},rS.moveEndToEndOfBlock=function(e){e.command(iS,"end","end","block")},rS.moveEndToEndOfDocument=function(e){e.moveEndToEndOfNode(e.value.document).moveToEnd()},rS.moveEndToEndOfInline=function(e){e.command(iS,"end","end","inline")},rS.moveEndToEndOfNextBlock=function(e){e.command(aS,"end","end","next","block")},rS.moveEndToEndOfNextInline=function(e){e.command(aS,"end","end","next","inline")},rS.moveEndToEndOfNextText=function(e){e.command(aS,"end","end","next","text")},rS.moveEndToEndOfNode=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[oS,"moveEndToEndOfNode"].concat(n))},rS.moveEndToEndOfPreviousBlock=function(e){e.command(aS,"end","end","previous","block")},rS.moveEndToEndOfPreviousInline=function(e){e.command(aS,"end","end","previous","inline")},rS.moveEndToEndOfPreviousText=function(e){e.command(aS,"end","end","previous","text")},rS.moveEndToEndOfText=function(e){e.command(iS,"end","end","text")},rS.moveEndToStartOfBlock=function(e){e.command(iS,"end","start","block")},rS.moveEndToStartOfDocument=function(e){e.moveEndToStartOfNode(e.value.document).moveToEnd()},rS.moveEndToStartOfInline=function(e){e.command(iS,"end","start","inline")},rS.moveEndToStartOfNextBlock=function(e){e.command(aS,"end","start","next","block")},rS.moveEndToStartOfNextInline=function(e){e.command(aS,"end","start","next","inline")},rS.moveEndToStartOfNextText=function(e){e.command(aS,"end","start","next","text")},rS.moveEndToStartOfNode=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[oS,"moveEndToStartOfNode"].concat(n))},rS.moveEndToStartOfPreviousBlock=function(e){e.command(aS,"end","start","previous","block")},rS.moveEndToStartOfPreviousInline=function(e){e.command(aS,"end","start","previous","inline")},rS.moveEndToStartOfPreviousText=function(e){e.command(aS,"end","start","previous","text")},rS.moveEndToStartOfText=function(e){e.command(iS,"end","start","text")},rS.moveFocusBackward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[sS,"focus"].concat(n))},rS.moveFocusWordBackward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[uS,"focus"].concat(n))},rS.moveFocusForward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[lS,"focus"].concat(n))},rS.moveFocusWordForward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[cS,"focus"].concat(n))},rS.moveFocusTo=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[oS,"moveFocusTo"].concat(n))},rS.moveFocusToEndOfBlock=function(e){e.command(iS,"focus","end","block")},rS.moveFocusToEndOfDocument=function(e){e.moveFocusToEndOfNode(e.value.document).moveToFocus()},rS.moveFocusToEndOfInline=function(e){e.command(iS,"focus","end","inline")},rS.moveFocusToEndOfNextBlock=function(e){e.command(aS,"focus","end","next","block")},rS.moveFocusToEndOfNextInline=function(e){e.command(aS,"focus","end","next","inline")},rS.moveFocusToEndOfNextText=function(e){e.command(aS,"focus","end","next","text")},rS.moveFocusToEndOfNode=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[oS,"moveFocusToEndOfNode"].concat(n))},rS.moveFocusToEndOfPreviousBlock=function(e){e.command(aS,"focus","end","previous","block")},rS.moveFocusToEndOfPreviousInline=function(e){e.command(aS,"focus","end","previous","inline")},rS.moveFocusToEndOfPreviousText=function(e){e.command(aS,"focus","end","previous","text")},rS.moveFocusToEndOfText=function(e){e.command(iS,"focus","end","text")},rS.moveFocusToStartOfBlock=function(e){e.command(iS,"focus","start","block")},rS.moveFocusToStartOfDocument=function(e){e.moveFocusToStartOfNode(e.value.document).moveToFocus()},rS.moveFocusToStartOfInline=function(e){e.command(iS,"focus","start","inline")},rS.moveFocusToStartOfNextBlock=function(e){e.command(aS,"focus","start","next","block")},rS.moveFocusToStartOfNextInline=function(e){e.command(aS,"focus","start","next","inline")},rS.moveFocusToStartOfNextText=function(e){e.command(aS,"focus","start","next","text")},rS.moveFocusToStartOfNode=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[oS,"moveFocusToStartOfNode"].concat(n))},rS.moveFocusToStartOfPreviousBlock=function(e){e.command(aS,"focus","start","previous","block")},rS.moveFocusToStartOfPreviousInline=function(e){e.command(aS,"focus","start","previous","inline")},rS.moveFocusToStartOfPreviousText=function(e){e.command(aS,"focus","start","previous","text")},rS.moveFocusToStartOfText=function(e){e.command(iS,"focus","start","text")},rS.moveForward=function(e){for(var t,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(t=e.moveAnchorForward.apply(e,r)).moveFocusForward.apply(t,r)},rS.moveWordForward=function(e){for(var t,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(t=e.moveFocusWordForward.apply(e,r)).moveToFocus.apply(t,r)},rS.moveStartBackward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[sS,"start"].concat(n))},rS.moveStartWordBackward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[uS,"start"].concat(n))},rS.moveStartForward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[lS,"start"].concat(n))},rS.moveStartWordForward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[cS,"start"].concat(n))},rS.moveStartTo=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[oS,"moveStartTo"].concat(n))},rS.moveStartToEndOfBlock=function(e){e.command(iS,"start","end","block")},rS.moveStartToEndOfDocument=function(e){e.moveStartToEndOfNode(e.value.document).moveToStart()},rS.moveStartToEndOfInline=function(e){e.command(iS,"start","end","inline")},rS.moveStartToEndOfNextBlock=function(e){e.command(aS,"start","end","next","block")},rS.moveStartToEndOfNextInline=function(e){e.command(aS,"start","end","next","inline")},rS.moveStartToEndOfNextText=function(e){e.command(aS,"start","end","next","text")},rS.moveStartToEndOfNode=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[oS,"moveStartToEndOfNode"].concat(n))},rS.moveStartToEndOfPreviousBlock=function(e){e.command(aS,"start","end","previous","block")},rS.moveStartToEndOfPreviousInline=function(e){e.command(aS,"start","end","previous","inline")},rS.moveStartToEndOfPreviousText=function(e){e.command(aS,"start","end","previous","text")},rS.moveStartToEndOfText=function(e){e.command(iS,"start","end","text")},rS.moveStartToStartOfBlock=function(e){e.command(iS,"start","start","block")},rS.moveStartToStartOfDocument=function(e){e.moveStartToStartOfNode(e.value.document).moveToStart()},rS.moveStartToStartOfInline=function(e){e.command(iS,"start","start","inline")},rS.moveStartToStartOfNextBlock=function(e){e.command(aS,"start","start","next","block")},rS.moveStartToStartOfNextInline=function(e){e.command(aS,"start","start","next","inline")},rS.moveStartToStartOfNextText=function(e){e.command(aS,"start","start","next","text")},rS.moveStartToStartOfNode=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[oS,"moveStartToStartOfNode"].concat(n))},rS.moveStartToStartOfPreviousBlock=function(e){e.command(aS,"start","start","previous","block")},rS.moveStartToStartOfPreviousInline=function(e){e.command(aS,"start","start","previous","inline")},rS.moveStartToStartOfPreviousText=function(e){e.command(aS,"start","start","previous","text")},rS.moveStartToStartOfText=function(e){e.command(iS,"start","start","text")},rS.moveTo=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[oS,"moveTo"].concat(n))},rS.moveToAnchor=function(e){e.command(oS,"moveToAnchor")},rS.moveToEnd=function(e){e.command(oS,"moveToEnd")},rS.moveToEndOfBlock=function(e){e.moveEndToEndOfBlock().moveToEnd()},rS.moveToEndOfDocument=function(e){e.moveEndToEndOfNode(e.value.document).moveToEnd()},rS.moveToEndOfInline=function(e){e.moveEndToEndOfInline().moveToEnd()},rS.moveToEndOfNextBlock=function(e){e.moveEndToEndOfNextBlock().moveToEnd()},rS.moveToEndOfNextInline=function(e){e.moveEndToEndOfNextInline().moveToEnd()},rS.moveToEndOfNextText=function(e){e.moveEndToEndOfNextText().moveToEnd()},rS.moveToEndOfNode=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[oS,"moveToEndOfNode"].concat(n))},rS.moveToEndOfPreviousBlock=function(e){e.moveStartToEndOfPreviousBlock().moveToStart()},rS.moveToEndOfPreviousInline=function(e){e.moveStartToEndOfPreviousInline().moveToStart()},rS.moveToEndOfPreviousText=function(e){e.moveStartToEndOfPreviousText().moveToStart()},rS.moveToEndOfText=function(e){e.moveEndToEndOfText().moveToEnd()},rS.moveToFocus=function(e){e.command(oS,"moveToFocus")},rS.moveToRangeOfDocument=function(e){e.moveToRangeOfNode(e.value.document)},rS.moveToRangeOfNode=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[oS,"moveToRangeOfNode"].concat(n))},rS.moveToStart=function(e){e.command(oS,"moveToStart")},rS.moveToStartOfBlock=function(e){e.moveStartToStartOfBlock().moveToStart()},rS.moveToStartOfDocument=function(e){e.moveStartToStartOfNode(e.value.document).moveToStart()},rS.moveToStartOfInline=function(e){e.moveStartToStartOfInline().moveToStart()},rS.moveToStartOfNextBlock=function(e){e.moveEndToStartOfNextBlock().moveToEnd()},rS.moveToStartOfNextInline=function(e){e.moveEndToStartOfNextInline().moveToEnd()},rS.moveToStartOfNextText=function(e){e.moveEndToStartOfNextText().moveToEnd()},rS.moveToStartOfNode=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[oS,"moveToStartOfNode"].concat(n))},rS.moveToStartOfPreviousBlock=function(e){e.moveStartToStartOfPreviousBlock().moveToStart()},rS.moveToStartOfPreviousInline=function(e){e.moveStartToStartOfPreviousInline().moveToStart()},rS.moveToStartOfPreviousText=function(e){e.moveStartToStartOfPreviousText().moveToStart()},rS.moveToStartOfText=function(e){e.moveStartToStartOfText().moveToStart()},rS.select=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t=EE.createProperties(t);var r=n.snapshot,o=void 0!==r&&r,i=e.value,a=i.document,s=i.selection,l={},u=s.setProperties(t);for(var c in u=a.resolveSelection(u),t=bx(u,Object.keys(t)))!0!==o&&Hb.is(t[c],s[c])||(l[c]=t[c]);s.marks&&!l.marks&&(l.anchor||l.focus)&&(l.marks=null),0!==Object.keys(l).length&&e.applyOperation({type:"set_selection",value:i,properties:l,selection:s.toJSON()},o?{skip:!1,merge:!1}:{})},rS.setAnchor=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[oS,"setAnchor"].concat(n))},rS.setEnd=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[oS,"setEnd"].concat(n))},rS.setFocus=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[oS,"setFocus"].concat(n))},rS.setStart=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[oS,"setStart"].concat(n))},rS.snapshotSelection=function(e){e.withoutMerging((function(){e.select(e.value.selection,{snapshot:!0})}))};var dS={};function pS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};function t(t,n){for(var r in e)t.registerQuery(r);return n()}function n(t,n,r){var o=t.type,i=t.args,a=e[o];if(!a)return r();var s=a.apply(void 0,[n].concat(Mx(i)));return void 0===s?r():s}return{onConstruct:t,onQuery:n}}dS.setData=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=_E.createProperties({data:t}),r=e.value;e.applyOperation({type:"set_value",properties:n,value:r})},dS.setDecorations=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=_E.createProperties({decorations:t}),r=e.value;e.applyOperation({type:"set_value",properties:n,value:r})};var fS=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ox(this,t);var r=Dx(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));for(var o in r.code=e,n)r[o]=n[o];return Error.captureStackTrace?Error.captureStackTrace(r,r.constructor):r.stack=(new Error).stack,r}return Ax(t,e),t}(Error);function hS(e){var t=e.rules,n=e.document,r=e.blocks,o=e.inlines,i=e.marks,a=[];if(t&&(a=a.concat(t)),n&&a.push(Rx({match:[{object:"document"}]},n)),r)for(var s in r)a.push(Rx({match:[{object:"block",type:s}]},r[s]));if(o)for(var l in o)a.push(Rx({match:[{object:"inline",type:l}]},o[l]));if(i)for(var u in i)a.push(Rx({match:[{object:"mark",type:u}]},i[u]));function c(e,t,n){var r=a.filter((function(t){return mS(e,t.match)})),o=gS(e,r,a,{every:!0});return o?new fS(o.code,o):n()}return[{normalizeNode:function(e,t,n){var r=c(e,t,(function(){}));return r?function(){var e=r.rule,n=t.operations.size;e.normalize&&e.normalize(t,r),t.operations.size===n&&function(e,t){var n=t.code,r=t.node,o=t.child,i=t.next,a=t.previous,s=t.key,l=t.mark;switch(n){case"child_max_invalid":case"child_object_invalid":case"child_type_invalid":case"child_unknown":case"first_child_object_invalid":case"first_child_type_invalid":case"last_child_object_invalid":case"last_child_type_invalid":return"text"===o.object&&"block"===r.object&&1===r.nodes.size?e.removeNodeByKey(r.key):e.removeNodeByKey(o.key);case"previous_sibling_object_invalid":case"previous_sibling_type_invalid":return"text"===a.object&&"block"===r.object&&1===r.nodes.size?e.removeNodeByKey(r.key):e.removeNodeByKey(a.key);case"next_sibling_object_invalid":case"next_sibling_type_invalid":return"text"===i.object&&"block"===r.object&&1===r.nodes.size?e.removeNodeByKey(r.key):e.removeNodeByKey(i.key);case"child_min_invalid":case"node_text_invalid":case"parent_object_invalid":case"parent_type_invalid":return"document"===r.object?r.nodes.forEach((function(t){return e.removeNodeByKey(t.key)})):e.removeNodeByKey(r.key);case"node_data_invalid":return void 0===r.data.get(s)&&"document"!==r.object?e.removeNodeByKey(r.key):e.setNodeByKey(r.key,{data:r.data.delete(s)});case"node_mark_invalid":return r.getTexts().forEach((function(t){return e.removeMarkByKey(t.key,0,t.text.length,l)}));default:e.removeNodeByKey(r.key)}}(t,r)}:n()},validateNode:c},pS({isAtomic:function(e,t){var n=a.find((function(e){return"isAtomic"in e&&mS(t,e.match)}));return n&&n.isAtomic},isVoid:function(e,t){var n=a.find((function(e){return"isVoid"in e&&mS(t,e.match)}));return n&&n.isVoid}})]}function mS(e,t){return!gS(e,t)}function gS(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=r.every,i=void 0!==o&&o;if(Array.isArray(t)){var a=t.length?t:[{}],s=void 0,l=!0,u=!1,c=void 0;try{for(var d,p=a[Symbol.iterator]();!(l=(d=p.next()).done);l=!0){var f=d.value,h=gS(e,f,n);if(s=s||h,i&&h)return h;if(!i&&!h)return}}catch(e){u=!0,c=e}finally{try{!l&&p.return&&p.return()}finally{if(u)throw c}}return s}var m=vS(e,t)||yS(e,t)||bS(e,t)||wS(e,t)||kS(e,t)||CS(e,t)||xS(e,t)||ES(e,t,n);return m}function vS(e,t){if(null!=t.object&&t.object!==e.object&&("function"!=typeof t.object||!t.object(e.object)))return TS("node_object_invalid",{rule:t,node:e})}function yS(e,t){if(null!=t.type&&t.type!==e.type&&("function"!=typeof t.type||!t.type(e.type)))return TS("node_type_invalid",{rule:t,node:e})}function bS(e,t){if(null!=t.data&&null!=e.data){if("function"==typeof t.data){if(t.data(e.data))return;return TS("node_data_invalid",{rule:t,node:e})}for(var n in t.data){var r=t.data[n],o=e.data&&e.data.get(n);if(!("function"==typeof r?r(o):r===o))return TS("node_data_invalid",{rule:t,node:e,key:n,value:o})}}}function wS(e,t){if(null!=t.marks){var n=e.getMarks().toArray(),r=function(n){return t.marks.some((function(e){return"function"==typeof e.type?e.type(n.type):e.type===n.type}))?"continue":{v:TS("node_mark_invalid",{rule:t,node:e,mark:n})}},o=!0,i=!1,a=void 0;try{for(var s,l=n[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var u=r(s.value);switch(u){case"continue":continue;default:if("object"===(void 0===u?"undefined":_x(u)))return u.v}}}catch(e){i=!0,a=e}finally{try{!o&&l.return&&l.return()}finally{if(i)throw a}}}}function kS(e,t){if(null!=t.text){var n=e.text;if(!("function"==typeof t.text?t.text(n):t.text.test(n)))return TS("node_text_invalid",{rule:t,node:e,text:n})}}function CS(e,t){if(null!=t.first){var n=e.nodes.first();if(n){var r=gS(n,t.first);if(r)return r.rule=t,r.node=e,r.child=n,r.code=r.code.replace("node_","first_child_"),r}}}function xS(e,t){if(null!=t.last){var n=e.nodes.last();if(n){var r=gS(n,t.last);if(r)return r.rule=t,r.node=e,r.child=n,r.code=r.code.replace("node_","last_child_"),r}}}function ES(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(null!=e.nodes){var r=e.nodes,o=null!=t.nodes?t.nodes.slice():[],i=0,a=0,s=null,l=-1,u=null,c=null,d=null,p=null,f=null;for(null!=t.nodes&&v();y();){var h=SS(e,d,n)||_S(e,d,p,l,n)||OS(e,d,f,l,n);if(h)return h;if(null!=t.nodes){if(!u)return TS("child_unknown",{rule:t,node:e,child:d,index:l});if(u.match){var m=gS(d,u.match);if(m){if(null!=c&&i-1>c)return b(),TS("child_max_invalid",{rule:t,node:e,index:l,child:r.get(l),count:i,limit:c});var g=s;if(v()){if(a-1>=g){l-=1;continue}return null==gS(d,u.match)?(b(),TS("child_min_invalid",{rule:t,node:e,index:l,count:a-1,limit:g})):(m.rule=t,m.node=e,m.child=d,m.index=l,m.code=m.code.replace("node_","child_"),m)}return null!=c&&i>c?TS("child_unknown",{rule:t,node:e,child:d,index:l}):(m.rule=t,m.node=e,m.child=d,m.index=l,m.code=m.code.replace("node_","child_"),m)}}}}if(null!=c&&i>c)return TS("child_max_invalid",{rule:t,node:e,index:l-1,count:i,child:r.get(l-1),limit:c});if(null!=t.nodes)do{if(i<s)return TS("child_min_invalid",{rule:t,node:e,index:l,count:i,limit:s})}while(v())}function v(){return 0!==o.length&&(u=o.shift(),a=i,i=0,s=u.min||null,c=u.max||null,!0)}function y(){return p=(l+=1)?r.get(l-1):null,d=r.get(l),f=r.get(l+1),!!d&&(a=i,i+=1,!0)}function b(){l>0&&(l-=1,i=a)}}function SS(e,t,n){var r=!0,o=!1,i=void 0;try{for(var a,s=n[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;if(null!=l.parent&&mS(t,l.match)){var u=gS(e,l.parent);if(u)return u.rule=l,u.parent=e,u.node=t,u.code=u.code.replace("node_","parent_"),u}}}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}}function _S(e,t,n,r,o){if(n){var i=!0,a=!1,s=void 0;try{for(var l,u=o[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){var c=l.value;if(null!=c.previous&&mS(t,c.match)){var d=gS(n,c.previous);if(d)return d.rule=c,d.node=e,d.child=t,d.index=r,d.previous=n,d.code=d.code.replace("node_","previous_sibling_"),d}}}catch(e){a=!0,s=e}finally{try{!i&&u.return&&u.return()}finally{if(a)throw s}}}}function OS(e,t,n,r,o){if(n){var i=!0,a=!1,s=void 0;try{for(var l,u=o[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){var c=l.value;if(null!=c.next&&mS(t,c.match)){var d=gS(n,c.next);if(d)return d.rule=c,d.node=e,d.child=t,d.index=r,d.next=n,d.code=d.code.replace("node_","next_sibling_"),d}}}catch(e){a=!0,s=e}finally{try{!i&&u.return&&u.return()}finally{if(a)throw s}}}}function TS(e,t){return Rx({code:e},t)}function RS(e){e.value.selection.isExpanded&&e.delete()}var AS={};function NS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.plugins,n=void 0===t?[]:t,r=FE(Rx({},YE,$E,nS,rS,dS,AS)),o=pS({isAtomic:function(){return!1},isVoid:function(){return!1}}),i=hS({rules:[{match:{object:"document"},nodes:[{match:{object:"block"}}]},{match:{object:"block",first:{object:"block"}},nodes:[{match:{object:"block"}}]},{match:{object:"block",first:[{object:"inline"},{object:"text"}]},nodes:[{match:[{object:"inline"},{object:"text"}]}]},{match:{object:"inline"},nodes:[{match:[{object:"inline"},{object:"text"}]}]},{match:[{object:"block"},{object:"inline"}],nodes:[{min:1}],normalize:function(e,t){var n=t.code,r=t.node;"child_min_invalid"===n&&r.nodes.isEmpty()&&e.insertNodeByKey(r.key,0,tE.create())}},{match:{object:"block"},first:[{object:"block"},{object:"text"}],last:[{object:"block"},{object:"text"}],normalize:function(e,t){var n=t.code,r=t.node,o=tE.create(),i=void 0;if("first_child_object_invalid"===n)i=0;else{if("last_child_object_invalid"!==n)return;i=r.nodes.size}e.insertNodeByKey(r.key,i,o)}},{match:{object:"inline"},first:[{object:"block"},{object:"text"}],last:[{object:"block"},{object:"text"}],previous:[{object:"block"},{object:"text"}],next:[{object:"block"},{object:"text"}],normalize:function(e,t){var n=t.code,r=t.node,o=t.index,i=tE.create(),a=void 0;if("first_child_object_invalid"===n)a=0;else if("last_child_object_invalid"===n)a=r.nodes.size;else if("previous_sibling_object_invalid"===n)a=o;else{if("next_sibling_object_invalid"!==n)return;a=o+1}e.insertNodeByKey(r.key,a,i)}},{match:{object:"text"},next:[{object:"block"},{object:"inline"}],normalize:function(e,t){var n=t.code,r=t.next;"next_sibling_object_invalid"===n&&e.mergeNodeByKey(r.key)}}]});return[i].concat(Mx(n),[r,o])}AS.addMark=function(e,t){t=Vx.create(t);var n=e.value,r=n.document,o=n.selection;if(o.isExpanded)e.addMarkAtRange(o,t);else if(o.marks){var i=o.marks.add(t),a=o.set("marks",i);e.select(a)}else{var s=r.getActiveMarksAtRange(o).add(t),l=o.set("marks",s);e.select(l)}},AS.addMarks=function(e,t){t.forEach((function(t){return e.addMark(t)}))},AS.delete=function(e){var t=e.value.selection;e.deleteAtRange(t),e.moveToFocus()},AS.deleteBackward=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=e.value,r=n.selection;r.isExpanded?e.delete():e.deleteBackwardAtRange(r,t)},AS.deleteCharBackward=function(e){var t=e.value.selection;t.isExpanded?e.delete():e.deleteCharBackwardAtRange(t)},AS.deleteLineBackward=function(e){var t=e.value.selection;t.isExpanded?e.delete():e.deleteLineBackwardAtRange(t)},AS.deleteWordBackward=function(e){var t=e.value.selection;t.isExpanded?e.delete():e.deleteWordBackwardAtRange(t)},AS.deleteForward=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=e.value,r=n.selection;r.isExpanded?e.delete():e.deleteForwardAtRange(r,t)},AS.deleteCharForward=function(e){var t=e.value.selection;t.isExpanded?e.delete():e.deleteCharForwardAtRange(t)},AS.deleteLineForward=function(e){var t=e.value.selection;t.isExpanded?e.delete():e.deleteLineForwardAtRange(t)},AS.deleteWordForward=function(e){var t=e.value.selection;t.isExpanded?e.delete():e.deleteWordForwardAtRange(t)},AS.insertBlock=function(e,t){RS(e),t=oE.create(t);var n=e.value.selection;e.insertBlockAtRange(n,t);var r=e.value.document.getNode(t.key);r&&e.moveToEndOfNode(r)},AS.insertFragment=function(e,t){if(t.nodes.size){RS(e);var n=e.value,r=n,o=r.document,i=r.selection,a=i.start,s=i.end,l=n,u=l.startText,c=l.endText,d=l.startInline,p=t.getLastText(),f=t.getClosestInline(p.key),h=t.getClosestBlock(p.key),m=t.nodes.first(),g=t.nodes.last(),v=o.getTexts().map((function(e){return e.key})),y=!d||a.isAtStartOfNode(u)||s.isAtStartOfNode(u)||a.isAtEndOfNode(c)||s.isAtEndOfNode(c),b=m.hasBlockChildren()||g.hasBlockChildren();e.insertFragmentAtRange(i,t);var w=(o=(n=e.value).document).getTexts().filter((function(e){return!v.includes(e.key)})),k=y?w.last():w.takeLast(2).first();k&&(f||b)?e.moveToEndOfNode(k):k&&e.moveToStartOfNode(k).moveForward(h.text.length)}},AS.insertInline=function(e,t){RS(e),t=jx.create(t);var n=e.value.selection;e.insertInlineAtRange(n,t);var r=e.value.document.getNode(t.key);r&&e.moveToEndOfNode(r)},AS.insertText=function(e,t,n){RS(e);var r=e.value,o=r.document,i=r.selection;n=n||i.marks||o.getInsertMarksAtRange(i),e.insertTextAtRange(i,t,n),i.marks&&o!==e.value.document&&e.select({marks:null})},AS.removeMark=function(e,t){t=Vx.create(t);var n=e.value,r=n.document,o=n.selection;if(o.isExpanded)e.removeMarkAtRange(o,t);else if(o.marks){var i=o.marks.remove(t),a=o.set("marks",i);e.select(a)}else{var s=r.getActiveMarksAtRange(o).remove(t),l=o.set("marks",s);e.select(l)}},AS.replaceMark=function(e,t,n){e.removeMark(t),e.addMark(n)},AS.setBlocks=function(e,t){var n=e.value.selection;e.setBlocksAtRange(n,t)},AS.setInlines=function(e,t){var n=e.value.selection;e.setInlinesAtRange(n,t)},AS.splitBlock=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;RS(e);var n=e.value,r=n.selection,o=n.document,i=r.marks||o.getInsertMarksAtRange(r);e.splitBlockAtRange(r,t).moveToEnd(),i&&0!==i.size&&e.select({marks:i})},AS.splitInline=function(e,t){RS(e);var n=e.value.selection;e.splitInlineAtRange(n,t)},AS.toggleMark=function(e,t){t=Vx.create(t),e.value.activeMarks.has(t)?e.removeMark(t):e.addMark(t)},AS.unwrapBlock=function(e,t){var n=e.value.selection;e.unwrapBlockAtRange(n,t)},AS.unwrapInline=function(e,t){var n=e.value.selection;e.unwrapInlineAtRange(n,t)},AS.wrapBlock=function(e,t){var n=e.value.selection;e.wrapBlockAtRange(n,t)},AS.wrapInline=function(e,t){var n=e.value.selection;e.wrapInlineAtRange(n,t)},AS.wrapText=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,r=e.value,o=r.selection;e.wrapTextAtRange(o,t,n),o.isCollapsed&&e.moveStartBackward(t.length),e.moveEndBackward(n.length),o.isForward!==e.value.selection.isForward&&e.flip()};var DS=yx("slate:editor"),PS=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ox(this,e);var r=n.controller,o=void 0===r?this:r,i=n.construct,a=void 0===i||i,s=t.onChange,l=void 0===s?function(){}:s,u=t.plugins,c=void 0===u?[]:u,d=t.readOnly,p=void 0!==d&&d,f=t.value,h=void 0===f?_E.create():f;this.controller=o,this.middleware={},this.onChange=l,this.operations=Hb.List(),this.readOnly=null,this.value=null,this.tmp={dirty:[],flushing:!1,merge:null,normalize:!0,save:!0};var m=NS({plugins:c});FS(this,m),a&&(this.run("onConstruct"),this.setReadOnly(p),this.setValue(h,n))}return Tx(e,[{key:"applyOperation",value:function(e){var t=this,n=this.operations,r=this.controller,o=this.value;mx(e)&&(e=Rx({},e,{value:o})),e=PE.create(e),this.withoutNormalizing((function(){r.save(e),o=t.value})),DS("apply",{operation:e}),this.value=e.apply(o),this.operations=n.push(e);var i=function(e){var t=e.type,n=e.node,r=e.path,o=e.newPath;switch(t){case"add_mark":case"insert_text":case"remove_mark":case"remove_text":case"set_mark":case"set_node":var i=hE.getAncestors(r).toArray();return[].concat(Mx(i),[r]);case"insert_node":var a=n.getKeysToPathsTable(),s=Object.values(a).map((function(e){return r.concat(e)})),l=hE.getAncestors(r).toArray();return[].concat(Mx(l),[r],Mx(s));case"split_node":var u=hE.getAncestors(r).toArray(),c=hE.increment(r);return[].concat(Mx(u),[r,c]);case"merge_node":var d=hE.getAncestors(r).toArray(),p=hE.decrement(r);return[].concat(Mx(d),[p]);case"move_node":if(hE.isEqual(r,o))return[];var f=hE.getAncestors(r).reduce((function(t,n){return t.push.apply(t,Mx(hE.transform(n,e).toArray())),t}),[]),h=hE.getAncestors(o).reduce((function(t,n){return t.push.apply(t,Mx(hE.transform(n,e).toArray())),t}),[]);return[].concat(Mx(f),Mx(h));case"remove_node":var m=hE.getAncestors(r).toArray();return[].concat(Mx(m));default:return[]}}(e),a=this.tmp.dirty.reduce((function(t,n){n=hE.create(n);var r=hE.transform(n,e);return t=t.concat(r.toArray())}),i);return this.tmp.dirty=a,this.tmp.flushing||(this.tmp.flushing=!0,Promise.resolve().then((function(){return t.flush()}))),r}},{key:"flush",value:function(){this.run("onChange");var e=this.value,t=this.operations,n=this.controller,r={value:e,operations:t};return this.operations=Hb.List(),this.tmp.flushing=!1,this.onChange(r),n}},{key:"command",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=this.controller;if("function"==typeof e)return e.apply(void 0,[o].concat(n)),MS(this),o;DS("command",{type:e,args:n});var i={type:e,args:n};return this.run("onCommand",i),MS(this),o}},{key:"hasCommand",value:function(e){var t=this.controller;return e in t&&t[e].__command}},{key:"hasQuery",value:function(e){var t=this.controller;return e in t&&t[e].__query}},{key:"normalize",value:function(){var e=this.value,t=this.controller,n=e.document,r=n.getKeysToPathsTable(),o=Object.values(r).map(hE.create);this.tmp.dirty=this.tmp.dirty.concat(o),MS(this);var i=e.selection;return n=e.document,i.isUnset&&n.nodes.size&&t.moveToStartOfDocument(),t}},{key:"query",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=this.controller;if("function"==typeof e)return e.apply(void 0,[o].concat(n));DS("query",{type:e,args:n});var i={type:e,args:n};return this.run("onQuery",i)}},{key:"registerCommand",value:function(e){var t=this,n=this.controller;if(e in n&&n[e].__command)return n;vx(!(e in n),"You cannot register a `"+e+"` command because it would overwrite an existing property of the `Editor`.");var r=function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.command.apply(t,[e].concat(r))};return n[e]=r,r.__command=!0,n}},{key:"registerQuery",value:function(e){var t=this,n=this.controller;if(e in n&&n[e].__query)return n;vx(!(e in n),"You cannot register a `"+e+"` query because it would overwrite an existing property of the `Editor`.");var r=function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.query.apply(t,[e].concat(r))};return n[e]=r,r.__query=!0,n}},{key:"run",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=this.controller,i=this.middleware,a=i[e]||[],s=0;function l(){var e=a[s++];if(e){for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];r.length&&(n=r);var u=e.apply(void 0,Mx(n).concat([o,l]));return u}}return Object.defineProperty(l,"change",{get:function(){vx(!1,"As of Slate 0.42, the `editor` is no longer passed as the third argument to event handlers. You can access it via `change.editor` instead.")}}),Object.defineProperty(l,"onChange",{get:function(){vx(!1,"As of Slate 0.42, the `editor` is no longer passed as the third argument to event handlers. You can access it via `change.editor` instead.")}}),Object.defineProperty(l,"props",{get:function(){vx(!1,"As of Slate 0.42, the `editor` is no longer passed as the third argument to event handlers. You can access it via `change.editor` instead.")}}),Object.defineProperty(l,"schema",{get:function(){vx(!1,"As of Slate 0.42, the `editor` is no longer passed as the third argument to event handlers. You can access it via `change.editor` instead.")}}),Object.defineProperty(l,"stack",{get:function(){vx(!1,"As of Slate 0.42, the `editor` is no longer passed as the third argument to event handlers. You can access it via `change.editor` instead.")}}),l()}},{key:"setReadOnly",value:function(e){return this.readOnly=e,this}},{key:"setValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.normalize,r=void 0===n?e!==this.value:n;return this.value=e,r&&this.normalize(),this}},{key:"withoutNormalizing",value:function(e){var t=this.controller,n=this.tmp.normalize;return this.tmp.normalize=!1,e(t),this.tmp.normalize=n,MS(this),t}},{key:"change",value:function(e){gx(!1,"As of Slate 0.43 the `change` object has been replaced with `editor`, so the `editor.change()` method is deprecated.`");for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.apply(void 0,[this.controller].concat(n))}},{key:"call",value:function(e){gx(!1,"As of Slate 0.43 the `editor.call(fn)` method has been deprecated, please use `editor.command(fn)` instead.");for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.apply(void 0,[this.controller].concat(n)),this.controller}},{key:"applyOperations",value:function(e){var t=this;return gx(!1,"As of Slate 0.43 the `applyOperations` method is deprecated, please apply each operation in a loop instead."),e.forEach((function(e){return t.applyOperation(e)})),this.controller}},{key:"setOperationFlag",value:function(e,t){return gx(!1,"As of slate@0.41 the `change.setOperationFlag` method has been deprecated."),this.tmp[e]=t,this}},{key:"getFlag",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return gx(!1,"As of slate@0.41 the `change.getFlag` method has been deprecated."),void 0!==t[e]?t[e]:this.tmp[e]}},{key:"unsetOperationFlag",value:function(e){return gx(!1,"As of slate@0.41 the `change.unsetOperationFlag` method has been deprecated."),delete this.tmp[e],this}},{key:"withoutNormalization",value:function(e){return gx(!1,"As of slate@0.41 the `change.withoutNormalization` helper has been renamed to `change.withoutNormalizing`."),this.withoutNormalizing(e)}},{key:"editor",get:function(){return gx(!1,"As of Slate 0.43 the `change` object has been replaced with `editor`, so you don't need to access `change.editor`."),this.controller}}]),e}();function MS(e){e.tmp.normalize&&e.tmp.dirty.length&&e.withoutNormalizing((function(){for(;e.tmp.dirty.length;){var t=e.tmp.dirty.pop();IS(e,t)}}))}function IS(e,t){for(var n=e.controller,r=e.value,o=r.document,i=o.assertNode(t),a=0,s=100+("text"===i.object?1:i.nodes.size);i;){var l=i.normalize(n);if(!l)break;l(n),o=(r=e.value).document;var u=i.key,c=o.getDescendant(t);if(c&&c.key===u)i=c;else{if(!(c=o.getDescendant(u)))break;i=c,t=o.getPath(u)}if(++a>s)throw new Error("A schema rule could not be normalized after sufficient iterations. This is usually due to a `rule.normalize` or `plugin.normalizeNode` function of a schema being incorrectly written, causing an infinite loop.")}}function FS(e,t){if(Array.isArray(t))t.forEach((function(t){return FS(e,t)}));else{var n=t.commands,r=t.queries,o=t.schema,i=Nx(t,["commands","queries","schema"]);if(n){var a=FE(n);FS(e,a)}if(r){var s=pS(r);FS(e,s)}if(o){var l=hS(o);FS(e,l)}for(var u in i){var c=i[u];(e.middleware[u]=e.middleware[u]||[]).push(c)}}}function LS(e,t){var n=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value,l=!0,u=!1,c=void 0;try{for(var d,p=Object.getOwnPropertyNames(e)[Symbol.iterator]();!(l=(d=p.next()).done);l=!0){var f=d.value;if(!s.hasOwnProperty(f)){var h=Object.getOwnPropertyDescriptor(e,f);Object.defineProperty(s,f,h)}}}catch(e){u=!0,c=e}finally{try{!l&&p.return&&p.return()}finally{if(u)throw c}}var m=!0,g=!1,v=void 0;try{for(var y,b=Object.getOwnPropertyNames(e.prototype)[Symbol.iterator]();!(m=(y=b.next()).done);m=!0){var w=y.value;if(!s.prototype.hasOwnProperty(w)){h=Object.getOwnPropertyDescriptor(e.prototype,w);Object.defineProperty(s.prototype,w,h)}}}catch(e){g=!0,v=e}finally{try{!m&&b.return&&b.return()}finally{if(g)throw v}}}}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}}Object.entries({Block:oE,Change:IE,Decoration:yE,Document:Lx,Editor:PS,Inline:jx,Leaf:Hx,Mark:Vx,Node:nE,Operation:PE,Point:gE,Range:CE,Selection:EE,Text:tE,Value:_E}).forEach((function(e){var t,n,r,o,i=Px(e,2),a=i[0],s=i[1];return LS((t=a.toLowerCase(),n=bE[t],r="is"+t.charAt(0).toUpperCase()+t.slice(1),(o=function(){function e(){Ox(this,e)}return Tx(e,[{key:"object",get:function(){return t}}]),e}())[r]=wE.bind(null,t),o.prototype[n]=!0,o),[s])})),LS(function(){function e(){Ox(this,e)}return Tx(e,[{key:"toJS",value:function(){return this.toJSON.apply(this,arguments)}}],[{key:"fromJS",value:function(){return this.fromJSON.apply(this,arguments)}}]),e}(),[oE,yE,Lx,jx,Hx,Vx,nE,PE,gE,CE,EE,tE,_E]);var BS=function(){function e(){Ox(this,e)}return Tx(e,[{key:"getFirstText",value:function(){if("text"===this.object)return this;var e=null,t=this.nodes.find((function(t){return"text"===t.object||!!(e=t.getFirstText())}));return e||t}},{key:"getKeysToPathsTable",value:function(){var e=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},this.key,[]);return this.nodes&&this.nodes.forEach((function(t,n){var r=t.getKeysToPathsTable();for(var o in r){var i=r[o];gx(!(o in e),'A node with a duplicate key of "'+o+'" was found! Duplicate keys are not allowed, you should use `node.regenerateKey` before inserting if you are reusing an existing node.'),e[o]=[n].concat(Mx(i))}})),e}},{key:"getLastText",value:function(){if("text"===this.object)return this;var e=null,t=this.nodes.findLast((function(t){return"text"===t.object||(e=t.getLastText())}));return e||t}},{key:"getNode",value:function(e){return(e=this.resolvePath(e))?"text"===this.object&&e.size?null:e.size?this.getDescendant(e):this:null}},{key:"getPath",value:function(e){if(Hb.List.isList(e))return e;var t=this.getKeysToPathsTable()[e];return t?Hb.List(t):null}},{key:"getText",value:function(){return("text"===this.object?this.leaves:this.nodes).reduce((function(e,t){return e+t.text}),"")}},{key:"hasNode",value:function(e){return!!this.getNode(e)}},{key:"normalize",value:function(e){return e.run("normalizeNode",this)}},{key:"regenerateKey",value:function(){var e=Sx.create();return this.set("key",e)}},{key:"resolvePath",value:function(e,t){return"string"==typeof e?(e=this.getPath(e),null!=t&&(e=e.concat(t))):e=hE.create(e),e}},{key:"validate",value:function(e){return e.run("validateNode",this)}},{key:"text",get:function(){return this.getText()}}]),e}();Jx(BS.prototype,["getFirstText","getKeysToPathsTable","getLastText","getText","normalize","validate"]),LS(BS,[oE,Lx,jx,tE]);var jS=function(){function e(){Ox(this,e)}return Tx(e,[{key:"addMark",value:function(e,t,n,r){var o=this.assertDescendant(e);return e=this.resolvePath(e),o=o.addMark(t,n,r),this.replaceNode(e,o)}},{key:"createDecoration",value:function(e){return e=yE.createProperties(e),this.resolveDecoration(e)}},{key:"createPoint",value:function(e){return e=gE.createProperties(e),this.resolvePoint(e)}},{key:"createRange",value:function(e){return e=CE.createProperties(e),this.resolveRange(e)}},{key:"createSelection",value:function(e){return e=EE.createProperties(e),this.resolveSelection(e)}},{key:"filterDescendants",value:function(e){var t=[];return this.forEachDescendant((function(n,r,o){e(n,r,o)&&t.push(n)})),Hb.List(t)}},{key:"findDescendant",value:function(e){var t=null;return this.forEachDescendant((function(n,r,o){if(e(n,r,o))return t=n,!1})),t}},{key:"findDescendantAndPath",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:hE.create([]),n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=void 0,o=void 0;return this.forEachDescendantWithPath((function(t,n,i){if(e(t,n,i))return r=t,o=n,!1}),t,n),r?[r,o]:null}},{key:"findFirstDescendantAndPath",value:function(e,t){return this.findDescendantAndPath(e,t,!1)}},{key:"findLastDescendantAndPath",value:function(e,t){return this.findDescendantAndPath(e,t,!0)}},{key:"forEachDescendant",value:function(e){var t=void 0;return this.nodes.forEach((function(n,r,o){return!1===e(n,r,o)?(t=!1,!1):"text"!==n.object?t=n.forEachDescendant(e):void 0})),t}},{key:"forEachDescendantWithPath",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:hE.create([]),n=arguments[2],r=this.nodes,o=void 0;return n&&(r=r.reverse()),r.forEach((function(i,a){var s=t.concat(a);return!1===e(i,s,r)?(o=!1,!1):"text"!==i.object?o=i.forEachDescendantWithPath(e,s,n):void 0})),o}},{key:"getActiveMarksAtRange",value:function(e){if((e=this.resolveRange(e)).isUnset)return Hb.Set();if(e.isCollapsed){var t=e.start;return this.getMarksAtPosition(t.path,t.offset).toSet()}var n=e,r=n.start,o=n.end,i=r.path,a=r.offset,s=o.path,l=o.offset,u=this.getDescendant(i),c=this.getDescendant(s);if(!hE.isEqual(i,s)){for(;!hE.isEqual(i,s)&&0===l;){var d=this.getPreviousTextAndPath(s),p=Px(d,2);c=p[0],s=p[1],l=c.text.length}for(;!hE.isEqual(i,s)&&a===u.text.length;){var f=this.getNextTextAndPath(i),h=Px(f,2);u=h[0],i=h[1],a=0}}if(hE.isEqual(i,s))return u.getActiveMarksBetweenOffsets(a,l);var m=u.getActiveMarksBetweenOffsets(a,u.text.length);if(0===m.size)return Hb.Set();var g=c.getActiveMarksBetweenOffsets(0,l),v=m.intersect(g);if(0===v.size)return v;var y=this.getNextTextAndPath(i),b=Px(y,2);for(u=b[0],i=b[1];!hE.isEqual(i,s);){if(0!==u.text.length&&0===(v=v.intersect(u.getActiveMarks())).size)return Hb.Set();var w=this.getNextTextAndPath(i),k=Px(w,2);u=k[0],i=k[1]}return v}},{key:"getAncestors",value:function(e){var t=this;if(!(e=this.resolvePath(e)))return null;var n=[];return e.forEach((function(r,o){var i=e.slice(0,o),a=t.getNode(i);n.push(a)})),Hb.List(n)}},{key:"getBlocks",value:function(){var e=this.getBlocksAsArray();return Hb.List(e)}},{key:"getBlocksAsArray",value:function(){return this.nodes.reduce((function(e,t){return"block"!==t.object?e:t.isLeafBlock()?(e.push(t),e):e.concat(t.getBlocksAsArray())}),[])}},{key:"getBlocksAtRange",value:function(e){return gx(!1,"As of slate@0.44 the `node.getBlocksAtRange` method has been renamed to `getLeafBlocksAtRange`."),this.getLeafBlocksAtRange(e)}},{key:"getBlocksAtRangeAsArray",value:function(e){return gx(!1,"As of slate@0.44 the `node.getBlocksAtRangeAsArray` method has been renamed to `getLeafBlocksAtRangeAsArray`."),this.getLeafBlocksAtRangeAsArray(e)}},{key:"getBlocksByType",value:function(e){var t=this.getBlocksByTypeAsArray(e);return Hb.List(t)}},{key:"getBlocksByTypeAsArray",value:function(e){return this.nodes.reduce((function(t,n){return"block"!==n.object?t:n.isLeafBlock()&&n.type===e?(t.push(n),t):t.concat(n.getBlocksByTypeAsArray(e))}),[])}},{key:"getChild",value:function(e){return!(e=this.resolvePath(e))||e.size>1?null:this.nodes.get(e.first())}},{key:"getClosest",value:function(e,t){var n=this,r=this.getAncestors(e);return r&&r.findLast((function(e){for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return e!==n&&t.apply(void 0,[e].concat(o))}))||null}},{key:"getClosestBlock",value:function(e){return this.getClosest(e,(function(e){return"block"===e.object}))}},{key:"getClosestInline",value:function(e){return this.getClosest(e,(function(e){return"inline"===e.object}))}},{key:"getClosestVoid",value:function(e,t){vx(!_E.isValue(t),"As of Slate 0.42.0, the `node.getClosestVoid` method takes an `editor` instead of a `value`.");var n=this.getAncestors(e);return n?n.findLast((function(e){return t.query("isVoid",e)})):null}},{key:"getCommonAncestor",value:function(e,t){if(e=this.resolvePath(e),t=this.resolvePath(t),!e||!t)return null;var n=hE.relate(e,t);return this.getNode(n)}},{key:"getDecorations",value:function(e){vx(!_E.isValue(e),"As of Slate 0.42.0, the `node.getDecorations` method takes an `editor` instead of a `value`.");var t=e.run("decorateNode",this);return yE.createList(t)}},{key:"getDepth",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!(e=this.resolvePath(e)))return null;var n=this.getNode(e),r=n?e.size-1+t:null;return r}},{key:"getDescendant",value:function(e){if(!(e=this.resolvePath(e))||!e.size)return null;var t=this;return e.forEach((function(e){return!!(t=t.getIn(["nodes",e]))})),t}},{key:"getFragmentAtRange",value:function(e){if((e=this.resolveRange(e)).isUnset)return Lx.create();for(var t=e,n=t.start,r=t.end,o=this,i=r.path,a=r.offset,s="end";i.size;){var l=i.last();o=o.splitNode(i,a),a=l+1,(i=hE.lift(i)).size||"end"!==s||(i=n.path,a=n.offset,s="start")}var u=n.path.first()+1,c=r.path.first()+2,d=o.nodes.slice(u,c);return Lx.create({nodes:d})}},{key:"getFurthest",value:function(e,t){var n=this,r=this.getAncestors(e);return r&&r.find((function(e){for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return e!==n&&t.apply(void 0,[e].concat(o))}))||null}},{key:"getFurthestAncestor",value:function(e){return(e=this.resolvePath(e))&&e.size?this.nodes.get(e.first()):null}},{key:"getFurthestBlock",value:function(e){return this.getFurthest(e,(function(e){return"block"===e.object}))}},{key:"getFurthestInline",value:function(e){return this.getFurthest(e,(function(e){return"inline"===e.object}))}},{key:"getFurthestOnlyChildAncestor",value:function(e){var t=this.getAncestors(e);return t&&t.rest().reverse().takeUntil((function(e){return e.nodes.size>1})).last()||null}},{key:"getInlines",value:function(){var e=this.getInlinesAsArray();return Hb.List(e)}},{key:"getInlinesAsArray",value:function(){var e=[];return this.nodes.forEach((function(t){"text"!==t.object&&(t.isLeafInline()?e.push(t):e=e.concat(t.getInlinesAsArray()))})),e}},{key:"getInlinesAtRange",value:function(e){return gx(!1,"As of slate@0.44 the `node.getInlinesAtRange` method has been renamed to `getLeafInlinesAtRange`."),this.getLeafInlinesAtRange(e)}},{key:"getInlinesAtRangeAsArray",value:function(e){return gx(!1,"As of slate@0.44 the `node.getInlinesAtRangeAsArray` method has been renamed to `getLeafInlinesAtRangeAsArray`."),this.getLeafInlinesAtRangeAsArray(e)}},{key:"getInlinesByType",value:function(e){var t=this.getInlinesByTypeAsArray(e);return Hb.List(t)}},{key:"getInlinesByTypeAsArray",value:function(e){return this.nodes.reduce((function(t,n){return"text"===n.object?t:n.isLeafInline()&&n.type===e?(t.push(n),t):t.concat(n.getInlinesByTypeAsArray(e))}),[])}},{key:"getInsertMarksAtRange",value:function(e){var t=(e=this.resolveRange(e)).start;return e.isUnset?Hb.Set():e.isCollapsed?this.getMarksAtPosition(t.path,t.offset):this.getDescendant(t.path).getMarksAtIndex(t.offset+1)}},{key:"getLeafBlocksAtRange",value:function(e){var t=this.getLeafBlocksAtRangeAsArray(e);return Hb.List(Hb.OrderedSet(t))}},{key:"getLeafBlocksAtRangeAsArray",value:function(e){if((e=this.resolveRange(e)).isUnset)return[];var t=e,n=t.start,r=t.end;return this.getLeafBlocksBetweenPathPositionsAsArray(n.path,r.path)}},{key:"getLeafBlocksBetweenPathPositionsAsArray",value:function(e,t){if(e&&t&&hE.isEqual(e,t))return[this.getClosestBlock(e)];if(!e&&!t)return this.getBlocksAsArray();var n=e?e.get(0,0):0,r=t?t.get(0,this.nodes.size-1):this.nodes.size-1,o=[];return this.nodes.slice(n,r+1).forEach((function(i,a){if("block"===i.object)if(i.isLeafBlock())o.push(i);else{var s=e&&0===a?hE.drop(e):null,l=t&&a===r-n?hE.drop(t):null;o=o.concat(i.getLeafBlocksBetweenPathPositionsAsArray(s,l))}})),o}},{key:"getLeafInlinesAtRange",value:function(e){var t=this.getLeafInlinesAtRangeAsArray(e);return Hb.List(Hb.OrderedSet(t))}},{key:"getLeafInlinesAtRangeAsArray",value:function(e){var t=this;return(e=this.resolveRange(e)).isUnset?[]:this.getTextsAtRangeAsArray(e).map((function(e){return t.getClosestInline(e.key)})).filter((function(e){return e}))}},{key:"getMarks",value:function(){var e=this.getMarksAsArray();return Hb.Set(e)}},{key:"getMarksAsArray",value:function(){var e,t=[];return this.nodes.forEach((function(e){t.push(e.getMarksAsArray())})),(e=[]).concat.apply(e,t)}},{key:"getMarksAtPosition",value:function(e,t){e=this.resolvePath(e);var n=this.getDescendant(e).getMarksAtIndex(t);if(0!==t)return n;var r=this.getClosestBlock(e);if(""===r.text)return n;var o=this.getPreviousTextAndPath(e);if(!o)return Hb.Set();var i=Px(o,2),a=i[0],s=i[1];return null!=o.getMarksAtIndex&&r.hasDescendant(s)?o.getMarksAtIndex(a.text.length):n}},{key:"getMarksAtRange",value:function(e){return Hb.Set(this.getOrderedMarksAtRange(e))}},{key:"getMarksByType",value:function(e){var t=this.getMarksByTypeAsArray(e);return Hb.Set(t)}},{key:"getMarksByTypeAsArray",value:function(e){return this.nodes.reduce((function(t,n){return"text"===n.object?t.concat(n.getMarksAsArray().filter((function(t){return t.type===e}))):t.concat(n.getMarksByTypeAsArray(e))}),[])}},{key:"getNextBlock",value:function(e){e=this.resolvePath(e);var t=this.getNextDeepMatchingNodeAndPath(e,(function(e){return"block"===e.object}));return t?t[0]:null}},{key:"getNextNode",value:function(e){if(!(e=this.resolvePath(e)))return null;if(!e.size)return null;for(var t=e.size;t>0;t--){var n=e.slice(0,t),r=hE.increment(n),o=this.getNode(r);if(o)return o}return null}},{key:"getNextMatchingNodeAndPath",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0};if(!e)return null;for(var n=e.size;n>0;n--){for(var r=e.slice(0,n),o=hE.increment(r),i=this.getNode(o);i&&!t(i);)o=hE.increment(o),i=this.getNode(o);if(i)return[i,o]}return null}},{key:"getNextDeepMatchingNodeAndPath",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0},n=this.getNextMatchingNodeAndPath(e);if(!n)return null;for(var r=Px(n,2),o=r[0],i=r[1],a=void 0,s=function(){return a="text"!==o.object&&o.findFirstDescendantAndPath(t,i)};s();){var l=a,u=Px(l,2);o=u[0],i=u[1]}return o?t(o)?[o,i]:this.getNextDeepMatchingNodeAndPath(n[1],t):null}},{key:"getNextSibling",value:function(e){if(!(e=this.resolvePath(e)))return null;if(!e.size)return null;var t=hE.increment(e);return this.getNode(t)}},{key:"getNextText",value:function(e){if(!(e=this.resolvePath(e)))return null;if(!e.size)return null;var t=this.getNextNode(e);return t?t.getFirstText():null}},{key:"getNextTextAndPath",value:function(e){return e&&e.size?this.getNextDeepMatchingNodeAndPath(e,(function(e){return"text"===e.object})):null}},{key:"getNodesAtRange",value:function(e){if((e=this.resolveRange(e)).isUnset)return Hb.List();for(var t=e,n=t.start,r=t.end,o=Hb.Stack(this.nodes.slice(n.path.get(0),r.path.get(0)+1).map((function(e,t){return{node:e,onStartEdge:0===t,onEndEdge:t===r.path.get(0)-n.path.get(0),relativeStartPath:n.path.slice(1),relativeEndPath:r.path.slice(1)}}))),i=[],a=function(){var e=o.peek(),t=e.node,n=e.onStartEdge,r=e.onEndEdge,a=e.relativeStartPath,s=e.relativeEndPath;if(o=o.shift(),i.push(t),"text"===t.object)return"continue";var l=n?a.get(0):0,u=r?s.get(0):t.nodes.size-1;o=o.pushAll(t.nodes.slice(l,u+1).map((function(e,t){return{node:e,onStartEdge:n&&0===t,onEndEdge:r&&t===u-l,relativeStartPath:n&&0===t?a.slice(1):null,relativeEndPath:r&&t===u-l?s.slice(1):null}})))};o.size>0;)a();return Hb.List(i)}},{key:"getOffset",value:function(e){e=this.resolvePath(e),this.assertDescendant(e);var t=e.first(),n=this.nodes.slice(0,t).reduce((function(e,t){return e+t.text.length}),0);return 1===e.size?n:n+this.nodes.get(t).getOffset(hE.drop(e))}},{key:"getOffsetAtRange",value:function(e){if((e=this.resolveRange(e)).isUnset)throw new Error("The range cannot be unset to calculcate its offset.");if(e.isExpanded)throw new Error("The range must be collapsed to calculcate its offset.");var t=e.start;return this.getOffset(t.path)+t.offset}},{key:"getOrderedMarks",value:function(){var e=this.getMarksAsArray();return Hb.OrderedSet(e)}},{key:"getOrderedMarksAtRange",value:function(e){var t=e=this.resolveRange(e),n=t.start,r=t.end;return e.isUnset?Hb.OrderedSet():e.isCollapsed?this.getMarksAtPosition(n.path,n.offset):this.getOrderedMarksBetweenPositions(n.path,n.offset,r.path,r.offset)}},{key:"getOrderedMarksBetweenPositions",value:function(e,t,n,r){e=this.resolvePath(e),n=this.resolvePath(n);var o=this.getDescendant(e);if(hE.isEqual(e,n))return o.getMarksBetweenOffsets(t,r);var i=this.getDescendant(n),a=this.getTextsBetweenPathPositionsAsArray(e,n);return Hb.OrderedSet().withMutations((function(e){a.forEach((function(n){n.key===o.key?e.union(n.getMarksBetweenOffsets(t,n.text.length)):n.key===i.key?e.union(n.getMarksBetweenOffsets(0,r)):e.union(n.getMarks())}))}))}},{key:"getOrderedMarksByType",value:function(e){var t=this.getMarksByTypeAsArray(e);return Hb.OrderedSet(t)}},{key:"getParent",value:function(e){if(!(e=this.resolvePath(e)))return null;if(!e.size)return null;var t=hE.lift(e);return this.getNode(t)}},{key:"getPreviousBlock",value:function(e){e=this.resolvePath(e);var t=this.getPreviousDeepMatchingNodeAndPath(e,(function(e){return"block"===e.object}));return t?t[0]:null}},{key:"getRootBlocksAtRange",value:function(e){if((e=this.resolveRange(e)).isUnset)return Hb.List();var t=e,n=t.start,r=t.end;return this.nodes.slice(n.path.first(),r.path.first()+1)}},{key:"getRootInlinesAtRange",value:function(e){var t=this.getRootInlinesAtRangeAsArray(e);return Hb.List(Hb.OrderedSet(t))}},{key:"getRootInlinesAtRangeAsArray",value:function(e){var t=this;return(e=this.resolveRange(e)).isUnset?Hb.List():this.getTextsAtRangeAsArray(e).map((function(e){return t.getFurthestInline(e.key)})).filter((function(e){return e}))}},{key:"getPreviousNode",value:function(e){if(!(e=this.resolvePath(e)))return null;if(!e.size)return null;for(var t=e.size;t>0;t--){var n=e.slice(0,t);if(0!==n.last()){var r=hE.decrement(n),o=this.getNode(r);if(o)return o}}return null}},{key:"getPreviousMatchingNodeAndPath",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0};if(!e)return null;for(var n=e.size;n>0;n--){var r=e.slice(0,n);if(0!==r.last()){for(var o=hE.decrement(r),i=this.getNode(o);i&&!t(i);)o=hE.decrement(o),i=this.getNode(o);if(i)return[i,o]}}return null}},{key:"getPreviousDeepMatchingNodeAndPath",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0},n=this.getPreviousMatchingNodeAndPath(e);if(!n)return null;for(var r=Px(n,2),o=r[0],i=r[1],a=void 0,s=function(){return a="text"!==o.object&&o.findLastDescendantAndPath(t,i)};s();){var l=a,u=Px(l,2);o=u[0],i=u[1]}return o?t(o)?[o,i]:this.getPreviousDeepMatchingNodeAndPath(n[1],t):null}},{key:"getPreviousSibling",value:function(e){if(!(e=this.resolvePath(e)))return null;if(!e.size)return null;if(0===e.last())return null;var t=hE.decrement(e);return this.getNode(t)}},{key:"getPreviousText",value:function(e){if(!(e=this.resolvePath(e)))return null;if(!e.size)return null;var t=this.getPreviousNode(e);return t?t.getLastText():null}},{key:"getPreviousTextAndPath",value:function(e){return e&&e.size?this.getPreviousDeepMatchingNodeAndPath(e,(function(e){return"text"===e.object})):null}},{key:"getSelectionIndexes",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.start,r=e.end;if(!t)return null;if(e.isUnset)return null;if(n.key===r.key){var o=this.getFurthestAncestor(n.key),i=o?this.nodes.indexOf(o):null;return{start:i,end:i+1}}var a=null,s=null;return this.nodes.forEach((function(e,t){return"text"===e.object?(null==a&&e.key===n.key&&(a=t),null==s&&e.key===r.key&&(s=t+1)):(null==a&&e.hasDescendant(n.key)&&(a=t),null==s&&e.hasDescendant(r.key)&&(s=t+1)),null==a||null==s})),t&&null==a&&(a=0),t&&null==s&&(s=this.nodes.size),null==a?null:{start:a,end:s}}},{key:"getTextAtOffset",value:function(e){if(0===e)return this.getFirstText();if(e===this.text.length)return this.getLastText();if(e<0||e>this.text.length)return null;var t=0;return this.getTexts().find((function(n,r,o){return(t+=n.text.length)>e}))}},{key:"getTextDirection",value:function(){var e=kx(this.text);return"neutral"===e?null:e}},{key:"getTexts",value:function(){var e=this.getTextsAsArray();return Hb.List(e)}},{key:"getTextsAsArray",value:function(){var e=[];return this.nodes.forEach((function(t){"text"===t.object?e.push(t):e=e.concat(t.getTextsAsArray())})),e}},{key:"getTextsAtRange",value:function(e){var t=this.getTextsAtRangeAsArray(e);return Hb.List(t)}},{key:"getTextsAtRangeAsArray",value:function(e){if((e=this.resolveRange(e)).isUnset)return[];var t=e,n=t.start,r=t.end;return this.getTextsBetweenPathPositionsAsArray(n.path,r.path)}},{key:"getTextsBetweenPositionsAsArray",value:function(e,t){return e=this.resolvePath(e),t=this.resolvePath(t),this.getTextsBetweenPathPositionsAsArray(e,t)}},{key:"getTextsBetweenPathPositionsAsArray",value:function(e,t){if(e&&t&&hE.isEqual(e,t))return[this.getDescendant(e)];if(!e&&!t)return this.getTextsAsArray();var n=e?e.get(0,0):0,r=t?t.get(0,this.nodes.size-1):this.nodes.size-1,o=[];return this.nodes.slice(n,r+1).forEach((function(i,a){if("text"===i.object)o.push(i);else{var s=e&&0===a?hE.drop(e):null,l=t&&a===r-n?hE.drop(t):null;o=o.concat(i.getTextsBetweenPathPositionsAsArray(s,l))}})),o}},{key:"hasBlockChildren",value:function(){return!(!this.nodes||!this.nodes.find((function(e){return"block"===e.object})))}},{key:"hasChild",value:function(e){return!!this.getChild(e)}},{key:"hasInlineChildren",value:function(){return!(!this.nodes||!this.nodes.find((function(e){return"inline"===e.object||"text"===e.object})))}},{key:"hasDescendant",value:function(e){return!!this.getDescendant(e)}},{key:"hasVoidParent",value:function(e,t){return vx(!_E.isValue(t),"As of Slate 0.42.0, the `node.hasVoidParent` method takes an `editor` instead of a `value`."),!!this.getClosestVoid(e,t)}},{key:"insertNode",value:function(e,t){var n=(e=this.resolvePath(e)).last(),r=hE.lift(e),o=this.assertNode(r),i=o.nodes.splice(n,0,t);return o=o.set("nodes",i),this.replaceNode(r,o)}},{key:"insertText",value:function(e,t,n,r){var o=this.assertDescendant(e);return e=this.resolvePath(e),o=o.insertText(t,n,r),this.replaceNode(e,o)}},{key:"isLeafBlock",value:function(){var e=this.object,t=this.nodes;return"block"===e&&(!t.size||"block"!==t.first().object)}},{key:"isLeafInline",value:function(){var e=this.object,t=this.nodes;return"inline"===e&&(!t.size||"inline"!==t.first().object)}},{key:"isNodeInRange",value:function(e,t){if(this.assertDescendant(e),e=this.resolvePath(e),(t=this.resolveRange(t)).isUnset)return!1;var n=hE.compare(e,t.start.path),r=t.start.key===t.end.key?n:hE.compare(e,t.end.path);return-1!==n&&1!==r}},{key:"mapChildren",value:function(e){var t=this,n=this.nodes;return n.forEach((function(r,o){var i=e(r,o,t.nodes);i!==r&&(n=n.set(i.key,i))})),this.set("nodes",n)}},{key:"mapDescendants",value:function(e){var t=this,n=this.nodes;return n.forEach((function(r,o){var i=r;"text"!==i.object&&(i=i.mapDescendants(e)),(i=e(i,o,t.nodes))!==r&&(n=n.set(o,i))})),this.set("nodes",n)}},{key:"mergeNode",value:function(e){var t=this.assertNode(e);if(0===(e=this.resolvePath(e)).last())throw new Error("Unable to merge node because it has no previous sibling: "+t);var n=hE.decrement(e),r=this.assertNode(n);if(r.object!==t.object)throw new Error("Unable to merge two different kinds of nodes: "+r+" and "+t);var o="text"===r.object?r.mergeText(t):r.set("nodes",r.nodes.concat(t.nodes)),i=this;return i=(i=(i=i.removeNode(e)).removeNode(n)).insertNode(n,o)}},{key:"moveNode",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this.assertNode(e);e=this.resolvePath(e),t=this.resolvePath(t,n);var o=hE.lift(t);this.assertNode(o);var i=PE.create({type:"move_node",path:e,newPath:t});t=hE.transform(e,i).first();var a=this;return a=(a=a.removeNode(e)).insertNode(t,r)}},{key:"removeMark",value:function(e,t,n,r){var o=this.assertDescendant(e);return e=this.resolvePath(e),o=o.removeMark(t,n,r),this.replaceNode(e,o)}},{key:"removeNode",value:function(e){this.assertDescendant(e);var t=(e=this.resolvePath(e)).flatMap((function(e){return["nodes",e]}));return this.deleteIn(t)}},{key:"removeText",value:function(e,t,n){var r=this.assertDescendant(e);return r=r.removeText(t,n.length),this.replaceNode(e,r)}},{key:"replaceNode",value:function(e,t){if(!(e=this.resolvePath(e)))throw new Error("Unable to replace a node because it could not be found in the first place: "+e);if(!e.size)return t;this.assertNode(e);var n=e.flatMap((function(e){return["nodes",e]}));return this.setIn(n,t)}},{key:"resolveDecoration",value:function(e){return e=(e=yE.create(e)).normalize(this)}},{key:"resolvePoint",value:function(e){return e=(e=gE.create(e)).normalize(this)}},{key:"resolveRange",value:function(e){return e=(e=CE.create(e)).normalize(this)}},{key:"resolveSelection",value:function(e){return e=(e=EE.create(e)).normalize(this)}},{key:"setNode",value:function(e,t){var n=this.assertNode(e);return n=n.merge(t),this.replaceNode(e,n)}},{key:"setMark",value:function(e,t,n,r,o){var i=this.assertNode(e);return i=i.updateMark(t,n,r,o),this.replaceNode(e,i)}},{key:"splitNode",value:function(e,t,n){var r=this.assertNode(e);e=this.resolvePath(e);var o=void 0,i=void 0;if("text"===r.object){var a=r.splitText(t),s=Px(a,2);o=s[0],i=s[1]}else{var l=r.nodes.take(t),u=r.nodes.skip(t);o=r.set("nodes",l),i=r.set("nodes",u).regenerateKey()}n&&"text"!==r.object&&(i=i.merge(n));var c=this;return c=(c=(c=c.removeNode(e)).insertNode(e,i)).insertNode(e,o)}}]),e}(),zS=function(e){jS.prototype["assert"+e]=function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var i=this["get"+e].apply(this,[t].concat(r));if(null==i)throw new Error("`Node.assert"+e+"` could not find node with path or key: "+t);return i}},VS=!0,US=!1,HS=void 0;try{for(var GS,WS=["Child","Depth","Descendant","Node","Parent","Path"][Symbol.iterator]();!(VS=(GS=WS.next()).done);VS=!0){zS(GS.value)}}catch(e){US=!0,HS=e}finally{try{!VS&&WS.return&&WS.return()}finally{if(US)throw HS}}Jx(jS.prototype,["getBlocksAsArray","getLeafBlocksAtRangeAsArray","getBlocksByTypeAsArray","getDecorations","getFragmentAtRange","getInlinesAsArray","getInlinesByTypeAsArray","getLeafBlocksAtRangeAsArray","getLeafInlinesAtRangeAsArray","getMarksAsArray","getMarksAtPosition","getNodesAtRange","getOrderedMarksBetweenPositions","getInsertMarksAtRange","getMarksByTypeAsArray","getNextBlock","getOffset","getOffsetAtRange","getPreviousBlock","getRootBlocksAtRange","getRootInlinesAtRangeAsArray","getTextAtOffset","getTextDirection","getTextsAsArray","getTextsBetweenPathPositionsAsArray"]),LS(jS,[oE,Lx,jx]),LS(function(){function e(){Ox(this,e)}return Tx(e,[{key:"flip",value:function(){return this.setPoints([this.focus,this.anchor])}},{key:"moveForward",value:function(e){return this.updatePoints((function(t){return t.moveForward(e)}))}},{key:"moveBackward",value:function(e){return this.updatePoints((function(t){return t.moveBackward(e)}))}},{key:"moveAnchorBackward",value:function(e){return this.setAnchor(this.anchor.moveBackward(e))}},{key:"moveAnchorForward",value:function(e){return this.setAnchor(this.anchor.moveForward(e))}},{key:"moveAnchorTo",value:function(e,t){return this.setAnchor(this.anchor.moveTo(e,t))}},{key:"moveAnchorToStartOfNode",value:function(e){return this.setAnchor(this.anchor.moveToStartOfNode(e))}},{key:"moveAnchorToEndOfNode",value:function(e){return this.setAnchor(this.anchor.moveToEndOfNode(e))}},{key:"moveEndBackward",value:function(e){return this.setEnd(this.end.moveBackward(e))}},{key:"moveEndForward",value:function(e){return this.setEnd(this.end.moveForward(e))}},{key:"moveEndTo",value:function(e,t){return this.setEnd(this.end.moveTo(e,t))}},{key:"moveEndToStartOfNode",value:function(e){return this.setEnd(this.end.moveToStartOfNode(e))}},{key:"moveEndToEndOfNode",value:function(e){return this.setEnd(this.end.moveToEndOfNode(e))}},{key:"moveFocusBackward",value:function(e){return this.setFocus(this.focus.moveBackward(e))}},{key:"moveFocusForward",value:function(e){return this.setFocus(this.focus.moveForward(e))}},{key:"moveFocusTo",value:function(e,t){return this.setFocus(this.focus.moveTo(e,t))}},{key:"moveFocusToStartOfNode",value:function(e){return this.setFocus(this.focus.moveToStartOfNode(e))}},{key:"moveFocusToEndOfNode",value:function(e){return this.setFocus(this.focus.moveToEndOfNode(e))}},{key:"moveStartBackward",value:function(e){return this.setStart(this.start.moveBackward(e))}},{key:"moveStartForward",value:function(e){return this.setStart(this.start.moveForward(e))}},{key:"moveStartTo",value:function(e,t){return this.setStart(this.start.moveTo(e,t))}},{key:"moveStartToStartOfNode",value:function(e){return this.setStart(this.start.moveToStartOfNode(e))}},{key:"moveStartToEndOfNode",value:function(e){return this.setStart(this.start.moveToEndOfNode(e))}},{key:"moveTo",value:function(e,t){return this.updatePoints((function(n){return n.moveTo(e,t)}))}},{key:"moveToAnchor",value:function(){return this.setFocus(this.anchor)}},{key:"moveToEnd",value:function(){return this.setStart(this.end)}},{key:"moveToEndOfNode",value:function(e){return this.updatePoints((function(t){return t.moveToEndOfNode(e)}))}},{key:"moveToFocus",value:function(){return this.setAnchor(this.focus)}},{key:"moveToRangeOfNode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=this.setPoints([this.anchor.moveToStartOfNode(e),this.focus.moveToEndOfNode(t)]);return n}},{key:"moveToStart",value:function(){return this.setEnd(this.start)}},{key:"moveToStartOfNode",value:function(e){return this.updatePoints((function(t){return t.moveToStartOfNode(e)}))}},{key:"normalize",value:function(e){return this.updatePoints((function(t){return t.normalize(e)}))}},{key:"setAnchor",value:function(e){return this.set("anchor",e)}},{key:"setEnd",value:function(e){return this.isBackward?this.setAnchor(e):this.setFocus(e)}},{key:"setFocus",value:function(e){return this.set("focus",e)}},{key:"setPoints",value:function(e){var t=Px(e,2),n=t[0],r=t[1];return this.set("anchor",n).set("focus",r)}},{key:"updatePoints",value:function(e){var t=this.anchor,n=this.focus;return t=e(t),n=e(n),this.merge({anchor:t,focus:n})}},{key:"setStart",value:function(e){return this.isBackward?this.setFocus(e):this.setAnchor(e)}},{key:"setProperties",value:function(e){var t=e=CE.createProperties(e),n=t.anchor,r=t.focus,o=Nx(t,["anchor","focus"]);return n&&(o.anchor=gE.create(n)),r&&(o.focus=gE.create(r)),this.merge(o)}},{key:"toJSON",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={object:this.object,anchor:this.anchor.toJSON(e),focus:this.focus.toJSON(e)};return t}},{key:"toRange",value:function(){var e=CE.createProperties(this);return CE.create(e)}},{key:"unset",value:function(){return this.updatePoints((function(e){return e.unset()}))}},{key:"isCollapsed",get:function(){return this.anchor===this.focus||this.anchor.key===this.focus.key&&this.anchor.offset===this.focus.offset}},{key:"isExpanded",get:function(){return!this.isCollapsed}},{key:"isBackward",get:function(){var e=this.isUnset,t=this.anchor,n=this.focus;return e?null:t.key===n.key?t.offset>n.offset:hE.isBefore(n.path,t.path)}},{key:"isForward",get:function(){var e=this.isBackward;return null==e?null:!e}},{key:"isUnset",get:function(){var e=this.anchor,t=this.focus;return e.isUnset||t.isUnset}},{key:"isSet",get:function(){return!this.isUnset}},{key:"start",get:function(){return this.isBackward?this.focus:this.anchor}},{key:"end",get:function(){return this.isBackward?this.anchor:this.focus}}]),e}(),[yE,CE,EE]);var qS=oE,YS=IE,KS=Ix,$S=Lx,XS=jx,JS=Hx,QS=Vx,ZS=nE,e_=gE,t_=CE,n_=EE,r_=tE,o_=_E,i_={Block:oE,Change:IE,Data:Ix,Decoration:yE,Document:Lx,Editor:PS,Inline:jx,KeyUtils:Sx,Leaf:Hx,Mark:Vx,Node:nE,Operation:PE,PathUtils:hE,Point:gE,Range:CE,resetMemoization:function(){Xx=new WeakMap},Selection:EE,Text:tE,TextUtils:WE,useMemoization:function(e){Gx=e},Value:_E},a_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s_="object"===("undefined"==typeof window?"undefined":a_(window))&&"object"===("undefined"==typeof document?"undefined":a_(document))&&9===document.nodeType,l_=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},u_=void 0;if(s_){var c_=!0,d_=!1,p_=void 0;try{for(var f_,h_=[["edge",/Edge\/([0-9\._]+)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)$/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+)\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["android",/Android\s([0-9\.]+)/],["safari",/Version\/([0-9\._]+).*Safari/]][Symbol.iterator]();!(c_=(f_=h_.next()).done);c_=!0){var m_=f_.value,g_=l_(m_,2),v_=g_[0];if(g_[1].test(window.navigator.userAgent)){u_=v_;break}}}catch(e){d_=!0,p_=e}finally{try{!c_&&h_.return&&h_.return()}finally{if(d_)throw p_}}}var y_=void 0;if(s_){var b_=!0,w_=!1,k_=void 0;try{for(var C_,x_=[["ios",/os ([\.\_\d]+) like mac os/i],["macos",/mac os x/i],["android",/android/i],["firefoxos",/mozilla\/[a-z\.\_\d]+ \((?:mobile)|(?:tablet)/i],["windows",/windows\s*(?:nt)?\s*([\.\_\d]+)/i]][Symbol.iterator]();!(b_=(C_=x_.next()).done);b_=!0){var E_=C_.value,S_=l_(E_,2),__=S_[0];if(S_[1].test(window.navigator.userAgent)){y_=__;break}}}catch(e){w_=!0,k_=e}finally{try{!b_&&x_.return&&x_.return()}finally{if(w_)throw k_}}}var O_=[];if(s_){var T_=!0,R_=!1,A_=void 0;try{for(var N_,D_=[["inputeventslevel1",function(e){return"inputType"in(e.InputEvent?new e.InputEvent("input"):{})}],["inputeventslevel2",function(e){var t=e.document.createElement("div");return t.contentEditable=!0,"onbeforeinput"in t}]][Symbol.iterator]();!(T_=(N_=D_.next()).done);T_=!0){var P_=N_.value,M_=l_(P_,2),I_=M_[0];(0,M_[1])(window)&&O_.push(I_)}}catch(e){R_=!0,A_=e}finally{try{!T_&&D_.return&&D_.return()}finally{if(R_)throw A_}}}var F_=[[/^9([.]0|)/,28],[/^8[.]1/,27],[/^8([.]0|)/,26],[/^7[.]1/,25],[/^7([.]0|)/,24],[/^6([.]0|)/,23],[/^5[.]1/,22],[/^5([.]0|)/,21],[/^4[.]4/,20]];var L_="chrome"===u_,B_="opera"===u_,j_="firefox"===u_,z_="safari"===u_,V_="ie"===u_,U_="edge"===u_,H_="android"===y_,G_="ios"===y_,W_="macos"===y_,q_="windows"===y_,Y_=function(){if("android"!==y_)return null;var e=window.navigator.userAgent.match(/Android\s([0-9\.]+)/);if(null==e)return null;var t=e[1],n=!0,r=!1,o=void 0;try{for(var i,a=F_[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value,l=l_(s,2),u=l[0],c=l[1];if(t.match(u))return c}}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}return null}(),K_=O_.includes("inputeventslevel1"),$_=O_.includes("inputeventslevel2")||H_&&(28===Y_||null===Y_),X_=Object.freeze({__proto__:null,IS_CHROME:L_,IS_OPERA:B_,IS_FIREFOX:j_,IS_SAFARI:z_,IS_IE:V_,IS_EDGE:U_,IS_ANDROID:H_,IS_IOS:G_,IS_MAC:W_,IS_WINDOWS:q_,ANDROID_API_VERSION:Y_,HAS_INPUT_EVENTS_LEVEL_1:K_,HAS_INPUT_EVENTS_LEVEL_2:$_}),J_=self.atob.bind(self),Q_=self.btoa.bind(self);function Z_(e){var t=JSON.stringify(e);return Q_(encodeURIComponent(t))}function eO(e){var t=decodeURIComponent(J_(e));return JSON.parse(t)}var tO={deserialize:function(e,t){var n=eO(e);return o_.fromJSON(n,t)},deserializeNode:function(e,t){var n=eO(e);return ZS.fromJSON(n,t)},serialize:function(e,t){return Z_(e.toJSON(t))},serializeNode:function(e,t){return Z_(e.toJSON(t))}},nO=Object.freeze({__proto__:null,default:tO}),rO=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function oO(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.delimiter,r=void 0===n?"\n":n;return"document"===e.object||"block"===e.object&&qS.isBlockList(e.nodes)?e.nodes.map(oO).join(r):e.text}for(var iO={deserialize:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.defaultBlock,r=void 0===n?"line":n,o=t.defaultMarks,i=void 0===o?[]:o,a=t.delimiter,s=void 0===a?"\n":a,l=t.toJSON,u=void 0!==l&&l;Hb.Set.isSet(i)&&(i=i.toArray()),r=ZS.createProperties(r),i=i.map(QS.createProperties);var c={object:"value",document:{object:"document",data:{},nodes:e.split(s).map((function(e){return rO({},r,{object:"block",data:{},nodes:[{object:"text",text:e,marks:i}]})}))}},d=u?c:o_.fromJSON(c);return d},serialize:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return oO(e.document,t)}},aO=Object.freeze({__proto__:null,default:iO}),sO="undefined"!=typeof window&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),lO={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},uO={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:sO?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},cO={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},dO=1;dO<20;dO++)cO["f"+dO]=111+dO;function pO(e,t,n){t&&!("byKey"in t)&&(n=t,t=null),Array.isArray(e)||(e=[e]);var r=e.map((function(e){return function(e,t){var n=t&&t.byKey,r={},o=(e=e.replace("++","+add")).split("+"),i=o.length;for(var a in lO)r[lO[a]]=!1;var s=!0,l=!1,u=void 0;try{for(var c,d=o[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var p=c.value,f=p.endsWith("?");f&&(p=p.slice(0,-1));var h=hO(p),m=lO[h];1!==i&&m||(n?r.key=h:r.which=fO(p)),m&&(r[m]=!f||null)}}catch(e){l=!0,u=e}finally{try{!s&&d.return&&d.return()}finally{if(l)throw u}}return r}(e,t)})),o=function(e){return r.some((function(t){return function(e,t){for(var n in e){var r=e[n],o=void 0;if(null!=r&&((null!=(o="key"===n?t.key.toLowerCase():"which"===n?91===r&&93===t.which?91:t.which:t[n])||!1!==r)&&o!==r))return!1}return!0}(t,e)}))};return null==n?o:o(n)}function fO(e){return e=hO(e),cO[e]||e.toUpperCase().charCodeAt(0)}function hO(e){return e=e.toLowerCase(),e=uO[e]||e}var mO=function(e,t){return pO(e,{byKey:!0},t)},gO={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",splitBlock:"shift?+enter",undo:"mod+z"},vO={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},yO={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:"ctrl+y"},bO={},wO=G_||W_,kO=!wO;[].concat(Object.keys(gO)).concat(Object.keys(vO)).concat(Object.keys(yO)).forEach((function(e){var t="is"+e[0].toUpperCase()+e.slice(1);if(!bO[t]){var n=gO[e],r=vO[e],o=yO[e],i=n&&mO(n),a=r&&mO(r),s=o&&mO(o);bO[t]=function(e){return!(!i||!i(e))||(!!(wO&&a&&a(e))||!!(kO&&s&&s(e)))}}}));var CO=Object.freeze({__proto__:null,default:bO});function xO(e,t){function n(n,r,o,i,a){var s=r[o];return null!=s||n?null==s&&n?new Error("The "+a+" `"+o+"` is marked as required in `"+i+"`, but it was not supplied."):t(s)?null:new Error("Invalid "+a+" `"+o+"` supplied to `"+i+"`, expected a Slate `"+e+"` but received: "+s):null}function r(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.apply(void 0,[!1].concat(t))}return r.isRequired=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.apply(void 0,[!0].concat(t))},r}var EO,SO={block:xO("Block",(function(e){return qS.isBlock(e)})),blocks:xO("List<Block>",(function(e){return qS.isBlockList(e)})),change:xO("Change",(function(e){return YS.isChange(e)})),data:xO("Data",(function(e){return KS.isData(e)})),document:xO("Document",(function(e){return $S.isDocument(e)})),inline:xO("Inline",(function(e){return XS.isInline(e)})),inlines:xO("Inline",(function(e){return XS.isInlineList(e)})),leaf:xO("Leaf",(function(e){return JS.isLeaf(e)})),leaves:xO("List<Leaf>",(function(e){return JS.isLeafList(e)})),mark:xO("Mark",(function(e){return QS.isMark(e)})),marks:xO("Set<Mark>",(function(e){return QS.isMarkSet(e)})),node:xO("Node",(function(e){return ZS.isNode(e)})),nodes:xO("List<Node>",(function(e){return ZS.isNodeList(e)})),range:xO("Range",(function(e){return t_.isRange(e)})),ranges:xO("List<Range>",(function(e){return t_.isRangeList(e)})),selection:xO("Selection",(function(e){return n_.isSelection(e)})),value:xO("Value",(function(e){return o_.isValue(e)})),text:xO("Text",(function(e){return r_.isText(e)})),texts:xO("List<Text>",(function(e){return r_.isTextList(e)}))},_O=Object.freeze({__proto__:null,default:SO}),OO="<<anonymous>>",TO=function(){invariant(!1,"ImmutablePropTypes type checking code is stripped in production.")};TO.isRequired=TO;var RO=function(){return TO};function AO(e,t){return function(e){function t(t,n,r,o,i,a){for(var s=arguments.length,l=Array(s>6?s-6:0),u=6;u<s;u++)l[u-6]=arguments[u];return a=a||r,o=o||OO,null!=n[r]?e.apply(void 0,[n,r,o,i,a].concat(l)):t?new Error("Required "+i+" `"+a+"` was not specified in `"+o+"`."):void 0}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}((function(n,r,o,i,a){var s=n[r];if(!t(s)){var l=function(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":e instanceof Hb.Iterable?"Immutable."+e.toSource().split(" ")[0]:t}(s);return new Error("Invalid "+i+" `"+a+"` of type `"+l+"` supplied to `"+o+"`, expected `"+e+"`.")}return null}))}function NO(e,t){return AO("Iterable."+e,(function(e){return Hb.Iterable.isIterable(e)&&t(e)}))}(EO={listOf:RO,mapOf:RO,orderedMapOf:RO,setOf:RO,orderedSetOf:RO,stackOf:RO,iterableOf:RO,recordOf:RO,shape:RO,contains:RO,mapContains:RO,orderedMapContains:RO,list:TO,map:TO,orderedMap:TO,set:TO,orderedSet:TO,stack:TO,seq:TO,record:TO,iterable:TO}).iterable.indexed=NO("Indexed",Hb.Iterable.isIndexed),EO.iterable.keyed=NO("Keyed",Hb.Iterable.isKeyed);var DO=EO;var PO=function(e){var t=e.anchorNode,n=e.anchorOffset,r=e.focusNode,o=e.focusOffset,i=t.compareDocumentPosition(r);return!(4===i||0===i&&n<o)},MO=function(e,t){if(!e)throw new Error("Invariant failed: "+(t||""))},IO=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},FO=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},LO=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},BO=0;var jO=Object.freeze({__proto__:null,default:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=BO++,n=e.placeholder,r=e.when,o=e.style,i=void 0===o?{}:o;function a(e,n,o){if(!n.query(r,e))return o();var i=o(),a=e.texts(),s=FO(a,1)[0],l=e.texts({direction:"backward"}),u=FO(l,1)[0],c=FO(s,2),d=c[0],p=c[1],f=FO(u,2),h=f[0],m=f[1],g={type:"placeholder",data:{key:t},anchor:{key:d.key,offset:0,path:p},focus:{key:h.key,offset:h.text.length,path:m}};return[].concat(LO(i),[g])}function s(e,r,o){var a=e.children,s=e.decoration;if("placeholder"===s.type&&s.data.get("key")===t){var l=IO({pointerEvents:"none",display:"inline-block",width:"0",maxWidth:"100%",whiteSpace:"nowrap",opacity:"0.333",verticalAlign:"text-top"},i);return React.createElement("span",null,React.createElement("span",{contentEditable:!1,style:l},n),a)}return o()}return MO("string"==typeof n,"You must pass `SlateReactPlaceholder` an `options.placeholder` string."),MO("string"==typeof r||"function"==typeof r,"You must pass `SlateReactPlaceholder` an `options.when` query."),{decorateNode:a,renderDecoration:s}}}),zO=function(e,t){return e===t};var VO=Object.freeze({__proto__:null,default:function(e,t){var n;void 0===t&&(t=zO);var r,o=[],i=!1,a=function(e,n){return t(e,o[n],n)};return function(){for(var t=arguments.length,s=new Array(t),l=0;l<t;l++)s[l]=arguments[l];return i&&n===this&&s.length===o.length&&s.every(a)||(r=e.apply(this,s),i=!0,n=this,o=s),r}}}),UO=Ae(X_),HO=Ae(nO),GO=Ae(aO),WO=Ae(CO),qO=Ae(_O),YO=Ae(jO),KO=Ae(VO);function $O(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var XO=$O(jb),JO=$O(fx),QO=$O(ew),ZO=$O(Ak),eT=$O(HO),tT=$O(GO),nT=$O(WO),rT=$O(Gc),oT=$O(wl),iT=$O(nn),aT=$O(qO),sT=$O(DO),lT=$O(px),uT=$O(PO),cT=$O(vb),dT=$O(YO),pT=$O(KO),fT=["onBeforeInput","onBlur","onClick","onContextMenu","onCompositionEnd","onCompositionStart","onCopy","onCut","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onInput","onFocus","onKeyDown","onKeyUp","onMouseDown","onMouseUp","onPaste","onSelect"];var hT=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},mT=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),gT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vT=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},yT=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},bT=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},wT=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},kT=/^([\w-]+)(?::(\d+))?$/;var CT={parse:function(e){var t=kT.exec(e);if(!t)throw new Error('Invalid offset key string "'+e+'".');var n=bT(t,3);n[0];var r=n[1],o=n[2];return{key:r,index:parseInt(o,10)}},stringify:function(e){return e.key+":"+e.index}},xT="data-slate-zero-width",ET="[data-slate-zero-width]",ST="data-offset-key",_T="[data-offset-key]";function OT(e,t,n){JO(!i_.Value.isValue(n),"As of Slate 0.42.0, the `findPoint` utility takes an `editor` instead of a `value`.");var r=function(e,t){if(1===e.nodeType&&e.childNodes.length){var n=t===e.childNodes.length,r=n?"backward":"forward";for(e=TT(e,n?t-1:t,r);1===e.nodeType&&e.childNodes.length;){e=TT(e,n?e.childNodes.length-1:0,r)}t=n?e.textContent.length:0}return{node:e,offset:t}}(e,t),o=r.node,i=r.offset,a=XO(e),s=o.parentNode,l=s.closest(_T),u=void 0,c=void 0;if(l){var d=a.document.createRange(),p=l.closest("[data-key]");d.setStart(p,0),d.setEnd(o,i),c=p,u=d.cloneContents().textContent.length}else{var f=s.closest("[data-slate-void]");if(!f)return null;if(!(l=f.querySelector(_T)))return null;u=(c=l).textContent.length}u===c.textContent.length&&s.hasAttribute(xT)&&u--;var h=l.getAttribute(ST);if(!h)return null;var m=CT.parse(h).key,g=n.value;return g.document.hasDescendant(m)?g.document.createPoint({key:m,offset:u}):null}function TT(e,t,n){for(var r=e.childNodes,o=r[t],i=t,a=!1,s=!1;(8===o.nodeType||1===o.nodeType&&0===o.childNodes.length||1===o.nodeType&&"false"===o.getAttribute("contenteditable"))&&(!a||!s);)i>=r.length?(a=!0,i=t-1,n="backward"):i<0?(s=!0,i=t+1,n="forward"):(o=r[i],"forward"===n&&i++,"backward"===n&&i--);return o||null}function RT(e,t){JO(!i_.Value.isValue(t),"As of Slate 0.42.0, the `findNode` utility takes an `editor` instead of a `value`.");var n=e.anchorNode||e.startContainer;if(!n)return null;var r=XO(n);(e instanceof r.Range||r.StaticRange&&e instanceof r.StaticRange)&&(e={anchorNode:e.startContainer,anchorOffset:e.startOffset,focusNode:e.endContainer,focusOffset:e.endOffset});var o=e,i=o.anchorNode,a=o.anchorOffset,s=o.focusNode,l=o.focusOffset,u=o.isCollapsed,c=t.value,d=OT(i,a,t),p=u?d:OT(s,l,t);return d&&p?c.document.createRange({anchor:d,focus:p}):null}function AT(e,t,n){var r=t.value,o=r.document;if(n.rangeCount){var i=RT(n,t);if(i){var a=i,s=a.anchor,l=a.focus,u=o.getNode(s.key),c=o.getNode(l.key),d=o.getClosestInline(s.key),p=o.getClosestInline(l.key),f=o.getClosestBlock(l.key),h=o.getClosestBlock(s.key);if(h&&!t.isVoid(h)&&0===s.offset&&f&&t.isVoid(f)&&0!==l.offset&&(i=i.setFocus(l.setOffset(0))),d&&!t.isVoid(d)&&s.offset===u.text.length){var m=o.getClosestBlock(s.key).getNextText(s.key);m&&(i=i.moveAnchorTo(m.key,0))}if(p&&!t.isVoid(p)&&l.offset===c.text.length){var g=o.getClosestBlock(l.key).getNextText(l.key);g&&(i=i.moveFocusTo(g.key,0))}var v=o.createSelection(i);return v=(v=v.setIsFocused(!0)).set("marks",r.selection.marks)}}else t.blur()}function NT(e,t,n){var r=AT(0,t,n);t.select(r)}function DT(e,t,n){var r=OT(n,0,t);if(r){var o=t.value,i=o.document,a=o.selection,s=i.getDescendant(r.key),l=i.getClosestBlock(s.key),u=s.getLeaves(),c=l.getLastText(),d=u.last(),p=0,f=0,h=u.find((function(e){if(p=f,(f+=e.text.length)>r.offset)return!0}))||d,m=h.text,g=n.textContent,v=s===c,y=h===d,b=g.charAt(g.length-1);if(v&&y&&"\n"===b&&(g=g.slice(0,-1)),g!==m){var w=a.moveAnchorTo(r.key,p).moveFocusTo(r.key,f);w=i.resolveRange(w),t.insertTextAtRange(w,g,h.marks)}}}function PT(e,t){return e.nodeType===t.Node.TEXT_NODE}function MT(e,t){var n={};return n.node=e,PT(e,t)&&(n.text=e.textContent),n.children=Array.from(e.childNodes).map((function(e){return MT(e,t)})),n}function IT(e,t){if(!e.length)throw new Error("elements must be an Array");var n=e[e.length-1];return{elements:e.map((function(e){return MT(e,t)})),parent:n.parentElement,next:n.nextElementSibling}}function FT(e,t){var n=e.node;PT(n,t)&&n.textContent!==e.text&&(n.textContent=e.text),e.children.forEach((function(e){FT(e,t),n.appendChild(e.node)}));for(var r=e.children.length;n.childNodes.length>r;)n.removeChild(n.childNodes[0]);var o=n.dataset;if(o){var i=o.key;if(i){var a=new t.Set(Array.from(t.document.querySelectorAll("[data-key='"+i+"']")));a.delete(n),a.forEach((function(e){return e.parentElement.removeChild(e)}))}}}function LT(e,t){var n=e.elements,r=e.next,o=e.parent;n.forEach((function(e){return FT(e,t)}));var i=n[n.length-1].node;e.next?o.insertBefore(i,r):o.appendChild(i);for(var a=i,s=n.length-2;s>=0;s--){var l=n[s].node;o.insertBefore(l,a),a=l}}var BT=function(){function e(t,n){hT(this,e),this.window=XO(t[0]),this.snapshot=IT(t,this.window),this.data=n}return mT(e,[{key:"apply",value:function(){LT(this.snapshot,this.window)}},{key:"getData",value:function(){return this.data}}]),e}();function jT(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window;return e.nodeType===n.Node.TEXT_NODE&&(e=e.parentNode),e.closest(t)}var zT=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=r.before,i=void 0!==o&&o;hT(this,e);var a=t.getSelection(),s=a.anchorNode,l=jT(s,"[data-slate-editor] > *"),u=[l];if(i){var c=l.previousElementSibling;c&&u.unshift(c)}this.snapshot=new BT(u),this.selection=AT(0,n,a)}return mT(e,[{key:"apply",value:function(e){var t=this.snapshot,n=this.selection;t.apply(),e.moveTo(n.anchor.key,n.anchor.offset)}}]),e}();function VT(){}var UT=function e(t,n){var r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};hT(this,e),this.__call__=function(){r.fn(),r.preventFurtherCalls()},this.preventFurtherCalls=function(){r.fn=VT},this.resume=function(e){r.cancel(),e?(r.mode="timeout",r.timeoutId=r.window.setTimeout(r.__call__,e)):(r.mode="animationFrame",r.callbackId=r.window.requestAnimationFrame(r.__call__))},this.cancel=function(){"timeout"===r.mode?r.window.clearTimeout(r.timeoutId):r.window.cancelAnimationFrame(r.callbackId),r.onCancel&&r.onCancel()},this.__setTimeout__=function(e){null!=e&&r.window.setTimeout((function(){r.cancel(),r.preventFurtherCalls()}),e)},this.fn=n,this.window=t,this.resume(),this.onCancel=o.onCancel,this.__setTimeout__(o.timeout)},HT=QO("slate:android");HT.reconcile=QO("slate:reconcile"),HT("ANDROID_API_VERSION",{ANDROID_API_VERSION:UO.ANDROID_API_VERSION});function GT(){var e=0,t=new window.Set,n=null,r=null,o=null,i=null,a=!1,s=null;function l(e,n,r){var o=r.from;HT.reconcile({from:o});var i=e.getSelection();t.forEach((function(e){DT(0,n,e)})),NT(0,n,i),t.clear()}return{onBeforeInput:function(t,o,l){var u=!t.nativeEvent;HT("onBeforeInput",{isNative:u,event:t,status:e,e:ZO(t,["data","inputType","isComposing","nativeEvent"])});var c,d=XO(t.target);if(a)return t.preventDefault(),void(a=!1);switch(UO.ANDROID_API_VERSION){case 25:break;case 26:case 27:if(i&&(i.cancel(),r.resume()),u){if("insertParagraph"===t.inputType||"insertLineBreak"===t.inputType){HT("onBeforeInput:enter:native",{});var p=d.getSelection(),f=AT(0,o,p);a=!0,t.preventDefault(),o.moveTo(f.anchor.key,f.anchor.offset),o.splitBlock()}}else{if(function(e,t){if(!Array.isArray(t))throw new Error("chars must be an array of one character strings");if(null==e)return!1;var n=e[e.length-1];return t.includes(n)}(t.data,["."]))return HT("onBeforeInput:period"),r.cancel(),void(s="period");null!=(c=t.data)&&10===c[c.length-1].charCodeAt(0)&&(r&&r.cancel(),d.requestAnimationFrame((function(){HT("onBeforeInput:enter:react",{}),n.apply(o),o.splitBlock()})))}break;case 28:i&&(i.cancel(),r.resume());break;default:1!==e&&l()}},onCompositionEnd:function(o,i,a){HT("onCompositionEnd",{event:o});var u=XO(o.target),c=u.getSelection().anchorNode;switch(UO.ANDROID_API_VERSION){case 26:case 27:n=new zT(u,i),e=1}s="reconcile",t.add(c),r=new UT(u,(function(){e=0,l(u,i,{from:"onCompositionEnd:reconciler"}),s=null}))},onCompositionStart:function(n,r,o){HT("onCompositionStart",{event:n}),e=1,t.clear()},onCompositionUpdate:function(e,t,n){HT("onCompositionUpdate",{event:e})},onInput:function(n,a,u){switch(HT("onInput",{event:n,status:e,e:ZO(n,["data","nativeEvent","inputType","isComposing"])}),UO.ANDROID_API_VERSION){case 24:case 25:break;case 26:case 27:case 28:var c=n.nativeEvent;if(28===UO.ANDROID_API_VERSION&&"insertText"===c.inputType&&" "===c.data)return r&&r.cancel(),i&&i.cancel(),void l(window,a,{from:"onInput:space"});if((26===UO.ANDROID_API_VERSION||27===UO.ANDROID_API_VERSION)&&"period"===s){HT("onInput:period:abort");var d=window.getSelection().anchorNode;return void t.add(d)}if("deleteContentBackward"===c.inputType){HT("onInput:delete",{keyDownSnapshot:o});var p=XO(n.target);return r&&r.cancel(),i&&i.cancel(),void(i=new UT(p,(function(){HT("onInput:delete:callback",{keyDownSnapshot:o}),o.apply(a),a.deleteBackward(),i=null}),{onCancel:function(){i=null}}))}if(1===e){var f=window.getSelection().anchorNode;return void t.add(f)}if(28===UO.ANDROID_API_VERSION){HT("onInput:fallback");var h=window.getSelection().anchorNode;return t.add(h),void window.requestAnimationFrame((function(){HT("onInput:fallback:callback"),l(window,a,{from:"onInput:fallback"})}))}break;default:if(1===e)return;u()}},onKeyDown:function(t,a,s){HT("onKeyDown",{event:t,status:e,e:ZO(t,["char","charCode","code","key","keyCode","keyIdentifier","keyLocation","location","nativeEvent","which"])});var u=XO(t.target);switch(UO.ANDROID_API_VERSION){case 25:"Enter"===t.key&&s();break;case 26:case 27:if("Enter"===t.key){if(HT("onKeyDown:enter",{}),i)i.cancel(),t.preventDefault(),u.requestAnimationFrame((function(){HT("onKeyDown:enter:callback"),n.apply(a),a.splitBlock()}));else{t.preventDefault();var c=u.getSelection(),d=AT(0,a,c);a.moveTo(d.anchor.key,d.anchor.offset),a.splitBlock()}return}o=new zT(u,a,{before:!0});break;case 28:if("Enter"===t.key)return HT("onKeyDown:enter"),t.preventDefault(),r&&r.cancel(),i&&i.cancel(),void u.requestAnimationFrame((function(){l(u,a,{from:"onKeyDown:enter"}),a.splitBlock()}));o=new zT(u,a,{before:!0}),HT("onKeyDown:snapshot",{keyDownSnapshot:o});break;default:1!==e&&s()}},onSelect:function(t,n,r){switch(HT("onSelect",{event:t,status:e}),UO.ANDROID_API_VERSION){case 26:case 27:case 28:!function(e){var t=e.getSelection(),n=t.anchorNode,r=n.parentElement.dataset;if(r&&"n"===r.slateZeroWidth&&1===n.textContent.length&&0!==t.anchorOffset){var o=e.document.createRange();o.setStart(n,0),o.setEnd(n,0),t.removeAllRanges(),t.addRange(o)}}(XO(t.target))}}}}var WT={FRAGMENT:"application/x-slate-fragment",HTML:"text/html",NODE:"application/x-slate-node",RICH:"text/rtf",TEXT:"text/plain"};function qT(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;i_.Node.isNode(e)&&(e=e.key);var n=t.document.querySelector('[data-key="'+e+'"]');if(!n)throw new Error('Unable to find a DOM node for "'+e+'". This is often because of forgetting to add `props.attributes` to a custom component.');return n}function YT(e){var t=window.document;if(t&&t.body.createTextRange){var n=t.body.createTextRange();n.collapse(),n.select()}else e.removeAllRanges()}var KT=WT.FRAGMENT,$T=WT.HTML,XT=WT.TEXT;function JT(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};JO(!i_.Value.isValue(t),"As of Slate 0.42.0, the `cloneFragment` utility takes an `editor` instead of a `value`.");var r=XO(e.target),o=r.getSelection(),i=t.value,a=i.document,s=i.fragment,l=i.selection,u=l.start,c=l.end,d=a.getClosestVoid(u.key,t),p=a.getClosestVoid(c.key,t);if(!o.isCollapsed||d){var f=eT.serializeNode(s),h=o.getRangeAt(0),m=h.cloneContents(),g=m.childNodes[0];if(m.childNodes.forEach((function(e){e.textContent&&""!==e.textContent.trim()&&(g=e)})),p){var v=h.cloneRange(),y=qT(p,r);v.setEndAfter(y),m=v.cloneContents()}if(d&&(g=m.childNodes[0].childNodes[1].firstChild),[].slice.call(m.querySelectorAll(ET)).forEach((function(e){var t="n"===e.getAttribute(xT);e.textContent=t?"\n":""})),3===g.nodeType){var b=r.document.createElement("span");b.style.whiteSpace="pre",b.appendChild(g),m.appendChild(b),g=b}g.setAttribute("data-slate-fragment",f);var w=i_.Value.create({document:s}),k=tT.serialize(w),C=r.document.createElement("div");if(C.appendChild(m),e.clipboardData&&e.clipboardData.setData&&!UO.IS_IE)return e.preventDefault(),e.clipboardData.setData(XT,k),e.clipboardData.setData(KT,f),e.clipboardData.setData($T,C.innerHTML),void n();var x=e.target.closest("[data-slate-editor]");C.setAttribute("contenteditable",!0),C.style.position="absolute",C.style.left="-9999px",x.appendChild(C),o.selectAllChildren(C),r.requestAnimationFrame((function(){x.removeChild(C),YT(o),o.addRange(h),n()}))}}function QT(e,t){JO(!i_.Value.isValue(t),"As of Slate 0.42.0, the `findNode` utility takes an `editor` instead of a `value`.");var n=e.closest("[data-key]");if(!n)return null;var r=n.getAttribute("data-key");return r&&t.value.document.getNode(r)||null}var ZT=WT.FRAGMENT,eR=WT.HTML,tR=WT.NODE,nR=WT.RICH,rR=WT.TEXT,oR=/ data-slate-fragment="([^\s"]+)"/;function iR(e){!UO.IS_IE&&e.nativeEvent&&(e=e.nativeEvent);var t=e.dataTransfer||e.clipboardData,n=aR(t,ZT),r=aR(t,tR),o=aR(t,eR),i=aR(t,nR),a=aR(t,rR),s=void 0;if(!n&&o&&~o.indexOf(' data-slate-fragment="')){var l=oR.exec(o),u=bT(l,2);u[0];var c=u[1];c&&(n=c)}if(a){var d=function(e){var t="SLATE-DATA-EMBED::";if(e.substring(0,t.length)!==t)return{TEXT:e};try{return JSON.parse(e.substring(t.length))}catch(e){throw new Error("Unable to parse custom Slate drag event data.")}}(a);d[ZT]&&(n=d[ZT]),d[tR]&&(r=d[tR]),d[rR]&&(a=d[rR])}n&&(n=eT.deserializeNode(n)),r&&(r=eT.deserializeNode(r));try{t.items&&t.items.length?s=Array.from(t.items).map((function(e){return"file"===e.kind?e.getAsFile():null})).filter((function(e){return e})):t.files&&t.files.length&&(s=Array.from(t.files))}catch(e){t.files&&t.files.length&&(s=Array.from(t.files))}var p={files:s,fragment:n,html:o,node:r,rich:i,text:a};return p.type=function(e){return e.fragment?"fragment":e.node?"node":e.rich&&e.html?"html":e.rich&&e.text?"text":e.files&&e.files.length?"files":e.html?"html":e.text?"text":"unknown"}(p),p}function aR(e,t){return e.types&&e.types.length?-1!==Array.from(e.types).indexOf(t)&&e.getData(t)||null:t===rR&&e.getData("Text")||null}var sR=WT.TEXT;var lR=QO("slate:after");function uR(){var e=null,t=!1;return{onBeforeInput:function(e,t,n){var r=t.value;if(!!e.nativeEvent)return e.preventDefault(),t.insertText(e.data),n();var o=e.getTargetRanges(),i=bT(o,1)[0];if(!i)return n();lR("onBeforeInput",{event:e}),e.preventDefault();var a=r.document,s=r.selection,l=RT(i,t);switch(e.inputType){case"deleteByDrag":case"deleteByCut":case"deleteContent":case"deleteContentBackward":case"deleteContentForward":t.deleteAtRange(l);break;case"deleteWordBackward":t.deleteWordBackwardAtRange(l);break;case"deleteWordForward":t.deleteWordForwardAtRange(l);break;case"deleteSoftLineBackward":case"deleteHardLineBackward":t.deleteLineBackwardAtRange(l);break;case"deleteSoftLineForward":case"deleteHardLineForward":t.deleteLineForwardAtRange(l);break;case"insertLineBreak":case"insertParagraph":a.hasVoidParent(s.start.path,t)?t.moveToStartOfNextText():t.splitBlockAtRange(l);break;case"insertFromYank":case"insertReplacementText":case"insertText":var u=null==e.data?e.dataTransfer.getData("text/plain"):e.data;if(null==u)break;t.insertTextAtRange(l,u,s.marks),s.marks&&r.document!==t.value.document&&t.select({marks:null})}n()},onBlur:function(e,t,n){lR("onBlur",{event:e}),t.blur(),n()},onClick:function(e,t,n){if(t.readOnly)return n();var r=t.value.document,o=QT(e.target,t);if(!o)return n();lR("onClick",{event:e});var i=r.getAncestors(o.key);o&&(t.isVoid(o)||i.some((function(e){return t.isVoid(e)})))&&t.focus().moveToEndOfNode(o),n()},onCopy:function(e,t,n){lR("onCopy",{event:e}),JT(e,t),n()},onCut:function(e,t,n){lR("onCut",{event:e}),JT(e,t,(function(){var e=t.value,n=e.endBlock,r=e.endInline,o=e.selection.isCollapsed,i=n&&t.isVoid(n)&&o,a=r&&t.isVoid(r)&&o;i?t.removeNodeByKey(n.key):a?t.removeNodeByKey(r.key):t.delete()})),n()},onDragEnd:function(t,n,r){lR("onDragEnd",{event:t}),e=null,r()},onDragStart:function(t,n,r){lR("onDragStart",{event:t}),e=!0;var o=n.value,i=o.document,a=QT(t.target,n),s=i.getAncestors(a.key),l=a&&(n.isVoid(a)||s.some((function(e){return n.isVoid(e)}))),u=o.blocks.some((function(e){return e.key===a.key}));l&&!u&&n.moveToRangeOfNode(a);var c=n.value.fragment;!function(e,t,n){var r=WT[t.toUpperCase()];if(!r)throw new Error('Cannot set unknown transfer type "'+r+'".');e.nativeEvent&&(e=e.nativeEvent);var o=e.dataTransfer||e.clipboardData;try{o.setData(r,n),o.setData("text",o.getData("text"))}catch(e){var i="SLATE-DATA-EMBED::",a=o.getData(sR),s={};if(a.substring(0,i.length)===i)try{s=JSON.parse(a.substring(i.length))}catch(e){throw new Error("Failed to parse Slate data from `DataTransfer` object.")}else s[sR]=a;s[r]=n;var l=""+i+JSON.stringify(s);o.setData(sR,l)}}(t,"fragment",eT.serializeNode(c)),r()},onDrop:function(t,n,r){var o=n.value,i=o.document,a=o.selection,s=XO(t.target),l=function(e,t){JO(!i_.Value.isValue(t),"As of Slate 0.42.0, the `findNode` utility takes an `editor` instead of a `value`."),e.nativeEvent&&(e=e.nativeEvent);var n=e,r=n.clientX,o=n.clientY,i=n.target;if(null==r||null==o)return null;var a=t.value.document,s=QT(i,t);if(!s)return null;if(t.query("isVoid",s)){var l=i.getBoundingClientRect(),u="inline"===s.object?r-l.left<l.left+l.width-r:o-l.top<l.top+l.height-o,c=s.getFirstText(),d=a.createRange();if(u){var p=a.getPreviousText(c.key);if(p)return d.moveToEndOfNode(p)}var f=a.getNextText(c.key);return f?d.moveToStartOfNode(f):null}var h=XO(i),m=void 0;if(h.document.caretRangeFromPoint)m=h.document.caretRangeFromPoint(r,o);else if(h.document.caretPositionFromPoint){var g=h.document.caretPositionFromPoint(r,o);(m=h.document.createRange()).setStart(g.offsetNode,g.offset),m.setEnd(g.offsetNode,g.offset)}else if(h.document.body.createTextRange){m=h.document.body.createTextRange();try{m.moveToPoint(r,o)}catch(e){return null}}return RT(m,t)||null}(t,n);if(!l)return r();lR("onDrop",{event:t});var u=iR(t),c=u.type,d=u.fragment,p=u.text;if(n.focus(),e&&a.end.key===l.end.key&&a.end.offset<l.end.offset&&(l=l.moveForward(a.start.key===a.end.key?0-a.end.offset+a.start.offset:0-a.end.offset)),e&&n.delete(),n.select(l),"text"===c||"html"===c){var f=l.anchor,h=i.hasVoidParent(f.key,n);if(h){for(var m=i.getNode(f.key);h&&(m=i.getNextText(m.key));)h=i.hasVoidParent(m.key,n);m&&n.moveToStartOfNode(m)}p&&p.split("\n").forEach((function(e,t){t>0&&n.splitBlock(),n.insertText(e)}))}"fragment"===c&&n.insertFragment(d);var g=qT(i.getNode(l.focus.key),s);g&&g.dispatchEvent(new MouseEvent("mouseup",{view:s,bubbles:!0,cancelable:!0})),r()},onFocus:function(e,n,r){lR("onFocus",{event:e}),!t||UO.IS_IE||UO.IS_EDGE?n.focus():n.deselect().focus(),r()},onInput:function(e,t,n){lR("onInput");var r=XO(e.target),o=r.getSelection();DT(0,t,o.anchorNode),NT(0,t,o),n()},onKeyDown:function(e,t,n){lR("onKeyDown",{event:e});var r=t.value,o=r.document,i=r.selection,a=o.hasVoidParent(i.start.path,t);if(nT.isSplitBlock(e)&&!UO.IS_IOS)return a?t.moveToStartOfNextText():t.splitBlock();if(nT.isDeleteBackward(e)&&!UO.IS_IOS)return t.deleteCharBackward();if(nT.isDeleteForward(e)&&!UO.IS_IOS)return t.deleteCharForward();if(nT.isDeleteLineBackward(e))return t.deleteLineBackward();if(nT.isDeleteLineForward(e))return t.deleteLineForward();if(nT.isDeleteWordBackward(e))return t.deleteWordBackward();if(nT.isDeleteWordForward(e))return t.deleteWordForward();if(nT.isRedo(e))return t.redo();if(nT.isUndo(e))return t.undo();if(nT.isMoveLineBackward(e))return e.preventDefault(),t.moveToStartOfBlock();if(nT.isMoveLineForward(e))return e.preventDefault(),t.moveToEndOfBlock();if(nT.isExtendLineBackward(e))return e.preventDefault(),t.moveFocusToStartOfBlock();if(nT.isExtendLineForward(e))return e.preventDefault(),t.moveFocusToEndOfBlock();if(nT.isMoveBackward(e))return e.preventDefault(),i.isCollapsed?t.moveBackward():t.moveToStart();if(nT.isMoveForward(e))return e.preventDefault(),i.isCollapsed?t.moveForward():t.moveToEnd();if(nT.isMoveWordBackward(e))return e.preventDefault(),t.moveWordBackward();if(nT.isMoveWordForward(e))return e.preventDefault(),t.moveWordForward();if(nT.isExtendBackward(e)){var s=r.previousText,l=r.startText,u=s&&o.hasVoidParent(s.key,t);if(a||u||""===l.text)return e.preventDefault(),t.moveFocusBackward()}if(nT.isExtendForward(e)){var c=r.nextText,d=r.startText,p=c&&o.hasVoidParent(c.key,t);if(a||p||""===d.text)return e.preventDefault(),t.moveFocusForward()}n()},onMouseDown:function(e,n,r){lR("onMouseDown",{event:e}),t=!0,r()},onMouseUp:function(e,n,r){lR("onMouseUp",{event:e}),t=!1,r()},onPaste:function(e,t,n){lR("onPaste",{event:e});var r=t.value,o=iR(e),i=o.type,a=o.fragment,s=o.text;if("fragment"===i&&t.insertFragment(a),"text"===i||"html"===i){if(!s)return n();var l=r.document,u=r.selection,c=r.startBlock;if(t.isVoid(c))return n();var d=c,p=l.getInsertMarksAtRange(u),f=tT.deserialize(s,{defaultBlock:d,defaultMarks:p}).document;t.insertFragment(f)}n()},onSelect:function(e,n,r){lR("onSelect",{event:e});var o=XO(e.target);NT(0,n,o.getSelection()),t=!1,r()}}}var cR=QO("slate:before");function dR(){var e=null,t=0,n=!1,r=!1,o=!1;return{onBeforeInput:function(e,t,n){var r=!!e.nativeEvent;t.readOnly||r&&UO.HAS_INPUT_EVENTS_LEVEL_2||(cR("onBeforeInput",{event:e}),n())},onBlur:function(t,n,o){if(!r&&!n.readOnly){var i=t.relatedTarget,a=t.target,s=XO(a);if(e!==s.document.activeElement){if(i){var l=rT.findDOMNode(n);if(i===l)return;if(i.hasAttribute("data-slate-spacer"))return;var u=QT(i,n);if(l.contains(i)&&u&&!n.isVoid(u))return}cR("onBlur",{event:t}),o()}}},onClick:function(e,t,n){cR("onClick",{event:e}),n()},onCompositionEnd:function(e,r,o){var i=t;window.requestAnimationFrame((function(){t>i||(n=!1)})),cR("onCompositionEnd",{event:e}),o()},onCompositionStart:function(e,r,o){n=!0,t++,r.value.selection.isCollapsed||r.delete(),cR("onCompositionStart",{event:e}),o()},onCopy:function(e,t,n){var o=XO(e.target);r=!0,o.requestAnimationFrame((function(){return r=!1})),cR("onCopy",{event:e}),n()},onCut:function(e,t,n){if(!t.readOnly){var o=XO(e.target);r=!0,o.requestAnimationFrame((function(){return r=!1})),cR("onCut",{event:e}),n()}},onDragEnd:function(e,t,n){o=!1,cR("onDragEnd",{event:e}),n()},onDragEnter:function(e,t,n){cR("onDragEnter",{event:e}),n()},onDragExit:function(e,t,n){cR("onDragExit",{event:e}),n()},onDragLeave:function(e,t,n){cR("onDragLeave",{event:e}),n()},onDragOver:function(e,t,n){var r=QT(e.target,t);t.isVoid(r)&&e.preventDefault(),UO.IS_IE&&e.preventDefault(),o||(o=!0,UO.IS_IE||(e.nativeEvent.dataTransfer.dropEffect="move")),cR("onDragOver",{event:e}),n()},onDragStart:function(e,t,n){o=!0,cR("onDragStart",{event:e}),n()},onDrop:function(e,t,n){t.readOnly||(e.preventDefault(),cR("onDrop",{event:e}),n())},onFocus:function(t,n,o){if(!r&&!n.readOnly){var i=rT.findDOMNode(n),a=XO(t.target);e=a.document.activeElement,UO.IS_FIREFOX&&t.target!==i?i.focus():(cR("onFocus",{event:t}),o())}},onInput:function(e,t,r){n||t.value.selection.isBlurred||(cR("onInput",{event:e}),r())},onKeyDown:function(e,t,r){t.readOnly||(n?nT.isCompose(e)&&e.preventDefault():(!UO.IS_IOS&&(nT.isBold(e)||nT.isDeleteBackward(e)||nT.isDeleteForward(e)||nT.isDeleteLineBackward(e)||nT.isDeleteLineForward(e)||nT.isDeleteWordBackward(e)||nT.isDeleteWordForward(e)||nT.isItalic(e)||nT.isRedo(e)||nT.isSplitBlock(e)||nT.isTransposeCharacter(e)||nT.isUndo(e))&&e.preventDefault(),cR("onKeyDown",{event:e}),r()))},onPaste:function(e,t,n){t.readOnly||(e.preventDefault(),cR("onPaste",{event:e}),n())},onSelect:function(t,o,i){if(!r&&!n&&!o.readOnly){var a=XO(t.target);e=a.document.activeElement,cR("onSelect",{event:t}),i()}}}}function pR(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.plugins,n=void 0===t?[]:t,r=UO.IS_ANDROID?[GT()]:[],o=dR(),i=uR();return[].concat(r,[o],wT(n),[i])}var fR=QO("slate:leaves"),hR=function(e){function t(){var e,n,r;hT(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=yT(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),mR.call(r),yT(r,n)}return vT(t,e),mT(t,[{key:"shouldComponentUpdate",value:function(e){return e.index!==this.props.index||e.marks!==this.props.marks||e.text!==this.props.text||e.parent!==this.props.parent}},{key:"render",value:function(){this.debug("render",this);var e=this.props,t=e.node,n=e.index,r=CT.stringify({key:t.key,index:n});return oT.createElement("span",{"data-slate-leaf":!0,"data-offset-key":r},this.renderMarks())}},{key:"renderMarks",value:function(){var e=this.props,t=e.marks,n=e.node,r=e.offset,o=e.text,i=e.editor,a=this.renderText(),s={"data-slate-mark":!0};return t.reduce((function(e,a){var l={editor:i,mark:a,marks:t,node:n,offset:r,text:o,children:e,attributes:s};return i.run("renderMark",l)||e}),a)}},{key:"renderText",value:function(){var e=this.props,t=e.block,n=e.node,r=e.editor,o=e.parent,i=e.text,a=e.index,s=e.leaves;if(r.query("isVoid",o))return oT.createElement("span",{"data-slate-zero-width":"z","data-slate-length":o.text.length},"\ufeff");if(""===i&&"block"===o.object&&""===o.text&&o.nodes.last()===n)return oT.createElement("span",{"data-slate-zero-width":"n","data-slate-length":0},"\ufeff",oT.createElement("br",null));if(""===i)return oT.createElement("span",{"data-slate-zero-width":"z","data-slate-length":0},"\ufeff");var l=t.getLastText(),u=i.charAt(i.length-1),c=n===l,d=a===s.size-1;return c&&d&&"\n"===u?oT.createElement("span",{"data-slate-content":!0},i+"\n"):oT.createElement("span",{"data-slate-content":!0},i)}}]),t}(oT.Component);hR.propTypes={block:aT.block.isRequired,editor:iT.object.isRequired,index:iT.number.isRequired,leaves:aT.leaves.isRequired,marks:aT.marks.isRequired,node:aT.node.isRequired,offset:iT.number.isRequired,parent:aT.node.isRequired,text:iT.string.isRequired};var mR=function(){var e=this;this.debug=function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];fR.apply(void 0,[t,e.props.node.key+"-"+e.props.index].concat(r))}},gR=QO("slate:node"),vR=function(e){function t(){var e,n,r;hT(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=yT(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),yR.call(r),yT(r,n)}return vT(t,e),mT(t,[{key:"render",value:function(){var e=this;this.debug("render",this);var t=this.props,n=t.decorations,r=t.editor,o=t.node,i=t.style,a=r.value.document,s=o.key,l=n.filter((function(e){var t=e.start,n=e.end;if(t.key===s||n.key===s)return!0;if(t.key===n.key)return!1;var r=a.assertPath(s),o=t.path||a.assertPath(t.key),i=n.path||a.assertPath(n.key);return-1!==i_.PathUtils.compare(r,o)&&1!==i_.PathUtils.compare(r,i)})),u=0===l.size?o.getLeaves():o.getLeaves(l),c=0,d=u.map((function(t,n){var r=e.renderLeaf(u,t,n,c);return c+=t.text.length,r}));return oT.createElement("span",{"data-key":s,style:i},d)}}]),t}(oT.Component);vR.propTypes={block:aT.block,decorations:sT.list.isRequired,editor:iT.object.isRequired,node:aT.node.isRequired,parent:aT.node.isRequired,style:iT.object},vR.defaultProps={style:null};var yR=function(){var e=this;this.debug=function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var i=e.props.node,a=i.key;gR.apply(void 0,[t,a+" (text)"].concat(r))},this.shouldComponentUpdate=function(t){var n=t,r=e.props;if(n.node!==r.node)return!0;if("block"===n.parent.object){var o=r.parent.nodes.last(),i=n.parent.nodes.last();if(r.node===o&&n.node!==i)return!0}return!n.decorations.equals(r.decorations)},this.renderLeaf=function(t,n,r,o){var i=e.props,a=i.block,s=i.node,l=i.parent,u=i.editor,c=n.text,d=n.marks;return oT.createElement(hR,{key:s.key+"-"+r,block:a,editor:u,index:r,marks:d,node:s,offset:o,parent:l,leaves:t,text:c})}},bR=QO("slate:void"),wR=function(e){function t(){var e,n,r;hT(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=yT(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),kR.call(r),yT(r,n)}return vT(t,e),mT(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.node,r=e.readOnly,o="block"===n.object?"div":"span",i=oT.createElement(o,{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},this.renderText()),a=oT.createElement(o,{contentEditable:!!r&&null},t);return this.debug("render",{props:e}),oT.createElement(o,{"data-slate-void":!0,"data-key":n.key,contentEditable:!(!r&&"block"!==n.object)&&null},r?null:i,a)}}]),t}(oT.Component);wR.propTypes={block:aT.block,children:iT.any.isRequired,editor:iT.object.isRequired,node:aT.node.isRequired,parent:aT.node.isRequired,readOnly:iT.bool.isRequired};var kR=function(){var e=this;this.debug=function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var i=e.props.node,a=i.key,s=i.type,l=a+" ("+s+")";bR.apply(void 0,[t,""+l].concat(r))},this.renderText=function(){var t=e.props,n=t.block,r=t.decorations,o=t.node,i=t.readOnly,a=t.editor,s=o.getFirstText();return oT.createElement(vR,{block:"block"===o.object?o:n,decorations:r,editor:a,key:s.key,node:s,parent:o,readOnly:i})}};function CR(e,t){var n=Hb.Set().asMutable(),r=[];return function(e,t){if(t.isEmpty())return e.nodes.toArray().map((function(e,t){return{child:e,index:t}}));var n=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e.key,0),r=1;e.forEachDescendant((function(e){n[e.key]=r,r+=1}));var o=e.nodes.toArray(),i=o.map((function(e,t){return{child:e,index:t,order:n[e.key]}}));return t.forEach((function(e){var t=n[e.start.key],a=void 0===t?0:function(e,t,n){var r=e.findIndex((function(e){return n<t[e.key]}));if(r<=0)return 0;var o=e[r-1];return t[o.key]}(o,n,t);i.push({isRangeStart:!0,order:a-.5,decoration:e});var s=(n[e.end.key]||r)+.5;i.push({isRangeEnd:!0,order:s,decoration:e})})),i.sort((function(e,t){return e.order>t.order?1:-1}))}(e,t).forEach((function(e){e.isRangeStart?n.add(e.decoration):e.isRangeEnd?n.remove(e.decoration):r.push(n.toList())})),r}var xR=QO("slate:node"),ER=function(e){function t(){var e,n,r;hT(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=yT(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),SR.call(r),yT(r,n)}return vT(t,e),mT(t,[{key:"shouldComponentUpdate",value:function(e){var t=this.props,n=t.editor.run("shouldNodeComponentUpdate",t,e),r=e,o=t;if(null!=n){if(n)return!0;lT(!1!==n,"Returning false in `shouldNodeComponentUpdate` does not disable Slate's internal `shouldComponentUpdate` logic. If you want to prevent updates, use React's `shouldComponentUpdate` instead.")}return r.readOnly!==o.readOnly||(r.node!==o.node||(!(!r.isSelected&&!o.isSelected)||(!(!r.isFocused&&!o.isFocused)||!r.decorations.equals(o.decorations))))}},{key:"render",value:function(){var e=this;this.debug("render",this);var t=this.props,n=t.editor,r=t.isSelected,o=t.isFocused,i=t.node,a=t.decorations,s=t.parent,l=t.readOnly,u=n.value.selection,c=i.getSelectionIndexes(u,r),d=a.concat(i.getDecorations(n)),p=CR(i,d),f=[];i.nodes.forEach((function(t,n){var r=!!c&&c.start<=n&&n<c.end;f.push(e.renderNode(t,r,p[n]))}));var h={"data-key":i.key};i.isLeafBlock()&&("rtl"===i.getTextDirection()&&(h.dir="rtl"));var m={key:i.key,editor:n,isFocused:o,isSelected:r,node:i,parent:s,readOnly:l},g=n.run("renderNode",gT({},m,{attributes:h,children:f}));return n.query("isVoid",i)?oT.createElement(wR,this.props,g):g}}]),t}(oT.Component);ER.propTypes={block:aT.block,decorations:sT.list.isRequired,editor:iT.object.isRequired,isFocused:iT.bool.isRequired,isSelected:iT.bool.isRequired,node:aT.node.isRequired,parent:aT.node.isRequired,readOnly:iT.bool.isRequired};var SR=function(){var e=this;this.debug=function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var i=e.props.node,a=i.key,s=i.type;xR.apply(void 0,[t,a+" ("+s+")"].concat(r))},this.renderNode=function(t,n,r){var o=e.props,i=o.block,a=o.editor,s=o.node,l=o.readOnly,u=o.isFocused,c="text"===t.object?vR:ER;return oT.createElement(c,{block:"block"===s.object?s:i,decorations:r,editor:a,isSelected:n,isFocused:u&&n,key:t.key,node:t,parent:s,readOnly:l})}};function _R(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window,n=qT(e.key,t),r=0,o=Array.from(n.querySelectorAll("[data-slate-content], [data-slate-zero-width]")),i=!0,a=!1,s=void 0;try{for(var l,u=o[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){var c=l.value,d=c.childNodes[0],p=d.textContent.length,f=p;c.hasAttribute("data-slate-length")&&(f=parseInt(c.getAttribute("data-slate-length"),10));var h=r+f;if(e.offset<=h){var m=Math.min(p,Math.max(0,e.offset-r));return{node:d,offset:m}}r=h}}catch(e){a=!0,s=e}finally{try{!i&&u.return&&u.return()}finally{if(a)throw s}}return null}function OR(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window,n=e.anchor,r=e.focus,o=e.isBackward,i=e.isCollapsed,a=_R(n,t),s=i?a:_R(r,t);if(!a||!s)return null;var l=t.document.createRange(),u=o?s:a,c=o?a:s;return l.setStart(u.node,u.offset),l.setEnd(c.node,c.offset),l}var TR=["auto","overlay","scroll"],RR=UO.IS_IOS&&!!window.navigator.userAgent.match(/os 11_/i);function AR(e){if(!RR&&e.anchorNode){var t=XO(e.anchorNode),n=function(e,t){for(var n=e.parentNode,r=void 0;!r&&n.parentNode;){var o=t.getComputedStyle(n).overflowY;if(TR.includes(o)){r=n;break}n=n.parentNode}return r||t.document.body}(e.anchorNode,t),r=n===t.document.body||n===t.document.documentElement,o=uT(e),i=e.getRangeAt(0).cloneRange();i.collapse(o);var a=i.getBoundingClientRect();UO.IS_SAFARI&&i.collapsed&&0===a.top&&0===a.height&&(0===i.startOffset?i.setEnd(i.endContainer,1):i.setStart(i.startContainer,i.startOffset-1),0===(a=i.getBoundingClientRect()).top&&0===a.height&&i.getClientRects().length&&(a=i.getClientRects()[0]));var s=void 0,l=void 0,u=void 0,c=void 0,d=0,p=0,f=0,h=0,m=0,g=0,v=0,y=0;if(r){s=t.innerWidth,l=t.innerHeight,u=t.pageYOffset,c=t.pageXOffset}else{var b=n.offsetWidth,w=n.offsetHeight,k=n.scrollTop,C=n.scrollLeft,x=t.getComputedStyle(n),E=x.borderTopWidth,S=x.borderBottomWidth,_=x.borderLeftWidth,O=x.borderRightWidth,T=x.paddingTop,R=x.paddingBottom,A=x.paddingLeft,N=x.paddingRight,D=n.getBoundingClientRect();s=b,l=w,d=D.top+parseInt(E,10),p=D.left+parseInt(_,10),f=parseInt(E,10)+parseInt(S,10),h=parseInt(_,10)+parseInt(O,10),m=parseInt(T,10),g=parseInt(R,10),v=parseInt(A,10),y=parseInt(N,10),u=k,c=C}var P=a.top+u-d,M=a.left+c-p,I=c,F=u;M<c?I=M-v:M+a.width+h>c+s&&(I=M+h+y-s),P<u?F=P-m:P+a.height+f>u+l&&(F=P+f+g+a.height-l),r?t.scrollTo(I,F):(n.scrollTop=F,n.scrollLeft=I)}}var NR=/Permission denied to access property "nodeType"/,DR=QO("slate:content");DR.update=QO("slate:update");var PR=function(e){function t(){var e,n,r;hT(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=yT(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.tmp={isUpdatingSelection:!1},r.handlers=fT.reduce((function(e,t){return e[t]=function(e){return r.onEvent(t,e)},e}),{}),r.updateSelection=function(){var e=r.props.editor.value.selection,t=e.isBackward,n=XO(r.element),o=n.getSelection(),i=n.document.activeElement;if(DR.enabled&&DR.update("updateSelection",{selection:e.toJSON()}),o){var a=o.rangeCount,s=o.anchorNode,l=!1;if(e.isBlurred&&i===r.element&&(r.element.blur(),l=!0),e.isUnset&&a&&r.isInEditor(s)&&(YT(o),l=!0),e.isFocused&&i!==r.element&&(r.element.focus({preventScroll:!0}),l=!0),e.isFocused&&e.isSet){var u=!!a&&o.getRangeAt(0),c=OR(e,n);if(!c)return void lT(!1,"Unable to find a native DOM range from the current selection.");var d=c.startContainer,p=c.startOffset,f=c.endContainer,h=c.endOffset;if(u&&(d===u.startContainer&&p===u.startOffset&&f===u.endContainer&&h===u.endOffset||d===u.endContainer&&p===u.endOffset&&f===u.startContainer&&h===u.startOffset))return;l=!0,r.tmp.isUpdatingSelection=!0,YT(o),o.setBaseAndExtent?t?o.setBaseAndExtent(c.endContainer,c.endOffset,c.startContainer,c.startOffset):o.setBaseAndExtent(c.startContainer,c.startOffset,c.endContainer,c.endOffset):o.addRange(c),AR(o),setTimeout((function(){UO.IS_FIREFOX&&r.element&&r.element.focus(),r.tmp.isUpdatingSelection=!1}))}l&&DR.enabled&&(DR("updateSelection",{selection:e,native:o,activeElement:i}),DR.update("updateSelection-applied",{selection:e}))}},r.ref=function(e){r.element=e},r.isInEditor=function(e){var t=r.element,n=void 0;try{if(8===e.nodeType)return!1;n=3===e.nodeType?e.parentNode:e}catch(e){if(UO.IS_FIREFOX&&NR.test(e.message))return!1;throw e}return n.isContentEditable&&(n===t||n.closest("[data-slate-editor]")===t)},r.onNativeSelectionChange=cT((function(e){r.props.readOnly||XO(e.target).document.activeElement===r.element&&r.props.onEvent("onSelect",e)}),100),r.renderNode=function(e,t,n){var o=r.props,i=o.editor,a=o.readOnly,s=i.value,l=s.document,u=s.selection.isFocused;return oT.createElement(ER,{block:null,editor:i,decorations:n,isSelected:t,isFocused:u&&t,key:e.key,node:e,parent:l,readOnly:a})},yT(r,n)}return vT(t,e),mT(t,[{key:"componentDidMount",value:function(){XO(this.element).document.addEventListener("selectionchange",this.onNativeSelectionChange),UO.HAS_INPUT_EVENTS_LEVEL_2&&this.element.addEventListener("beforeinput",this.handlers.onBeforeInput),this.updateSelection()}},{key:"componentWillUnmount",value:function(){var e=XO(this.element);e&&e.document.removeEventListener("selectionchange",this.onNativeSelectionChange),UO.HAS_INPUT_EVENTS_LEVEL_2&&this.element.removeEventListener("beforeinput",this.handlers.onBeforeInput)}},{key:"componentDidUpdate",value:function(){DR.update("componentDidUpdate"),this.updateSelection()}},{key:"onEvent",value:function(e,t){if(DR("onEvent",e),!this.tmp.isUpdatingSelection||"onSelect"!==e&&"onBlur"!==e&&"onFocus"!==e){if(!UO.IS_ANDROID&&"onSelect"===e){var n=this.props.editor,r=n.value.selection,o=RT(XO(t.target).getSelection(),n);if(o&&o.equals(r.toRange()))return void this.updateSelection()}if("onDragEnd"===e||"onDragEnter"===e||"onDragExit"===e||"onDragLeave"===e||"onDragOver"===e||"onDragStart"===e||"onDrop"===e)if(t.target.closest("[data-slate-editor]")!==this.element)return;("onBeforeInput"!==e&&"onBlur"!==e&&"onCompositionEnd"!==e&&"onCompositionStart"!==e&&"onCopy"!==e&&"onCut"!==e&&"onFocus"!==e&&"onInput"!==e&&"onKeyDown"!==e&&"onKeyUp"!==e&&"onPaste"!==e&&"onSelect"!==e||this.isInEditor(t.target))&&this.props.onEvent(e,t)}}},{key:"render",value:function(){var e=this,t=this.props,n=this.handlers,r=t.id,o=t.className,i=t.readOnly,a=t.editor,s=t.tabIndex,l=t.role,u=t.tagName,c=t.spellCheck,d=a.value,p=u,f=d.document,h=d.selection,m=d.decorations,g=f.getSelectionIndexes(h),v=f.getDecorations(a).concat(m),y=CR(f,v),b=f.nodes.toArray().map((function(t,n){var r=!!g&&g.start<=n&&n<g.end;return e.renderNode(t,r,y[n])})),w=gT({outline:"none",whiteSpace:"pre-wrap",wordWrap:"break-word"},i?{}:{WebkitUserModify:"read-write-plaintext-only"},t.style);return DR("render",{props:t}),DR.enabled&&DR.update("render",{text:d.document.text,selection:d.selection.toJSON(),value:d.toJSON()}),oT.createElement(p,gT({},n,{"data-slate-editor":!0,ref:this.ref,"data-key":f.key,contentEditable:!i||null,suppressContentEditableWarning:!0,id:r,className:o,autoCorrect:t.autoCorrect?"on":"off",spellCheck:c,style:w,role:i?null:l||"textbox",tabIndex:s,"data-gramm":!1}),b)}}]),t}(oT.Component);PR.propTypes={autoCorrect:iT.bool.isRequired,className:iT.string,editor:iT.object.isRequired,id:iT.string,readOnly:iT.bool.isRequired,role:iT.string,spellCheck:iT.bool.isRequired,style:iT.object,tabIndex:iT.number,tagName:iT.string},PR.defaultProps={style:{},tagName:"div"};var MR=[].concat(wT(fT),["commands","decorateNode","queries","renderEditor","renderMark","renderNode","schema"]);function IR(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.placeholder,n=e.plugins,r=void 0===n?[]:n;function o(e,t,n){return[]}function i(e,t,n){return oT.createElement(PR,{autoCorrect:e.autoCorrect,className:e.className,editor:t,id:e.id,onEvent:function(e,n){return t.run(e,n)},readOnly:e.readOnly,role:e.role,spellCheck:e.spellCheck,style:e.style,tabIndex:e.tabIndex,tagName:e.tagName})}function a(e,t,n){var r=e.attributes,o=e.children,i=e.node.object;if("block"!==i&&"inline"!==i)return null;var a="block"===i?"div":"span";return oT.createElement(a,gT({},r,{style:{position:"relative"}}),o)}var s=[],l=MR.reduce((function(t,n){return n in e&&(t[n]=e[n]),t}),{});return s.push(pR({plugins:[l].concat(wT(r))})),t&&s.push(dT({placeholder:t,when:function(e,t){return"document"===t.object&&""===t.text&&1===t.nodes.size&&1===t.getTexts().size}})),s.push({decorateNode:o,renderEditor:i,renderNode:a}),s}var FR=QO("slate:editor"),LR=function(e){function t(){var e,n,r;hT(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=yT(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.state={value:r.props.defaultValue},r.tmp={mounted:!1,change:null,resolves:0,updates:0},r.resolveController=pT((function(){lT(r.tmp.resolves<5||r.tmp.resolves!==r.tmp.updates,"A Slate <Editor> component is re-resolving the `plugins`, `schema`, `commands`, `queries` or `placeholder` prop on each update, which leads to poor performance. This is often due to passing in a new references for these props with each render by declaring them inline in your render function. Do not do this! Declare them outside your render function, or memoize them instead."),r.tmp.resolves++;var e=IR(gT({},r.props,{value:r.props.value||r.state.value}));r.controller=new i_.Editor({plugins:[e],onChange:function(e){r.tmp.mounted?r.handleChange(e):r.tmp.change=e}},{controller:r,construct:!1}),r.controller.run("onConstruct")})),yT(r,n)}return vT(t,e),mT(t,[{key:"componentDidMount",value:function(){this.tmp.mounted=!0,this.tmp.updates++,this.props.autoFocus&&this.focus(),this.tmp.change&&(this.handleChange(this.tmp.change),this.tmp.change=null)}},{key:"componentDidUpdate",value:function(){this.tmp.updates++,this.tmp.change&&(this.handleChange(this.tmp.change),this.tmp.change=null)}},{key:"componentWillUnmount",value:function(){this.tmp.mounted=!1}},{key:"render",value:function(){FR("render",this);var e=gT({},this.props,{editor:this}),t=e.commands,n=e.placeholder,r=e.plugins,o=e.queries,i=e.schema;this.resolveController(r,i,t,o,n);var a=e.options,s=e.readOnly,l=e.value,u=this.state.value,c=l||u;return this.controller.setReadOnly(s),this.controller.setValue(c,a),this.controller.run("renderEditor",gT({},e,{value:c}))}},{key:"handleChange",value:function(e){var t=this.props.onChange;this.state.value&&this.setState({value:e.value}),t(e)}},{key:"applyOperation",value:function(){var e;return(e=this.controller).applyOperation.apply(e,arguments)}},{key:"command",value:function(){var e;return(e=this.controller).command.apply(e,arguments)}},{key:"hasCommand",value:function(){var e;return(e=this.controller).hasCommand.apply(e,arguments)}},{key:"hasQuery",value:function(){var e;return(e=this.controller).hasQuery.apply(e,arguments)}},{key:"normalize",value:function(){var e;return(e=this.controller).normalize.apply(e,arguments)}},{key:"query",value:function(){var e;return(e=this.controller).query.apply(e,arguments)}},{key:"registerCommand",value:function(){var e;return(e=this.controller).registerCommand.apply(e,arguments)}},{key:"registerQuery",value:function(){var e;return(e=this.controller).registerQuery.apply(e,arguments)}},{key:"run",value:function(){var e;return(e=this.controller).run.apply(e,arguments)}},{key:"withoutNormalizing",value:function(){var e;return(e=this.controller).withoutNormalizing.apply(e,arguments)}},{key:"call",value:function(){var e;return(e=this.controller).call.apply(e,arguments)}},{key:"change",value:function(){var e;return(e=this.controller).change.apply(e,arguments)}},{key:"onChange",value:function(){var e;return(e=this.controller).onChange.apply(e,arguments)}},{key:"applyOperations",value:function(){var e;return(e=this.controller).applyOperations.apply(e,arguments)}},{key:"setOperationFlag",value:function(){var e;return(e=this.controller).setOperationFlag.apply(e,arguments)}},{key:"getFlag",value:function(){var e;return(e=this.controller).getFlag.apply(e,arguments)}},{key:"unsetOperationFlag",value:function(){var e;return(e=this.controller).unsetOperationFlag.apply(e,arguments)}},{key:"withoutNormalization",value:function(){var e;return(e=this.controller).withoutNormalization.apply(e,arguments)}},{key:"operations",get:function(){return this.controller.operations}},{key:"readOnly",get:function(){return this.controller.readOnly}},{key:"value",get:function(){return this.controller.value}},{key:"editor",get:function(){return this.controller.editor}},{key:"schema",get:function(){JO(!1,"As of Slate 0.42, the `editor.schema` property no longer exists, and its functionality has been folded into the editor itself. Use the `editor` instead.")}},{key:"stack",get:function(){JO(!1,"As of Slate 0.42, the `editor.stack` property no longer exists, and its functionality has been folded into the editor itself. Use the `editor` instead.")}}]),t}(oT.Component);LR.propTypes=gT({autoCorrect:iT.bool,autoFocus:iT.bool,className:iT.string,defaultValue:aT.value,id:iT.string,onChange:iT.func,options:iT.object,placeholder:iT.any,plugins:iT.array,readOnly:iT.bool,role:iT.string,schema:iT.object,spellCheck:iT.bool,style:iT.object,tabIndex:iT.number,value:aT.value},fT.reduce((function(e,t){return e[t]=iT.func,e}),{})),LR.defaultProps={autoFocus:!1,autoCorrect:!0,onChange:function(){},options:{},placeholder:"",plugins:[],readOnly:!1,schema:{},spellCheck:!0};var BR=LR;Xt.add(Zv.faBold),Xt.add(ey.faItalic),Xt.add(ty.faUnderline),Xt.add(Pb.faAlignLeft),Xt.add(Mb.faAlignRight),Xt.add(Ib.faAlignCenter);class jR extends Qv{constructor(e){super(e),this.state={IsValid:!0,ErrorMessage:"",value:o_.fromJSON(this.GetStringValue()),displayColorPicker:!1},this.EditorRendered=this.EditorRendered.bind(this)}componentWillReceiveProps(e,t){super.componentWillReceiveProps(e,t)}EditorRendered(e){this.editor=e,this.forceUpdate()}render(){let e=this.props.marks.map((e=>e.GetMark(this))).filter((e=>null!=e));return React.createElement("div",{className:"rncontrol",style:this.props.style},React.createElement("div",null,""!=this.props.Label&&React.createElement("label",{style:{width:"100%",display:"block"}},this.props.Label),React.createElement("div",{className:"slateToolbar",style:{display:"flex",alignItems:"center"}},this.renderMarkButton("bold",React.createElement(gn,{icon:"bold"})),this.renderMarkButton("italic",React.createElement(gn,{icon:"italic"})),this.renderMarkButton("underlined",React.createElement(gn,{icon:"underline"})),React.createElement(Nb,{Color:this.GetCurrentColor(),ColorChanged:e=>this.ColorSelected(e)}),React.createElement(Db,{FontSize:this.GetCurrentSize(),SizeChanged:e=>this.SizeChanged(e)}),e.map(((e,t)=>React.createElement(React.Fragment,{key:t},e))),this.renderAlignButton("alignleft",React.createElement(gn,{icon:"align-left"})),this.renderAlignButton("aligncenter",React.createElement(gn,{icon:"align-center"})),this.renderAlignButton("alignright",React.createElement(gn,{icon:"align-right"})),this.GetExtraControls()),React.createElement("div",{className:"slateTextContainer"},React.createElement(BR,{schema:this.GetSchema(),readOnly:this.props.ReadOnly,renderNode:(e,t,n)=>this.RenderNode(e,t,n),style:{height:100,overflow:"auto"},ref:this.EditorRendered,value:this.state.value,onChange:e=>{this.Change(e)},renderMark:(e,t,n)=>this.renderMark(e,t,n)})),this.GetValidationSection()))}GetExtraControls(){return null}renderAlignButton(e,t){let n=!1;this.state.value.blocks;for(let t=0;t<this.state.value.blocks.size;t++){let r=this.state.value.blocks.get(t);if("paragraph"==r.type){if(r.data.get("className")!=e){n=!1;break}n=!0}}return React.createElement("div",{className:"slateButtonWrapper "+(n?"active":""),onClick:e=>{e.preventDefault()},onMouseDown:t=>this.onClickAlign(t,e)},React.createElement("button",{style:{cursor:"pointer"},onClick:e=>e.preventDefault()},t))}onClickAlign(e,t){e.preventDefault();let n=this.state.value.blocks;for(let e=0;e<n.size;e++){let r=n.get(e).toJSON();r.data.className=t,this.editor.setNodeByKey(n.get(e).key,r)}}renderMarkButton(e,t){const n=this.hasMark(e);return React.createElement("div",{className:"slateButtonWrapper "+(n?"active":""),onMouseDown:t=>this.onClickMark(t,e)},React.createElement("button",{style:{cursor:"pointer"},onClick:e=>e.preventDefault()},t))}onClickMark(e,t){e.preventDefault(),this.editor.toggleMark(t)}hasMark(e){const{value:t}=this.state;return t.activeMarks.some((t=>t.type===e))}GetValidators(){return[new If(this.props,"Required",(()=>""!=this.GetStringValue()),"Required field")]}renderMark(e,t,n){const{children:r,mark:o,attributes:i}=e;switch(o.type){case"bold":return React.createElement("strong",i,r);case"code":return React.createElement("code",i,r);case"italic":return React.createElement("em",i,r);case"underlined":return React.createElement("u",i,r);case"color":return React.createElement("span",babelHelpers.extends({},i,{style:{color:o.data.get("hex")}}),r);case"size":return React.createElement("span",babelHelpers.extends({},i,{style:{fontSize:o.data.get("size"),lineHeight:o.data.get("size").toString().indexOf("px")>=0?o.data.get("size"):o.data.get("size")+"px"}}),r);default:for(let e of this.props.marks){let t=e.RenderMark(o,r,i);if(null!=t)return t}return n()}}RenderNode(e,t,n){const{attributes:r,children:o,node:i}=e;if("paragraph"==e.node.type){let t={};switch(e.node.data.get("className")){case"aligncenter":t.textAlign="center";break;case"alignleft":t.textAlign="left";break;case"alignright":t.textAlign="right"}return React.createElement("p",babelHelpers.extends({},r,{style:t}),o)}let a=this.GetAdditionalRenderBlock(e,t,n);return null!=a?a:(a=this.RenderAdditionalNodes(e),null!=a?a:(i.type,n()))}RenderAdditionalNodes(e){return null}GetAdditionalRenderBlock(e,t,n){return null}ColorSelected(e){this.state.value.marks.forEach((e=>{"color"==e.type&&this.editor.removeMark(e)})),this.editor.toggleMark(QS.create({type:"color",data:{hex:e}}))}GetCurrentColor(){let e=this.state.value.activeMarks.find((e=>"color"==e.type));return null!=e?e.data.get("hex"):""}GetCurrentSize(){let e=this.state.value.activeMarks.find((e=>"size"==e.type));return null!=e?parseInt(e.data.get("size").toString().replace("px","")):16}SizeChanged(e){this.state.value.marks.forEach((e=>{"size"==e.type&&this.editor.removeMark(e)})),this.editor.toggleMark(QS.create({type:"size",data:{size:e}}))}Change(e){e.value!=this.state.value&&this.SetValue(e.value.toJSON()),this.setState({value:e.value})}GetSchema(){return null}}jR.defaultProps={marks:[],ReadOnly:!1};var zR=Ne((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="frown",r=[],o="f119",i="M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm80 168c17.7 0 32 14.3 32 32s-14.3 32-32 32-32-14.3-32-32 14.3-32 32-32zm-160 0c17.7 0 32 14.3 32 32s-14.3 32-32 32-32-14.3-32-32 14.3-32 32-32zm170.2 218.2C315.8 367.4 282.9 352 248 352s-67.8 15.4-90.2 42.2c-13.5 16.3-38.1-4.2-24.6-20.5C161.7 339.6 203.6 320 248 320s86.3 19.6 114.7 53.8c13.6 16.2-11 36.7-24.5 20.4z";t.definition={prefix:"fas",iconName:n,icon:[496,512,r,o,i]},t.faFrown=t.definition,t.prefix="fas",t.iconName=n,t.width=496,t.height=512,t.ligatures=r,t.unicode=o,t.svgPathData=i}));class VR extends et{constructor(e){super(e),this.state={IsOpen:!0,IsBusy:!1,Filter:""},this.GenerateGroups()}GenerateGroups(){this.Groups=[];let e=new UR("Fields");this.Groups.push(e),this.props.Page.DataSources.forEach((t=>{t instanceof N.FormDataSource&&t.Form.Fields.forEach((n=>{e.GroupItem.push(new HR("field",Ug.GetFriendlyLabel(n),n.Id,t.Options.Id))}))}))}GetAdditionalProperties(){return{Title:"Select an item"}}SubRenderer(){return React.createElement("div",{className:"formulaFieldPicker"},React.createElement("div",null,React.createElement("div",{style:{width:"100%",position:"relative"}},React.createElement(t.FontAwesomeIcon,{icon:Le.faSearch,style:{position:"absolute",left:2,color:"#ccc",fontSize:20,marginTop:-10,top:"50%"}}),React.createElement("input",{type:"text",style:{width:"100%",paddingLeft:25},placeholder:"Search a tag by label or id",onChange:e=>this.Search(e.target.value),value:this.state.Filter})),React.createElement("div",{style:{marginTop:10}},this.Groups.some((e=>e.IsVisible))?this.Groups.map((e=>e.IsVisible&&React.createElement(cg,{Padding:0,key:e.Label,Title:e.Label,IsOpen:e.IsOpen,IsOpenChanged:t=>{e.IsOpen=t}},e.GroupItem.some((e=>e.IsVisible))?React.createElement("ul",{style:{margin:0}},e.GroupItem.map((e=>e.IsVisible&&React.createElement("li",{key:e.Value,className:"ItemPicker",onMouseUp:()=>this.ValueSelected(e.Type,e.Value,e.Value2)},e.Label)))):React.createElement("p",{style:{margin:0}},"There are no fields to add")))):React.createElement("p",{style:{fontSize:18,display:"flex",alignItems:"center"}},React.createElement(t.FontAwesomeIcon,{icon:zR.faFrown})," ",React.createElement("span",{style:{marginLeft:5}},"There are no tags to show")))))}ValueSelected(e,t,n){this.SendResult({Type:e,Value:t,Value2:n})}Search(e){e=e.toLowerCase(),this.Groups.forEach((t=>{t.GroupItem.forEach((n=>{n.IsVisible=n.Label.toLowerCase().indexOf(e)>=0||"field"==n.Type&&n.Value==e,1==n.IsVisible&&(t.IsOpen=!0)})),t.IsVisible=t.GroupItem.some((e=>e.IsVisible))})),this.setState({Filter:e}),this.forceUpdate()}}VR.defaultProps={};class UR{constructor(e){this.GroupItem=[],this.IsOpen=!0,this.Label=e,this.IsVisible=!0}}class HR{constructor(e,t,n,r=""){this.Type=e,this.Value=n,this.Value2=r,this.Label=t,this.IsVisible=!0}}class GR extends React.Component{constructor(e){super(e),this.state={}}render(){return React.createElement("span",{contentEditable:!1,style:{display:"inline-block",verticalAlign:"text-bottom"},className:"SlateField "+(this.props.SlateProps.isSelected?"rnFieldSelected":""),onClick:e=>{e.preventDefault(),e.stopPropagation(),this.Select()}},this.GetFormattedLabel(),React.createElement("span",{style:{display:"none"}},this.props.SlateProps.children))}GetFormattedLabel(){switch(this.props.Node.data.get("SubType")){case"fixed":case"field":let e=this.props.Node.data.get("FieldId"),t=this.props.Node.data.get("DataSourceId"),n=this.props.Model.DataSources.find((e=>e.Options.Id==t));if(null!=n&&n instanceof N.FormDataSource){let t=n.GetFieldByColumnId(e);if(null!=t)return Ug.GetFriendlyLabel(t)}return"Unknown"}}Select(){this.props.SlateProps.editor.select({anchor:e_.create({key:this.props.Node.key,offset:0}),focus:e_.create({key:this.props.Node.key,offset:0})})}}GR.defaultProps={};var WR=Ne((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="link",r=[],o="f0c1",i="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z";t.definition={prefix:"fas",iconName:n,icon:[512,512,r,o,i]},t.faLink=t.definition,t.prefix="fas",t.iconName=n,t.width=512,t.height=512,t.ligatures=r,t.unicode=o,t.svgPathData=i})),qR=Ne((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="tags",r=[],o="f02c",i="M497.941 225.941L286.059 14.059A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v204.118a48 48 0 0 0 14.059 33.941l211.882 211.882c18.744 18.745 49.136 18.746 67.882 0l204.118-204.118c18.745-18.745 18.745-49.137 0-67.882zM112 160c-26.51 0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm513.941 133.823L421.823 497.941c-18.745 18.745-49.137 18.745-67.882 0l-.36-.36L527.64 323.522c16.999-16.999 26.36-39.6 26.36-63.64s-9.362-46.641-26.36-63.64L331.397 0h48.721a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882z";t.definition={prefix:"fas",iconName:n,icon:[640,512,r,o,i]},t.faTags=t.definition,t.prefix="fas",t.iconName=n,t.width=640,t.height=512,t.ligatures=r,t.unicode=o,t.svgPathData=i}));var YR={normalizeNode:function(e,t,n){}};class KR extends Iv{constructor(e){super(e),this.label="Text",this.Fields=[],this.ObjectsToLoad=null,this.RenderEditor=this.RenderEditor.bind(this),this.Plugins=[YR],this.Schemas={},this.Schemas.blocks={},this.Schemas.document={nodes:[{match:{type:"paragraph"},min:1,max:1}]},this.Schemas.inlines={},this.Schemas.inlines.field={isVoid:!0},null==this.props.Model.GetValue()&&this.props.Model.SetValue({document:{nodes:[{object:"block",type:"paragraph",nodes:[{object:"text",leaves:[{text:""}]}]}]}}),this.Items=[],this.state={Value:o_.fromJSON(this.props.Model.GetValue())}}SubRender(){return React.createElement("div",{className:"rncontrol"},React.createElement("div",{style:{position:"relative"}},React.createElement(BR,{schema:this.Schemas,className:"fieldPickerTextBox",renderNode:(e,t,n)=>this.RenderNode(e,t,n),ref:this.RenderEditor,value:this.state.Value,onChange:e=>{this.Change(e)},plugins:this.Plugins}),React.createElement("div",{className:"rnTagIcon",style:{position:"absolute",right:3,top:"50%",marginTop:-8,fontSize:16,cursor:"pointer"},onClick:()=>this.OpenDialog()},React.createElement(t.FontAwesomeIcon,{icon:qR.faTags}))))}Change(e){e.value.toJSON()!=this.Model.GetValue()&&this.Model.SetValue(e.value.toJSON()),this.setState({Value:e.value})}renderMark(e,t,n){return n()}RenderNode(e,t,n){const{attributes:r,children:o,node:i}=e;if("paragraph"==e.node.type){let e={};return React.createElement("span",babelHelpers.extends({},r,{style:e}),o)}return"field"==e.node.type?React.createElement(GR,{Node:e.node,Editor:t,SlateProps:e,Model:this.props.Model.Block.Page}):n()}RenderEditor(e){this.editor=e,window.globalEditor=e}async OpenDialog(){if(""==rnBuilderVar.IsPR)return void Ze.Show(React.createElement(fg,{Message:"Tags are only available in the full version"}));let e=await Ze.Show(React.createElement(VR,{Page:this.props.Model.Block.Page}));if(null!=e){let t=XS.create({type:"field",data:{SupportMarks:!0,SubType:e.Type,FieldId:e.Value,DataSourceId:e.Value2,IncludeLabel:!0}});this.editor.insertInline(t)}}}class $R extends Lv{constructor(e,t,n){super(e,t,n)}Render(){return React.createElement(KR,{Model:this})}}class XR extends Iv{constructor(e){super(e),this.state={},this.Model.RemoveInvalidParameters()}SubRender(){let e=this.Model.PageToMapParameters(),t=this.Model.Block.Page.FormFields,n=this.Model.GetPageLinkOptions();return React.createElement("div",null,React.createElement(Bf,{Value:n.PageId,onChange:e=>this.PageToMapChanged(e)},this.Model.Pages.map((e=>React.createElement("option",{value:e.Id},e.Name)))),e.length>0&&React.createElement("table",{style:{width:"100%",tableLayout:"fixed"}},React.createElement("tr",null,React.createElement("th",{style:{width:"50%"}},"Parameter"),React.createElement("th",{style:{width:"50%"}},"Mapped To")),e.map((e=>{let o=n.Mappings.find((t=>t.ParameterId==e.ParameterId));return React.createElement("tr",null,React.createElement("td",{style:{width:"50%"}},e.Label),React.createElement("td",{style:{width:"50%"}},React.createElement("select",{value:null==o?null:o.MappedToFieldId+"_"+o.MappedToPathId,style:{width:"100%"},onChange:t=>this.ParameterMappingChanged(t.target.value,t.target[t.target.selectedIndex],e)},React.createElement("option",{"data-linetype":r.ConditionLineTypeEnum.None.toString(),id:""},RNTranslate("Select a field")),React.createElement("optgroup",{label:RNTranslate("Fields")},t.map((e=>e.GetDataSections("Filter").map(((t,n)=>React.createElement("option",{"data-path-id":t.PathId,"data-field-id":e.Id,"data-linetype":r.ConditionLineTypeEnum.Standard.toString(),key:this.Model.Block.Page.DataSource.Form.Id+"_"+t.Id+"_"+e.Id,value:e.Id+"_"+t.PathId},(n>0?"    ":"")+t.Label)))))))))}))))}PageToMapChanged(e){this.Model.GetPageLinkOptions().PageId=e,this.Model.GetPageLinkOptions().Mappings=[],this.forceUpdate()}ParameterMappingChanged(e,t,n){var r;let o=this.props.Model.Block.Page.DataSources[0];if(null==o)return;let i=t.getAttribute("data-field-id"),a=null===(r=o.GetForm())||void 0===r?void 0:r.GetField(i),s="",l=a.GetDataSections("Filter").find((e=>e.PathId==t.getAttribute("data-path-id")));if(null!=l&&(s=l.PathId),null!=a){{let e=this.Model.GetPageLinkOptions(),t=e.Mappings.find((e=>e.ParameterId==n.ParameterId));null==t&&(t={ParameterId:n.ParameterId,MappedToPathId:"",MappedToFieldId:""},e.Mappings.push(t)),t.MappedToPathId=s,t.MappedToFieldId=i}this.forceUpdate()}}}XR.defaultProps={};class JR extends Lv{constructor(e,t,n){super(e,t,n),this.Pages=rnBuilderVar.Pages.Pages.map((e=>{var t;return{Name:e.Name,Id:e.Id,DataSources:null==e||null===(t=e.Options)||void 0===t?void 0:t.DataSources}}))}GetPageLinkOptions(){let e=q.ObjectSanitizer.Sanitize(this.GetValue(),{PageId:-1,Mappings:[{ParameterId:0,MappedToFieldId:"",MappedToPathId:""}]});return null!=e&&-1!=e.PageId||(e={PageId:0,Mappings:[]},this.SetValue(e)),e}PageToMapParameters(){let e=rnBuilderVar.Pages.Pages.find((e=>e.Id==this.GetPageLinkOptions().PageId));if(null==e)return[];let t=e.Options.DataSources[0],n=this.Block.Page.Forms.find((e=>e.Id==t.FormId));if(null==t||null==t.ParameterCondition||null==n)return[];t.ParameterCondition;let r=[];for(let e of t.ParameterCondition.ConditionGroups)for(let n of e.ConditionLines){let e=this.Block.Page.GetFormById(t.FormId);if(null==e)continue;let o=e.Fields.find((e=>e.Id==n.FieldId));null!=o&&r.push({ParameterId:n.Id,Label:Ug.GetFriendlyLabel(o,n.PathId)})}return r}get SelectedPageToMap(){return rnBuilderVar.Pages.find((e=>e.Id==this.GetPageLinkOptions().PageId))}Render(){return React.createElement(XR,{Model:this})}RemoveInvalidParameters(){var e,t;let n=null!==(e=null===(t=this.GetPageLinkOptions())||void 0===t?void 0:t.Mappings)&&void 0!==e?e:[],r=this.PageToMapParameters();for(let e=0;e<n.length;e++)r.some((t=>t.ParameterId==n[e].ParameterId))&&(n.splice(e,1),e--)}}class QR extends et{constructor(e){super(e),this.state={IsOpen:!0,IsBusy:!1}}GetAdditionalProperties(){return{Title:"Link Options",EnableCancel:!1,EnableApply:!0,OnApply:()=>{this.ValidateLink()&&this.SendResult(null)}}}SubRenderer(){return React.createElement("div",null,React.createElement(Bf,{Label:"Link Target",Value:this.props.Options.ClickTarget,onChange:e=>{this.props.Options.ClickTarget=e,this.forceUpdate()}},React.createElement("option",{value:"_self"},"Self"),React.createElement("option",{value:"_blank"},"New tab")),new $R(this.props.Block,"Block","Link Text").SetOnChange((e=>{this.props.Options.LinkText=e,this.forceUpdate()})).SetOnGetValue((()=>this.props.Options.LinkText)).Render(),React.createElement(Bf,{Label:"Link Action",Value:this.props.Options.ClickAction,onChange:e=>{this.props.Options.ClickAction=e,this.props.Options.ClickParams=null,this.forceUpdate()}},React.createElement("option",{value:"OpenURL"},"Open URL"),React.createElement("option",{value:"GoToPage"},"Open Page Builder Page")),this.props.Options.ClickAction==r.ClickActionEnum.OpenURL&&new $R(this.props.Block,"Block","URL").SetOnChange((e=>{this.props.Options.ClickParams=e,this.forceUpdate()})).SetOnGetValue((()=>this.props.Options.ClickParams)).Render(),this.props.Options.ClickAction==r.ClickActionEnum.GoToPage&&new JR(this.props.Block,"Block","Page").SetOnChange((e=>{this.props.Options.ClickParams=e,this.forceUpdate()})).SetOnGetValue((()=>this.props.Options.ClickParams)).Render())}ValidateLink(){return""!=Y.SlateTextRenderer.Render(this.props.Model,this.props.Options.LinkText)||(i.ToastService.SendErrorMessage("Link text can not be empty"),!1)}}QR.defaultProps={};class ZR extends React.Component{constructor(e){super(e),this.state={}}render(){return React.createElement("a",{href:"#",contentEditable:!1,onClick:e=>{e.preventDefault(),e.stopPropagation(),this.Select()}},this.GetFormattedLabel(),React.createElement("span",{style:{display:"none"}},this.props.SlateProps.children))}GetFormattedLabel(){return Y.SlateTextRenderer.Render(this.props.Model,this.props.Node.data.get("LinkText"))}async Select(){this.props.SlateProps.editor.select({anchor:e_.create({key:this.props.Node.key,offset:0}),focus:e_.create({key:this.props.Node.key,offset:0})});let e=this.props.Node.data.toJS();await Ze.Show(React.createElement(QR,{Block:this.props.Block,Options:e,Model:this.props.Model}));let t=this.props.Node.toJS();t.data=e,this.props.SlateProps.editor.setNodeByKey(this.props.Node.key,t)}}function eA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eA(n,!0).forEach((function(t){babelHelpers.defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eA(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}ZR.defaultProps={};class nA extends jR{GetExtraControls(){return[React.createElement("div",{className:"slateButtonWrapper "},React.createElement("button",{style:{width:25,cursor:"pointer"},title:"Add Field",onClick:e=>this.AddField()},React.createElement(gn,{icon:Ef.faPlus})," "),React.createElement("button",{style:{width:25,cursor:"pointer"},title:"Create Link",onClick:e=>this.AddLink()},React.createElement(gn,{icon:WR.faLink})," "))]}GetSchema(){let e={blocks:{},inlines:{}};return e.inlines.field={isVoid:!0},e.inlines.link={isVoid:!0},e}async AddField(){if(""==rnBuilderVar.IsPR)return void Ze.Show(React.createElement(fg,{Message:"Fields are only available in the full version"}));let e=await Ze.Show(React.createElement(VR,{Page:this.props.PageBuilder}));if(null!=e){let t=XS.create({type:"field",data:{SupportMarks:!0,SubType:e.Type,FieldId:e.Value,DataSourceId:e.Value2,IncludeLabel:!0}});this.editor.insertInline(t)}}RenderAdditionalNodes(e){const{attributes:t,children:n,node:r}=e;if("link"==e.node.type)return React.createElement(ZR,{Block:this.props.Block,Node:e.node,Editor:this.editor,SlateProps:e,Model:this.props.PageBuilder});if("field"==e.node.type){e.node.nodes.get(0).getMarks().toArray();let n="Undefined";switch(e.node.data.get("SubType")){case"fixed":n="Fixed field";break;case"field":let t=e.node.data.get("FieldId"),r=e.node.data.get("DataSourceId"),o=this.props.PageBuilder.DataSources.find((e=>e.Options.Id==r));if(null!=o&&o instanceof N.FormDataSource){let e=o.GetFieldByColumnId(t);null!=e&&(n=Ug.GetFriendlyLabel(e))}return React.createElement(GR,{Node:e.node,Editor:this.editor,SlateProps:e,Model:this.props.PageBuilder})}return React.createElement("span",babelHelpers.extends({},t,{style:{padding:"1px 2px",color:"white"}}),n)}}async AddLink(){let e={ClickParams:null,ClickTarget:r.ClickTargetEnum.NewTab,ClickAction:r.ClickActionEnum.OpenURL,LinkText:null};await Ze.Show(React.createElement(QR,{Block:this.props.Block,Options:e,Model:this.props.PageBuilder}));let t=XS.create({type:"link",data:tA({SupportMarks:!0},e)});this.editor.insertInline(t)}}class rA extends Iv{constructor(...e){super(...e),this.label="Text",this.Fields=[]}SetFields(e){return this.Fields=e,this}SubRender(){return null==this.props.Model.GetValue()&&this.props.Model.SetValue({document:{nodes:[{object:"block",type:"paragraph",nodes:[{object:"text",leaves:[{text:""}]}]}]}}),React.createElement(nA,{Block:this.props.Model.Block,key:this.Model.Block.Options.Id,PageBuilder:this.props.Model.Block.Page,Value:this.props.Model.GetValue(),onChange:e=>{this.props.Model.SetValue(e)}})}}class oA extends Lv{constructor(e,t,n){super(e,t,n)}Render(){return React.createElement(rA,{Model:this})}}class iA extends(Gv(G.TextFieldBlockModel)){Render(){return React.createElement(Jv,{Model:this})}NewFesture(){return"yea!!"}get Type(){return"Form Field"}GetProperties(){let e=super.GetProperties(),t=e.GetOrCreateGroup("General");return t.AddProperty(new Yv(this,"Label","Label")),t.AddProperty(new oA(this,"Text","Text")),e}ConfigureDataSource(){var e;this.ConfigureNode(null===(e=this.Options.Text)||void 0===e?void 0:e.document)}ConfigureNode(e){let t=this.GetNodes(e,[]);if(null!=t)for(let e of t){if("field"==(null==e?void 0:e.type)){var n,r;let t=null==e||null===(n=e.data)||void 0===n?void 0:n.DataSourceId,o=null==e||null===(r=e.data)||void 0===r?void 0:r.FieldId,i=this.Page.DataSources.find((e=>e.Options.Id==t));null!=i&&(i.MaybeSetInitialNeededRows(1),i.AddNeededField(o))}this.ConfigureNode(e)}}GetNodes(e,t){if(null==e||null==e.nodes||!Array.isArray(e.nodes))return null;for(let n of e.nodes)t.push(n),this.GetNodes(n,t);return t}GetDependencies(){return["SlateRenderer","TextFieldBlock"]}}class aA extends(Pv($.NavigatorFieldBlock)){constructor(e){super(e),this.state={}}SubRender(){return super.SubRender()}}aA.defaultProps={};class sA extends(Gv(K.NavigatorFieldBlockModel)){Render(){return React.createElement(aA,{Model:this})}NewFesture(){return"yea!!"}get Type(){return"Form Field"}GetProperties(){let e=super.GetProperties(),t=e.GetOrCreateGroup("General");return t.AddProperty(new Bv(this,"LabelType","Label Type").AddItem("Row Count","RowCount").AddItem("Custom Text","Custom").SetRefreshPropertiesPanel()),"Custom"==this.Options.LabelType&&t.AddProperty(new $R(this,"Text","Text")),e}ConfigureDataSource(){this.Page.DataSource.MaybeSetInitialNeededRows(1),this.Page.DataSources.map((e=>e.SetNeedRowCount()))}GetNodes(e,t){if(null==e||null==e.nodes||!Array.isArray(e.nodes))return t;for(let n of e.nodes)t.push(n),this.GetNodes(n,t);return t}GetDependencies(){return["SlateRenderer","NavigatorFieldBlock"]}}class lA extends(Pv(J.GridFieldBlock)){constructor(e){super(e),this.state={}}SubRender(){return super.SubRender()}}function uA(e){return class extends e{constructor(...e){super(...e)}}}function cA(e){return class extends e{}}lA.defaultProps={};class dA extends(cA(ee.HeaderGridRow)){SubRender(){return React.createElement("thead",null,this.Model.Columns.map((e=>e.Render())))}}function pA(e){return class extends e{Select(){this.Row.Grid.SelectedColumn=this.Options,this.Row.Grid.Refresh()}}}function fA(e){return class extends e{componentDidMount(){c.EventManager.Subscribe("GridColumnHoverChanged",(e=>{e.NewColumnId!=this.Model.Options.Id&&e.PreviousColumnId!=this.Model.Options.Id||this.forceUpdate()}),this)}componentWillUnmount(){c.EventManager.UnsubscribeEvent("GridColumnHoverChanged",this)}get IsHovered(){return this.Model.Row.Grid.HoveredColumnId==this.Model.Options.Id}get IsSelected(){var e;return(null===(e=this.Model.Row.Grid.SelectedColumn)||void 0===e?void 0:e.Id)==this.Model.Options.Id}GetColumnClasses(){let e=[];return this.IsHovered&&e.push("ColumnHovered"),this.IsSelected&&e.push("ColumnSelected"),e.join(" ")}render(){return React.cloneElement(this.GetContainer(),{className:this.GetColumnClasses(),onMouseEnter:()=>this.Model.Row.Grid.HoveredColumn(this.Model),onMouseOut:()=>this.Model.Row.Grid.BlurColumn(this.Model),onClick:()=>this.Model.Select(),children:this.GetContent()})}}}class hA extends(fA(ne.HeaderGridColumn)){GetContainer(){return React.createElement("th",null)}GetContent(){return this.Model.Options.Header}}class mA extends(pA(te.HeaderGridColumnModel)){Render(){return React.createElement(hA,{Model:this})}}class gA extends(uA(Z.HeaderGridRowModel)){Render(){return React.createElement(dA,{Model:this})}CreateColumn(e){return new mA(this,e)}}class vA extends(fA(ie.StandardGridColumn)){GetContainer(){return React.createElement("td",null)}GetContent(){var e;switch(this.Model.Options.ContentType){case"field":let r=this.Model.Row.Grid.Page.DataSources[0];if(""==this.Model.Options.Content||""==(null===(e=this.Model.Options.Content)||void 0===e?void 0:e.FieldId))return"Select a field first";if(null==r)return"<<Select a datasource>>";if(r instanceof Hg){var t,n;let e=r.GetFieldByColumnId(null===(t=this.Model.Options.Content)||void 0===t?void 0:t.FieldId);return null==e?"<<Field Not Found>>":"<<"+Ug.GetFriendlyLabel(e,null===(n=this.Model.Options.Content)||void 0===n?void 0:n.PathId)+">>"}break;case"text":return ae.SlateRenderer.Render(this.Model.Row.Grid.Page,this.Model.Options.Content,"gridSlateContainer");default:return"<<Fake Data>>"}}}class yA extends(pA(oe.StandardGridColumnModel)){Render(){return React.createElement(vA,{Model:this})}}class bA extends(cA(se.StandardGridRow)){}class wA extends(uA(re.StandardGridRowModel)){Render(){return React.createElement(bA,{Model:this})}CreateColumn(e){return new yA(this,e)}}var kA,CA,xA,EA=Ne((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="trash",r=[],o="f1f8",i="M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z";t.definition={prefix:"fas",iconName:n,icon:[448,512,r,o,i]},t.faTrash=t.definition,t.prefix="fas",t.iconName=n,t.width=448,t.height=512,t.ligatures=r,t.unicode=o,t.svgPathData=i}));class SA extends Iv{constructor(e){super(e),this.state={},this.TableRendered=this.TableRendered.bind(this)}TableRendered(e){null!=e&&new Am(e.querySelector("tbody"),{handle:".columnSort",animation:150,onEnd:e=>{let t=[];e.target.querySelectorAll("tr").forEach((e=>{let n=e.getAttribute("data-columnid"),r=this.Model.Block.Options.Columns.find((e=>e.Id==n));null!=r&&t.push(r)})),this.Model.Block.Options.Columns=t,this.Model.Regenerate()}})}SubRender(){return React.createElement("div",null,React.createElement("table",{ref:this.TableRendered},React.createElement("tbody",null,this.Model.Block.Options.Columns.map((e=>React.createElement("tr",{"data-columnid":e.Id,key:e.Id},React.createElement("td",null,React.createElement(t.FontAwesomeIcon,{icon:$f.faArrowsAlt,className:"columnSort"})),React.createElement("td",{style:{width:"100%"}},React.createElement("input",{style:{width:"100%"},type:"text",value:e.Header,onChange:t=>{e.Header=t.target.value,this.Model.Refresh(),this.Model.Block.Refresh()}})),React.createElement("td",null,React.createElement(t.FontAwesomeIcon,{className:"removeColumn",icon:EA.faTrash,onClick:()=>this.Remove(e)})))))),React.createElement("tfoot",null,React.createElement("tr",null,React.createElement("td",{colSpan:3},React.createElement("button",{onClick:()=>this.Model.Add(),className:"rnbtn rnbtn-success",style:{display:"flex",alignItems:"center"}},React.createElement(t.FontAwesomeIcon,{style:{marginRight:3},icon:Ef.faPlus}),"Add Column"))))))}ValueChanges(e){let t=parseFloat(e.target.value);isNaN(t)?this.Model.SetValue(t):(t>this.Model.MaxValue&&i.ToastService.SendErrorMessage("The max value for this setting is "+this.Model.MaxValue),t<this.Model.MinValue&&i.ToastService.SendErrorMessage("The min value for this setting is "+this.Model.MinValue))}Remove(e){1!=this.Model.Block.Options.Columns.length?(this.Model.Block.Options.Columns.splice(this.Model.Block.Options.Columns.indexOf(e),1),this.Model.Regenerate()):i.ToastService.SendErrorMessage("At least one column is required")}}SA.defaultProps={};class _A extends Lv{constructor(e){super(e,null,""),this.MaxValue=null,this.MinValue=null}SetMaxValue(e){return this.MaxValue=e,this}SetMinValue(e){return this.MinValue=e,this}Render(){return React.createElement(SA,{Model:this})}Regenerate(){c.EventManager.Publish("RefreshFieldProperties"),this.Block.HeaderRow.GenerateColumns(),this.Block.CreateRows(),this.Refresh(),this.Block.Refresh()}Add(){this.Block.SelectedColumn=(new Q.GridColumnOptions).Merge({}),this.Block.Options.Columns.push(this.Block.SelectedColumn),this.Regenerate()}}class OA extends Iv{constructor(e){super(e),this.state={}}SubRender(){return this.Model.Content}}OA.defaultProps={};class TA extends Lv{constructor(e,t,n=""){super(e,"",n),this.Content=t}Render(){return React.createElement(OA,{Model:this})}}class RA extends Iv{constructor(e){super(e),this.label="Text",this.Fields=[],this.Node=null,this.TextAreaRendered=this.TextAreaRendered.bind(this)}TextAreaRendered(e){this.Node=e,null!=e&&(this.CodeMirror=bg.fromTextArea(e,{extraKeys:{"Ctrl-Space":"autocomplete"},lineNumbers:!0,matchBrackets:!0,autoRefresh:!0,mode:"application/x-httpd-php",gutters:["CodeMirror-lint-markers"],lint:!0}),this.CodeMirror.on("change",((e,t)=>{this.Model.SetValue(e.getDoc().getValue());let n=this.Model.Block.Page.DataSources[0].Form.Fields;Array.isArray(t)||(t=[t]);for(let e of t){let r=e.from.line,o=r+t[0].text.length;for(let e=r;e<=o;e++){let t,r=this.CodeMirror.getDoc().getLine(e),o=/@@RNFIELD(.*?(?=RNFIELD\$\$))RNFIELD\$\$/g;for(;t=o.exec(r);){let r=t[1],i=null;try{i=JSON.parse(r)}catch(e){i=null}let a=null;null!=i&&(a=n.find((e=>e.Id==i.FieldId)));let s=document.createElement("span");s.className="SlateField",null==a?(s.style.color="red",s.innerText="Field not found!",s.title="The field was probably deleted?"):s.innerText=""!=a.Label?a.Label:"Id: "+a.Id,this.CodeMirror.getDoc().markText({line:e,ch:o.lastIndex-t[0].length},{line:e,ch:o.lastIndex},{replacedWith:s})}for(r=this.CodeMirror.getDoc().getLine(e),o=/\$Fixed ([^\$]+)\$/g;t=o.exec(r);){let n=t[1];t[1];let r=document.createElement("span");r.className="formulaField",r.style.backgroundColor="lightcyan";try{let e=JSON.parse(n.substr(1,n.length-2));r.innerText=e.Label}catch(e){r.innerText="Invalid"}this.CodeMirror.getDoc().markText({line:e,ch:o.lastIndex-t[0].length},{line:e,ch:o.lastIndex},{replacedWith:r})}}}})),this.CodeMirror.setValue(this.Model.GetStringValue()),this.CodeMirror.refresh())}SubRender(){return React.createElement("div",{className:"rncontrol"},React.createElement("div",null,React.createElement("textarea",{onChange:()=>{},ref:this.TextAreaRendered,style:{width:"100%",height:300}}),React.createElement("button",{style:{marginTop:5},onClick:()=>this.AddField(),className:"rnbtn rnbtn-success"},React.createElement(t.FontAwesomeIcon,{icon:Ef.faPlus})," Add Field")))}async AddField(){if(""==rnBuilderVar.IsPR)return void Ze.Show(React.createElement(fg,{Message:"Fields are only available in the full version"}));let e=await Ze.Show(React.createElement(VR,{Page:this.Model.Block.Page}));"field"==e.Type&&this.CodeMirror.getDoc().replaceSelection(`@@RNFIELD${JSON.stringify({FieldId:e.Value,DataSourceId:e.Value2})}RNFIELD$$`)}}class AA extends Lv{constructor(e,t,n){super(e,t,n)}Render(){return React.createElement(RA,{Model:this})}}class NA extends Iv{SubRender(){let e=q.ObjectSanitizer.Sanitize(this.Model.GetValue(),{FieldId:"",PathId:"",Path:[""]}),t=[],n="";var o;null!=this.props.Model.Block.Page.DataSources[0]&&(n=this.props.Model.Block.Page.DataSources[0].GetForm().Id,t=null===(o=this.props.Model.Block.Page.DataSources[0].GetForm())||void 0===o?void 0:o.Fields);return React.createElement("select",{value:null!=e?e.FieldId+"_"+e.PathId:null,style:{width:"100%"},onChange:e=>this.FieldChanged(e.target.value,e.target[e.target.selectedIndex])},React.createElement("option",{"data-linetype":r.ConditionLineTypeEnum.None.toString(),id:""},RNTranslate("Select a field")),React.createElement("optgroup",{label:RNTranslate("Fields")},t.map((e=>e.GetDataSections("Display").map(((t,o)=>React.createElement("option",{"data-path-id":t.PathId,"data-field-id":e.Id,"data-linetype":r.ConditionLineTypeEnum.Standard.toString(),key:n+"_"+t.Id+"_"+e.Id,value:e.Id+"_"+t.PathId},(o>0?"    ":"")+t.Label)))))))}FieldChanged(e,t){var n;let r=this.props.Model.Block.Page.DataSources[0];if(null==r)return;let o=t.getAttribute("data-field-id"),i=null===(n=r.GetForm())||void 0===n?void 0:n.GetField(o),a="",s=[],l=i.GetDataSections("Display").find((e=>e.PathId==t.getAttribute("data-path-id")));null!=l&&(a=l.PathId,s=l.Path),null==i?this.props.Model.SetValue(null):this.props.Model.SetValue({FieldId:o,PathId:a,Path:s}),this.forceUpdate()}}class DA extends Bv{Render(){return React.createElement(NA,{Model:this})}}class PA{static ConfigureClickActionDataSource(e,t,n){if(t==r.ClickActionEnum.GoToPage){let t=q.ObjectSanitizer.Sanitize(n,{PageId:0,Mappings:[{ParameterId:0,MappedToFieldId:"",MappedToPathId:""}]});if(null==t)return;for(let n of t.Mappings)e.AddNeededField(n.MappedToFieldId)}}}class MA extends(Gv(X.GridFieldBlockModel)){constructor(...e){super(...e),this.Rows=this.Rows}Render(){return React.createElement(lA,{Model:this})}get Type(){return"Grid"}CreateHeaderModel(){this.HeaderRow=new gA(this)}ExecuteAdditionInitialization(){this.Options.Columns.push((new Q.GridColumnOptions).Merge({Header:"Column 1"})),this.Options.Columns.push((new Q.GridColumnOptions).Merge({Header:"Column 2"})),this.Options.Columns.push((new Q.GridColumnOptions).Merge({Header:"Column 3"})),this.HeaderRow.GenerateColumns(),this.CreateRows(),this.Refresh()}GetProperties(){let e=super.GetProperties();e.GetOrCreateGroup("Grid Columns").AddProperty(new _A(this));let t=e.GetOrCreateGroup("Column Options");if(null==this.SelectedColumn)t.AddProperty(new TA(this,React.createElement("p",null,"Please select a column first")));else{switch(t.AddProperty(new Yv(this,"Header","Header").SetOptionsOverwrite(this.SelectedColumn)),t.AddProperty(new Bv(this,"ContentType","Content Type").SetOptionsOverwrite(this.SelectedColumn).SetRefreshPropertiesPanel().SetOnChange((e=>(this.SelectedColumn.ContentType=e,this.SelectedColumn.Content=null,this.Refresh(),!0))).AddItem("Field","field").AddItem("Text","text").AddItem("Html","html")),this.SelectedColumn.ContentType){case"field":t.AddProperty(new DA(this,"Content","Field").SetRefreshPropertiesPanel().SetOptionsOverwrite(this.SelectedColumn));let e=o.Sanitizer.GetStringValueFromPath(this.SelectedColumn.Content,["FieldId"]),n=this.Page.FormFields.find((t=>t.Id==e));null!=n&&n.UseInConditions&&t.AddProperty(new $v(this,"IsSortable","Sortable").SetIsPR().SetOptionsOverwrite(this.SelectedColumn));break;case"text":t.AddProperty(new oA(this,"Content","Text").SetOptionsOverwrite(this.SelectedColumn));break;case"html":t.AddProperty(new AA(this,"Content","Html").SetOptionsOverwrite(this.SelectedColumn))}t=e.AddNewGroup("Column Click Action"),t.AddProperty(new $v(this,"IsClickable","Clickable").SetRefreshPropertiesPanel().SetIsPR().SetOptionsOverwrite(this.SelectedColumn)),this.SelectedColumn.IsClickable&&(t.AddProperty(new Bv(this,"ClickTarget","Click Target").SetOptionsOverwrite(this.SelectedColumn).AddItem("Self","_self").AddItem("New Tab","_blank")),t.AddProperty(new Bv(this,"ClickAction","Click Action").SetRefreshPropertiesPanel().SetOptionsOverwrite(this.SelectedColumn).SetOnChange((e=>{"GoToPage"!=e||""!=rnBuilderVar.IsPR?(this.SelectedColumn.ClickAction=e,this.SelectedColumn.ClickParams=null,this.Refresh()):Ze.Show(React.createElement(fg,{Message:"Sorry this feature is only available in the full version"}))})).AddItem("Open URL","OpenURL").AddItem("Go To Page Builder Page","GoToPage")),this.SelectedColumn.ClickAction==r.ClickActionEnum.OpenURL?t.AddProperty(new $R(this,"ClickParams","URL").SetOptionsOverwrite(this.SelectedColumn)):t.AddProperty(new JR(this,"ClickParams","Pages").SetOptionsOverwrite(this.SelectedColumn)))}let n=e.GetOrCreateGroup("Pagination");return n.AddProperty(new $v(this,"EnablePagination","Enable Pagination").SetRefreshPropertiesPanel()),this.Options.EnablePagination&&n.AddProperty(new Yv(this,"PaginationOptions","Pagination Options (Separated by space)").SetOnGetValue((()=>this.Options.PaginationOptions.join(" "))).SetActivateChangeWhenBlur().SetOnChange((e=>{let t=e.split(" ");this.Options.PaginationOptions=t.map((e=>o.Sanitizer.SanitizeNumber(e,null))).filter((e=>null!=e)),this.Refresh(),c.EventManager.Publish("RefreshFieldProperties")}))),e}ConfigureDataSource(){if(0!=this.Page.DataSources.length){this.Options.EnablePagination?(this.Page.DataSources[0].SetNeedRowCount(),this.Options.PaginationOptions.length>0?this.Page.DataSources[0].MaybeSetInitialNeededRows(this.Options.PaginationOptions[0]):this.Page.DataSources[0].MaybeSetInitialNeededRows(0)):this.Page.DataSources[0].MaybeSetInitialNeededRows(0);for(let t of this.Rows[0].Columns){if("html"==t.Options.ContentType){let e,n=/@@RNFIELD(.*?(?=RNFIELD\$\$))RNFIELD\$\$/g;for(;e=n.exec(t.Options.Content);){let t=e[1],n=null;try{n=JSON.parse(t)}catch(e){n=null}let r=this.Page.FormFields.find((e=>e.Id==n.FieldId));null!=r&&this.Page.DataSources[0].AddNeededField(r.Id)}}var e;if("text"==t.Options.ContentType&&this.ConfigureNode(t.Options.Content.document),"field"==t.Options.ContentType)this.Page.DataSources[0].AddNeededField(null===(e=t.Options.Content)||void 0===e?void 0:e.FieldId);null!=this.Page.DataSource&&PA.ConfigureClickActionDataSource(this.Page.DataSource,t.Options.ClickAction,t.Options.ClickParams)}}}ConfigureNode(e){let t=this.GetNodes(e,[]);if(null!=t)for(let e of t){if("field"==(null==e?void 0:e.type)){var n,r;null==e||null===(n=e.data)||void 0===n||n.DataSourceId;let t=null==e||null===(r=e.data)||void 0===r?void 0:r.FieldId,o=this.Page.DataSources[0];null!=o&&(o.MaybeSetInitialNeededRows(1),o.AddNeededField(t))}this.ConfigureNode(e)}}GetNodes(e,t){if(null==e||null==e.nodes||!Array.isArray(e.nodes))return null;for(let n of e.nodes)t.push(n),this.GetNodes(n,t);return t}CreateRows(){this.Rows=[],this.Rows.push(new wA(this))}GetDependencies(){return["GridFieldBlock"]}HoveredColumn(e){let t=this.HoveredColumnId;this.HoveredColumnId=e.Options.Id,t!=this.HoveredColumnId&&c.EventManager.Publish("GridColumnHoverChanged",{NewColumnId:this.HoveredColumnId,PreviousColumnId:t})}BlurColumn(e){let t=this.HoveredColumnId;this.HoveredColumnId===e.Options.Id&&(this.HoveredColumnId=null,c.EventManager.Publish("GridColumnHoverChanged",{NewColumnId:this.HoveredColumnId,PreviousColumnId:t}))}}class IA extends(Pv(ue.SearchBarBlock)){constructor(e){super(e),this.state={}}SubRender(){return super.SubRender()}}IA.defaultProps={};class FA extends React.Component{constructor(e,t){super(e,t),this.state={}}render(){if(this.Destroyed)return null;let e=React.createElement(Qe,this.props);return this.props.IsDynamic?e:ReactDOM.createPortal(e,document.body)}static Show(e){return new Promise((t=>{let n,r=document.createElement("div");document.body.style.overflow="hidden",document.body.appendChild(r);let o=!1,i=React.cloneElement(e,{IsOpen:!0,IsDynamic:!0,ref:i=>{null!=i?(void 0===i.OnDispose&&console.warn("Dialog does not implement interface DynamicDialog, it can not be used dynamically"),n=i,n.OnDispose=i=>{je.ExecuteMethodPropIfDefined(e.props.OnClose),0==window.RNOpenDialogsCount&&(document.body.style.overflow=""),document.body.removeChild(r),o||(t(null),o=!0),n=null},n._sendResult=e=>{o||(t(e),o=!0)}):n=null}});ReactDOM.render(i,r)}))}}FA.defaultProps={IsDynamic:!1,EnableCancel:!0,IsDestroyed:!1,ShowHeader:!0,CloseOnClickingOutside:!1,ShowFooter:!0},FA.Footer=Ge;class LA extends React.Component{constructor(e){super(e),this.state={IsOpen:!0,IsBusy:!1}}render(){return React.createElement(FA,{EnableApply:!0,CancelTitle:this.props.CancelText,EnableCancel:this.props.EnableCancelButton,OnClose:()=>this._sendResult&&this._sendResult(!1),AfterOnClose:()=>this.OnDispose(),OnApply:()=>this.Apply(),ApplyTitle:this.props.ApplyText,ApplyIcon:this.props.Options.Icon,Title:this.props.Options.Title,IsOpen:this.state.IsOpen,IsBusy:this.state.IsBusy},this.props.Options.Content)}async Apply(){if(null!=this.props.Options.OnApply){this.setState({IsBusy:!0});let e=await this.props.Options.OnApply();this.setState({IsBusy:!1}),e&&this.setState({IsOpen:!1})}else this._sendResult(!0),this.setState({IsOpen:!1})}}LA.defaultProps={EnableCancelButton:!0,ApplyText:"Yes",CancelText:"No"};class BA{constructor(e,n){this._enableCancelButton=!0,this._applyText="Close",this.ConfirmationDialogOptions={Title:e,Content:n,Icon:React.createElement(t.FontAwesomeIcon,{icon:He.faCheck}),OnApply:null}}static Create(e="",t){return""==e&&(e="Please confirm"),new BA(e,t)}SetApplyText(e){return this._applyText=e,this}SetIcon(e){return this.ConfirmationDialogOptions.Icon=e,this}Show(){return FA.Show(React.createElement(LA,{ApplyText:this._applyText,EnableCancelButton:this._enableCancelButton,Options:this.ConfirmationDialogOptions}))}EnableCancelButton(e){return this._enableCancelButton=e,this}OnApply(e){return this.ConfirmationDialogOptions.OnApply=e,this}UseDeleteIcon(){return this.ConfirmationDialogOptions.Icon=React.createElement(t.FontAwesomeIcon,{icon:EA.faTrash}),this}}class jA extends Mf{constructor(e,t,n,r){super(),this.prop=e,this.propertyTrigger=t,this.executer=n,this.ErrorMessage=r}Execute(){return!je.GetPropertyValue(this.prop,this.propertyTrigger,!1)||this.executer()}}class zA extends Pf{constructor(e){super(e),this.state={IsValid:!0,ErrorMessage:""}}render(){return React.createElement("div",{className:"rncontrol",style:this.props.style},React.createElement("div",null,""!=this.props.Label&&React.createElement("label",{style:{width:"100%",display:"block"}},this.props.Label,this.props.hint&&React.createElement("span",{style:{display:"block",fontSize:12,color:"#5f5f5f",fontStyle:"italic"}},this.props.hint),this.GetTooltip(this.props.tooltip)),React.createElement("input",{onClick:e=>this.props.onClick&&this.props.onClick(e),style:this.props.inputStyle,onBlur:()=>this.props.OnBlur&&this.props.OnBlur(),maxLength:this.props.maxLength,placeholder:this.props.placeholder,type:this.props.type,disabled:this.props.disabled,className:"rncontrol",value:"numeric"==this.props.type?this.GetNumericValue():this.GetStringValue(),onChange:e=>{this.SetValue(e.target.value)}}),this.GetValidationSection()))}GetValidators(){return[new jA(this.props,"Required",(()=>""!=this.GetStringValue()),"Required field")]}}zA.defaultProps={tooltip:null,type:"text",maxLength:void 0};class VA extends Iv{constructor(e){super(e),this.ContainerRendered=this.ContainerRendered.bind(this)}ContainerRendered(e){this.Container=e,null!=e&&new Am(e,{handle:".searchFieldMove",animation:150,onEnd:t=>{let n=[];e.querySelectorAll(".searchableFieldItem").forEach((e=>{let t=e.getAttribute("data-option-id"),r=this.Model.Block.Fields.find((e=>e.Options.Id.toString()==t));null!=r&&n.push(r)})),this.Model.Block.Fields=n,this.Model.Block.Options.Fields=n.map((e=>e.Options)),this.Model.Block.Refresh()}})}get Block(){return this.Model.Block}SubRender(){let e=this.props.Model.Block.Page.FormFields.filter((e=>e.UseInConditions));return React.createElement("div",{ref:this.ContainerRendered},this.Block.Fields.map((n=>React.createElement("div",{className:"searchableFieldItem",style:{border:"1px solid #999",marginBottom:15,borderRadius:5,padding:5,display:"flex"},"data-option-id":n.Options.Id},React.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-between",marginRight:5}},React.createElement(t.FontAwesomeIcon,{style:{cursor:"pointer"},icon:$f.faArrowsAlt,className:"searchFieldMove"}),React.createElement(t.FontAwesomeIcon,{onClick:()=>this.Remove(n),style:{cursor:"pointer"},className:"searchFieldRemove",icon:EA.faTrash})),React.createElement("div",{style:{flexGrow:1}},React.createElement("div",{className:"rncontrol"},React.createElement("label",null,"Field"),React.createElement("select",{value:n.Options.FieldId+"_"+n.Options.PathId,style:{height:"auto",padding:0,width:"100%"},onChange:e=>this.FieldChanged(e,n,e.target.value,e.target[e.target.selectedIndex])},React.createElement("option",{"data-linetype":r.ConditionLineTypeEnum.None.toString(),id:""},RNTranslate("Select a field")),React.createElement("optgroup",{label:RNTranslate("Fields")},e.map((e=>e.GetDataSections().map(((t,n)=>React.createElement("option",{"data-path-id":t.PathId,"data-field-id":e.Id,"data-linetype":r.ConditionLineTypeEnum.Standard.toString(),key:t.Id+"_"+e.Id,value:e.Id+"_"+t.PathId},(n>0?"    ":"")+t.Label)))))))),React.createElement(zA,{Label:"Label",Value:n.Options.Label,onChange:e=>{n.Options.Label=e,this.forceUpdate(),this.Block.Refresh()}}),this.GetComparisonDropDown(n))))),React.createElement("div",{style:{marginTop:10}},React.createElement("button",{style:{marginRight:2},onClick:()=>this.AddField(),className:"rnbtn rnbtn-success btnSearchAddFieldButton"},React.createElement(t.FontAwesomeIcon,{icon:Ef.faPlus}),"Add Field")))}FieldChanged(e,t,n,o){let i;t.Options.PathId="";let a=o.getAttribute("data-field-id"),s=this.Block.Page.FormFields.find((e=>e.Id==a));null==s?(i=r.FieldTypeEnum.None,t.Options.FieldId="",t.Options.ComparisonType="",this.Block.Refresh(),this.forceUpdate()):i=s.Type,t.Options.FieldId=a,t.Options.PathId=o.getAttribute("data-path-id"),t.Options.SubType=i;let l=s.GetDataSections().find((e=>e.PathId==t.Options.PathId));t.Options.Label=null==l?"":l.Label,t.Options.ComparisonType="",this.Block.Refresh(),this.forceUpdate()}AddField(){this.Block.AddField((new ce.SearchFieldOptions).Merge()),this.forceUpdate()}GetComparisonDropDown(e){let t=this.Block.Page.FormFields.find((t=>t.Id==e.Options.FieldId));if(null==t)return null;let n=[];switch(t.Type){case r.FieldTypeEnum.List:case r.FieldTypeEnum.Text:case r.FieldTypeEnum.Composed:n.push({Label:"Equal To",Value:r.ComparisonTypeEnum.Equal}),n.push({Label:"Not Equal To",Value:r.ComparisonTypeEnum.NotEqual}),n.push({Label:"Contains",Value:r.ComparisonTypeEnum.Contains}),n.push({Label:"Not Contains",Value:r.ComparisonTypeEnum.NotContains});break;case r.FieldTypeEnum.DateTime:case r.FieldTypeEnum.Date:case r.FieldTypeEnum.Time:case r.FieldTypeEnum.Number:n.push({Label:"Equal To",Value:r.ComparisonTypeEnum.Equal}),n.push({Label:"Not Equal To",Value:r.ComparisonTypeEnum.NotEqual}),n.push({Label:"Greater than",Value:r.ComparisonTypeEnum.GreaterThan}),n.push({Label:"Greater or equal than",Value:r.ComparisonTypeEnum.GreaterOrEqualThan}),n.push({Label:"Less than",Value:r.ComparisonTypeEnum.LessThan}),n.push({Label:"Less or equal than",Value:r.ComparisonTypeEnum.LessOrEqualThan});break;case r.FieldTypeEnum.Multiple:n.push({Label:"Contains",Value:r.ComparisonTypeEnum.Contains}),n.push({Label:"Not Contains",Value:r.ComparisonTypeEnum.NotContains});break;case r.FieldTypeEnum.User:n.push({Label:"Is",Value:r.ComparisonTypeEnum.UserIs}),n.push({Label:"Is Not",Value:r.ComparisonTypeEnum.UserIsNot}),n.push({Label:"HasRole",Value:r.ComparisonTypeEnum.HasRole}),n.push({Label:"Has Not Role",Value:r.ComparisonTypeEnum.HasNotRole});break;case r.FieldTypeEnum.EntryId:n.push({Label:"Equal To",Value:r.ComparisonTypeEnum.Equal}),n.push({Label:"Not Equal To",Value:r.ComparisonTypeEnum.NotEqual}),n.push({Label:"Greater than",Value:r.ComparisonTypeEnum.GreaterThan}),n.push({Label:"Greater or equal than",Value:r.ComparisonTypeEnum.GreaterOrEqualThan}),n.push({Label:"Less than",Value:r.ComparisonTypeEnum.LessThan}),n.push({Label:"Less or equal than",Value:r.ComparisonTypeEnum.LessOrEqualThan})}return 0==n.length?null:React.createElement(Bf,{Label:"Comparison Type",Value:e.Options.ComparisonType,onChange:t=>{e.Options.ComparisonType=t,this.forceUpdate(),this.Block.Refresh()}},n.map((e=>React.createElement("option",{value:e.Value},e.Label))))}async Remove(e){await class{static async Show(e,t="Are you sure?",n=null,r=null){return new Promise((o=>{let i=BA.Create(t,null!=r?r:React.createElement(React.Fragment,null,React.createElement("p",null,"Are you sure you want to delete ",""!=e?React.createElement("strong",{style:{color:"red"}},e):"this item","?"))).UseDeleteIcon().SetApplyText("Yes, delete");null!=n?(i.OnApply(n),i.Show()):o(i.Show())}))}}.Show(null)&&(this.Model.Block.Fields.splice(this.Block.Fields.indexOf(e),1),this.Model.Block.Options.Fields.splice(this.Model.Block.Options.Fields.indexOf(e.Options),1),this.Model.Refresh(),this.Model.Block.Refresh())}}class UA extends Lv{Render(){return React.createElement(VA,{Model:this})}}class HA extends(Wv(le.SearchBarBlockModel)){Render(){return React.createElement(IA,{Model:this})}get Type(){return"Search Bar"}ConfigureDataSource(e=1,t=!1){if(0==this.Page.DataSources.length)return;let n=this.Page.DataSources[0];this.Options.Fields.forEach((e=>n.AddNeededField(e.FieldId)))}GetProperties(){let e=super.GetProperties();e.GetOrCreateGroup("Search Fields").AddProperty(new UA(this,"FieldId","").SetRefreshPropertiesPanel());let t=e.GetOrCreateGroup("Search Bar");return t.AddProperty(new Yv(this,"Label","Label")),t.AddProperty(new Yv(this,"SearchButtonLabel","Search Button Label")),e}GetDependencies(){return["SearchBarBlock"]}}class GA extends(Pv(pe.ImageBlock)){constructor(e){super(e),this.state={}}SubRender(){return super.SubRender()}}GA.defaultProps={};class WA extends Iv{constructor(...e){super(...e),this.media=null}SubRender(){return React.createElement("div",null,React.createElement("img",{onClick:()=>this.ImageClicked(),src:null==this.Model.GetValue()?rnBuilderVar.PluginURL+"images/temporalImage.png":this.Model.GetValue().URL,style:{maxWidth:200,maxHeight:200,border:"1px solid #ccc",cursor:"pointer"}}))}ImageClicked(){null==this.media&&(this.media=window.wp.media({title:"Which image do you want to use in your pdf?",multiple:!1,button:{text:"Select an image"}}),this.media.on("select",(()=>{let e=this.media.state().get("selection");null!=e&&e.each((e=>{this.Model.SetValue({URL:e.attributes.url,Id:e.attributes.id})}))}))),this.media.open()}}class qA extends Lv{Render(){return React.createElement(WA,{Model:this})}}class YA extends(Gv(de.ImageBlockModel)){Render(){return React.createElement(GA,{Model:this})}NewFesture(){return"yea!!"}get Type(){return"Form Field"}GetProperties(){let e=super.GetProperties(),t=e.GetOrCreateGroup("General");return t.AddProperty(new Yv(this,"Label","Label")),t.AddProperty(new qA(this,"Src","Image")),e}ConfigureDataSource(){}ConfigureNode(e){let t=this.GetNodes(e,[]);for(let e of t){if("field"==(null==e?void 0:e.type)){var n,r;let t=null==e||null===(n=e.data)||void 0===n?void 0:n.DataSourceId,o=null==e||null===(r=e.data)||void 0===r?void 0:r.FieldId,i=this.Page.DataSources.find((e=>e.Options.Id==t));null!=i&&(i.MaybeSetInitialNeededRows(1),i.AddNeededField(o))}this.ConfigureNode(e)}}GetNodes(e,t){if(null==e||null==e.nodes||!Array.isArray(e.nodes))return t;for(let n of e.nodes)t.push(n),this.GetNodes(n,t);return t}GetDependencies(){return["SlateRenderer","ImageBlock"]}}class KA extends(Pv(he.ListBlock)){constructor(e){super(e),this.state={}}SubRender(){return super.SubRender()}}KA.defaultProps={};class $A extends Iv{constructor(e){super(e),this.state={}}SubRender(){return React.createElement("input",{style:{width:"100%"},max:this.Model.MaxValue,type:"number",value:this.Model.GetStringValue(),onChange:e=>this.ValueChanges(e)})}ValueChanges(e){let t=parseFloat(e.target.value);isNaN(t)||(t>this.Model.MaxValue&&null!=this.Model.MaxValue&&i.ToastService.SendErrorMessage("The maximum value for this setting is "+this.Model.MaxValue),t<this.Model.MinValue&&null!=this.Model.MinValue&&i.ToastService.SendErrorMessage("The minimum value for this setting is "+this.Model.MinValue)),this.Model.SetValue(t)}}$A.defaultProps={};class XA extends Lv{constructor(e,t,n){super(e,t,n),this.MaxValue=null,this.MinValue=null}SetMaxValue(e){return this.MaxValue=e,this}SetMinValue(e){return this.MinValue=e,this}Render(){return React.createElement($A,{Model:this})}}class JA extends(Gv(nN(fe.ListBlockModel))){Render(){return React.createElement(KA,{Model:this})}NewFesture(){return"yea!!"}get Type(){return"Form Field"}GetProperties(){let e=super.GetProperties();return e.GetOrCreateGroup("General").AddProperty(new XA(this,"ItemsPerPage","Items per page")),e}ConfigureDataSource(e=1,t=!1){var n;this.GetBlocks(!0).forEach((e=>{e.ConfigureDataSource()})),null===(n=this.Page.DataSources[0])||void 0===n||n.MaybeSetInitialNeededRows(this.Options.ItemsPerPage)}GetDependencies(){return["ListBlock"]}GetRowArray(){return this._rows}}class QA extends(Pv(me.CalendarBlock)){constructor(e){super(e),this.state={}}SubRender(){return super.SubRender()}}QA.defaultProps={};class ZA extends(Gv(nN(ge.CalendarBlockModel))){Render(){return React.createElement(QA,{Model:this})}NewFesture(){return"yea!!"}get Type(){return"Form Field"}GetProperties(){let e=super.GetProperties(),t=e.GetOrCreateGroup("General");return t.AddProperty(new zv(this,"StartDateField","Start Date Field").SetAllowedTypes([r.FieldTypeEnum.Date,r.FieldTypeEnum.DateTime])),t.AddProperty(new zv(this,"EndDateField","End Date Field").SetAllowedTypes([r.FieldTypeEnum.Date,r.FieldTypeEnum.DateTime]).SetPlaceHolder("Same as start date")),t.AddProperty(new Bv(this,"Mode","Mode").AddItem("Monthly","month").AddItem("Weekly","week").AddItem("Daily","day")),t.AddProperty(new $R(this,"ItemLabel","Item Label")),t.AddProperty(new oA(this,"Tooltip","Tooltip")),e}ConfigureDataSource(e=1,t=!1){var n,r;null===(n=this.Page.DataSource)||void 0===n||n.MaybeSetInitialNeededRows(0),this.ConfigureNode(null===(r=this.Options.ItemLabel)||void 0===r?void 0:r.document)}ConfigureNode(e){let t=this.GetNodes(e,[]);if(null!=t)for(let e of t){if("field"==(null==e?void 0:e.type)){var n,r;null==e||null===(n=e.data)||void 0===n||n.DataSourceId;let t=null==e||null===(r=e.data)||void 0===r?void 0:r.FieldId,o=this.Page.DataSources[0];null!=o&&(o.MaybeSetInitialNeededRows(1),o.AddNeededField(t))}this.ConfigureNode(e)}}GetNodes(e,t){if(null==e||null==e.nodes||!Array.isArray(e.nodes))return null;for(let n of e.nodes)t.push(n),this.GetNodes(n,t);return t}GetDependencies(){return["CalendarBlock"]}GetRowArray(){return this._rows}get Rows(){return super.Rows}}class eN extends(Pv(ve.FormBlock)){constructor(e){super(e),this.state={}}SubRender(){return super.SubRender()}}eN.defaultProps={};class tN extends(Gv(nN(ye.FormBlockModel))){Render(){return React.createElement(eN,{Model:this})}NewFesture(){return"yea!!"}get Type(){return"Form Field"}GetProperties(){let e=super.GetProperties();return e.GetOrCreateGroup("General").AddProperty(new XA(this,"ItemsPerPage","Items per page")),e}ConfigureDataSource(e=1,t=!1){this.Page.FormFields.forEach((e=>{var t;return null===(t=this.Page.DataSource)||void 0===t?void 0:t.AddNeededField(e.Id)}))}GetDependencies(){return["FormBlock"]}GetRowArray(){return this._rows}get Rows(){return super.Rows}}function nN(e){return class extends e{get Rows(){return super.Rows}GetBlockById(e,t=!1,n=!1){return super.GetBlockById(e,t,n)}GetBlocks(e=!1){return super.GetBlocks(e)}get RootContainer(){return null==this.ParentContainer?this:this.ParentContainer.RootContainer}CreateRow(e=null){let t=(new j.RNRowOptions).Merge(e);return new xv(t,this)}RemoveRow(e){let t=this.GetRowArray().indexOf(e);t>=0&&(this.GetRowArray().splice(t,1),this.Refresh())}async AddNewBlock(e=null,t=0,n=0,r=!0){if(null==e&&(e=await Ze.Show(React.createElement(_v,null))),null==e)return;let o,a=this.CreateBlockOptionsAndModel(e);if(null==a)return i.ToastService.SendErrorMessage("The block could not be created"),null;r||this.Rows.length<=t?(o=this.CreateRow((new j.RNRowOptions).Merge()),this._rows.splice(t,0,o)):o=this.Rows[t];let s=o.CreateColumnWithBlock(a);o.InsertColumn(s,n,!0),a.ExecuteAdditionInitialization(),this.RootContainer.SetSelectedBlock(a),this.Refresh()}CreateBlockModel(e,t=null){switch(e.Type){case z.BlockTypeEnum.FormField:return new Xv(e,t);case z.BlockTypeEnum.Text:return new iA(e,t);case z.BlockTypeEnum.Navigator:return new sA(e,t);case z.BlockTypeEnum.Grid:return new MA(e,t);case z.BlockTypeEnum.SearchBar:return new HA(e,t);case z.BlockTypeEnum.Image:return new YA(e,t);case z.BlockTypeEnum.List:return new JA(e,t);case z.BlockTypeEnum.Calendar:return new ZA(e,t);case z.BlockTypeEnum.Form:return new tN(e,t)}return c.EventManager.Publish("GetBlockModel",{Options:e,Parent:t})}get ParentContainer(){return super.ParentContainer}}}class rN extends(nN(f.RNPageModel)){constructor(e,t,n){super(e,t,n),this.DataSources=[],this.OnSelectedBlock=new H.SingleEvent}async Initialize(){if(0==this.Options.DataSources.length){let e=(new d.FormDataSourceOptions).Merge();this.Options.DataSources.push(e)}return super.Initialize()}GetDataSourceFactory(){return Gg}GetRowArray(){return this._rows}GenerateForms(){this.Forms=[];for(let e of this.AdditionalOptions.FormList)this.Forms.push((new Vg).Merge(e))}SetSelectedBlock(e){let t=this.SelectedBlock;this.SelectedBlock=e,null!=this.SelectedBlock&&this.RefreshParents(this.SelectedBlock),null!=t&&this.RefreshParents(t),this.OnSelectedBlock.Publish()}RefreshParents(e){let t=e.Container;for(;null!=t.ParentContainer&&!(t.ParentContainer instanceof rN);)t=t.ParentContainer;t.Refresh()}get FormFields(){return super.FormFields}get IsDesign(){return!0}get DataSource(){return this.DataSources[0]}Render(){return React.createElement(bv,{Model:this})}CreateRowWithBlock(e){let t=this.CreateRow();return t.InsertColumn(t.CreateColumnWithBlock(e)),t}}let oN=(kA=p.ModelSerialize(),CA=class extends p.ModelBase{constructor(e){super(e),babelHelpers.initializerDefineProperty(this,"Page",xA,this),this.Page=new rN(this.Options.Id,e.Page,(new r.AdditionalOptions).Merge({FormList:rnBuilderVar.FormList,Nonce:""}))}async Initialize(){await this.Page.Initialize()}GetFields(){return rnBuilderVar.FormList[0].Fields}GetOptions(){return this.ConfigureDataSources(),this.AddDependencies(),super.GetOptions()}async Save(){let e=await u.WpAjaxPost.Post("Save",{Options:this.GetOptions()});null!=e&&(null!=(null==e?void 0:e.PageId)?(i.ToastService.SendSuccess("Record saved successfully"),this.Options.Id=e.PageId,this.Page.PageId=this.Options.Id,window.history.replaceState({},document.title,rnBuilderVar.TemplateURL+"&templateId="+e.PageId)):i.ToastService.SendErrorMessage("There was an error saving the page, please try again"))}Preview(e){let t=document.createElement("form");t.method="post",e.shiftKey?t.target="_self":t.target="_blank",document.body.appendChild(t),t.style.display="none",t.action=rnBuilderVar.PreviewURL;let n=document.createElement("input");n.name="_nonce",n.value=rnBuilderVar._nonce,t.appendChild(n),n=document.createElement("input"),n.name="action",n.value=rnBuilderVar._prefix+"_Preview",t.appendChild(n),n=document.createElement("input"),n.name="data",n.value=JSON.stringify({Options:this.GetOptions()}),t.appendChild(n),t.submit()}ConfigureDataSources(){this.Page.DataSources.forEach((e=>e.ClearInitialConfig())),this.Page.GetBlocks(!0).forEach((e=>{e.ConfigureDataSource()}))}AddDependencies(){this.Options.Dependencies=[],this.Page.GetBlocks().map((e=>this.Options.Dependencies=[...this.Options.Dependencies,...e.GetDependencies()]));let e=new Set(this.Options.Dependencies);this.Options.Dependencies=Array.from(e)}},xA=babelHelpers.applyDecoratedDescriptor(CA.prototype,"Page",[kA],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),CA);var iN,aN,sN,lN,uN;let cN=(iN=m.StoreDataType(String),aN=m.StoreDataType(Object),sN=class extends m.StoreBase{constructor(...e){super(...e),babelHelpers.initializerDefineProperty(this,"Dependencies",lN,this),babelHelpers.initializerDefineProperty(this,"Text",uN,this)}LoadDefaultValues(){this.Page=(new r.RNPageOptions).Merge(),this.Name="",this.Id=0,this.Dependencies=[],this.Text=null}},lN=babelHelpers.applyDecoratedDescriptor(sN.prototype,"Dependencies",[iN],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),uN=babelHelpers.applyDecoratedDescriptor(sN.prototype,"Text",[aN],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sN);class dN extends et{constructor(e){super(e),this.state={IsOpen:!0,IsBusy:!1},this.RenderFilterCondition=this.RenderFilterCondition.bind(this)}RenderFilterCondition(e){this.FilterCondition=e}GetAdditionalProperties(){return{Title:"Select a form and a template",Styles:{width:"80%",maxWidth:800},EnableApply:!0,ApplyTitle:"Apply",EnableCancel:!0,OnBeforeCancel:()=>(window.location.href=rnBuilderVar.TemplateURL,!1),OnApply:()=>{this.VerifyTemplate()}}}SubRenderer(){return React.createElement("div",null,this.props.PageBuilder.Page.DataSources.filter((e=>e instanceof Hg)).map((e=>React.createElement(zf,{ref:this.RenderFilterCondition,DataSource:e}))))}VerifyTemplate(){!0===this.FilterCondition.Validate()&&(this.props.PageBuilder.Page.InitializeDataSources(),this.SendResult(!0))}}dN.defaultProps={};class pN extends React.Component{constructor(e){super(e),this.state={}}get Model(){return this.props.Model}componentWillUnmount(){this.Model.OnRefresh.Unsubscribe(this)}componentDidMount(){this.Model.OnRefresh.Subscribe(this,(()=>this.forceUpdate())),0==this.Model.Options.Id&&Ze.Show(React.createElement(dN,{PageBuilder:this.Model}))}render(){return React.createElement("div",{key:this.GetKey(),className:"rednao",style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:99999,backgroundColor:"white"}},React.createElement(Zm,{PageBuilder:this.props.Model}),React.createElement(Eg,{PageBuilderModel:this.Model}))}GetKey(){var e;return 0==this.props.Model.Page.DataSources.length?"":null===(e=this.props.Model.Page.DataSources[0].GetForm())||void 0===e?void 0:e.Id}}pN.defaultProps={},e.ConditionGroup=xf,e.ConditionLineTypeEnum=r.ConditionLineTypeEnum,e.ComparatorFactory=kf,e.PageBuilder=pN,e.PageBuilderModel=oN,e.PageBuilderOptions=cN,e.PageBuilder=pN,Object.defineProperty(e,"__esModule",{value:!0})}));
