rndefine("#RNPBSearchBarBlock",["#RNPBRNPage/RNBlockBase","lit","#RNPBRNPage/RNBlockWithDataSource.Model","lit/decorators","#RNPBCore/EventManager","#RNPBRNPage/RNBlockBase.Options","#RNPBRNPage/RNBlockWithDataSource.Options","#RNPBCore/StoreBase","#RNPBPageBuilder/BlockBase.Options","#RNPBCore/LitElementBase"],(function(e,t,i,s,l,r,a,n,o,d){"use strict";class c{constructor(e,t){this.Block=e,this.Options=t}Render(){return t.html`<rnwppages-search-field .model="${this}"></rnwppages-search-field>`}}class p extends i.RNBlockWithDataSourceModel{constructor(e,t){super(e,t),this.Fields=[];for(let e of this.Options.Fields)this.Fields.push(new c(this,e))}Render(){return t.html`<rnwppages-search-bar-block .model="${this}"></rnwppages-search-bar-block>`}AddField(e){this.Fields.push(new c(this,e)),this.Options.Fields.push(e),this.Refresh()}}var h,u,m,B={};!function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="search",i=[],s="f002",l="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z";e.definition={prefix:"fas",iconName:t,icon:[512,512,i,s,l]},e.faSearch=e.definition,e.prefix="fas",e.iconName=t,e.width=512,e.height=512,e.ligatures=i,e.unicode=s,e.svgPathData=l}(B);let f=(h=n.StoreAutoIncrement("SearchFieldId"),u=class extends n.StoreBase{constructor(...e){super(...e),babelHelpers.initializerDefineProperty(this,"Id",m,this)}LoadDefaultValues(){this.FieldId="",this.PathId="",this.ComparisonType="",this.Label="",this.Id=0,this.SubType=""}},m=babelHelpers.applyDecoratedDescriptor(u.prototype,"Id",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u);var b,g,y;let S=(b=n.StoreDataType(f),g=class extends a.RNBlockWithDataSourceOptions{constructor(...e){super(...e),babelHelpers.initializerDefineProperty(this,"Fields",y,this)}LoadDefaultValues(){super.LoadDefaultValues(),this.Type=o.BlockTypeEnum.SearchBar,this.Label="Search Criteria",this.SearchButtonLabel="Search",this.Fields=[]}},y=babelHelpers.applyDecoratedDescriptor(g.prototype,"Fields",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g);var x;let R=s.customElement("rnwppages-search-bar-block")(x=class extends e.RNBlockBase{SubRender(){return this.GetContainer(0==this.model.Fields.length?t.html`<p style="margin:0;text-align: center">Please add some search fields to start</p>`:t.html` <div> ${this.model.Fields.map((e=>e.Render()))} <div style="width: 100%"> <Button style="align-items: center;display: flex;" class=${"rnbtn rnbtn-success"}><rn-fontawesome style="margin-right: 3px" .icon=${B.faSearch}></rn-fontawesome> ${this.model.Options.SearchButtonLabel}</Button> </div> </div>`)}GetContainer(e){return t.html`<div style="display: flex;align-items: center;flex-wrap: wrap"> {p} </div>`,""==this.model.Options.Label?t.html` <div style="display: block"> {p} </div> `:t.html` <fieldset style="width: 100%;border: 1px solid #dfdfdf;padding: 5px"> <legend style="display: flex;align-items: center;"><rn-fontawesome style="margin-right: 5px" .icon=${B.faSearch}/>${this.model.Options.Label}</legend> {p} </fieldset> `}})||x;var k;l.EventManager.Subscribe("GetBlockModel",(e=>{if(e.Options.Type==r.BlockTypeEnum.SearchBar)return new p(e.Options,e.Parent)})),l.EventManager.Subscribe("GetBlockOptions",(e=>{if(e.Name==r.BlockTypeEnum.SearchBar)return new S}));let w=s.customElement("rnwppages-search-field")(k=class extends d.LitElementBase{render(){return null==this.model.Block.Page.find((e=>e.Id==this.model.Options.FieldId))||""==this.model.Options.ComparisonType?t.html` <div style="width:calc(33.33% - 2px);margin-left: 2px;display: inline-block;margin-bottom: 5px;padding: 5px;"> Please select a field and a comparison </div> `:t.html` <div style="width:calc(33.33% - 2px);margin-left:2px;display: inline-block;margin-bottom: 5px"> <strong>${this.model.Options.Label}</strong> {this.GetInput(field)} </div> `}GetInput(e){return e.RendererType,React.createElement("input",{disabled:!0,type:"text",style:{width:"100%",backgroundColor:"white"}})}})||k;exports.SearchBarBlock=R,exports.SearchBarBlockModel=p,exports.SearchBarBlockOptions=S,exports.SearchFieldOptions=f,exports.SearchField=w,exports.SearchFieldModel=c}));
