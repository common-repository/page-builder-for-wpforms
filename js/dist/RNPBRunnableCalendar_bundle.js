rndefine("#RNPBRunnableCalendar",["#RNPBRunnablePage/RunnableBlockBase","#RNPBRunnablePage/RunnableBlockBase.Options","#RNPBCore/StoreBase","#RNPBCore/EventManager","#RNPBModal/Modal"],(function(t,e,i,s,n){"use strict";var o,l,r;class a extends i.StoreBase{LoadDefaultValues(){this.Label="",this.Tooltip="",this.StartDate="",this.EndDate=""}}let d=(o=i.StoreDataType(a),l=class extends e.RunnableBlockBaseOptions{constructor(...t){super(...t),babelHelpers.initializerDefineProperty(this,"Items",r,this)}LoadDefaultValues(){super.LoadDefaultValues(),this.Mode="",this.Items=[]}},r=babelHelpers.applyDecoratedDescriptor(l.prototype,"Items",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l);var h,c,u,m,p,_;console.warn("lit-html is in dev mode. Not recommended for production!");const v=(null===(h=window.ShadyDOM)||void 0===h?void 0:h.inUse)&&!0===(null===(c=window.ShadyDOM)||void 0===c?void 0:c.noPatch)?window.ShadyDOM.wrap:t=>t,$=globalThis.trustedTypes,f=$?$.createPolicy("lit-html",{createHTML:t=>t}):void 0,g=t=>t,y=(t,e,i)=>g,b=(t,e,i)=>k(t,e,i),x="$lit$",N=`lit$${String(Math.random()).slice(9)}$`,V="?"+N,T=`<${V}>`,S=document,w=(t="")=>S.createComment(t),C=t=>null===t||"object"!=typeof t&&"function"!=typeof t,R=Array.isArray,D=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,z=/-->/g,M=/>/g,B=new RegExp(">|[ \t\n\f\r](?:([^\\s\"'>=/]+)([ \t\n\f\r]*=[ \t\n\f\r]*(?:[^ \t\n\f\r\"'`<>=]|(\"|')|))|$)","g"),E=/'/g,P=/"/g,I=/^(?:script|style|textarea)$/i,A=Symbol.for("lit-noChange"),O=Symbol.for("lit-nothing"),L=new WeakMap,H=S.createTreeWalker(S,129,null,!1);let k=y;class W{constructor({strings:t,_$litType$:e},i){let s;this.parts=[];let n=0,o=0;const l=t.length-1,r=this.parts,[a,d]=((t,e)=>{const i=t.length-1,s=[];let n,o=2===e?"<svg>":"",l=D;for(let e=0;e<i;e++){const i=t[e];let r,a,d=-1,h=0;for(;h<i.length&&(l.lastIndex=h,a=l.exec(i),null!==a);)h=l.lastIndex,l===D?"!--"===a[1]?l=z:void 0!==a[1]?l=M:void 0!==a[2]?(I.test(a[2])&&(n=new RegExp(`</${a[2]}`,"g")),l=B):void 0!==a[3]&&(l=B):l===B?">"===a[0]?(l=null!=n?n:D,d=-1):void 0===a[1]?d=-2:(d=l.lastIndex-a[2].length,r=a[1],l=void 0===a[3]?B:'"'===a[3]?P:E):l===P||l===E?l=B:l===z||l===M?l=D:(l=B,n=void 0);console.assert(-1===d||l===B||l===E||l===P,"unexpected parse state B");const c=l===B&&t[e+1].startsWith("/>")?" ":"";o+=l===D?i+T:d>=0?(s.push(r),i.slice(0,d)+x+i.slice(d)+N+c):i+N+(-2===d?(s.push(void 0),e):c)}const r=o+(t[i]||"<?>")+(2===e?"</svg>":"");return[void 0!==f?f.createHTML(r):r,s]})(t,e);if(this.el=W.createElement(a,i),H.currentNode=this.el.content,2===e){const t=this.el.content,e=t.firstChild;e.remove(),t.append(...e.childNodes)}for(;null!==(s=H.nextNode())&&r.length<l;){if(1===s.nodeType){if(s.hasAttributes()){const t=[];for(const e of s.getAttributeNames())if(e.endsWith(x)||e.startsWith(N)){const i=d[o++];if(t.push(e),void 0!==i){const t=s.getAttribute(i.toLowerCase()+x).split(N),e=/([.?@])?(.*)/.exec(i);r.push({type:1,index:n,name:e[2],strings:t,ctor:"."===e[1]?U:"?"===e[1]?Y:"@"===e[1]?F:q})}else r.push({type:6,index:n})}for(const e of t)s.removeAttribute(e)}if(I.test(s.tagName)){const t=s.textContent.split(N),e=t.length-1;if(e>0){s.textContent=$?$.emptyScript:"";for(let i=0;i<e;i++)s.append(t[i],w()),H.nextNode(),r.push({type:2,index:++n});s.append(t[e],w())}}}else if(8===s.nodeType){if(s.data===V)r.push({type:2,index:n});else{let t=-1;for(;-1!==(t=s.data.indexOf(N,t+1));)r.push({type:7,index:n}),t+=N.length-1}}n++}}static createElement(t,e){const i=S.createElement("template");return i.innerHTML=t,i}}function G(t,e,i=t,s){var n,o,l,r;if(e===A)return e;let a=void 0!==s?null===(n=i.__directives)||void 0===n?void 0:n[s]:i.__directive;const d=C(e)?void 0:e._$litDirective$;return(null==a?void 0:a.constructor)!==d&&(null===(o=null==a?void 0:a._$setDirectiveConnected)||void 0===o||o.call(a,!1),void 0===d?a=void 0:(a=new d(t),a._$initialize(t,i,s)),void 0!==s?(null!==(l=(r=i).__directives)&&void 0!==l?l:r.__directives=[])[s]=a:i.__directive=a),void 0!==a&&(e=G(t,a._$resolve(t,e.values),a,s)),e}class Z{constructor(t,e){this._parts=[],this._$disconnectableChildren=void 0,this._$template=t,this._$parent=e}_clone(t){var e;const{el:{content:i},parts:s}=this._$template,n=(null!==(e=null==t?void 0:t.creationScope)&&void 0!==e?e:S).importNode(i,!0);H.currentNode=n;let o=H.nextNode(),l=0,r=0,a=s[0];for(;void 0!==a;){if(l===a.index){let e;2===a.type?e=new j(o,o.nextSibling,this,t):1===a.type?e=new a.ctor(o,a.name,a.strings,this,t):6===a.type&&(e=new J(o,this,t)),this._parts.push(e),a=s[++r]}l!==(null==a?void 0:a.index)&&(o=H.nextNode(),l++)}return n}_update(t){let e=0;for(const i of this._parts)void 0!==i&&(void 0!==i.strings?(i._$setValue(t,i,e),e+=i.strings.length-2):i._$setValue(t[e])),e++}}class j{constructor(t,e,i,s){this.type=2,this._$disconnectableChildren=void 0,this._$startNode=t,this._$endNode=e,this._$parent=i,this.options=s,this._textSanitizer=void 0}setConnected(t){var e;null===(e=this._$setChildPartConnected)||void 0===e||e.call(this,t)}get parentNode(){return v(this._$startNode).parentNode}get startNode(){return this._$startNode}get endNode(){return this._$endNode}_$setValue(t,e=this){t=G(this,t,e),C(t)?t===O||null==t||""===t?(this._$committedValue!==O&&this._$clear(),this._$committedValue=O):t!==this._$committedValue&&t!==A&&this._commitText(t):void 0!==t._$litType$?this._commitTemplateResult(t):void 0!==t.nodeType?this._commitNode(t):(t=>{var e;return R(t)||"function"==typeof(null===(e=t)||void 0===e?void 0:e[Symbol.iterator])})(t)?this._commitIterable(t):this._commitText(t)}_insert(t,e=this._$endNode){return v(v(this._$startNode).parentNode).insertBefore(t,e)}_commitNode(t){var e;if(this._$committedValue!==t){if(this._$clear(),k!==y){const t=null===(e=this._$startNode.parentNode)||void 0===e?void 0:e.nodeName;if("STYLE"===t||"SCRIPT"===t)return void this._insert(new Text("/* lit-html will not write TemplateResults to scripts and styles */"))}this._$committedValue=this._insert(t)}}_commitText(t){const e=v(this._$startNode).nextSibling;if(null!==e&&3===e.nodeType&&(null===this._$endNode?null===v(e).nextSibling:e===v(this._$endNode).previousSibling))void 0===this._textSanitizer&&(this._textSanitizer=b(e,"data","property")),t=this._textSanitizer(t),e.data=t;else{const e=document.createTextNode("");this._commitNode(e),void 0===this._textSanitizer&&(this._textSanitizer=b(e,"data","property")),t=this._textSanitizer(t),e.data=t}this._$committedValue=t}_commitTemplateResult(t){var e;const{values:i,_$litType$:s}=t,n="number"==typeof s?this._$getTemplate(t):(void 0===s.el&&(s.el=W.createElement(s.h,this.options)),s);if((null===(e=this._$committedValue)||void 0===e?void 0:e._$template)===n)this._$committedValue._update(i);else{const t=new Z(n,this),e=t._clone(this.options);t._update(i),this._commitNode(e),this._$committedValue=t}}_$getTemplate(t){let e=L.get(t.strings);return void 0===e&&L.set(t.strings,e=new W(t)),e}_commitIterable(t){R(this._$committedValue)||(this._$committedValue=[],this._$clear());const e=this._$committedValue;let i,s=0;for(const n of t)s===e.length?e.push(i=new j(this._insert(w()),this._insert(w()),this,this.options)):i=e[s],i._$setValue(n),s++;s<e.length&&(this._$clear(i&&v(i._$endNode).nextSibling,s),e.length=s)}_$clear(t=v(this._$startNode).nextSibling,e){var i;for(null===(i=this._$setChildPartConnected)||void 0===i||i.call(this,!1,!0,e);t&&t!==this._$endNode;){const e=v(t).nextSibling;v(t).remove(),t=e}}}class q{constructor(t,e,i,s,n){this.type=1,this._$committedValue=O,this._$disconnectableChildren=void 0,this._setDirectiveConnected=void 0,this.element=t,this.name=e,this._$parent=s,this.options=n,i.length>2||""!==i[0]||""!==i[1]?(this._$committedValue=new Array(i.length-1).fill(O),this.strings=i):this._$committedValue=O,this._sanitizer=void 0}get tagName(){return this.element.tagName}_$setValue(t,e=this,i,s){const n=this.strings;let o=!1;if(void 0===n)t=G(this,t,e,0),o=!C(t)||t!==this._$committedValue&&t!==A,o&&(this._$committedValue=t);else{const s=t;let l,r;for(t=n[0],l=0;l<n.length-1;l++)r=G(this,s[i+l],e,l),r===A&&(r=this._$committedValue[l]),o||(o=!C(r)||r!==this._$committedValue[l]),r===O?t=O:t!==O&&(t+=(null!=r?r:"")+n[l+1]),this._$committedValue[l]=r}o&&!s&&this._commitValue(t)}_commitValue(t){t===O?v(this.element).removeAttribute(this.name):(void 0===this._sanitizer&&(this._sanitizer=k(this.element,this.name)),t=this._sanitizer(null!=t?t:""),v(this.element).setAttribute(this.name,null!=t?t:""))}}class U extends q{constructor(){super(...arguments),this.type=3}_commitValue(t){void 0===this._sanitizer&&(this._sanitizer=k(this.element,this.name)),t=this._sanitizer(t),this.element[this.name]=t===O?void 0:t}}class Y extends q{constructor(){super(...arguments),this.type=4}_commitValue(t){t&&t!==O?v(this.element).setAttribute(this.name,""):v(this.element).removeAttribute(this.name)}}class F extends q{constructor(){super(...arguments),this.type=5}_$setValue(t,e=this){var i;if((t=null!==(i=G(this,t,e,0))&&void 0!==i?i:O)===A)return;const s=this._$committedValue,n=t===O&&s!==O||t.capture!==s.capture||t.once!==s.once||t.passive!==s.passive,o=t!==O&&(s===O||n);n&&this.element.removeEventListener(this.name,this,s),o&&this.element.addEventListener(this.name,this,t),this._$committedValue=t}handleEvent(t){var e,i;"function"==typeof this._$committedValue?this._$committedValue.call(null!==(i=null===(e=this.options)||void 0===e?void 0:e.host)&&void 0!==i?i:this.element,t):this._$committedValue.handleEvent(t)}}class J{constructor(t,e,i){this.element=t,this.type=6,this._$disconnectableChildren=void 0,this._setDirectiveConnected=void 0,this._$parent=e,this.options=i}_$setValue(t){G(this,t)}}null===(m=(u=globalThis).litHtmlPlatformSupport)||void 0===m||m.call(u,W,j),(null!==(p=(_=globalThis).litHtmlVersions)&&void 0!==p?p:_.litHtmlVersions=[]).push("2.0.0-rc.3");const K=2;class Q extends class{constructor(t){}_$initialize(t,e,i){this.__part=t,this._$parent=e,this.__attributeIndex=i}_$resolve(t,e){return this.update(t,e)}update(t,e){return this.render(...e)}}{constructor(t){if(super(t),this._value=O,t.type!==K)throw new Error(`${this.constructor.directiveName}() can only be used in child bindings`)}render(t){if(t===O)return this._templateResult=void 0,this._value=t;if(t===A)return t;if("string"!=typeof t)throw new Error(`${this.constructor.directiveName}() called with a non-string value`);if(t===this._value)return this._templateResult;this._value=t;const e=[t];return e.raw=e,this._templateResult={_$litType$:this.constructor.resultType,strings:e,values:[]}}}Q.directiveName="unsafeHTML",Q.resultType=1;const X=(tt=Q,(...t)=>({_$litDirective$:tt,values:t}));var tt;class et extends t.RunnableBlockBase{constructor(t,e){super(t,e);let i=this.Container.querySelector(".CalendarContainer");this.Items=[];let s=0;for(let t of this.Options.Items)s++,this.Items.push({id:s,title:t.Label,category:"day"==this.Options.Mode?"time":"allday",bgColor:"#4D96A6",color:"white",dueDateClass:"",body:"tes",start:t.StartDate,end:t.EndDate,useDetailPopup:!1,toolTip:t.Tooltip,isReadOnly:!0});this.Calendar=new tui.Calendar(i,{defaultView:this.Options.Mode}),this.Calendar.on({clickSchedule:t=>{let e=this.Items.find((e=>e.id==t.schedule.id));n.Modal.Show(t.schedule.title,X(e.toolTip))}}),this.Calendar.createSchedules(this.Items)}}s.EventManager.Subscribe("GetRunnableOptions",(t=>"Calendar"==t.Type?(new d).Merge(t):null)),s.EventManager.Subscribe("GetRunnable",(t=>"Calendar"==t.Options.Type?new et(t.Options,t.Column):null)),exports.RunnableCalendar=et,exports.RunnableCalendarOptions=d}));
